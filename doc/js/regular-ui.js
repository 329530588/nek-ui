(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * RGUI      Regular UI库
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var RGUI = {}

/**
 * base
 */
RGUI.Regular = require('regularjs');
RGUI.Component = require('./base/component.js');
RGUI._ = require('./base/util.js');
RGUI.ajax = require('./base/ajax.js');

/**
 * jsUnit
 */
// 导航类
RGUI.Dropdown = require('./unit/dropdown.js');
RGUI.Menu = require('./unit/menu.js');

// 表单类
RGUI.Input2 = require('./unit/input2.js');
RGUI.NumberInput = require('./unit/numberInput.js');
RGUI.Check2 = require('./unit/check2.js');
RGUI.CheckGroup = require('./unit/checkGroup.js');
RGUI.Check2Group = require('./unit/check2Group.js');
RGUI.RadioGroup = require('./unit/radioGroup.js');
RGUI.Radio2Group = require('./unit/radio2Group.js');
RGUI.Select2 = require('./unit/select2.js');
RGUI.TreeSelect = require('./unit/treeSelect.js');
RGUI.Suggest = require('./unit/suggest.js');
RGUI.Uploader = require('./unit/uploader.js');

// 日期类
RGUI.DatePicker = require('./unit/datePicker.js');
RGUI.TimePicker = require('./unit/timePicker.js');
RGUI.DateTimePicker = require('./unit/dateTimePicker.js');

// 其他
RGUI.Progress = require('./unit/progress.js');
RGUI.Gotop = require('./unit/gotop.js');

/**
 * jsModule
 */
// 导航类
RGUI.Tab = require('./module/tab.js');
RGUI.Accordion = require('./module/accordion.js');
RGUI.Pager = require('./module/pager.js');
RGUI.Menubar = require('./module/menubar.js');

// 窗口类
RGUI.Notify = require('./module/notify.js');
RGUI.Modal = require('./module/modal.js');

// 数据类
RGUI.ListView = require('./module/listView.js');
RGUI.GridView = require('./module/gridView.js');
RGUI.TreeView = require('./module/treeView.js');
RGUI.TableView = require('./module/tableView.js');

// 日期类
RGUI.Calendar = require('./module/calendar.js');

// 上传类
//

// 编辑器类
RGUI.Editor = require('./module/editor.js');
RGUI.HTMLEditor = require('./module/htmlEditor.js');
RGUI.MarkEditor = require('./module/markEditor.js');

module.exports = window.RGUI = RGUI;
},{"./base/ajax.js":32,"./base/component.js":33,"./base/util.js":36,"./module/accordion.js":39,"./module/calendar.js":42,"./module/editor.js":44,"./module/gridView.js":46,"./module/htmlEditor.js":48,"./module/listView.js":50,"./module/markEditor.js":52,"./module/menubar.js":54,"./module/modal.js":56,"./module/notify.js":58,"./module/pager.js":60,"./module/tab.js":62,"./module/tableView.js":64,"./module/treeView.js":66,"./unit/check2.js":69,"./unit/check2Group.js":71,"./unit/checkGroup.js":73,"./unit/datePicker.js":75,"./unit/dateTimePicker.js":77,"./unit/dropdown.js":79,"./unit/gotop.js":81,"./unit/input2.js":83,"./unit/menu.js":85,"./unit/numberInput.js":88,"./unit/progress.js":90,"./unit/radio2Group.js":92,"./unit/radioGroup.js":94,"./unit/select2.js":96,"./unit/suggest.js":98,"./unit/timePicker.js":100,"./unit/treeSelect.js":102,"./unit/uploader.js":104,"regularjs":23}],2:[function(require,module,exports){
(function (global){
/**
 * marked - a markdown parser
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 */

;(function() {

/**
 * Block-Level Grammar
 */

var block = {
  newline: /^\n+/,
  code: /^( {4}[^\n]+\n*)+/,
  fences: noop,
  hr: /^( *[-*_]){3,} *(?:\n+|$)/,
  heading: /^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,
  nptable: noop,
  lheading: /^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,
  blockquote: /^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,
  list: /^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
  html: /^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,
  def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,
  table: noop,
  paragraph: /^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,
  text: /^[^\n]+/
};

block.bullet = /(?:[*+-]|\d+\.)/;
block.item = /^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;
block.item = replace(block.item, 'gm')
  (/bull/g, block.bullet)
  ();

block.list = replace(block.list)
  (/bull/g, block.bullet)
  ('hr', '\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))')
  ('def', '\\n+(?=' + block.def.source + ')')
  ();

block.blockquote = replace(block.blockquote)
  ('def', block.def)
  ();

block._tag = '(?!(?:'
  + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code'
  + '|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo'
  + '|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b';

block.html = replace(block.html)
  ('comment', /<!--[\s\S]*?-->/)
  ('closed', /<(tag)[\s\S]+?<\/\1>/)
  ('closing', /<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)
  (/tag/g, block._tag)
  ();

block.paragraph = replace(block.paragraph)
  ('hr', block.hr)
  ('heading', block.heading)
  ('lheading', block.lheading)
  ('blockquote', block.blockquote)
  ('tag', '<' + block._tag)
  ('def', block.def)
  ();

/**
 * Normal Block Grammar
 */

block.normal = merge({}, block);

/**
 * GFM Block Grammar
 */

block.gfm = merge({}, block.normal, {
  fences: /^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,
  paragraph: /^/,
  heading: /^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/
});

block.gfm.paragraph = replace(block.paragraph)
  ('(?!', '(?!'
    + block.gfm.fences.source.replace('\\1', '\\2') + '|'
    + block.list.source.replace('\\1', '\\3') + '|')
  ();

/**
 * GFM + Tables Block Grammar
 */

block.tables = merge({}, block.gfm, {
  nptable: /^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,
  table: /^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/
});

/**
 * Block Lexer
 */

function Lexer(options) {
  this.tokens = [];
  this.tokens.links = {};
  this.options = options || marked.defaults;
  this.rules = block.normal;

  if (this.options.gfm) {
    if (this.options.tables) {
      this.rules = block.tables;
    } else {
      this.rules = block.gfm;
    }
  }
}

/**
 * Expose Block Rules
 */

Lexer.rules = block;

/**
 * Static Lex Method
 */

Lexer.lex = function(src, options) {
  var lexer = new Lexer(options);
  return lexer.lex(src);
};

/**
 * Preprocessing
 */

Lexer.prototype.lex = function(src) {
  src = src
    .replace(/\r\n|\r/g, '\n')
    .replace(/\t/g, '    ')
    .replace(/\u00a0/g, ' ')
    .replace(/\u2424/g, '\n');

  return this.token(src, true);
};

/**
 * Lexing
 */

Lexer.prototype.token = function(src, top, bq) {
  var src = src.replace(/^ +$/gm, '')
    , next
    , loose
    , cap
    , bull
    , b
    , item
    , space
    , i
    , l;

  while (src) {
    // newline
    if (cap = this.rules.newline.exec(src)) {
      src = src.substring(cap[0].length);
      if (cap[0].length > 1) {
        this.tokens.push({
          type: 'space'
        });
      }
    }

    // code
    if (cap = this.rules.code.exec(src)) {
      src = src.substring(cap[0].length);
      cap = cap[0].replace(/^ {4}/gm, '');
      this.tokens.push({
        type: 'code',
        text: !this.options.pedantic
          ? cap.replace(/\n+$/, '')
          : cap
      });
      continue;
    }

    // fences (gfm)
    if (cap = this.rules.fences.exec(src)) {
      src = src.substring(cap[0].length);
      this.tokens.push({
        type: 'code',
        lang: cap[2],
        text: cap[3] || ''
      });
      continue;
    }

    // heading
    if (cap = this.rules.heading.exec(src)) {
      src = src.substring(cap[0].length);
      this.tokens.push({
        type: 'heading',
        depth: cap[1].length,
        text: cap[2]
      });
      continue;
    }

    // table no leading pipe (gfm)
    if (top && (cap = this.rules.nptable.exec(src))) {
      src = src.substring(cap[0].length);

      item = {
        type: 'table',
        header: cap[1].replace(/^ *| *\| *$/g, '').split(/ *\| */),
        align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
        cells: cap[3].replace(/\n$/, '').split('\n')
      };

      for (i = 0; i < item.align.length; i++) {
        if (/^ *-+: *$/.test(item.align[i])) {
          item.align[i] = 'right';
        } else if (/^ *:-+: *$/.test(item.align[i])) {
          item.align[i] = 'center';
        } else if (/^ *:-+ *$/.test(item.align[i])) {
          item.align[i] = 'left';
        } else {
          item.align[i] = null;
        }
      }

      for (i = 0; i < item.cells.length; i++) {
        item.cells[i] = item.cells[i].split(/ *\| */);
      }

      this.tokens.push(item);

      continue;
    }

    // lheading
    if (cap = this.rules.lheading.exec(src)) {
      src = src.substring(cap[0].length);
      this.tokens.push({
        type: 'heading',
        depth: cap[2] === '=' ? 1 : 2,
        text: cap[1]
      });
      continue;
    }

    // hr
    if (cap = this.rules.hr.exec(src)) {
      src = src.substring(cap[0].length);
      this.tokens.push({
        type: 'hr'
      });
      continue;
    }

    // blockquote
    if (cap = this.rules.blockquote.exec(src)) {
      src = src.substring(cap[0].length);

      this.tokens.push({
        type: 'blockquote_start'
      });

      cap = cap[0].replace(/^ *> ?/gm, '');

      // Pass `top` to keep the current
      // "toplevel" state. This is exactly
      // how markdown.pl works.
      this.token(cap, top, true);

      this.tokens.push({
        type: 'blockquote_end'
      });

      continue;
    }

    // list
    if (cap = this.rules.list.exec(src)) {
      src = src.substring(cap[0].length);
      bull = cap[2];

      this.tokens.push({
        type: 'list_start',
        ordered: bull.length > 1
      });

      // Get each top-level item.
      cap = cap[0].match(this.rules.item);

      next = false;
      l = cap.length;
      i = 0;

      for (; i < l; i++) {
        item = cap[i];

        // Remove the list item's bullet
        // so it is seen as the next token.
        space = item.length;
        item = item.replace(/^ *([*+-]|\d+\.) +/, '');

        // Outdent whatever the
        // list item contains. Hacky.
        if (~item.indexOf('\n ')) {
          space -= item.length;
          item = !this.options.pedantic
            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')
            : item.replace(/^ {1,4}/gm, '');
        }

        // Determine whether the next list item belongs here.
        // Backpedal if it does not belong in this list.
        if (this.options.smartLists && i !== l - 1) {
          b = block.bullet.exec(cap[i + 1])[0];
          if (bull !== b && !(bull.length > 1 && b.length > 1)) {
            src = cap.slice(i + 1).join('\n') + src;
            i = l - 1;
          }
        }

        // Determine whether item is loose or not.
        // Use: /(^|\n)(?! )[^\n]+\n\n(?!\s*$)/
        // for discount behavior.
        loose = next || /\n\n(?!\s*$)/.test(item);
        if (i !== l - 1) {
          next = item.charAt(item.length - 1) === '\n';
          if (!loose) loose = next;
        }

        this.tokens.push({
          type: loose
            ? 'loose_item_start'
            : 'list_item_start'
        });

        // Recurse.
        this.token(item, false, bq);

        this.tokens.push({
          type: 'list_item_end'
        });
      }

      this.tokens.push({
        type: 'list_end'
      });

      continue;
    }

    // html
    if (cap = this.rules.html.exec(src)) {
      src = src.substring(cap[0].length);
      this.tokens.push({
        type: this.options.sanitize
          ? 'paragraph'
          : 'html',
        pre: !this.options.sanitizer
          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),
        text: cap[0]
      });
      continue;
    }

    // def
    if ((!bq && top) && (cap = this.rules.def.exec(src))) {
      src = src.substring(cap[0].length);
      this.tokens.links[cap[1].toLowerCase()] = {
        href: cap[2],
        title: cap[3]
      };
      continue;
    }

    // table (gfm)
    if (top && (cap = this.rules.table.exec(src))) {
      src = src.substring(cap[0].length);

      item = {
        type: 'table',
        header: cap[1].replace(/^ *| *\| *$/g, '').split(/ *\| */),
        align: cap[2].replace(/^ *|\| *$/g, '').split(/ *\| */),
        cells: cap[3].replace(/(?: *\| *)?\n$/, '').split('\n')
      };

      for (i = 0; i < item.align.length; i++) {
        if (/^ *-+: *$/.test(item.align[i])) {
          item.align[i] = 'right';
        } else if (/^ *:-+: *$/.test(item.align[i])) {
          item.align[i] = 'center';
        } else if (/^ *:-+ *$/.test(item.align[i])) {
          item.align[i] = 'left';
        } else {
          item.align[i] = null;
        }
      }

      for (i = 0; i < item.cells.length; i++) {
        item.cells[i] = item.cells[i]
          .replace(/^ *\| *| *\| *$/g, '')
          .split(/ *\| */);
      }

      this.tokens.push(item);

      continue;
    }

    // top-level paragraph
    if (top && (cap = this.rules.paragraph.exec(src))) {
      src = src.substring(cap[0].length);
      this.tokens.push({
        type: 'paragraph',
        text: cap[1].charAt(cap[1].length - 1) === '\n'
          ? cap[1].slice(0, -1)
          : cap[1]
      });
      continue;
    }

    // text
    if (cap = this.rules.text.exec(src)) {
      // Top-level should never reach here.
      src = src.substring(cap[0].length);
      this.tokens.push({
        type: 'text',
        text: cap[0]
      });
      continue;
    }

    if (src) {
      throw new
        Error('Infinite loop on byte: ' + src.charCodeAt(0));
    }
  }

  return this.tokens;
};

/**
 * Inline-Level Grammar
 */

var inline = {
  escape: /^\\([\\`*{}\[\]()#+\-.!_>])/,
  autolink: /^<([^ >]+(@|:\/)[^ >]+)>/,
  url: noop,
  tag: /^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,
  link: /^!?\[(inside)\]\(href\)/,
  reflink: /^!?\[(inside)\]\s*\[([^\]]*)\]/,
  nolink: /^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,
  strong: /^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,
  em: /^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,
  code: /^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,
  br: /^ {2,}\n(?!\s*$)/,
  del: noop,
  text: /^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/
};

inline._inside = /(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/;
inline._href = /\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;

inline.link = replace(inline.link)
  ('inside', inline._inside)
  ('href', inline._href)
  ();

inline.reflink = replace(inline.reflink)
  ('inside', inline._inside)
  ();

/**
 * Normal Inline Grammar
 */

inline.normal = merge({}, inline);

/**
 * Pedantic Inline Grammar
 */

inline.pedantic = merge({}, inline.normal, {
  strong: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
  em: /^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/
});

/**
 * GFM Inline Grammar
 */

inline.gfm = merge({}, inline.normal, {
  escape: replace(inline.escape)('])', '~|])')(),
  url: /^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,
  del: /^~~(?=\S)([\s\S]*?\S)~~/,
  text: replace(inline.text)
    (']|', '~]|')
    ('|', '|https?://|')
    ()
});

/**
 * GFM + Line Breaks Inline Grammar
 */

inline.breaks = merge({}, inline.gfm, {
  br: replace(inline.br)('{2,}', '*')(),
  text: replace(inline.gfm.text)('{2,}', '*')()
});

/**
 * Inline Lexer & Compiler
 */

function InlineLexer(links, options) {
  this.options = options || marked.defaults;
  this.links = links;
  this.rules = inline.normal;
  this.renderer = this.options.renderer || new Renderer;
  this.renderer.options = this.options;

  if (!this.links) {
    throw new
      Error('Tokens array requires a `links` property.');
  }

  if (this.options.gfm) {
    if (this.options.breaks) {
      this.rules = inline.breaks;
    } else {
      this.rules = inline.gfm;
    }
  } else if (this.options.pedantic) {
    this.rules = inline.pedantic;
  }
}

/**
 * Expose Inline Rules
 */

InlineLexer.rules = inline;

/**
 * Static Lexing/Compiling Method
 */

InlineLexer.output = function(src, links, options) {
  var inline = new InlineLexer(links, options);
  return inline.output(src);
};

/**
 * Lexing/Compiling
 */

InlineLexer.prototype.output = function(src) {
  var out = ''
    , link
    , text
    , href
    , cap;

  while (src) {
    // escape
    if (cap = this.rules.escape.exec(src)) {
      src = src.substring(cap[0].length);
      out += cap[1];
      continue;
    }

    // autolink
    if (cap = this.rules.autolink.exec(src)) {
      src = src.substring(cap[0].length);
      if (cap[2] === '@') {
        text = cap[1].charAt(6) === ':'
          ? this.mangle(cap[1].substring(7))
          : this.mangle(cap[1]);
        href = this.mangle('mailto:') + text;
      } else {
        text = escape(cap[1]);
        href = text;
      }
      out += this.renderer.link(href, null, text);
      continue;
    }

    // url (gfm)
    if (!this.inLink && (cap = this.rules.url.exec(src))) {
      src = src.substring(cap[0].length);
      text = escape(cap[1]);
      href = text;
      out += this.renderer.link(href, null, text);
      continue;
    }

    // tag
    if (cap = this.rules.tag.exec(src)) {
      if (!this.inLink && /^<a /i.test(cap[0])) {
        this.inLink = true;
      } else if (this.inLink && /^<\/a>/i.test(cap[0])) {
        this.inLink = false;
      }
      src = src.substring(cap[0].length);
      out += this.options.sanitize
        ? this.options.sanitizer
          ? this.options.sanitizer(cap[0])
          : escape(cap[0])
        : cap[0]
      continue;
    }

    // link
    if (cap = this.rules.link.exec(src)) {
      src = src.substring(cap[0].length);
      this.inLink = true;
      out += this.outputLink(cap, {
        href: cap[2],
        title: cap[3]
      });
      this.inLink = false;
      continue;
    }

    // reflink, nolink
    if ((cap = this.rules.reflink.exec(src))
        || (cap = this.rules.nolink.exec(src))) {
      src = src.substring(cap[0].length);
      link = (cap[2] || cap[1]).replace(/\s+/g, ' ');
      link = this.links[link.toLowerCase()];
      if (!link || !link.href) {
        out += cap[0].charAt(0);
        src = cap[0].substring(1) + src;
        continue;
      }
      this.inLink = true;
      out += this.outputLink(cap, link);
      this.inLink = false;
      continue;
    }

    // strong
    if (cap = this.rules.strong.exec(src)) {
      src = src.substring(cap[0].length);
      out += this.renderer.strong(this.output(cap[2] || cap[1]));
      continue;
    }

    // em
    if (cap = this.rules.em.exec(src)) {
      src = src.substring(cap[0].length);
      out += this.renderer.em(this.output(cap[2] || cap[1]));
      continue;
    }

    // code
    if (cap = this.rules.code.exec(src)) {
      src = src.substring(cap[0].length);
      out += this.renderer.codespan(escape(cap[2], true));
      continue;
    }

    // br
    if (cap = this.rules.br.exec(src)) {
      src = src.substring(cap[0].length);
      out += this.renderer.br();
      continue;
    }

    // del (gfm)
    if (cap = this.rules.del.exec(src)) {
      src = src.substring(cap[0].length);
      out += this.renderer.del(this.output(cap[1]));
      continue;
    }

    // text
    if (cap = this.rules.text.exec(src)) {
      src = src.substring(cap[0].length);
      out += this.renderer.text(escape(this.smartypants(cap[0])));
      continue;
    }

    if (src) {
      throw new
        Error('Infinite loop on byte: ' + src.charCodeAt(0));
    }
  }

  return out;
};

/**
 * Compile Link
 */

InlineLexer.prototype.outputLink = function(cap, link) {
  var href = escape(link.href)
    , title = link.title ? escape(link.title) : null;

  return cap[0].charAt(0) !== '!'
    ? this.renderer.link(href, title, this.output(cap[1]))
    : this.renderer.image(href, title, escape(cap[1]));
};

/**
 * Smartypants Transformations
 */

InlineLexer.prototype.smartypants = function(text) {
  if (!this.options.smartypants) return text;
  return text
    // em-dashes
    .replace(/---/g, '\u2014')
    // en-dashes
    .replace(/--/g, '\u2013')
    // opening singles
    .replace(/(^|[-\u2014/(\[{"\s])'/g, '$1\u2018')
    // closing singles & apostrophes
    .replace(/'/g, '\u2019')
    // opening doubles
    .replace(/(^|[-\u2014/(\[{\u2018\s])"/g, '$1\u201c')
    // closing doubles
    .replace(/"/g, '\u201d')
    // ellipses
    .replace(/\.{3}/g, '\u2026');
};

/**
 * Mangle Links
 */

InlineLexer.prototype.mangle = function(text) {
  if (!this.options.mangle) return text;
  var out = ''
    , l = text.length
    , i = 0
    , ch;

  for (; i < l; i++) {
    ch = text.charCodeAt(i);
    if (Math.random() > 0.5) {
      ch = 'x' + ch.toString(16);
    }
    out += '&#' + ch + ';';
  }

  return out;
};

/**
 * Renderer
 */

function Renderer(options) {
  this.options = options || {};
}

Renderer.prototype.code = function(code, lang, escaped) {
  if (this.options.highlight) {
    var out = this.options.highlight(code, lang);
    if (out != null && out !== code) {
      escaped = true;
      code = out;
    }
  }

  if (!lang) {
    return '<pre><code>'
      + (escaped ? code : escape(code, true))
      + '\n</code></pre>';
  }

  return '<pre><code class="'
    + this.options.langPrefix
    + escape(lang, true)
    + '">'
    + (escaped ? code : escape(code, true))
    + '\n</code></pre>\n';
};

Renderer.prototype.blockquote = function(quote) {
  return '<blockquote>\n' + quote + '</blockquote>\n';
};

Renderer.prototype.html = function(html) {
  return html;
};

Renderer.prototype.heading = function(text, level, raw) {
  return '<h'
    + level
    + ' id="'
    + this.options.headerPrefix
    + raw.toLowerCase().replace(/[^\w]+/g, '-')
    + '">'
    + text
    + '</h'
    + level
    + '>\n';
};

Renderer.prototype.hr = function() {
  return this.options.xhtml ? '<hr/>\n' : '<hr>\n';
};

Renderer.prototype.list = function(body, ordered) {
  var type = ordered ? 'ol' : 'ul';
  return '<' + type + '>\n' + body + '</' + type + '>\n';
};

Renderer.prototype.listitem = function(text) {
  return '<li>' + text + '</li>\n';
};

Renderer.prototype.paragraph = function(text) {
  return '<p>' + text + '</p>\n';
};

Renderer.prototype.table = function(header, body) {
  return '<table>\n'
    + '<thead>\n'
    + header
    + '</thead>\n'
    + '<tbody>\n'
    + body
    + '</tbody>\n'
    + '</table>\n';
};

Renderer.prototype.tablerow = function(content) {
  return '<tr>\n' + content + '</tr>\n';
};

Renderer.prototype.tablecell = function(content, flags) {
  var type = flags.header ? 'th' : 'td';
  var tag = flags.align
    ? '<' + type + ' style="text-align:' + flags.align + '">'
    : '<' + type + '>';
  return tag + content + '</' + type + '>\n';
};

// span level renderer
Renderer.prototype.strong = function(text) {
  return '<strong>' + text + '</strong>';
};

Renderer.prototype.em = function(text) {
  return '<em>' + text + '</em>';
};

Renderer.prototype.codespan = function(text) {
  return '<code>' + text + '</code>';
};

Renderer.prototype.br = function() {
  return this.options.xhtml ? '<br/>' : '<br>';
};

Renderer.prototype.del = function(text) {
  return '<del>' + text + '</del>';
};

Renderer.prototype.link = function(href, title, text) {
  if (this.options.sanitize) {
    try {
      var prot = decodeURIComponent(unescape(href))
        .replace(/[^\w:]/g, '')
        .toLowerCase();
    } catch (e) {
      return '';
    }
    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0) {
      return '';
    }
  }
  var out = '<a href="' + href + '"';
  if (title) {
    out += ' title="' + title + '"';
  }
  out += '>' + text + '</a>';
  return out;
};

Renderer.prototype.image = function(href, title, text) {
  var out = '<img src="' + href + '" alt="' + text + '"';
  if (title) {
    out += ' title="' + title + '"';
  }
  out += this.options.xhtml ? '/>' : '>';
  return out;
};

Renderer.prototype.text = function(text) {
  return text;
};

/**
 * Parsing & Compiling
 */

function Parser(options) {
  this.tokens = [];
  this.token = null;
  this.options = options || marked.defaults;
  this.options.renderer = this.options.renderer || new Renderer;
  this.renderer = this.options.renderer;
  this.renderer.options = this.options;
}

/**
 * Static Parse Method
 */

Parser.parse = function(src, options, renderer) {
  var parser = new Parser(options, renderer);
  return parser.parse(src);
};

/**
 * Parse Loop
 */

Parser.prototype.parse = function(src) {
  this.inline = new InlineLexer(src.links, this.options, this.renderer);
  this.tokens = src.reverse();

  var out = '';
  while (this.next()) {
    out += this.tok();
  }

  return out;
};

/**
 * Next Token
 */

Parser.prototype.next = function() {
  return this.token = this.tokens.pop();
};

/**
 * Preview Next Token
 */

Parser.prototype.peek = function() {
  return this.tokens[this.tokens.length - 1] || 0;
};

/**
 * Parse Text Tokens
 */

Parser.prototype.parseText = function() {
  var body = this.token.text;

  while (this.peek().type === 'text') {
    body += '\n' + this.next().text;
  }

  return this.inline.output(body);
};

/**
 * Parse Current Token
 */

Parser.prototype.tok = function() {
  switch (this.token.type) {
    case 'space': {
      return '';
    }
    case 'hr': {
      return this.renderer.hr();
    }
    case 'heading': {
      return this.renderer.heading(
        this.inline.output(this.token.text),
        this.token.depth,
        this.token.text);
    }
    case 'code': {
      return this.renderer.code(this.token.text,
        this.token.lang,
        this.token.escaped);
    }
    case 'table': {
      var header = ''
        , body = ''
        , i
        , row
        , cell
        , flags
        , j;

      // header
      cell = '';
      for (i = 0; i < this.token.header.length; i++) {
        flags = { header: true, align: this.token.align[i] };
        cell += this.renderer.tablecell(
          this.inline.output(this.token.header[i]),
          { header: true, align: this.token.align[i] }
        );
      }
      header += this.renderer.tablerow(cell);

      for (i = 0; i < this.token.cells.length; i++) {
        row = this.token.cells[i];

        cell = '';
        for (j = 0; j < row.length; j++) {
          cell += this.renderer.tablecell(
            this.inline.output(row[j]),
            { header: false, align: this.token.align[j] }
          );
        }

        body += this.renderer.tablerow(cell);
      }
      return this.renderer.table(header, body);
    }
    case 'blockquote_start': {
      var body = '';

      while (this.next().type !== 'blockquote_end') {
        body += this.tok();
      }

      return this.renderer.blockquote(body);
    }
    case 'list_start': {
      var body = ''
        , ordered = this.token.ordered;

      while (this.next().type !== 'list_end') {
        body += this.tok();
      }

      return this.renderer.list(body, ordered);
    }
    case 'list_item_start': {
      var body = '';

      while (this.next().type !== 'list_item_end') {
        body += this.token.type === 'text'
          ? this.parseText()
          : this.tok();
      }

      return this.renderer.listitem(body);
    }
    case 'loose_item_start': {
      var body = '';

      while (this.next().type !== 'list_item_end') {
        body += this.tok();
      }

      return this.renderer.listitem(body);
    }
    case 'html': {
      var html = !this.token.pre && !this.options.pedantic
        ? this.inline.output(this.token.text)
        : this.token.text;
      return this.renderer.html(html);
    }
    case 'paragraph': {
      return this.renderer.paragraph(this.inline.output(this.token.text));
    }
    case 'text': {
      return this.renderer.paragraph(this.parseText());
    }
  }
};

/**
 * Helpers
 */

function escape(html, encode) {
  return html
    .replace(!encode ? /&(?!#?\w+;)/g : /&/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;')
    .replace(/'/g, '&#39;');
}

function unescape(html) {
  return html.replace(/&([#\w]+);/g, function(_, n) {
    n = n.toLowerCase();
    if (n === 'colon') return ':';
    if (n.charAt(0) === '#') {
      return n.charAt(1) === 'x'
        ? String.fromCharCode(parseInt(n.substring(2), 16))
        : String.fromCharCode(+n.substring(1));
    }
    return '';
  });
}

function replace(regex, opt) {
  regex = regex.source;
  opt = opt || '';
  return function self(name, val) {
    if (!name) return new RegExp(regex, opt);
    val = val.source || val;
    val = val.replace(/(^|[^\[])\^/g, '$1');
    regex = regex.replace(name, val);
    return self;
  };
}

function noop() {}
noop.exec = noop;

function merge(obj) {
  var i = 1
    , target
    , key;

  for (; i < arguments.length; i++) {
    target = arguments[i];
    for (key in target) {
      if (Object.prototype.hasOwnProperty.call(target, key)) {
        obj[key] = target[key];
      }
    }
  }

  return obj;
}


/**
 * Marked
 */

function marked(src, opt, callback) {
  if (callback || typeof opt === 'function') {
    if (!callback) {
      callback = opt;
      opt = null;
    }

    opt = merge({}, marked.defaults, opt || {});

    var highlight = opt.highlight
      , tokens
      , pending
      , i = 0;

    try {
      tokens = Lexer.lex(src, opt)
    } catch (e) {
      return callback(e);
    }

    pending = tokens.length;

    var done = function(err) {
      if (err) {
        opt.highlight = highlight;
        return callback(err);
      }

      var out;

      try {
        out = Parser.parse(tokens, opt);
      } catch (e) {
        err = e;
      }

      opt.highlight = highlight;

      return err
        ? callback(err)
        : callback(null, out);
    };

    if (!highlight || highlight.length < 3) {
      return done();
    }

    delete opt.highlight;

    if (!pending) return done();

    for (; i < tokens.length; i++) {
      (function(token) {
        if (token.type !== 'code') {
          return --pending || done();
        }
        return highlight(token.text, token.lang, function(err, code) {
          if (err) return done(err);
          if (code == null || code === token.text) {
            return --pending || done();
          }
          token.text = code;
          token.escaped = true;
          --pending || done();
        });
      })(tokens[i]);
    }

    return;
  }
  try {
    if (opt) opt = merge({}, marked.defaults, opt);
    return Parser.parse(Lexer.lex(src, opt), opt);
  } catch (e) {
    e.message += '\nPlease report this to https://github.com/chjj/marked.';
    if ((opt || marked.defaults).silent) {
      return '<p>An error occured:</p><pre>'
        + escape(e.message + '', true)
        + '</pre>';
    }
    throw e;
  }
}

/**
 * Options
 */

marked.options =
marked.setOptions = function(opt) {
  merge(marked.defaults, opt);
  return marked;
};

marked.defaults = {
  gfm: true,
  tables: true,
  breaks: false,
  pedantic: false,
  sanitize: false,
  sanitizer: null,
  mangle: true,
  smartLists: false,
  silent: false,
  highlight: null,
  langPrefix: 'lang-',
  smartypants: false,
  headerPrefix: '',
  renderer: new Renderer,
  xhtml: false
};

/**
 * Expose
 */

marked.Parser = Parser;
marked.parser = Parser.parse;

marked.Renderer = Renderer;

marked.Lexer = Lexer;
marked.lexer = Lexer.lex;

marked.InlineLexer = InlineLexer;
marked.inlineLexer = InlineLexer.output;

marked.parse = marked;

if (typeof module !== 'undefined' && typeof exports === 'object') {
  module.exports = marked;
} else if (typeof define === 'function' && define.amd) {
  define(function() { return marked; });
} else {
  this.marked = marked;
}

}).call(function() {
  return this || (typeof window !== 'undefined' ? window : global);
}());

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9tYXJrZWQvbGliL21hcmtlZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBtYXJrZWQgLSBhIG1hcmtkb3duIHBhcnNlclxuICogQ29weXJpZ2h0IChjKSAyMDExLTIwMTQsIENocmlzdG9waGVyIEplZmZyZXkuIChNSVQgTGljZW5zZWQpXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2hqai9tYXJrZWRcbiAqL1xuXG47KGZ1bmN0aW9uKCkge1xuXG4vKipcbiAqIEJsb2NrLUxldmVsIEdyYW1tYXJcbiAqL1xuXG52YXIgYmxvY2sgPSB7XG4gIG5ld2xpbmU6IC9eXFxuKy8sXG4gIGNvZGU6IC9eKCB7NH1bXlxcbl0rXFxuKikrLyxcbiAgZmVuY2VzOiBub29wLFxuICBocjogL14oICpbLSpfXSl7Myx9ICooPzpcXG4rfCQpLyxcbiAgaGVhZGluZzogL14gKigjezEsNn0pICooW15cXG5dKz8pICojKiAqKD86XFxuK3wkKS8sXG4gIG5wdGFibGU6IG5vb3AsXG4gIGxoZWFkaW5nOiAvXihbXlxcbl0rKVxcbiAqKD18LSl7Mix9ICooPzpcXG4rfCQpLyxcbiAgYmxvY2txdW90ZTogL14oICo+W15cXG5dKyhcXG4oPyFkZWYpW15cXG5dKykqXFxuKikrLyxcbiAgbGlzdDogL14oICopKGJ1bGwpIFtcXHNcXFNdKz8oPzpocnxkZWZ8XFxuezIsfSg/ISApKD8hXFwxYnVsbCApXFxuKnxcXHMqJCkvLFxuICBodG1sOiAvXiAqKD86Y29tbWVudCAqKD86XFxufFxccyokKXxjbG9zZWQgKig/OlxcbnsyLH18XFxzKiQpfGNsb3NpbmcgKig/OlxcbnsyLH18XFxzKiQpKS8sXG4gIGRlZjogL14gKlxcWyhbXlxcXV0rKVxcXTogKjw/KFteXFxzPl0rKT4/KD86ICtbXCIoXShbXlxcbl0rKVtcIildKT8gKig/Olxcbit8JCkvLFxuICB0YWJsZTogbm9vcCxcbiAgcGFyYWdyYXBoOiAvXigoPzpbXlxcbl0rXFxuPyg/IWhyfGhlYWRpbmd8bGhlYWRpbmd8YmxvY2txdW90ZXx0YWd8ZGVmKSkrKVxcbiovLFxuICB0ZXh0OiAvXlteXFxuXSsvXG59O1xuXG5ibG9jay5idWxsZXQgPSAvKD86WyorLV18XFxkK1xcLikvO1xuYmxvY2suaXRlbSA9IC9eKCAqKShidWxsKSBbXlxcbl0qKD86XFxuKD8hXFwxYnVsbCApW15cXG5dKikqLztcbmJsb2NrLml0ZW0gPSByZXBsYWNlKGJsb2NrLml0ZW0sICdnbScpXG4gICgvYnVsbC9nLCBibG9jay5idWxsZXQpXG4gICgpO1xuXG5ibG9jay5saXN0ID0gcmVwbGFjZShibG9jay5saXN0KVxuICAoL2J1bGwvZywgYmxvY2suYnVsbGV0KVxuICAoJ2hyJywgJ1xcXFxuKyg/PVxcXFwxPyg/OlstKl9dICopezMsfSg/OlxcXFxuK3wkKSknKVxuICAoJ2RlZicsICdcXFxcbisoPz0nICsgYmxvY2suZGVmLnNvdXJjZSArICcpJylcbiAgKCk7XG5cbmJsb2NrLmJsb2NrcXVvdGUgPSByZXBsYWNlKGJsb2NrLmJsb2NrcXVvdGUpXG4gICgnZGVmJywgYmxvY2suZGVmKVxuICAoKTtcblxuYmxvY2suX3RhZyA9ICcoPyEoPzonXG4gICsgJ2F8ZW18c3Ryb25nfHNtYWxsfHN8Y2l0ZXxxfGRmbnxhYmJyfGRhdGF8dGltZXxjb2RlJ1xuICArICd8dmFyfHNhbXB8a2JkfHN1YnxzdXB8aXxifHV8bWFya3xydWJ5fHJ0fHJwfGJkaXxiZG8nXG4gICsgJ3xzcGFufGJyfHdicnxpbnN8ZGVsfGltZylcXFxcYilcXFxcdysoPyE6L3xbXlxcXFx3XFxcXHNAXSpAKVxcXFxiJztcblxuYmxvY2suaHRtbCA9IHJlcGxhY2UoYmxvY2suaHRtbClcbiAgKCdjb21tZW50JywgLzwhLS1bXFxzXFxTXSo/LS0+LylcbiAgKCdjbG9zZWQnLCAvPCh0YWcpW1xcc1xcU10rPzxcXC9cXDE+LylcbiAgKCdjbG9zaW5nJywgLzx0YWcoPzpcIlteXCJdKlwifCdbXiddKid8W14nXCI+XSkqPz4vKVxuICAoL3RhZy9nLCBibG9jay5fdGFnKVxuICAoKTtcblxuYmxvY2sucGFyYWdyYXBoID0gcmVwbGFjZShibG9jay5wYXJhZ3JhcGgpXG4gICgnaHInLCBibG9jay5ocilcbiAgKCdoZWFkaW5nJywgYmxvY2suaGVhZGluZylcbiAgKCdsaGVhZGluZycsIGJsb2NrLmxoZWFkaW5nKVxuICAoJ2Jsb2NrcXVvdGUnLCBibG9jay5ibG9ja3F1b3RlKVxuICAoJ3RhZycsICc8JyArIGJsb2NrLl90YWcpXG4gICgnZGVmJywgYmxvY2suZGVmKVxuICAoKTtcblxuLyoqXG4gKiBOb3JtYWwgQmxvY2sgR3JhbW1hclxuICovXG5cbmJsb2NrLm5vcm1hbCA9IG1lcmdlKHt9LCBibG9jayk7XG5cbi8qKlxuICogR0ZNIEJsb2NrIEdyYW1tYXJcbiAqL1xuXG5ibG9jay5nZm0gPSBtZXJnZSh7fSwgYmxvY2subm9ybWFsLCB7XG4gIGZlbmNlczogL14gKihgezMsfXx+ezMsfSlbIFxcLl0qKFxcUyspPyAqXFxuKFtcXHNcXFNdKj8pXFxzKlxcMSAqKD86XFxuK3wkKS8sXG4gIHBhcmFncmFwaDogL14vLFxuICBoZWFkaW5nOiAvXiAqKCN7MSw2fSkgKyhbXlxcbl0rPykgKiMqICooPzpcXG4rfCQpL1xufSk7XG5cbmJsb2NrLmdmbS5wYXJhZ3JhcGggPSByZXBsYWNlKGJsb2NrLnBhcmFncmFwaClcbiAgKCcoPyEnLCAnKD8hJ1xuICAgICsgYmxvY2suZ2ZtLmZlbmNlcy5zb3VyY2UucmVwbGFjZSgnXFxcXDEnLCAnXFxcXDInKSArICd8J1xuICAgICsgYmxvY2subGlzdC5zb3VyY2UucmVwbGFjZSgnXFxcXDEnLCAnXFxcXDMnKSArICd8JylcbiAgKCk7XG5cbi8qKlxuICogR0ZNICsgVGFibGVzIEJsb2NrIEdyYW1tYXJcbiAqL1xuXG5ibG9jay50YWJsZXMgPSBtZXJnZSh7fSwgYmxvY2suZ2ZtLCB7XG4gIG5wdGFibGU6IC9eICooXFxTLipcXHwuKilcXG4gKihbLTpdKyAqXFx8Wy18IDpdKilcXG4oKD86LipcXHwuKig/OlxcbnwkKSkqKVxcbiovLFxuICB0YWJsZTogL14gKlxcfCguKylcXG4gKlxcfCggKlstOl0rWy18IDpdKilcXG4oKD86ICpcXHwuKig/OlxcbnwkKSkqKVxcbiovXG59KTtcblxuLyoqXG4gKiBCbG9jayBMZXhlclxuICovXG5cbmZ1bmN0aW9uIExleGVyKG9wdGlvbnMpIHtcbiAgdGhpcy50b2tlbnMgPSBbXTtcbiAgdGhpcy50b2tlbnMubGlua3MgPSB7fTtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBtYXJrZWQuZGVmYXVsdHM7XG4gIHRoaXMucnVsZXMgPSBibG9jay5ub3JtYWw7XG5cbiAgaWYgKHRoaXMub3B0aW9ucy5nZm0pIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnRhYmxlcykge1xuICAgICAgdGhpcy5ydWxlcyA9IGJsb2NrLnRhYmxlcztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ydWxlcyA9IGJsb2NrLmdmbTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFeHBvc2UgQmxvY2sgUnVsZXNcbiAqL1xuXG5MZXhlci5ydWxlcyA9IGJsb2NrO1xuXG4vKipcbiAqIFN0YXRpYyBMZXggTWV0aG9kXG4gKi9cblxuTGV4ZXIubGV4ID0gZnVuY3Rpb24oc3JjLCBvcHRpb25zKSB7XG4gIHZhciBsZXhlciA9IG5ldyBMZXhlcihvcHRpb25zKTtcbiAgcmV0dXJuIGxleGVyLmxleChzcmMpO1xufTtcblxuLyoqXG4gKiBQcmVwcm9jZXNzaW5nXG4gKi9cblxuTGV4ZXIucHJvdG90eXBlLmxleCA9IGZ1bmN0aW9uKHNyYykge1xuICBzcmMgPSBzcmNcbiAgICAucmVwbGFjZSgvXFxyXFxufFxcci9nLCAnXFxuJylcbiAgICAucmVwbGFjZSgvXFx0L2csICcgICAgJylcbiAgICAucmVwbGFjZSgvXFx1MDBhMC9nLCAnICcpXG4gICAgLnJlcGxhY2UoL1xcdTI0MjQvZywgJ1xcbicpO1xuXG4gIHJldHVybiB0aGlzLnRva2VuKHNyYywgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIExleGluZ1xuICovXG5cbkxleGVyLnByb3RvdHlwZS50b2tlbiA9IGZ1bmN0aW9uKHNyYywgdG9wLCBicSkge1xuICB2YXIgc3JjID0gc3JjLnJlcGxhY2UoL14gKyQvZ20sICcnKVxuICAgICwgbmV4dFxuICAgICwgbG9vc2VcbiAgICAsIGNhcFxuICAgICwgYnVsbFxuICAgICwgYlxuICAgICwgaXRlbVxuICAgICwgc3BhY2VcbiAgICAsIGlcbiAgICAsIGw7XG5cbiAgd2hpbGUgKHNyYykge1xuICAgIC8vIG5ld2xpbmVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5uZXdsaW5lLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIGlmIChjYXBbMF0ubGVuZ3RoID4gMSkge1xuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAnc3BhY2UnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNvZGVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5jb2RlLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIGNhcCA9IGNhcFswXS5yZXBsYWNlKC9eIHs0fS9nbSwgJycpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdjb2RlJyxcbiAgICAgICAgdGV4dDogIXRoaXMub3B0aW9ucy5wZWRhbnRpY1xuICAgICAgICAgID8gY2FwLnJlcGxhY2UoL1xcbiskLywgJycpXG4gICAgICAgICAgOiBjYXBcbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gZmVuY2VzIChnZm0pXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZmVuY2VzLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnY29kZScsXG4gICAgICAgIGxhbmc6IGNhcFsyXSxcbiAgICAgICAgdGV4dDogY2FwWzNdIHx8ICcnXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGhlYWRpbmdcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5oZWFkaW5nLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnaGVhZGluZycsXG4gICAgICAgIGRlcHRoOiBjYXBbMV0ubGVuZ3RoLFxuICAgICAgICB0ZXh0OiBjYXBbMl1cbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdGFibGUgbm8gbGVhZGluZyBwaXBlIChnZm0pXG4gICAgaWYgKHRvcCAmJiAoY2FwID0gdGhpcy5ydWxlcy5ucHRhYmxlLmV4ZWMoc3JjKSkpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG5cbiAgICAgIGl0ZW0gPSB7XG4gICAgICAgIHR5cGU6ICd0YWJsZScsXG4gICAgICAgIGhlYWRlcjogY2FwWzFdLnJlcGxhY2UoL14gKnwgKlxcfCAqJC9nLCAnJykuc3BsaXQoLyAqXFx8ICovKSxcbiAgICAgICAgYWxpZ246IGNhcFsyXS5yZXBsYWNlKC9eICp8XFx8ICokL2csICcnKS5zcGxpdCgvICpcXHwgKi8pLFxuICAgICAgICBjZWxsczogY2FwWzNdLnJlcGxhY2UoL1xcbiQvLCAnJykuc3BsaXQoJ1xcbicpXG4gICAgICB9O1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5hbGlnbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoL14gKi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAncmlnaHQnO1xuICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdjZW50ZXInO1xuICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSsgKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2xlZnQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBpdGVtLmNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZW0uY2VsbHNbaV0gPSBpdGVtLmNlbGxzW2ldLnNwbGl0KC8gKlxcfCAqLyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudG9rZW5zLnB1c2goaXRlbSk7XG5cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGxoZWFkaW5nXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMubGhlYWRpbmcuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgZGVwdGg6IGNhcFsyXSA9PT0gJz0nID8gMSA6IDIsXG4gICAgICAgIHRleHQ6IGNhcFsxXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBoclxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmhyLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnaHInXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGJsb2NrcXVvdGVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5ibG9ja3F1b3RlLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblxuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdibG9ja3F1b3RlX3N0YXJ0J1xuICAgICAgfSk7XG5cbiAgICAgIGNhcCA9IGNhcFswXS5yZXBsYWNlKC9eICo+ID8vZ20sICcnKTtcblxuICAgICAgLy8gUGFzcyBgdG9wYCB0byBrZWVwIHRoZSBjdXJyZW50XG4gICAgICAvLyBcInRvcGxldmVsXCIgc3RhdGUuIFRoaXMgaXMgZXhhY3RseVxuICAgICAgLy8gaG93IG1hcmtkb3duLnBsIHdvcmtzLlxuICAgICAgdGhpcy50b2tlbihjYXAsIHRvcCwgdHJ1ZSk7XG5cbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnYmxvY2txdW90ZV9lbmQnXG4gICAgICB9KTtcblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gbGlzdFxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmxpc3QuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgYnVsbCA9IGNhcFsyXTtcblxuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdsaXN0X3N0YXJ0JyxcbiAgICAgICAgb3JkZXJlZDogYnVsbC5sZW5ndGggPiAxXG4gICAgICB9KTtcblxuICAgICAgLy8gR2V0IGVhY2ggdG9wLWxldmVsIGl0ZW0uXG4gICAgICBjYXAgPSBjYXBbMF0ubWF0Y2godGhpcy5ydWxlcy5pdGVtKTtcblxuICAgICAgbmV4dCA9IGZhbHNlO1xuICAgICAgbCA9IGNhcC5sZW5ndGg7XG4gICAgICBpID0gMDtcblxuICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaXRlbSA9IGNhcFtpXTtcblxuICAgICAgICAvLyBSZW1vdmUgdGhlIGxpc3QgaXRlbSdzIGJ1bGxldFxuICAgICAgICAvLyBzbyBpdCBpcyBzZWVuIGFzIHRoZSBuZXh0IHRva2VuLlxuICAgICAgICBzcGFjZSA9IGl0ZW0ubGVuZ3RoO1xuICAgICAgICBpdGVtID0gaXRlbS5yZXBsYWNlKC9eICooWyorLV18XFxkK1xcLikgKy8sICcnKTtcblxuICAgICAgICAvLyBPdXRkZW50IHdoYXRldmVyIHRoZVxuICAgICAgICAvLyBsaXN0IGl0ZW0gY29udGFpbnMuIEhhY2t5LlxuICAgICAgICBpZiAofml0ZW0uaW5kZXhPZignXFxuICcpKSB7XG4gICAgICAgICAgc3BhY2UgLT0gaXRlbS5sZW5ndGg7XG4gICAgICAgICAgaXRlbSA9ICF0aGlzLm9wdGlvbnMucGVkYW50aWNcbiAgICAgICAgICAgID8gaXRlbS5yZXBsYWNlKG5ldyBSZWdFeHAoJ14gezEsJyArIHNwYWNlICsgJ30nLCAnZ20nKSwgJycpXG4gICAgICAgICAgICA6IGl0ZW0ucmVwbGFjZSgvXiB7MSw0fS9nbSwgJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIG5leHQgbGlzdCBpdGVtIGJlbG9uZ3MgaGVyZS5cbiAgICAgICAgLy8gQmFja3BlZGFsIGlmIGl0IGRvZXMgbm90IGJlbG9uZyBpbiB0aGlzIGxpc3QuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc21hcnRMaXN0cyAmJiBpICE9PSBsIC0gMSkge1xuICAgICAgICAgIGIgPSBibG9jay5idWxsZXQuZXhlYyhjYXBbaSArIDFdKVswXTtcbiAgICAgICAgICBpZiAoYnVsbCAhPT0gYiAmJiAhKGJ1bGwubGVuZ3RoID4gMSAmJiBiLmxlbmd0aCA+IDEpKSB7XG4gICAgICAgICAgICBzcmMgPSBjYXAuc2xpY2UoaSArIDEpLmpvaW4oJ1xcbicpICsgc3JjO1xuICAgICAgICAgICAgaSA9IGwgLSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVybWluZSB3aGV0aGVyIGl0ZW0gaXMgbG9vc2Ugb3Igbm90LlxuICAgICAgICAvLyBVc2U6IC8oXnxcXG4pKD8hIClbXlxcbl0rXFxuXFxuKD8hXFxzKiQpL1xuICAgICAgICAvLyBmb3IgZGlzY291bnQgYmVoYXZpb3IuXG4gICAgICAgIGxvb3NlID0gbmV4dCB8fCAvXFxuXFxuKD8hXFxzKiQpLy50ZXN0KGl0ZW0pO1xuICAgICAgICBpZiAoaSAhPT0gbCAtIDEpIHtcbiAgICAgICAgICBuZXh0ID0gaXRlbS5jaGFyQXQoaXRlbS5sZW5ndGggLSAxKSA9PT0gJ1xcbic7XG4gICAgICAgICAgaWYgKCFsb29zZSkgbG9vc2UgPSBuZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgICAgdHlwZTogbG9vc2VcbiAgICAgICAgICAgID8gJ2xvb3NlX2l0ZW1fc3RhcnQnXG4gICAgICAgICAgICA6ICdsaXN0X2l0ZW1fc3RhcnQnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJlY3Vyc2UuXG4gICAgICAgIHRoaXMudG9rZW4oaXRlbSwgZmFsc2UsIGJxKTtcblxuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAnbGlzdF9pdGVtX2VuZCdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnbGlzdF9lbmQnXG4gICAgICB9KTtcblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gaHRtbFxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmh0bWwuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy5zYW5pdGl6ZVxuICAgICAgICAgID8gJ3BhcmFncmFwaCdcbiAgICAgICAgICA6ICdodG1sJyxcbiAgICAgICAgcHJlOiAhdGhpcy5vcHRpb25zLnNhbml0aXplclxuICAgICAgICAgICYmIChjYXBbMV0gPT09ICdwcmUnIHx8IGNhcFsxXSA9PT0gJ3NjcmlwdCcgfHwgY2FwWzFdID09PSAnc3R5bGUnKSxcbiAgICAgICAgdGV4dDogY2FwWzBdXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGRlZlxuICAgIGlmICgoIWJxICYmIHRvcCkgJiYgKGNhcCA9IHRoaXMucnVsZXMuZGVmLmV4ZWMoc3JjKSkpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5saW5rc1tjYXBbMV0udG9Mb3dlckNhc2UoKV0gPSB7XG4gICAgICAgIGhyZWY6IGNhcFsyXSxcbiAgICAgICAgdGl0bGU6IGNhcFszXVxuICAgICAgfTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRhYmxlIChnZm0pXG4gICAgaWYgKHRvcCAmJiAoY2FwID0gdGhpcy5ydWxlcy50YWJsZS5leGVjKHNyYykpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuXG4gICAgICBpdGVtID0ge1xuICAgICAgICB0eXBlOiAndGFibGUnLFxuICAgICAgICBoZWFkZXI6IGNhcFsxXS5yZXBsYWNlKC9eICp8ICpcXHwgKiQvZywgJycpLnNwbGl0KC8gKlxcfCAqLyksXG4gICAgICAgIGFsaWduOiBjYXBbMl0ucmVwbGFjZSgvXiAqfFxcfCAqJC9nLCAnJykuc3BsaXQoLyAqXFx8ICovKSxcbiAgICAgICAgY2VsbHM6IGNhcFszXS5yZXBsYWNlKC8oPzogKlxcfCAqKT9cXG4kLywgJycpLnNwbGl0KCdcXG4nKVxuICAgICAgfTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW0uYWxpZ24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKC9eICotKzogKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ3JpZ2h0JztcbiAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAnY2VudGVyJztcbiAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdsZWZ0JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtLmFsaWduW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5jZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVtLmNlbGxzW2ldID0gaXRlbS5jZWxsc1tpXVxuICAgICAgICAgIC5yZXBsYWNlKC9eICpcXHwgKnwgKlxcfCAqJC9nLCAnJylcbiAgICAgICAgICAuc3BsaXQoLyAqXFx8ICovKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy50b2tlbnMucHVzaChpdGVtKTtcblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdG9wLWxldmVsIHBhcmFncmFwaFxuICAgIGlmICh0b3AgJiYgKGNhcCA9IHRoaXMucnVsZXMucGFyYWdyYXBoLmV4ZWMoc3JjKSkpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ3BhcmFncmFwaCcsXG4gICAgICAgIHRleHQ6IGNhcFsxXS5jaGFyQXQoY2FwWzFdLmxlbmd0aCAtIDEpID09PSAnXFxuJ1xuICAgICAgICAgID8gY2FwWzFdLnNsaWNlKDAsIC0xKVxuICAgICAgICAgIDogY2FwWzFdXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRleHRcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy50ZXh0LmV4ZWMoc3JjKSkge1xuICAgICAgLy8gVG9wLWxldmVsIHNob3VsZCBuZXZlciByZWFjaCBoZXJlLlxuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgIHRleHQ6IGNhcFswXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoc3JjKSB7XG4gICAgICB0aHJvdyBuZXdcbiAgICAgICAgRXJyb3IoJ0luZmluaXRlIGxvb3Agb24gYnl0ZTogJyArIHNyYy5jaGFyQ29kZUF0KDApKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcy50b2tlbnM7XG59O1xuXG4vKipcbiAqIElubGluZS1MZXZlbCBHcmFtbWFyXG4gKi9cblxudmFyIGlubGluZSA9IHtcbiAgZXNjYXBlOiAvXlxcXFwoW1xcXFxgKnt9XFxbXFxdKCkjK1xcLS4hXz5dKS8sXG4gIGF1dG9saW5rOiAvXjwoW14gPl0rKEB8OlxcLylbXiA+XSspPi8sXG4gIHVybDogbm9vcCxcbiAgdGFnOiAvXjwhLS1bXFxzXFxTXSo/LS0+fF48XFwvP1xcdysoPzpcIlteXCJdKlwifCdbXiddKid8W14nXCI+XSkqPz4vLFxuICBsaW5rOiAvXiE/XFxbKGluc2lkZSlcXF1cXChocmVmXFwpLyxcbiAgcmVmbGluazogL14hP1xcWyhpbnNpZGUpXFxdXFxzKlxcWyhbXlxcXV0qKVxcXS8sXG4gIG5vbGluazogL14hP1xcWygoPzpcXFtbXlxcXV0qXFxdfFteXFxbXFxdXSkqKVxcXS8sXG4gIHN0cm9uZzogL15fXyhbXFxzXFxTXSs/KV9fKD8hXyl8XlxcKlxcKihbXFxzXFxTXSs/KVxcKlxcKig/IVxcKikvLFxuICBlbTogL15cXGJfKCg/OlteX118X18pKz8pX1xcYnxeXFwqKCg/OlxcKlxcKnxbXFxzXFxTXSkrPylcXCooPyFcXCopLyxcbiAgY29kZTogL14oYCspXFxzKihbXFxzXFxTXSo/W15gXSlcXHMqXFwxKD8hYCkvLFxuICBicjogL14gezIsfVxcbig/IVxccyokKS8sXG4gIGRlbDogbm9vcCxcbiAgdGV4dDogL15bXFxzXFxTXSs/KD89W1xcXFw8IVxcW18qYF18IHsyLH1cXG58JCkvXG59O1xuXG5pbmxpbmUuX2luc2lkZSA9IC8oPzpcXFtbXlxcXV0qXFxdfFteXFxbXFxdXXxcXF0oPz1bXlxcW10qXFxdKSkqLztcbmlubGluZS5faHJlZiA9IC9cXHMqPD8oW1xcc1xcU10qPyk+Pyg/OlxccytbJ1wiXShbXFxzXFxTXSo/KVsnXCJdKT9cXHMqLztcblxuaW5saW5lLmxpbmsgPSByZXBsYWNlKGlubGluZS5saW5rKVxuICAoJ2luc2lkZScsIGlubGluZS5faW5zaWRlKVxuICAoJ2hyZWYnLCBpbmxpbmUuX2hyZWYpXG4gICgpO1xuXG5pbmxpbmUucmVmbGluayA9IHJlcGxhY2UoaW5saW5lLnJlZmxpbmspXG4gICgnaW5zaWRlJywgaW5saW5lLl9pbnNpZGUpXG4gICgpO1xuXG4vKipcbiAqIE5vcm1hbCBJbmxpbmUgR3JhbW1hclxuICovXG5cbmlubGluZS5ub3JtYWwgPSBtZXJnZSh7fSwgaW5saW5lKTtcblxuLyoqXG4gKiBQZWRhbnRpYyBJbmxpbmUgR3JhbW1hclxuICovXG5cbmlubGluZS5wZWRhbnRpYyA9IG1lcmdlKHt9LCBpbmxpbmUubm9ybWFsLCB7XG4gIHN0cm9uZzogL15fXyg/PVxcUykoW1xcc1xcU10qP1xcUylfXyg/IV8pfF5cXCpcXCooPz1cXFMpKFtcXHNcXFNdKj9cXFMpXFwqXFwqKD8hXFwqKS8sXG4gIGVtOiAvXl8oPz1cXFMpKFtcXHNcXFNdKj9cXFMpXyg/IV8pfF5cXCooPz1cXFMpKFtcXHNcXFNdKj9cXFMpXFwqKD8hXFwqKS9cbn0pO1xuXG4vKipcbiAqIEdGTSBJbmxpbmUgR3JhbW1hclxuICovXG5cbmlubGluZS5nZm0gPSBtZXJnZSh7fSwgaW5saW5lLm5vcm1hbCwge1xuICBlc2NhcGU6IHJlcGxhY2UoaW5saW5lLmVzY2FwZSkoJ10pJywgJ358XSknKSgpLFxuICB1cmw6IC9eKGh0dHBzPzpcXC9cXC9bXlxcczxdK1tePC4sOjtcIicpXFxdXFxzXSkvLFxuICBkZWw6IC9efn4oPz1cXFMpKFtcXHNcXFNdKj9cXFMpfn4vLFxuICB0ZXh0OiByZXBsYWNlKGlubGluZS50ZXh0KVxuICAgICgnXXwnLCAnfl18JylcbiAgICAoJ3wnLCAnfGh0dHBzPzovL3wnKVxuICAgICgpXG59KTtcblxuLyoqXG4gKiBHRk0gKyBMaW5lIEJyZWFrcyBJbmxpbmUgR3JhbW1hclxuICovXG5cbmlubGluZS5icmVha3MgPSBtZXJnZSh7fSwgaW5saW5lLmdmbSwge1xuICBicjogcmVwbGFjZShpbmxpbmUuYnIpKCd7Mix9JywgJyonKSgpLFxuICB0ZXh0OiByZXBsYWNlKGlubGluZS5nZm0udGV4dCkoJ3syLH0nLCAnKicpKClcbn0pO1xuXG4vKipcbiAqIElubGluZSBMZXhlciAmIENvbXBpbGVyXG4gKi9cblxuZnVuY3Rpb24gSW5saW5lTGV4ZXIobGlua3MsIG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBtYXJrZWQuZGVmYXVsdHM7XG4gIHRoaXMubGlua3MgPSBsaW5rcztcbiAgdGhpcy5ydWxlcyA9IGlubGluZS5ub3JtYWw7XG4gIHRoaXMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXIgfHwgbmV3IFJlbmRlcmVyO1xuICB0aGlzLnJlbmRlcmVyLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgaWYgKCF0aGlzLmxpbmtzKSB7XG4gICAgdGhyb3cgbmV3XG4gICAgICBFcnJvcignVG9rZW5zIGFycmF5IHJlcXVpcmVzIGEgYGxpbmtzYCBwcm9wZXJ0eS4nKTtcbiAgfVxuXG4gIGlmICh0aGlzLm9wdGlvbnMuZ2ZtKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5icmVha3MpIHtcbiAgICAgIHRoaXMucnVsZXMgPSBpbmxpbmUuYnJlYWtzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJ1bGVzID0gaW5saW5lLmdmbTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgdGhpcy5ydWxlcyA9IGlubGluZS5wZWRhbnRpYztcbiAgfVxufVxuXG4vKipcbiAqIEV4cG9zZSBJbmxpbmUgUnVsZXNcbiAqL1xuXG5JbmxpbmVMZXhlci5ydWxlcyA9IGlubGluZTtcblxuLyoqXG4gKiBTdGF0aWMgTGV4aW5nL0NvbXBpbGluZyBNZXRob2RcbiAqL1xuXG5JbmxpbmVMZXhlci5vdXRwdXQgPSBmdW5jdGlvbihzcmMsIGxpbmtzLCBvcHRpb25zKSB7XG4gIHZhciBpbmxpbmUgPSBuZXcgSW5saW5lTGV4ZXIobGlua3MsIG9wdGlvbnMpO1xuICByZXR1cm4gaW5saW5lLm91dHB1dChzcmMpO1xufTtcblxuLyoqXG4gKiBMZXhpbmcvQ29tcGlsaW5nXG4gKi9cblxuSW5saW5lTGV4ZXIucHJvdG90eXBlLm91dHB1dCA9IGZ1bmN0aW9uKHNyYykge1xuICB2YXIgb3V0ID0gJydcbiAgICAsIGxpbmtcbiAgICAsIHRleHRcbiAgICAsIGhyZWZcbiAgICAsIGNhcDtcblxuICB3aGlsZSAoc3JjKSB7XG4gICAgLy8gZXNjYXBlXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZXNjYXBlLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSBjYXBbMV07XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBhdXRvbGlua1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmF1dG9saW5rLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIGlmIChjYXBbMl0gPT09ICdAJykge1xuICAgICAgICB0ZXh0ID0gY2FwWzFdLmNoYXJBdCg2KSA9PT0gJzonXG4gICAgICAgICAgPyB0aGlzLm1hbmdsZShjYXBbMV0uc3Vic3RyaW5nKDcpKVxuICAgICAgICAgIDogdGhpcy5tYW5nbGUoY2FwWzFdKTtcbiAgICAgICAgaHJlZiA9IHRoaXMubWFuZ2xlKCdtYWlsdG86JykgKyB0ZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMV0pO1xuICAgICAgICBocmVmID0gdGV4dDtcbiAgICAgIH1cbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmxpbmsoaHJlZiwgbnVsbCwgdGV4dCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB1cmwgKGdmbSlcbiAgICBpZiAoIXRoaXMuaW5MaW5rICYmIChjYXAgPSB0aGlzLnJ1bGVzLnVybC5leGVjKHNyYykpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMV0pO1xuICAgICAgaHJlZiA9IHRleHQ7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5saW5rKGhyZWYsIG51bGwsIHRleHQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdGFnXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMudGFnLmV4ZWMoc3JjKSkge1xuICAgICAgaWYgKCF0aGlzLmluTGluayAmJiAvXjxhIC9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICB0aGlzLmluTGluayA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaW5MaW5rICYmIC9ePFxcL2E+L2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgIHRoaXMuaW5MaW5rID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMub3B0aW9ucy5zYW5pdGl6ZVxuICAgICAgICA/IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXJcbiAgICAgICAgICA/IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIoY2FwWzBdKVxuICAgICAgICAgIDogZXNjYXBlKGNhcFswXSlcbiAgICAgICAgOiBjYXBbMF1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGxpbmtcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5saW5rLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMuaW5MaW5rID0gdHJ1ZTtcbiAgICAgIG91dCArPSB0aGlzLm91dHB1dExpbmsoY2FwLCB7XG4gICAgICAgIGhyZWY6IGNhcFsyXSxcbiAgICAgICAgdGl0bGU6IGNhcFszXVxuICAgICAgfSk7XG4gICAgICB0aGlzLmluTGluayA9IGZhbHNlO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gcmVmbGluaywgbm9saW5rXG4gICAgaWYgKChjYXAgPSB0aGlzLnJ1bGVzLnJlZmxpbmsuZXhlYyhzcmMpKVxuICAgICAgICB8fCAoY2FwID0gdGhpcy5ydWxlcy5ub2xpbmsuZXhlYyhzcmMpKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIGxpbmsgPSAoY2FwWzJdIHx8IGNhcFsxXSkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgICAgbGluayA9IHRoaXMubGlua3NbbGluay50b0xvd2VyQ2FzZSgpXTtcbiAgICAgIGlmICghbGluayB8fCAhbGluay5ocmVmKSB7XG4gICAgICAgIG91dCArPSBjYXBbMF0uY2hhckF0KDApO1xuICAgICAgICBzcmMgPSBjYXBbMF0uc3Vic3RyaW5nKDEpICsgc3JjO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5MaW5rID0gdHJ1ZTtcbiAgICAgIG91dCArPSB0aGlzLm91dHB1dExpbmsoY2FwLCBsaW5rKTtcbiAgICAgIHRoaXMuaW5MaW5rID0gZmFsc2U7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBzdHJvbmdcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5zdHJvbmcuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuc3Ryb25nKHRoaXMub3V0cHV0KGNhcFsyXSB8fCBjYXBbMV0pKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGVtXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZW0uZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuZW0odGhpcy5vdXRwdXQoY2FwWzJdIHx8IGNhcFsxXSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gY29kZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmNvZGUuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuY29kZXNwYW4oZXNjYXBlKGNhcFsyXSwgdHJ1ZSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gYnJcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5ici5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5icigpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gZGVsIChnZm0pXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZGVsLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmRlbCh0aGlzLm91dHB1dChjYXBbMV0pKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRleHRcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy50ZXh0LmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnRleHQoZXNjYXBlKHRoaXMuc21hcnR5cGFudHMoY2FwWzBdKSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKHNyYykge1xuICAgICAgdGhyb3cgbmV3XG4gICAgICAgIEVycm9yKCdJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICcgKyBzcmMuY2hhckNvZGVBdCgwKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogQ29tcGlsZSBMaW5rXG4gKi9cblxuSW5saW5lTGV4ZXIucHJvdG90eXBlLm91dHB1dExpbmsgPSBmdW5jdGlvbihjYXAsIGxpbmspIHtcbiAgdmFyIGhyZWYgPSBlc2NhcGUobGluay5ocmVmKVxuICAgICwgdGl0bGUgPSBsaW5rLnRpdGxlID8gZXNjYXBlKGxpbmsudGl0bGUpIDogbnVsbDtcblxuICByZXR1cm4gY2FwWzBdLmNoYXJBdCgwKSAhPT0gJyEnXG4gICAgPyB0aGlzLnJlbmRlcmVyLmxpbmsoaHJlZiwgdGl0bGUsIHRoaXMub3V0cHV0KGNhcFsxXSkpXG4gICAgOiB0aGlzLnJlbmRlcmVyLmltYWdlKGhyZWYsIHRpdGxlLCBlc2NhcGUoY2FwWzFdKSk7XG59O1xuXG4vKipcbiAqIFNtYXJ0eXBhbnRzIFRyYW5zZm9ybWF0aW9uc1xuICovXG5cbklubGluZUxleGVyLnByb3RvdHlwZS5zbWFydHlwYW50cyA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgaWYgKCF0aGlzLm9wdGlvbnMuc21hcnR5cGFudHMpIHJldHVybiB0ZXh0O1xuICByZXR1cm4gdGV4dFxuICAgIC8vIGVtLWRhc2hlc1xuICAgIC5yZXBsYWNlKC8tLS0vZywgJ1xcdTIwMTQnKVxuICAgIC8vIGVuLWRhc2hlc1xuICAgIC5yZXBsYWNlKC8tLS9nLCAnXFx1MjAxMycpXG4gICAgLy8gb3BlbmluZyBzaW5nbGVzXG4gICAgLnJlcGxhY2UoLyhefFstXFx1MjAxNC8oXFxbe1wiXFxzXSknL2csICckMVxcdTIwMTgnKVxuICAgIC8vIGNsb3Npbmcgc2luZ2xlcyAmIGFwb3N0cm9waGVzXG4gICAgLnJlcGxhY2UoLycvZywgJ1xcdTIwMTknKVxuICAgIC8vIG9wZW5pbmcgZG91Ymxlc1xuICAgIC5yZXBsYWNlKC8oXnxbLVxcdTIwMTQvKFxcW3tcXHUyMDE4XFxzXSlcIi9nLCAnJDFcXHUyMDFjJylcbiAgICAvLyBjbG9zaW5nIGRvdWJsZXNcbiAgICAucmVwbGFjZSgvXCIvZywgJ1xcdTIwMWQnKVxuICAgIC8vIGVsbGlwc2VzXG4gICAgLnJlcGxhY2UoL1xcLnszfS9nLCAnXFx1MjAyNicpO1xufTtcblxuLyoqXG4gKiBNYW5nbGUgTGlua3NcbiAqL1xuXG5JbmxpbmVMZXhlci5wcm90b3R5cGUubWFuZ2xlID0gZnVuY3Rpb24odGV4dCkge1xuICBpZiAoIXRoaXMub3B0aW9ucy5tYW5nbGUpIHJldHVybiB0ZXh0O1xuICB2YXIgb3V0ID0gJydcbiAgICAsIGwgPSB0ZXh0Lmxlbmd0aFxuICAgICwgaSA9IDBcbiAgICAsIGNoO1xuXG4gIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgY2ggPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcbiAgICAgIGNoID0gJ3gnICsgY2gudG9TdHJpbmcoMTYpO1xuICAgIH1cbiAgICBvdXQgKz0gJyYjJyArIGNoICsgJzsnO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogUmVuZGVyZXJcbiAqL1xuXG5mdW5jdGlvbiBSZW5kZXJlcihvcHRpb25zKSB7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG59XG5cblJlbmRlcmVyLnByb3RvdHlwZS5jb2RlID0gZnVuY3Rpb24oY29kZSwgbGFuZywgZXNjYXBlZCkge1xuICBpZiAodGhpcy5vcHRpb25zLmhpZ2hsaWdodCkge1xuICAgIHZhciBvdXQgPSB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0KGNvZGUsIGxhbmcpO1xuICAgIGlmIChvdXQgIT0gbnVsbCAmJiBvdXQgIT09IGNvZGUpIHtcbiAgICAgIGVzY2FwZWQgPSB0cnVlO1xuICAgICAgY29kZSA9IG91dDtcbiAgICB9XG4gIH1cblxuICBpZiAoIWxhbmcpIHtcbiAgICByZXR1cm4gJzxwcmU+PGNvZGU+J1xuICAgICAgKyAoZXNjYXBlZCA/IGNvZGUgOiBlc2NhcGUoY29kZSwgdHJ1ZSkpXG4gICAgICArICdcXG48L2NvZGU+PC9wcmU+JztcbiAgfVxuXG4gIHJldHVybiAnPHByZT48Y29kZSBjbGFzcz1cIidcbiAgICArIHRoaXMub3B0aW9ucy5sYW5nUHJlZml4XG4gICAgKyBlc2NhcGUobGFuZywgdHJ1ZSlcbiAgICArICdcIj4nXG4gICAgKyAoZXNjYXBlZCA/IGNvZGUgOiBlc2NhcGUoY29kZSwgdHJ1ZSkpXG4gICAgKyAnXFxuPC9jb2RlPjwvcHJlPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuYmxvY2txdW90ZSA9IGZ1bmN0aW9uKHF1b3RlKSB7XG4gIHJldHVybiAnPGJsb2NrcXVvdGU+XFxuJyArIHF1b3RlICsgJzwvYmxvY2txdW90ZT5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmh0bWwgPSBmdW5jdGlvbihodG1sKSB7XG4gIHJldHVybiBodG1sO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmhlYWRpbmcgPSBmdW5jdGlvbih0ZXh0LCBsZXZlbCwgcmF3KSB7XG4gIHJldHVybiAnPGgnXG4gICAgKyBsZXZlbFxuICAgICsgJyBpZD1cIidcbiAgICArIHRoaXMub3B0aW9ucy5oZWFkZXJQcmVmaXhcbiAgICArIHJhdy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1teXFx3XSsvZywgJy0nKVxuICAgICsgJ1wiPidcbiAgICArIHRleHRcbiAgICArICc8L2gnXG4gICAgKyBsZXZlbFxuICAgICsgJz5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmhyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm9wdGlvbnMueGh0bWwgPyAnPGhyLz5cXG4nIDogJzxocj5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmxpc3QgPSBmdW5jdGlvbihib2R5LCBvcmRlcmVkKSB7XG4gIHZhciB0eXBlID0gb3JkZXJlZCA/ICdvbCcgOiAndWwnO1xuICByZXR1cm4gJzwnICsgdHlwZSArICc+XFxuJyArIGJvZHkgKyAnPC8nICsgdHlwZSArICc+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5saXN0aXRlbSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8bGk+JyArIHRleHQgKyAnPC9saT5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLnBhcmFncmFwaCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8cD4nICsgdGV4dCArICc8L3A+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS50YWJsZSA9IGZ1bmN0aW9uKGhlYWRlciwgYm9keSkge1xuICByZXR1cm4gJzx0YWJsZT5cXG4nXG4gICAgKyAnPHRoZWFkPlxcbidcbiAgICArIGhlYWRlclxuICAgICsgJzwvdGhlYWQ+XFxuJ1xuICAgICsgJzx0Ym9keT5cXG4nXG4gICAgKyBib2R5XG4gICAgKyAnPC90Ym9keT5cXG4nXG4gICAgKyAnPC90YWJsZT5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLnRhYmxlcm93ID0gZnVuY3Rpb24oY29udGVudCkge1xuICByZXR1cm4gJzx0cj5cXG4nICsgY29udGVudCArICc8L3RyPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUudGFibGVjZWxsID0gZnVuY3Rpb24oY29udGVudCwgZmxhZ3MpIHtcbiAgdmFyIHR5cGUgPSBmbGFncy5oZWFkZXIgPyAndGgnIDogJ3RkJztcbiAgdmFyIHRhZyA9IGZsYWdzLmFsaWduXG4gICAgPyAnPCcgKyB0eXBlICsgJyBzdHlsZT1cInRleHQtYWxpZ246JyArIGZsYWdzLmFsaWduICsgJ1wiPidcbiAgICA6ICc8JyArIHR5cGUgKyAnPic7XG4gIHJldHVybiB0YWcgKyBjb250ZW50ICsgJzwvJyArIHR5cGUgKyAnPlxcbic7XG59O1xuXG4vLyBzcGFuIGxldmVsIHJlbmRlcmVyXG5SZW5kZXJlci5wcm90b3R5cGUuc3Ryb25nID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxzdHJvbmc+JyArIHRleHQgKyAnPC9zdHJvbmc+Jztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5lbSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8ZW0+JyArIHRleHQgKyAnPC9lbT4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmNvZGVzcGFuID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxjb2RlPicgKyB0ZXh0ICsgJzwvY29kZT4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmJyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm9wdGlvbnMueGh0bWwgPyAnPGJyLz4nIDogJzxicj4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmRlbCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8ZGVsPicgKyB0ZXh0ICsgJzwvZGVsPic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUubGluayA9IGZ1bmN0aW9uKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gIGlmICh0aGlzLm9wdGlvbnMuc2FuaXRpemUpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHByb3QgPSBkZWNvZGVVUklDb21wb25lbnQodW5lc2NhcGUoaHJlZikpXG4gICAgICAgIC5yZXBsYWNlKC9bXlxcdzpdL2csICcnKVxuICAgICAgICAudG9Mb3dlckNhc2UoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGlmIChwcm90LmluZGV4T2YoJ2phdmFzY3JpcHQ6JykgPT09IDAgfHwgcHJvdC5pbmRleE9mKCd2YnNjcmlwdDonKSA9PT0gMCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfVxuICB2YXIgb3V0ID0gJzxhIGhyZWY9XCInICsgaHJlZiArICdcIic7XG4gIGlmICh0aXRsZSkge1xuICAgIG91dCArPSAnIHRpdGxlPVwiJyArIHRpdGxlICsgJ1wiJztcbiAgfVxuICBvdXQgKz0gJz4nICsgdGV4dCArICc8L2E+JztcbiAgcmV0dXJuIG91dDtcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5pbWFnZSA9IGZ1bmN0aW9uKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gIHZhciBvdXQgPSAnPGltZyBzcmM9XCInICsgaHJlZiArICdcIiBhbHQ9XCInICsgdGV4dCArICdcIic7XG4gIGlmICh0aXRsZSkge1xuICAgIG91dCArPSAnIHRpdGxlPVwiJyArIHRpdGxlICsgJ1wiJztcbiAgfVxuICBvdXQgKz0gdGhpcy5vcHRpb25zLnhodG1sID8gJy8+JyA6ICc+JztcbiAgcmV0dXJuIG91dDtcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS50ZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gdGV4dDtcbn07XG5cbi8qKlxuICogUGFyc2luZyAmIENvbXBpbGluZ1xuICovXG5cbmZ1bmN0aW9uIFBhcnNlcihvcHRpb25zKSB7XG4gIHRoaXMudG9rZW5zID0gW107XG4gIHRoaXMudG9rZW4gPSBudWxsO1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IG1hcmtlZC5kZWZhdWx0cztcbiAgdGhpcy5vcHRpb25zLnJlbmRlcmVyID0gdGhpcy5vcHRpb25zLnJlbmRlcmVyIHx8IG5ldyBSZW5kZXJlcjtcbiAgdGhpcy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlcjtcbiAgdGhpcy5yZW5kZXJlci5vcHRpb25zID0gdGhpcy5vcHRpb25zO1xufVxuXG4vKipcbiAqIFN0YXRpYyBQYXJzZSBNZXRob2RcbiAqL1xuXG5QYXJzZXIucGFyc2UgPSBmdW5jdGlvbihzcmMsIG9wdGlvbnMsIHJlbmRlcmVyKSB7XG4gIHZhciBwYXJzZXIgPSBuZXcgUGFyc2VyKG9wdGlvbnMsIHJlbmRlcmVyKTtcbiAgcmV0dXJuIHBhcnNlci5wYXJzZShzcmMpO1xufTtcblxuLyoqXG4gKiBQYXJzZSBMb29wXG4gKi9cblxuUGFyc2VyLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHNyYykge1xuICB0aGlzLmlubGluZSA9IG5ldyBJbmxpbmVMZXhlcihzcmMubGlua3MsIHRoaXMub3B0aW9ucywgdGhpcy5yZW5kZXJlcik7XG4gIHRoaXMudG9rZW5zID0gc3JjLnJldmVyc2UoKTtcblxuICB2YXIgb3V0ID0gJyc7XG4gIHdoaWxlICh0aGlzLm5leHQoKSkge1xuICAgIG91dCArPSB0aGlzLnRvaygpO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogTmV4dCBUb2tlblxuICovXG5cblBhcnNlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50b2tlbiA9IHRoaXMudG9rZW5zLnBvcCgpO1xufTtcblxuLyoqXG4gKiBQcmV2aWV3IE5leHQgVG9rZW5cbiAqL1xuXG5QYXJzZXIucHJvdG90eXBlLnBlZWsgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMudG9rZW5zW3RoaXMudG9rZW5zLmxlbmd0aCAtIDFdIHx8IDA7XG59O1xuXG4vKipcbiAqIFBhcnNlIFRleHQgVG9rZW5zXG4gKi9cblxuUGFyc2VyLnByb3RvdHlwZS5wYXJzZVRleHQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGJvZHkgPSB0aGlzLnRva2VuLnRleHQ7XG5cbiAgd2hpbGUgKHRoaXMucGVlaygpLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgIGJvZHkgKz0gJ1xcbicgKyB0aGlzLm5leHQoKS50ZXh0O1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuaW5saW5lLm91dHB1dChib2R5KTtcbn07XG5cbi8qKlxuICogUGFyc2UgQ3VycmVudCBUb2tlblxuICovXG5cblBhcnNlci5wcm90b3R5cGUudG9rID0gZnVuY3Rpb24oKSB7XG4gIHN3aXRjaCAodGhpcy50b2tlbi50eXBlKSB7XG4gICAgY2FzZSAnc3BhY2UnOiB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGNhc2UgJ2hyJzoge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuaHIoKTtcbiAgICB9XG4gICAgY2FzZSAnaGVhZGluZyc6IHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmhlYWRpbmcoXG4gICAgICAgIHRoaXMuaW5saW5lLm91dHB1dCh0aGlzLnRva2VuLnRleHQpLFxuICAgICAgICB0aGlzLnRva2VuLmRlcHRoLFxuICAgICAgICB0aGlzLnRva2VuLnRleHQpO1xuICAgIH1cbiAgICBjYXNlICdjb2RlJzoge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuY29kZSh0aGlzLnRva2VuLnRleHQsXG4gICAgICAgIHRoaXMudG9rZW4ubGFuZyxcbiAgICAgICAgdGhpcy50b2tlbi5lc2NhcGVkKTtcbiAgICB9XG4gICAgY2FzZSAndGFibGUnOiB7XG4gICAgICB2YXIgaGVhZGVyID0gJydcbiAgICAgICAgLCBib2R5ID0gJydcbiAgICAgICAgLCBpXG4gICAgICAgICwgcm93XG4gICAgICAgICwgY2VsbFxuICAgICAgICAsIGZsYWdzXG4gICAgICAgICwgajtcblxuICAgICAgLy8gaGVhZGVyXG4gICAgICBjZWxsID0gJyc7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy50b2tlbi5oZWFkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZmxhZ3MgPSB7IGhlYWRlcjogdHJ1ZSwgYWxpZ246IHRoaXMudG9rZW4uYWxpZ25baV0gfTtcbiAgICAgICAgY2VsbCArPSB0aGlzLnJlbmRlcmVyLnRhYmxlY2VsbChcbiAgICAgICAgICB0aGlzLmlubGluZS5vdXRwdXQodGhpcy50b2tlbi5oZWFkZXJbaV0pLFxuICAgICAgICAgIHsgaGVhZGVyOiB0cnVlLCBhbGlnbjogdGhpcy50b2tlbi5hbGlnbltpXSB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBoZWFkZXIgKz0gdGhpcy5yZW5kZXJlci50YWJsZXJvdyhjZWxsKTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMudG9rZW4uY2VsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcm93ID0gdGhpcy50b2tlbi5jZWxsc1tpXTtcblxuICAgICAgICBjZWxsID0gJyc7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCByb3cubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBjZWxsICs9IHRoaXMucmVuZGVyZXIudGFibGVjZWxsKFxuICAgICAgICAgICAgdGhpcy5pbmxpbmUub3V0cHV0KHJvd1tqXSksXG4gICAgICAgICAgICB7IGhlYWRlcjogZmFsc2UsIGFsaWduOiB0aGlzLnRva2VuLmFsaWduW2pdIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgYm9keSArPSB0aGlzLnJlbmRlcmVyLnRhYmxlcm93KGNlbGwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIudGFibGUoaGVhZGVyLCBib2R5KTtcbiAgICB9XG4gICAgY2FzZSAnYmxvY2txdW90ZV9zdGFydCc6IHtcbiAgICAgIHZhciBib2R5ID0gJyc7XG5cbiAgICAgIHdoaWxlICh0aGlzLm5leHQoKS50eXBlICE9PSAnYmxvY2txdW90ZV9lbmQnKSB7XG4gICAgICAgIGJvZHkgKz0gdGhpcy50b2soKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuYmxvY2txdW90ZShib2R5KTtcbiAgICB9XG4gICAgY2FzZSAnbGlzdF9zdGFydCc6IHtcbiAgICAgIHZhciBib2R5ID0gJydcbiAgICAgICAgLCBvcmRlcmVkID0gdGhpcy50b2tlbi5vcmRlcmVkO1xuXG4gICAgICB3aGlsZSAodGhpcy5uZXh0KCkudHlwZSAhPT0gJ2xpc3RfZW5kJykge1xuICAgICAgICBib2R5ICs9IHRoaXMudG9rKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmxpc3QoYm9keSwgb3JkZXJlZCk7XG4gICAgfVxuICAgIGNhc2UgJ2xpc3RfaXRlbV9zdGFydCc6IHtcbiAgICAgIHZhciBib2R5ID0gJyc7XG5cbiAgICAgIHdoaWxlICh0aGlzLm5leHQoKS50eXBlICE9PSAnbGlzdF9pdGVtX2VuZCcpIHtcbiAgICAgICAgYm9keSArPSB0aGlzLnRva2VuLnR5cGUgPT09ICd0ZXh0J1xuICAgICAgICAgID8gdGhpcy5wYXJzZVRleHQoKVxuICAgICAgICAgIDogdGhpcy50b2soKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdGl0ZW0oYm9keSk7XG4gICAgfVxuICAgIGNhc2UgJ2xvb3NlX2l0ZW1fc3RhcnQnOiB7XG4gICAgICB2YXIgYm9keSA9ICcnO1xuXG4gICAgICB3aGlsZSAodGhpcy5uZXh0KCkudHlwZSAhPT0gJ2xpc3RfaXRlbV9lbmQnKSB7XG4gICAgICAgIGJvZHkgKz0gdGhpcy50b2soKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdGl0ZW0oYm9keSk7XG4gICAgfVxuICAgIGNhc2UgJ2h0bWwnOiB7XG4gICAgICB2YXIgaHRtbCA9ICF0aGlzLnRva2VuLnByZSAmJiAhdGhpcy5vcHRpb25zLnBlZGFudGljXG4gICAgICAgID8gdGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4udGV4dClcbiAgICAgICAgOiB0aGlzLnRva2VuLnRleHQ7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5odG1sKGh0bWwpO1xuICAgIH1cbiAgICBjYXNlICdwYXJhZ3JhcGgnOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgodGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4udGV4dCkpO1xuICAgIH1cbiAgICBjYXNlICd0ZXh0Jzoge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIucGFyYWdyYXBoKHRoaXMucGFyc2VUZXh0KCkpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBIZWxwZXJzXG4gKi9cblxuZnVuY3Rpb24gZXNjYXBlKGh0bWwsIGVuY29kZSkge1xuICByZXR1cm4gaHRtbFxuICAgIC5yZXBsYWNlKCFlbmNvZGUgPyAvJig/ISM/XFx3KzspL2cgOiAvJi9nLCAnJmFtcDsnKVxuICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG4gICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuICAgIC5yZXBsYWNlKC8nL2csICcmIzM5OycpO1xufVxuXG5mdW5jdGlvbiB1bmVzY2FwZShodG1sKSB7XG4gIHJldHVybiBodG1sLnJlcGxhY2UoLyYoWyNcXHddKyk7L2csIGZ1bmN0aW9uKF8sIG4pIHtcbiAgICBuID0gbi50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChuID09PSAnY29sb24nKSByZXR1cm4gJzonO1xuICAgIGlmIChuLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICByZXR1cm4gbi5jaGFyQXQoMSkgPT09ICd4J1xuICAgICAgICA/IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQobi5zdWJzdHJpbmcoMiksIDE2KSlcbiAgICAgICAgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKCtuLnN1YnN0cmluZygxKSk7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2UocmVnZXgsIG9wdCkge1xuICByZWdleCA9IHJlZ2V4LnNvdXJjZTtcbiAgb3B0ID0gb3B0IHx8ICcnO1xuICByZXR1cm4gZnVuY3Rpb24gc2VsZihuYW1lLCB2YWwpIHtcbiAgICBpZiAoIW5hbWUpIHJldHVybiBuZXcgUmVnRXhwKHJlZ2V4LCBvcHQpO1xuICAgIHZhbCA9IHZhbC5zb3VyY2UgfHwgdmFsO1xuICAgIHZhbCA9IHZhbC5yZXBsYWNlKC8oXnxbXlxcW10pXFxeL2csICckMScpO1xuICAgIHJlZ2V4ID0gcmVnZXgucmVwbGFjZShuYW1lLCB2YWwpO1xuICAgIHJldHVybiBzZWxmO1xuICB9O1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cbm5vb3AuZXhlYyA9IG5vb3A7XG5cbmZ1bmN0aW9uIG1lcmdlKG9iaikge1xuICB2YXIgaSA9IDFcbiAgICAsIHRhcmdldFxuICAgICwga2V5O1xuXG4gIGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdGFyZ2V0ID0gYXJndW1lbnRzW2ldO1xuICAgIGZvciAoa2V5IGluIHRhcmdldCkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIGtleSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSB0YXJnZXRba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5cbi8qKlxuICogTWFya2VkXG4gKi9cblxuZnVuY3Rpb24gbWFya2VkKHNyYywgb3B0LCBjYWxsYmFjaykge1xuICBpZiAoY2FsbGJhY2sgfHwgdHlwZW9mIG9wdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0O1xuICAgICAgb3B0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBvcHQgPSBtZXJnZSh7fSwgbWFya2VkLmRlZmF1bHRzLCBvcHQgfHwge30pO1xuXG4gICAgdmFyIGhpZ2hsaWdodCA9IG9wdC5oaWdobGlnaHRcbiAgICAgICwgdG9rZW5zXG4gICAgICAsIHBlbmRpbmdcbiAgICAgICwgaSA9IDA7XG5cbiAgICB0cnkge1xuICAgICAgdG9rZW5zID0gTGV4ZXIubGV4KHNyYywgb3B0KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlKTtcbiAgICB9XG5cbiAgICBwZW5kaW5nID0gdG9rZW5zLmxlbmd0aDtcblxuICAgIHZhciBkb25lID0gZnVuY3Rpb24oZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIG9wdC5oaWdobGlnaHQgPSBoaWdobGlnaHQ7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3V0O1xuXG4gICAgICB0cnkge1xuICAgICAgICBvdXQgPSBQYXJzZXIucGFyc2UodG9rZW5zLCBvcHQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBlcnIgPSBlO1xuICAgICAgfVxuXG4gICAgICBvcHQuaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0O1xuXG4gICAgICByZXR1cm4gZXJyXG4gICAgICAgID8gY2FsbGJhY2soZXJyKVxuICAgICAgICA6IGNhbGxiYWNrKG51bGwsIG91dCk7XG4gICAgfTtcblxuICAgIGlmICghaGlnaGxpZ2h0IHx8IGhpZ2hsaWdodC5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gZG9uZSgpO1xuICAgIH1cblxuICAgIGRlbGV0ZSBvcHQuaGlnaGxpZ2h0O1xuXG4gICAgaWYgKCFwZW5kaW5nKSByZXR1cm4gZG9uZSgpO1xuXG4gICAgZm9yICg7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIChmdW5jdGlvbih0b2tlbikge1xuICAgICAgICBpZiAodG9rZW4udHlwZSAhPT0gJ2NvZGUnKSB7XG4gICAgICAgICAgcmV0dXJuIC0tcGVuZGluZyB8fCBkb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpZ2hsaWdodCh0b2tlbi50ZXh0LCB0b2tlbi5sYW5nLCBmdW5jdGlvbihlcnIsIGNvZGUpIHtcbiAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuICAgICAgICAgIGlmIChjb2RlID09IG51bGwgfHwgY29kZSA9PT0gdG9rZW4udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIC0tcGVuZGluZyB8fCBkb25lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuLnRleHQgPSBjb2RlO1xuICAgICAgICAgIHRva2VuLmVzY2FwZWQgPSB0cnVlO1xuICAgICAgICAgIC0tcGVuZGluZyB8fCBkb25lKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSkodG9rZW5zW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cbiAgdHJ5IHtcbiAgICBpZiAob3B0KSBvcHQgPSBtZXJnZSh7fSwgbWFya2VkLmRlZmF1bHRzLCBvcHQpO1xuICAgIHJldHVybiBQYXJzZXIucGFyc2UoTGV4ZXIubGV4KHNyYywgb3B0KSwgb3B0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGUubWVzc2FnZSArPSAnXFxuUGxlYXNlIHJlcG9ydCB0aGlzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9jaGpqL21hcmtlZC4nO1xuICAgIGlmICgob3B0IHx8IG1hcmtlZC5kZWZhdWx0cykuc2lsZW50KSB7XG4gICAgICByZXR1cm4gJzxwPkFuIGVycm9yIG9jY3VyZWQ6PC9wPjxwcmU+J1xuICAgICAgICArIGVzY2FwZShlLm1lc3NhZ2UgKyAnJywgdHJ1ZSlcbiAgICAgICAgKyAnPC9wcmU+JztcbiAgICB9XG4gICAgdGhyb3cgZTtcbiAgfVxufVxuXG4vKipcbiAqIE9wdGlvbnNcbiAqL1xuXG5tYXJrZWQub3B0aW9ucyA9XG5tYXJrZWQuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdCkge1xuICBtZXJnZShtYXJrZWQuZGVmYXVsdHMsIG9wdCk7XG4gIHJldHVybiBtYXJrZWQ7XG59O1xuXG5tYXJrZWQuZGVmYXVsdHMgPSB7XG4gIGdmbTogdHJ1ZSxcbiAgdGFibGVzOiB0cnVlLFxuICBicmVha3M6IGZhbHNlLFxuICBwZWRhbnRpYzogZmFsc2UsXG4gIHNhbml0aXplOiBmYWxzZSxcbiAgc2FuaXRpemVyOiBudWxsLFxuICBtYW5nbGU6IHRydWUsXG4gIHNtYXJ0TGlzdHM6IGZhbHNlLFxuICBzaWxlbnQ6IGZhbHNlLFxuICBoaWdobGlnaHQ6IG51bGwsXG4gIGxhbmdQcmVmaXg6ICdsYW5nLScsXG4gIHNtYXJ0eXBhbnRzOiBmYWxzZSxcbiAgaGVhZGVyUHJlZml4OiAnJyxcbiAgcmVuZGVyZXI6IG5ldyBSZW5kZXJlcixcbiAgeGh0bWw6IGZhbHNlXG59O1xuXG4vKipcbiAqIEV4cG9zZVxuICovXG5cbm1hcmtlZC5QYXJzZXIgPSBQYXJzZXI7XG5tYXJrZWQucGFyc2VyID0gUGFyc2VyLnBhcnNlO1xuXG5tYXJrZWQuUmVuZGVyZXIgPSBSZW5kZXJlcjtcblxubWFya2VkLkxleGVyID0gTGV4ZXI7XG5tYXJrZWQubGV4ZXIgPSBMZXhlci5sZXg7XG5cbm1hcmtlZC5JbmxpbmVMZXhlciA9IElubGluZUxleGVyO1xubWFya2VkLmlubGluZUxleGVyID0gSW5saW5lTGV4ZXIub3V0cHV0O1xuXG5tYXJrZWQucGFyc2UgPSBtYXJrZWQ7XG5cbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBtYXJrZWQ7XG59IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBtYXJrZWQ7IH0pO1xufSBlbHNlIHtcbiAgdGhpcy5tYXJrZWQgPSBtYXJrZWQ7XG59XG5cbn0pLmNhbGwoZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzIHx8ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGdsb2JhbCk7XG59KCkpO1xuIl19
},{}],3:[function(require,module,exports){

var env = require('./env.js');
var Lexer = require("./parser/Lexer.js");
var Parser = require("./parser/Parser.js");
var config = require("./config.js");
var _ = require('./util');
var extend = require('./helper/extend.js');
if(env.browser){
  var combine = require('./helper/combine.js');
  var dom = require("./dom.js");
  var walkers = require('./walkers.js');
  var Group = require('./group.js');
}
var events = require('./helper/event.js');
var Watcher = require('./helper/watcher.js');
var parse = require('./helper/parse.js');
var filter = require('./helper/filter.js');
var doc = dom.doc;


/**
* `Regular` is regularjs's NameSpace and BaseClass. Every Component is inherited from it
* 
* @class Regular
* @module Regular
* @constructor
* @param {Object} options specification of the component
*/
var Regular = function(definition, options){
  var prevRunning = env.isRunning;
  env.isRunning = true;
  var node, template;

  definition = definition || {};
  options = options || {};

  definition.data = definition.data || {};
  definition.computed = definition.computed || {};
  definition.events = definition.events || {};
  if(this.data) _.extend(definition.data, this.data);
  if(this.computed) _.extend(definition.computed, this.computed);
  if(this.events) _.extend(definition.events, this.events);

  _.extend(this, definition, true);
  if(this.$parent){
     this.$parent._append(this);
  }
  this._children = [];
  this.$refs = {};

  template = this.template;

  // template is a string (len < 16). we will find it container first
  if((typeof template === 'string' && template.length < 16) && (node = dom.find(template))) {
    template = node.innerHTML;
  }
  // if template is a xml
  if(template && template.nodeType) template = template.innerHTML;
  if(typeof template === 'string') this.template = new Parser(template).parse();

  this.computed = handleComputed(this.computed);
  this.$root = this.$root || this;
  // if have events
  if(this.events){
    this.$on(this.events);
  }
  this.$emit("$config");
  this.config && this.config(this.data);
  if(this._body && this._body.length){
    this.$body = _.getCompileFn(this._body, this.$parent, {
      outer: this,
      namespace: options.namespace,
      extra: options.extra,
      record: true
    })
    this._body = null;
  }
  // handle computed
  if(template){
    this.group = this.$compile(this.template, {namespace: options.namespace});
    combine.node(this);
  }


  if(!this.$parent) this.$update();
  this.$ready = true;
  this.$emit("$init");
  if( this.init ) this.init(this.data);

  // @TODO: remove, maybe , there is no need to update after init; 
  // if(this.$root === this) this.$update();
  env.isRunning = prevRunning;

  // children is not required;
}


walkers && (walkers.Regular = Regular);


// description
// -------------------------
// 1. Regular and derived Class use same filter
_.extend(Regular, {
  // private data stuff
  _directives: { __regexp__:[] },
  _plugins: {},
  _protoInheritCache: [ 'directive', 'use'] ,
  __after__: function(supr, o) {

    var template;
    this.__after__ = supr.__after__;

    // use name make the component global.
    if(o.name) Regular.component(o.name, this);
    // this.prototype.template = dom.initTemplate(o)
    if(template = o.template){
      var node, name;
      if( typeof template === 'string' && template.length < 16 && ( node = dom.find( template )) ){
        template = node.innerHTML;
        if(name = dom.attr(node, 'name')) Regular.component(name, this);
      }

      if(template.nodeType) template = template.innerHTML;

      if(typeof template === 'string'){
        this.prototype.template = new Parser(template).parse();
      }
    }

    if(o.computed) this.prototype.computed = handleComputed(o.computed);
    // inherit directive and other config from supr
    Regular._inheritConfig(this, supr);

  },
  /**
   * Define a directive
   *
   * @method directive
   * @return {Object} Copy of ...
   */  
  directive: function(name, cfg){

    if(_.typeOf(name) === "object"){
      for(var k in name){
        if(name.hasOwnProperty(k)) this.directive(k, name[k]);
      }
      return this;
    }
    var type = _.typeOf(name);
    var directives = this._directives, directive;
    if(cfg == null){
      if( type === "string" && (directive = directives[name]) ) return directive;
      else{
        var regexp = directives.__regexp__;
        for(var i = 0, len = regexp.length; i < len ; i++){
          directive = regexp[i];
          var test = directive.regexp.test(name);
          if(test) return directive;
        }
      }
      return undefined;
    }
    if(typeof cfg === 'function') cfg = { link: cfg } 
    if(type === 'string') directives[name] = cfg;
    else if(type === 'regexp'){
      cfg.regexp = name;
      directives.__regexp__.push(cfg)
    }
    return this
  },
  plugin: function(name, fn){
    var plugins = this._plugins;
    if(fn == null) return plugins[name];
    plugins[name] = fn;
    return this;
  },
  use: function(fn){
    if(typeof fn === "string") fn = Regular.plugin(fn);
    if(typeof fn !== "function") return this;
    fn(this, Regular);
    return this;
  },
  // config the Regularjs's global
  config: function(name, value){
    var needGenLexer = false;
    if(typeof name === "object"){
      for(var i in name){
        // if you config
        if( i ==="END" || i==='BEGIN' )  needGenLexer = true;
        config[i] = name[i];
      }
    }
    if(needGenLexer) Lexer.setup();
  },
  expression: parse.expression,
  Parser: Parser,
  Lexer: Lexer,
  _addProtoInheritCache: function(name, transform){
    if( Array.isArray( name ) ){
      return name.forEach(Regular._addProtoInheritCache);
    }
    var cacheKey = "_" + name + "s"
    Regular._protoInheritCache.push(name)
    Regular[cacheKey] = {};
    if(Regular[name]) return;
    Regular[name] = function(key, cfg){
      var cache = this[cacheKey];

      if(typeof key === "object"){
        for(var i in key){
          if(key.hasOwnProperty(i)) this[name](i, key[i]);
        }
        return this;
      }
      if(cfg == null) return cache[key];
      cache[key] = transform? transform(cfg) : cfg;
      return this;
    }
  },
  _inheritConfig: function(self, supr){

    // prototype inherit some Regular property
    // so every Component will have own container to serve directive, filter etc..
    var defs = Regular._protoInheritCache;
    var keys = _.slice(defs);
    keys.forEach(function(key){
      self[key] = supr[key];
      var cacheKey = '_' + key + 's';
      if(supr[cacheKey]) self[cacheKey] = _.createObject(supr[cacheKey]);
    })
    return self;
  }

});

extend(Regular);

Regular._addProtoInheritCache("component")

Regular._addProtoInheritCache("filter", function(cfg){
  return typeof cfg === "function"? {get: cfg}: cfg;
})


events.mixTo(Regular);
Watcher.mixTo(Regular);

Regular.implement({
  init: function(){},
  config: function(){},
  destroy: function(){
    // destroy event wont propgation;
    this.$emit("$destroy");
    this.group && this.group.destroy(true);
    this.group = null;
    this.parentNode = null;
    this._watchers = null;
    this._children = [];
    var parent = this.$parent;
    if(parent){
      var index = parent._children.indexOf(this);
      parent._children.splice(index,1);
    }
    this.$parent = null;
    this.$root = null;
    this._handles = null;
    this.$refs = null;
  },

  /**
   * compile a block ast ; return a group;
   * @param  {Array} parsed ast
   * @param  {[type]} record
   * @return {[type]}
   */
  $compile: function(ast, options){
    options = options || {};
    if(typeof ast === 'string'){
      ast = new Parser(ast).parse()
    }
    var preExt = this.__ext__,
      record = options.record, 
      records;

    if(options.extra) this.__ext__ = options.extra;

    if(record) this._record();
    var group = this._walk(ast, options);
    if(record){
      records = this._release();
      var self = this;
      if(records.length){
        // auto destroy all wather;
        group.ondestroy = function(){ self.$unwatch(records); }
      }
    }
    if(options.extra) this.__ext__ = preExt;
    return group;
  },


  /**
   * create two-way binding with another component;
   * *warn*: 
   *   expr1 and expr2 must can operate set&get, for example: the 'a.b' or 'a[b + 1]' is set-able, but 'a.b + 1' is not, 
   *   beacuse Regular dont know how to inverse set through the expression;
   *   
   *   if before $bind, two component's state is not sync, the component(passed param) will sync with the called component;
   *
   * *example: *
   *
   * ```javascript
   * // in this example, we need to link two pager component
   * var pager = new Pager({}) // pager compoennt
   * var pager2 = new Pager({}) // another pager component
   * pager.$bind(pager2, 'current'); // two way bind throw two component
   * pager.$bind(pager2, 'total');   // 
   * // or just
   * pager.$bind(pager2, {"current": "current", "total": "total"}) 
   * ```
   * 
   * @param  {Regular} component the
   * @param  {String|Expression} expr1     required, self expr1 to operate binding
   * @param  {String|Expression} expr2     optional, other component's expr to bind with, if not passed, the expr2 will use the expr1;
   * @return          this;
   */
  $bind: function(component, expr1, expr2){
    var type = _.typeOf(expr1);
    if( expr1.type === 'expression' || type === 'string' ){
      this._bind(component, expr1, expr2)
    }else if( type === "array" ){ // multiply same path binding through array
      for(var i = 0, len = expr1.length; i < len; i++){
        this._bind(component, expr1[i]);
      }
    }else if(type === "object"){
      for(var i in expr1) if(expr1.hasOwnProperty(i)){
        this._bind(component, i, expr1[i]);
      }
    }
    // digest
    component.$update();
    return this;
  },
  /**
   * unbind one component( see $bind also)
   *
   * unbind will unbind all relation between two component
   * 
   * @param  {Regular} component [descriptionegular
   * @return {This}    this
   */
  $unbind: function(){
    // todo
  },
  $inject: combine.inject,
  $mute: function(isMute){

    isMute = !!isMute;

    var needupdate = isMute === false && this._mute;

    this._mute = !!isMute;

    if(needupdate) this.$update();
    return this;
  },
  // private bind logic
  _bind: function(component, expr1, expr2){

    var self = this;
    // basic binding

    if(!component || !(component instanceof Regular)) throw "$bind() should pass Regular component as first argument";
    if(!expr1) throw "$bind() should  pass as least one expression to bind";

    if(!expr2) expr2 = expr1;

    expr1 = parse.expression( expr1 );
    expr2 = parse.expression( expr2 );

    // set is need to operate setting ;
    if(expr2.set){
      var wid1 = this.$watch( expr1, function(value){
        component.$update(expr2, value)
      });
      component.$on('$destroy', function(){
        self.$unwatch(wid1)
      })
    }
    if(expr1.set){
      var wid2 = component.$watch(expr2, function(value){
        self.$update(expr1, value)
      });
      // when brother destroy, we unlink this watcher
      this.$on('$destroy', component.$unwatch.bind(component,wid2))
    }
    // sync the component's state to called's state
    expr2.set(component, expr1.get(this));
  },
  _walk: function(ast, arg1){
    if( _.typeOf(ast) === 'array' ){
      var res = [];

      for(var i = 0, len = ast.length; i < len; i++){
        res.push( this._walk(ast[i], arg1) );
      }

      return new Group(res);
    }
    if(typeof ast === 'string') return doc.createTextNode(ast)
    return walkers[ast.type || "default"].call(this, ast, arg1);
  },
  _append: function(component){
    this._children.push(component);
    component.$parent = this;
  },
  _handleEvent: function(elem, type, value, attrs){
    var Component = this.constructor,
      fire = typeof value !== "function"? _.handleEvent.call( this, value, type ) : value,
      handler = Component.event(type), destroy;

    if ( handler ) {
      destroy = handler.call(this, elem, fire, attrs);
    } else {
      dom.on(elem, type, fire);
    }
    return handler ? destroy : function() {
      dom.off(elem, type, fire);
    }
  },
  // 1. 用来处理exprBody -> Function
  // 2. list里的循环
  _touchExpr: function(expr){
    var  rawget, ext = this.__ext__, touched = {};
    if(expr.type !== 'expression' || expr.touched) return expr;
    rawget = expr.get || (expr.get = new Function(_.ctxName, _.extName , _.prefix+ "return (" + expr.body + ")"));
    touched.get = !ext? rawget: function(context){
      return rawget(context, ext)
    }

    if(expr.setbody && !expr.set){
      var setbody = expr.setbody;
      expr.set = function(ctx, value, ext){
        expr.set = new Function(_.ctxName, _.setName , _.extName, _.prefix + setbody);          
        return expr.set(ctx, value, ext);
      }
      expr.setbody = null;
    }
    if(expr.set){
      touched.set = !ext? expr.set : function(ctx, value){
        return expr.set(ctx, value, ext);
      }
    }
    _.extend(touched, {
      type: 'expression',
      touched: true,
      once: expr.once || expr.constant
    })
    return touched
  },
  // find filter
  _f_: function(name){
    var Component = this.constructor;
    var filter = Component.filter(name);
    if(!filter) throw Error('filter ' + name + ' is undefined');
    return filter;
  },
  // simple accessor get
  _sg_:function(path, defaults, ext){
    if(typeof ext !== 'undefined'){
      // if(path === "demos")  debugger
      var computed = this.computed,
        computedProperty = computed[path];
      if(computedProperty){
        if(computedProperty.type==='expression' && !computedProperty.get) this._touchExpr(computedProperty);
        if(computedProperty.get)  return computedProperty.get(this);
        else _.log("the computed '" + path + "' don't define the get function,  get data."+path + " altnately", "error")
      }
  }
    if(typeof defaults === "undefined" || typeof path == "undefined" ){
      return undefined;
    }
    return (ext && typeof ext[path] !== 'undefined')? ext[path]: defaults[path];

  },
  // simple accessor set
  _ss_:function(path, value, data , op, computed){
    var computed = this.computed,
      op = op || "=", prev, 
      computedProperty = computed? computed[path]:null;

    if(op !== '='){
      prev = computedProperty? computedProperty.get(this): data[path];
      switch(op){
        case "+=":
          value = prev + value;
          break;
        case "-=":
          value = prev - value;
          break;
        case "*=":
          value = prev * value;
          break;
        case "/=":
          value = prev / value;
          break;
        case "%=":
          value = prev % value;
          break;
      }
    }
    if(computedProperty) {
      if(computedProperty.set) return computedProperty.set(this, value);
      else _.log("the computed '" + path + "' don't define the set function,  assign data."+path + " altnately", "error" )
    }
    data[path] = value;
    return value;
  }
});

Regular.prototype.inject = function(){
  _.log("use $inject instead of inject", "error");
  return this.$inject.apply(this, arguments);
}


// only one builtin filter

Regular.filter(filter);

module.exports = Regular;



var handleComputed = (function(){
  // wrap the computed getter;
  function wrapGet(get){
    return function(context){
      return get.call(context, context.data );
    }
  }
  // wrap the computed setter;
  function wrapSet(set){
    return function(context, value){
      set.call( context, value, context.data );
      return value;
    }
  }

  return function(computed){
    if(!computed) return;
    var parsedComputed = {}, handle, pair, type;
    for(var i in computed){
      handle = computed[i]
      type = typeof handle;

      if(handle.type === 'expression'){
        parsedComputed[i] = handle;
        continue;
      }
      if( type === "string" ){
        parsedComputed[i] = parse.expression(handle)
      }else{
        pair = parsedComputed[i] = {type: 'expression'};
        if(type === "function" ){
          pair.get = wrapGet(handle);
        }else{
          if(handle.get) pair.get = wrapGet(handle.get);
          if(handle.set) pair.set = wrapSet(handle.set);
        }
      } 
    }
    return parsedComputed;
  }
})();

},{"./config.js":4,"./dom.js":10,"./env.js":11,"./group.js":12,"./helper/combine.js":15,"./helper/event.js":17,"./helper/extend.js":18,"./helper/filter.js":19,"./helper/parse.js":20,"./helper/watcher.js":22,"./parser/Lexer.js":25,"./parser/Parser.js":26,"./util":28,"./walkers.js":29}],4:[function(require,module,exports){

module.exports = {
  'BEGIN': '{',
  'END': '}'
}
},{}],5:[function(require,module,exports){
module.exports = {
  'COMPONENT_TYPE': 1,
  'ELEMENT_TYPE': 2
}
},{}],6:[function(require,module,exports){
var // packages
  _ = require("../util.js"),
 animate = require("../helper/animate.js"),
 dom = require("../dom.js"),
 Regular = require("../Regular.js");


var // variables
  rClassName = /^[-\w]+(\s[-\w]+)*$/,
  rCommaSep = /[\r\n\f ]*,[\r\n\f ]*(?=\w+\:)/, //  dont split comma in  Expression
  rStyles = /^\{.*\}$/, //  for Simpilfy
  rSpace = /\s+/, //  for Simpilfy
  WHEN_COMMAND = "when",
  EVENT_COMMAND = "on",
  THEN_COMMAND = "then";

/**
 * Animation Plugin
 * @param {Component} Component 
 */


function createSeed(type){

  var steps = [], current = 0, callback = _.noop;
  var key;

  var out = {
    type: type,
    start: function(cb){
      key = _.uid();
      if(typeof cb === "function") callback = cb;
      if(current> 0 ){
        current = 0 ;
      }else{
        out.step();
      }
      return out.compelete;
    },
    compelete: function(){
      key = null;
      callback && callback();
      callback = _.noop;
      current = 0;
    },
    step: function(){
      if(steps[current]) steps[current ]( out.done.bind(out, key) );
    },
    done: function(pkey){
      if(pkey !== key) return; // means the loop is down
      if( current < steps.length - 1 ) {
        current++;
        out.step();
      }else{
        out.compelete();
      }
    },
    push: function(step){
      steps.push(step)
    }
  }

  return out;
}

Regular._addProtoInheritCache("animation")


// builtin animation
Regular.animation({
  "wait": function( step ){
    var timeout = parseInt( step.param ) || 0
    return function(done){
      // _.log("delay " + timeout)
      setTimeout( done, timeout );
    }
  },
  "class": function(step){
    var tmp = step.param.split(","),
      className = tmp[0] || "",
      mode = parseInt(tmp[1]) || 1;

    return function(done){
      // _.log(className)
      animate.startClassAnimate( step.element, className , done, mode );
    }
  },
  "call": function(step){
    var fn = this.$expression(step.param).get, self = this;
    return function(done){
      // _.log(step.param, 'call')
      fn(self);
      self.$update();
      done()
    }
  },
  "emit": function(step){
    var param = step.param;
    var tmp = param.split(","),
      evt = tmp[0] || "",
      args = tmp[1]? this.$expression(tmp[1]).get: null;

    if(!evt) throw Error("you shoud specified a eventname in emit command");

    var self = this;
    return function(done){
      self.$emit(evt, args? args(self) : undefined);
      done();
    }
  },
  // style: left {10}px,
  style: function(step){
    var styles = {}, 
      param = step.param,
      pairs = param.split(","), valid;
    pairs.forEach(function(pair){
      pair = pair.trim();
      if(pair){
        var tmp = pair.split( rSpace ),
          name = tmp.shift(),
          value = tmp.join(" ");

        if( !name || !value ) throw Error("invalid style in command: style");
        styles[name] = value;
        valid = true;
      }
    })

    return function(done){
      if(valid){
        animate.startStyleAnimate(step.element, styles, done);
      }else{
        done();
      }
    }
  }
})



// hancdle the r-animation directive
// el : the element to process
// value: the directive value
function processAnimate( element, value ){
  var Component = this.constructor;
  value = value.trim();

  var composites = value.split(";"), 
    composite, context = this, seeds = [], seed, destroies = [], destroy,
    command, param , current = 0, tmp, animator, self = this;

  function reset( type ){
    seed && seeds.push( seed )
    seed = createSeed( type );
  }

  function whenCallback(start, value){
    if( !!value ) start()
  }

  function animationDestroy(element){
    return function(){
      delete element.onenter;
      delete element.onleave;
    } 
  }

  for( var i = 0, len = composites.length; i < len; i++ ){

    composite = composites[i];
    tmp = composite.split(":");
    command = tmp[0] && tmp[0].trim();
    param = tmp[1] && tmp[1].trim();

    if( !command ) continue;

    if( command === WHEN_COMMAND ){
      reset("when");
      this.$watch(param, whenCallback.bind( this, seed.start ) );
      continue;
    }

    if( command === EVENT_COMMAND){
      reset(param);
      if( param === "leave" ){
        element.onleave = seed.start;
        destroies.push( animationDestroy(element) );
      }else if( param === "enter" ){
        element.onenter = seed.start;
        destroies.push( animationDestroy(element) );
      }else{
        if( ("on" + param) in element){ // if dom have the event , we use dom event
          destroies.push(this._handleEvent( element, param, seed.start ));
        }else{ // otherwise, we use component event
          this.$on(param, seed.start);
          destroies.push(this.$off.bind(this, param, seed.start));
        }
      }
      continue
    }

    var animator =  Component.animation(command) 
    if( animator && seed ){
      seed.push(
        animator.call(this,{
          element: element,
          done: seed.done,
          param: param 
        })
      )
    }else{
      throw Error( animator? "you should start with `on` or `event` in animation" : ("undefined animator 【" + command +"】" ));
    }
  }

  if(destroies.length){
    return function(){
      destroies.forEach(function(destroy){
        destroy();
      })
    }
  }
}


Regular.directive( "r-animation", processAnimate)
Regular.directive( "r-anim", processAnimate)


},{"../Regular.js":3,"../dom.js":10,"../helper/animate.js":13,"../util.js":28}],7:[function(require,module,exports){
// Regular
var _ = require("../util.js");
var dom = require("../dom.js");
var animate = require("../helper/animate.js");
var Regular = require("../Regular.js");
var consts = require("../const");



require("./event.js");
require("./form.js");


module.exports = {
// **warn**: class inteplation will override this directive 
  'r-class': function(elem, value){
    if(typeof value=== 'string'){
      value = _.fixObjStr(value)
    }
    this.$watch(value, function(nvalue){
      var className = ' '+ elem.className.replace(/\s+/g, ' ') +' ';
      for(var i in nvalue) if(nvalue.hasOwnProperty(i)){
        className = className.replace(' ' + i + ' ',' ');
        if(nvalue[i] === true){
          className += i+' ';
        }
      }
      elem.className = className.trim();
    },true);
  },
  // **warn**: style inteplation will override this directive 
  'r-style': function(elem, value){
    if(typeof value=== 'string'){
      value = _.fixObjStr(value)
    }
    this.$watch(value, function(nvalue){
      for(var i in nvalue) if(nvalue.hasOwnProperty(i)){
        dom.css(elem, i, nvalue[i]);
      }
    },true);
  },
  // when expression is evaluate to true, the elem will add display:none
  // Example: <div r-hide={{items.length > 0}}></div>
  'r-hide': function(elem, value){
    var preBool = null, compelete;
    this.$watch(value, function(nvalue){
      var bool = !!nvalue;
      if(bool === preBool) return; 
      preBool = bool;
      if(bool){
        if(elem.onleave){
          compelete = elem.onleave(function(){
            elem.style.display = "none"
            compelete = null;
          })
        }else{
          elem.style.display = "none"
        }
        
      }else{
        if(compelete) compelete();
        elem.style.display = "";
        if(elem.onenter){
          elem.onenter();
        }
      }
    });
  },
  'r-html': function(elem, value){
    this.$watch(value, function(nvalue){
      nvalue = nvalue || "";
      dom.html(elem, nvalue)
    }, {force: true});
  },
  'ref': {
    accept: consts.COMPONENT_TYPE + consts.ELEMENT_TYPE,
    link: function( elem, value ){
      var refs = this.$refs || (this.$refs = {});
      var cval;
      if(_.isExpr(value)){
        this.$watch(value, function(nval, oval){
          cval = nval;
          if(refs[oval] === elem) refs[oval] = null;
          if(cval) refs[cval] = elem;
        })
      }else{
        refs[cval = value] = elem;
      }
      return function(){
        refs[cval] = null;
      }
    }
  }
}

Regular.directive(module.exports);











},{"../Regular.js":3,"../const":5,"../dom.js":10,"../helper/animate.js":13,"../util.js":28,"./event.js":8,"./form.js":9}],8:[function(require,module,exports){
/**
 * event directive  bundle
 *
 */
var _ = require("../util.js");
var dom = require("../dom.js");
var Regular = require("../Regular.js");

Regular._addProtoInheritCache("event");

Regular.directive( /^on-\w+$/, function( elem, value, name , attrs) {
  if ( !name || !value ) return;
  var type = name.split("-")[1];
  return this._handleEvent( elem, type, value, attrs );
});
// TODO.
/**
- $('dx').delegate()
*/
Regular.directive( /^(delegate|de)-\w+$/, function( elem, value, name ) {
  var root = this.$root;
  var _delegates = root._delegates || ( root._delegates = {} );
  if ( !name || !value ) return;
  var type = name.split("-")[1];
  var fire = _.handleEvent.call(this, value, type);

  function delegateEvent(ev){
    matchParent(ev, _delegates[type], root.parentNode);
  }

  if( !_delegates[type] ){
    _delegates[type] = [];

    if(root.parentNode){
      dom.on(root.parentNode, type, delegateEvent);
    }else{
      root.$on( "$inject", function( newParent ){
        var preParent = this.parentNode;
        if( preParent ){
          dom.off(preParent, type, delegateEvent);
        }
        dom.on(newParent, type, delegateEvent);
      })
    }
    root.$on("$destroy", function(){
      if(root.parentNode) dom.off(root.parentNode, type, delegateEvent)
      _delegates[type] = null;
    })
  }
  var delegate = {
    element: elem,
    fire: fire
  }
  _delegates[type].push( delegate );

  return function(){
    var delegates = _delegates[type];
    if(!delegates || !delegates.length) return;
    for( var i = 0, len = delegates.length; i < len; i++ ){
      if( delegates[i] === delegate ) delegates.splice(i, 1);
    }
  }

});


function matchParent(ev , delegates, stop){
  if(!stop) return;
  var target = ev.target, pair;
  while(target && target !== stop){
    for( var i = 0, len = delegates.length; i < len; i++ ){
      pair = delegates[i];
      if(pair && pair.element === target){
        pair.fire(ev)
      }
    }
    target = target.parentNode;
  }
}
},{"../Regular.js":3,"../dom.js":10,"../util.js":28}],9:[function(require,module,exports){
// Regular
var _ = require("../util.js");
var dom = require("../dom.js");
var Regular = require("../Regular.js");

var modelHandlers = {
  "text": initText,
  "select": initSelect,
  "checkbox": initCheckBox,
  "radio": initRadio
}


// @TODO


// two-way binding with r-model
// works on input, textarea, checkbox, radio, select

Regular.directive("r-model", function(elem, value){
  var tag = elem.tagName.toLowerCase();
  var sign = tag;
  if(sign === "input") sign = elem.type || "text";
  else if(sign === "textarea") sign = "text";
  if(typeof value === "string") value = this.$expression(value);

  if( modelHandlers[sign] ) return modelHandlers[sign].call(this, elem, value);
  else if(tag === "input"){
    return modelHandlers.text.call(this, elem, value);
  }
});



// binding <select>

function initSelect( elem, parsed){
  var self = this;
  var wc =this.$watch(parsed, function(newValue){
    var children = _.slice(elem.getElementsByTagName('option'))
    children.forEach(function(node, index){
      if(node.value == newValue){
        elem.selectedIndex = index;
      }
    })
  });

  function handler(){
    parsed.set(self, this.value);
    wc.last = this.value;
    self.$update();
  }

  dom.on(elem, "change", handler);
  
  if(parsed.get(self) === undefined && elem.value){
     parsed.set(self, elem.value);
  }
  return function destroy(){
    dom.off(elem, "change", handler);
  }
}

// input,textarea binding

function initText(elem, parsed){
  var self = this;
  var wc = this.$watch(parsed, function(newValue){
    if(elem.value !== newValue) elem.value = newValue == null? "": "" + newValue;
  });

  // @TODO to fixed event
  var handler = function (ev){
    var that = this;
    if(ev.type==='cut' || ev.type==='paste'){
      _.nextTick(function(){
        var value = that.value
        parsed.set(self, value);
        wc.last = value;
        self.$update();
      })
    }else{
        var value = that.value
        parsed.set(self, value);
        wc.last = value;
        self.$update();
    }
  };

  if(dom.msie !== 9 && "oninput" in dom.tNode ){
    elem.addEventListener("input", handler );
  }else{
    dom.on(elem, "paste", handler)
    dom.on(elem, "keyup", handler)
    dom.on(elem, "cut", handler)
    dom.on(elem, "change", handler)
  }
  if(parsed.get(self) === undefined && elem.value){
     parsed.set(self, elem.value);
  }
  return function (){
    if(dom.msie !== 9 && "oninput" in dom.tNode ){
      elem.removeEventListener("input", handler );
    }else{
      dom.off(elem, "paste", handler)
      dom.off(elem, "keyup", handler)
      dom.off(elem, "cut", handler)
      dom.off(elem, "change", handler)
    }
  }
}


// input:checkbox  binding

function initCheckBox(elem, parsed){
  var self = this;
  var watcher = this.$watch(parsed, function(newValue){
    dom.attr(elem, 'checked', !!newValue);
  });

  var handler = function handler(){
    var value = this.checked;
    parsed.set(self, value);
    watcher.last = value;
    self.$update();
  }
  if(parsed.set) dom.on(elem, "change", handler)

  if(parsed.get(self) === undefined){
    parsed.set(self, !!elem.checked);
  }

  return function destroy(){
    if(parsed.set) dom.off(elem, "change", handler)
  }
}


// input:radio binding

function initRadio(elem, parsed){
  var self = this;
  var wc = this.$watch(parsed, function( newValue ){
    if(newValue == elem.value) elem.checked = true;
    else elem.checked = false;
  });


  var handler = function handler(){
    var value = this.value;
    parsed.set(self, value);
    self.$update();
  }
  if(parsed.set) dom.on(elem, "change", handler)
  // beacuse only after compile(init), the dom structrue is exsit. 
  if(parsed.get(self) === undefined){
    if(elem.checked) {
      parsed.set(self, elem.value);
    }
  }

  return function destroy(){
    if(parsed.set) dom.off(elem, "change", handler)
  }
}

},{"../Regular.js":3,"../dom.js":10,"../util.js":28}],10:[function(require,module,exports){

// thanks for angular && mootools for some concise&cross-platform  implemention
// =====================================

// The MIT License
// Copyright (c) 2010-2014 Google, Inc. http://angularjs.org

// ---
// license: MIT-style license. http://mootools.net


var dom = module.exports;
var env = require("./env.js");
var _ = require("./util");
var tNode = document.createElement('div')
var addEvent, removeEvent;
var noop = function(){}

var namespaces = {
  html: "http://www.w3.org/1999/xhtml",
  svg: "http://www.w3.org/2000/svg"
}

dom.body = document.body;

dom.doc = document;

// camelCase
function camelCase(str){
  return ("" + str).replace(/-\D/g, function(match){
    return match.charAt(1).toUpperCase();
  });
}


dom.tNode = tNode;

if(tNode.addEventListener){
  addEvent = function(node, type, fn) {
    node.addEventListener(type, fn, false);
  }
  removeEvent = function(node, type, fn) {
    node.removeEventListener(type, fn, false) 
  }
}else{
  addEvent = function(node, type, fn) {
    node.attachEvent('on' + type, fn);
  }
  removeEvent = function(node, type, fn) {
    node.detachEvent('on' + type, fn); 
  }
}


dom.msie = parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase()) || [])[1]);
if (isNaN(dom.msie)) {
  dom.msie = parseInt((/trident\/.*; rv:(\d+)/.exec(navigator.userAgent.toLowerCase()) || [])[1]);
}

dom.find = function(sl){
  if(document.querySelector) {
    try{
      return document.querySelector(sl);
    }catch(e){

    }
  }
  if(sl.indexOf('#')!==-1) return document.getElementById( sl.slice(1) );
}

dom.inject = function(node, refer, position){

  position = position || 'bottom';
  if(!node) return ;
  if(Array.isArray(node)){
    var tmp = node;
    node = dom.fragment();
    for(var i = 0,len = tmp.length; i < len ;i++){
      node.appendChild(tmp[i])
    }
  }

  var firstChild, next;
  switch(position){
    case 'bottom':
      refer.appendChild( node );
      break;
    case 'top':
      if( firstChild = refer.firstChild ){
        refer.insertBefore( node, refer.firstChild );
      }else{
        refer.appendChild( node );
      }
      break;
    case 'after':
      if( next = refer.nextSibling ){
        next.parentNode.insertBefore( node, next );
      }else{
        refer.parentNode.appendChild( node );
      }
      break;
    case 'before':
      refer.parentNode.insertBefore( node, refer );
  }
}


dom.id = function(id){
  return document.getElementById(id);
}

// createElement 
dom.create = function(type, ns, attrs){
  if(ns === 'svg'){
    if(!env.svg) throw Error('the env need svg support')
    ns = namespaces.svg;
  }
  return !ns? document.createElement(type): document.createElementNS(ns, type);
}

// documentFragment
dom.fragment = function(){
  return document.createDocumentFragment();
}



var specialAttr = {
  'class': function(node, value){
    ('className' in node && (node.namespaceURI === namespaces.html || !node.namespaceURI)) ?
      node.className = (value || '') : node.setAttribute('class', value);
  },
  'for': function(node, value){
    ('htmlFor' in node) ? node.htmlFor = value : node.setAttribute('for', value);
  },
  'style': function(node, value){
    (node.style) ? node.style.cssText = value : node.setAttribute('style', value);
  },
  'value': function(node, value){
    node.value = (value != null) ? value : '';
  }
}


// attribute Setter & Getter
dom.attr = function(node, name, value){
  if (_.isBooleanAttr(name)) {
    if (typeof value !== 'undefined') {
      if (!!value) {
        node[name] = true;
        node.setAttribute(name, name);
        // lt ie7 . the javascript checked setting is in valid
        //http://bytes.com/topic/javascript/insights/799167-browser-quirk-dynamically-appended-checked-checkbox-does-not-appear-checked-ie
        if(dom.msie && dom.msie <=7 ) node.defaultChecked = true
      } else {
        node[name] = false;
        node.removeAttribute(name);
      }
    } else {
      return (node[name] ||
               (node.attributes.getNamedItem(name)|| noop).specified) ? name : undefined;
    }
  } else if (typeof (value) !== 'undefined') {
    // if in specialAttr;
    if(specialAttr[name]) specialAttr[name](node, value);
    else if(value === null) node.removeAttribute(name)
    else node.setAttribute(name, value);
  } else if (node.getAttribute) {
    // the extra argument "2" is to get the right thing for a.href in IE, see jQuery code
    // some elements (e.g. Document) don't have get attribute, so return undefined
    var ret = node.getAttribute(name, 2);
    // normalize non-existing attributes to undefined (as jQuery)
    return ret === null ? undefined : ret;
  }
}


dom.on = function(node, type, handler){
  var types = type.split(' ');
  handler.real = function(ev){
    var $event = new Event(ev);
    $event.origin = node;
    handler.call(node, $event);
  }
  types.forEach(function(type){
    type = fixEventName(node, type);
    addEvent(node, type, handler.real);
  });
}
dom.off = function(node, type, handler){
  var types = type.split(' ');
  handler = handler.real || handler;
  types.forEach(function(type){
    type = fixEventName(node, type);
    removeEvent(node, type, handler);
  })
}


dom.text = (function (){
  var map = {};
  if (dom.msie && dom.msie < 9) {
    map[1] = 'innerText';    
    map[3] = 'nodeValue';    
  } else {
    map[1] = map[3] = 'textContent';
  }
  
  return function (node, value) {
    var textProp = map[node.nodeType];
    if (value == null) {
      return textProp ? node[textProp] : '';
    }
    node[textProp] = value;
  }
})();


dom.html = function( node, html ){
  if(typeof html === "undefined"){
    return node.innerHTML;
  }else{
    node.innerHTML = html;
  }
}

dom.replace = function(node, replaced){
  if(replaced.parentNode) replaced.parentNode.replaceChild(node, replaced);
}

dom.remove = function(node){
  if(node.parentNode) node.parentNode.removeChild(node);
}

// css Settle & Getter from angular
// =================================
// it isnt computed style 
dom.css = function(node, name, value){
  if( _.typeOf(name) === "object" ){
    for(var i in name){
      if( name.hasOwnProperty(i) ){
        dom.css( node, i, name[i] );
      }
    }
    return;
  }
  if ( typeof value !== "undefined" ) {

    name = camelCase(name);
    if(name) node.style[name] = value;

  } else {

    var val;
    if (dom.msie <= 8) {
      // this is some IE specific weirdness that jQuery 1.6.4 does not sure why
      val = node.currentStyle && node.currentStyle[name];
      if (val === '') val = 'auto';
    }
    val = val || node.style[name];
    if (dom.msie <= 8) {
      val = val === '' ? undefined : val;
    }
    return  val;
  }
}

dom.addClass = function(node, className){
  var current = node.className || "";
  if ((" " + current + " ").indexOf(" " + className + " ") === -1) {
    node.className = current? ( current + " " + className ) : className;
  }
}

dom.delClass = function(node, className){
  var current = node.className || "";
  node.className = (" " + current + " ").replace(" " + className + " ", " ").trim();
}

dom.hasClass = function(node, className){
  var current = node.className || "";
  return (" " + current + " ").indexOf(" " + className + " ") !== -1;
}



// simple Event wrap

//http://stackoverflow.com/questions/11068196/ie8-ie7-onchange-event-is-emited-only-after-repeated-selection
function fixEventName(elem, name){
  return (name === 'change'  &&  dom.msie < 9 && 
      (elem && elem.tagName && elem.tagName.toLowerCase()==='input' && 
        (elem.type === 'checkbox' || elem.type === 'radio')
      )
    )? 'click': name;
}

var rMouseEvent = /^(?:click|dblclick|contextmenu|DOMMouseScroll|mouse(?:\w+))$/
var doc = document;
doc = (!doc.compatMode || doc.compatMode === 'CSS1Compat') ? doc.documentElement : doc.body;
function Event(ev){
  ev = ev || window.event;
  if(ev._fixed) return ev;
  this.event = ev;
  this.target = ev.target || ev.srcElement;

  var type = this.type = ev.type;
  var button = this.button = ev.button;

  // if is mouse event patch pageX
  if(rMouseEvent.test(type)){ //fix pageX
    this.pageX = (ev.pageX != null) ? ev.pageX : ev.clientX + doc.scrollLeft;
    this.pageY = (ev.pageX != null) ? ev.pageY : ev.clientY + doc.scrollTop;
    if (type === 'mouseover' || type === 'mouseout'){// fix relatedTarget
      var related = ev.relatedTarget || ev[(type === 'mouseover' ? 'from' : 'to') + 'Element'];
      while (related && related.nodeType === 3) related = related.parentNode;
      this.relatedTarget = related;
    }
  }
  // if is mousescroll
  if (type === 'DOMMouseScroll' || type === 'mousewheel'){
    // ff ev.detail: 3    other ev.wheelDelta: -120
    this.wheelDelta = (ev.wheelDelta) ? ev.wheelDelta / 120 : -(ev.detail || 0) / 3;
  }
  
  // fix which
  this.which = ev.which || ev.keyCode;
  if( !this.which && button !== undefined){
    // http://api.jquery.com/event.which/ use which
    this.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );
  }
  this._fixed = true;
}

_.extend(Event.prototype, {
  immediateStop: _.isFalse,
  stop: function(){
    this.preventDefault().stopPropagation();
  },
  preventDefault: function(){
    if (this.event.preventDefault) this.event.preventDefault();
    else this.event.returnValue = false;
    return this;
  },
  stopPropagation: function(){
    if (this.event.stopPropagation) this.event.stopPropagation();
    else this.event.cancelBubble = true;
    return this;
  },
  stopImmediatePropagation: function(){
    if(this.event.stopImmediatePropagation) this.event.stopImmediatePropagation();
  }
})


dom.nextFrame = (function(){
    var request = window.requestAnimationFrame ||
                  window.webkitRequestAnimationFrame ||
                  window.mozRequestAnimationFrame|| 
                  function(callback){
                    setTimeout(callback, 16)
                  }

    var cancel = window.cancelAnimationFrame ||
                 window.webkitCancelAnimationFrame ||
                 window.mozCancelAnimationFrame ||
                 window.webkitCancelRequestAnimationFrame ||
                 function(tid){
                    clearTimeout(tid)
                 }
  
  return function(callback){
    var id = request(callback);
    return function(){ cancel(id); }
  }
})();

// 3ks for angular's raf  service
var k;
dom.nextReflow = dom.msie? function(callback){
  return dom.nextFrame(function(){
    k = document.body.offsetWidth;
    callback();
  })
}: dom.nextFrame;




},{"./env.js":11,"./util":28}],11:[function(require,module,exports){
// some fixture test;
// ---------------
var _ = require('./util');
exports.svg = (function(){
  return typeof document !== "undefined" && document.implementation.hasFeature( "http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1" );
})();


exports.browser = typeof document !== "undefined" && document.nodeType;
// whether have component in initializing
exports.exprCache = _.cache(1000);
exports.isRunning = false;

},{"./util":28}],12:[function(require,module,exports){
var _ = require('./util');
var combine = require('./helper/combine')

function Group(list){
  this.children = list || [];
}


var o = _.extend(Group.prototype, {
  destroy: function(first){
    combine.destroy(this.children, first);
    if(this.ondestroy) this.ondestroy();
    this.children = null;
  },
  get: function(i){
    return this.children[i]
  },
  push: function(item){
    this.children.push( item );
  }
})
o.inject = o.$inject = combine.inject



module.exports = Group;



},{"./helper/combine":15,"./util":28}],13:[function(require,module,exports){
var _ = require("../util");
var dom  = require("../dom.js");
var animate = {};
var env = require("../env.js");


var 
  transitionEnd = 'transitionend', 
  animationEnd = 'animationend', 
  transitionProperty = 'transition', 
  animationProperty = 'animation';

if(!('ontransitionend' in window)){
  if('onwebkittransitionend' in window) {
    
    // Chrome/Saf (+ Mobile Saf)/Android
    transitionEnd += ' webkitTransitionEnd';
    transitionProperty = 'webkitTransition'
  } else if('onotransitionend' in dom.tNode || navigator.appName === 'Opera') {

    // Opera
    transitionEnd += ' oTransitionEnd';
    transitionProperty = 'oTransition';
  }
}
if(!('onanimationend' in window)){
  if ('onwebkitanimationend' in window){
    // Chrome/Saf (+ Mobile Saf)/Android
    animationEnd += ' webkitAnimationEnd';
    animationProperty = 'webkitAnimation';

  }else if ('onoanimationend' in dom.tNode){
    // Opera
    animationEnd += ' oAnimationEnd';
    animationProperty = 'oAnimation';
  }
}

/**
 * inject node with animation
 * @param  {[type]} node      [description]
 * @param  {[type]} refer     [description]
 * @param  {[type]} direction [description]
 * @return {[type]}           [description]
 */
animate.inject = function( node, refer ,direction, callback ){
  callback = callback || _.noop;
  if( Array.isArray(node) ){
    var fragment = dom.fragment();
    var count=0;

    for(var i = 0,len = node.length;i < len; i++ ){
      fragment.appendChild(node[i]); 
    }
    dom.inject(fragment, refer, direction);

    // if all nodes is done, we call the callback
    var enterCallback = function (){
      count++;
      if( count === len ) callback();
    }
    if(len === count) callback();
    for( i = 0; i < len; i++ ){
      if(node[i].onenter){
        node[i].onenter(enterCallback);
      }else{
        enterCallback();
      }
    }
  }else{
    dom.inject( node, refer, direction );
    if(node.onenter){
      node.onenter(callback)
    }else{
      callback();
    }
  }
}

/**
 * remove node with animation
 * @param  {[type]}   node     [description]
 * @param  {Function} callback [description]
 * @return {[type]}            [description]
 */
animate.remove = function(node, callback){
  if(!node) throw new Error('node to be removed is undefined')
  var count = 0;
  function loop(){
    count++;
    if(count === len) callback && callback()
  }
  if(Array.isArray(node)){
    for(var i = 0, len = node.length; i < len ; i++){
      animate.remove(node[i], loop)
    }
    return node;
  }
  if(node.onleave){
    node.onleave(function(){
      removeDone(node, callback)
    })
  }else{
    removeDone(node, callback)
  }
}

var removeDone = function (node, callback){
    dom.remove(node);
    callback && callback();
}



animate.startClassAnimate = function ( node, className,  callback, mode ){
  var activeClassName, timeout, tid, onceAnim;
  if( (!animationEnd && !transitionEnd) || env.isRunning ){
    return callback();
  }

  if(mode !== 4){
    onceAnim = _.once(function onAnimateEnd(){
      if(tid) clearTimeout(tid);

      if(mode === 2) {
        dom.delClass(node, activeClassName);
      }
      if(mode !== 3){ // mode hold the class
        dom.delClass(node, className);
      }
      dom.off(node, animationEnd, onceAnim)
      dom.off(node, transitionEnd, onceAnim)

      callback();

    });
  }else{
    onceAnim = _.once(function onAnimateEnd(){
      if(tid) clearTimeout(tid);
      callback();
    });
  }
  if(mode === 2){ // auto removed
    dom.addClass( node, className );

    activeClassName = className.split(/\s+/).map(function(name){
       return name + '-active';
    }).join(" ");

    dom.nextReflow(function(){
      dom.addClass( node, activeClassName );
      timeout = getMaxTimeout( node );
      tid = setTimeout( onceAnim, timeout );
    });

  }else if(mode===4){
    dom.nextReflow(function(){
      dom.delClass( node, className );
      timeout = getMaxTimeout( node );
      tid = setTimeout( onceAnim, timeout );
    });

  }else{
    dom.nextReflow(function(){
      dom.addClass( node, className );
      timeout = getMaxTimeout( node );
      tid = setTimeout( onceAnim, timeout );
    });
  }



  dom.on( node, animationEnd, onceAnim )
  dom.on( node, transitionEnd, onceAnim )
  return onceAnim;
}


animate.startStyleAnimate = function(node, styles, callback){
  var timeout, onceAnim, tid;

  dom.nextReflow(function(){
    dom.css( node, styles );
    timeout = getMaxTimeout( node );
    tid = setTimeout( onceAnim, timeout );
  });


  onceAnim = _.once(function onAnimateEnd(){
    if(tid) clearTimeout(tid);

    dom.off(node, animationEnd, onceAnim)
    dom.off(node, transitionEnd, onceAnim)

    callback();

  });

  dom.on( node, animationEnd, onceAnim )
  dom.on( node, transitionEnd, onceAnim )

  return onceAnim;
}


/**
 * get maxtimeout
 * @param  {Node} node 
 * @return {[type]}   [description]
 */
function getMaxTimeout(node){
  var timeout = 0,
    tDuration = 0,
    tDelay = 0,
    aDuration = 0,
    aDelay = 0,
    ratio = 5 / 3,
    styles ;

  if(window.getComputedStyle){

    styles = window.getComputedStyle(node),
    tDuration = getMaxTime( styles[transitionProperty + 'Duration']) || tDuration;
    tDelay = getMaxTime( styles[transitionProperty + 'Delay']) || tDelay;
    aDuration = getMaxTime( styles[animationProperty + 'Duration']) || aDuration;
    aDelay = getMaxTime( styles[animationProperty + 'Delay']) || aDelay;
    timeout = Math.max( tDuration+tDelay, aDuration + aDelay );

  }
  return timeout * 1000 * ratio;
}

function getMaxTime(str){

  var maxTimeout = 0, time;

  if(!str) return 0;

  str.split(",").forEach(function(str){

    time = parseFloat(str);
    if( time > maxTimeout ) maxTimeout = time;

  });

  return maxTimeout;
}

module.exports = animate;
},{"../dom.js":10,"../env.js":11,"../util":28}],14:[function(require,module,exports){

function simpleDiff(now, old){
  var nlen = now.length;
  var olen = old.length;
  if(nlen !== olen){
    return true;
  }
  for(var i = 0; i < nlen ; i++){
    if(now[i] !== old[i]) return  true;
  }
  return false

}

function equals(a,b){
  return a === b;
}
function ld(array1, array2){
  var n = array1.length;
  var m = array2.length;
  var matrix = [];
  for(var i = 0; i <= n; i++){
    matrix.push([i]);
  }
  for(var j=1;j<=m;j++){
    matrix[0][j]=j;
  }
  for(var i = 1; i <= n; i++){
    for(var j = 1; j <= m; j++){
      if(equals(array1[i-1], array2[j-1])){
        matrix[i][j] = matrix[i-1][j-1];
      }else{
        matrix[i][j] = Math.min(
          matrix[i-1][j]+1, //delete
          matrix[i][j-1]+1//add
          )
      }
    }
  }
  return matrix;
}
function whole(arr2, arr1, indexTrack) {
  if(indexTrack) return simpleDiff(arr2, arr1);
  var matrix = ld(arr1, arr2)
  var n = arr1.length;
  var i = n;
  var m = arr2.length;
  var j = m;
  var edits = [];
  var current = matrix[i][j];
  while(i>0 || j>0){
  // the last line
    if (i === 0) {
      edits.unshift(3);
      j--;
      continue;
    }
    // the last col
    if (j === 0) {
      edits.unshift(2);
      i--;
      continue;
    }
    var northWest = matrix[i - 1][j - 1];
    var west = matrix[i - 1][j];
    var north = matrix[i][j - 1];

    var min = Math.min(north, west, northWest);

    if (min === west) {
      edits.unshift(2); //delete
      i--;
      current = west;
    } else if (min === northWest ) {
      if (northWest === current) {
        edits.unshift(0); //no change
      } else {
        edits.unshift(1); //update
        current = northWest;
      }
      i--;
      j--;
    } else {
      edits.unshift(3); //add
      j--;
      current = north;
    }
  }
  var LEAVE = 0;
  var ADD = 3;
  var DELELE = 2;
  var UPDATE = 1;
  var n = 0;m=0;
  var steps = [];
  var step = {index: null, add:0, removed:[]};

  for(var i=0;i<edits.length;i++){
    if(edits[i] > 0 ){ // NOT LEAVE
      if(step.index === null){
        step.index = m;
      }
    } else { //LEAVE
      if(step.index != null){
        steps.push(step)
        step = {index: null, add:0, removed:[]};
      }
    }
    switch(edits[i]){
      case LEAVE:
        n++;
        m++;
        break;
      case ADD:
        step.add++;
        m++;
        break;
      case DELELE:
        step.removed.push(arr1[n])
        n++;
        break;
      case UPDATE:
        step.add++;
        step.removed.push(arr1[n])
        n++;
        m++;
        break;
    }
  }
  if(step.index != null){
    steps.push(step)
  }
  return steps
}
module.exports = whole;
},{}],15:[function(require,module,exports){
// some nested  operation in ast 
// --------------------------------

var dom = require("../dom.js");
var animate = require("./animate.js");

var combine = module.exports = {

  // get the initial dom in object
  node: function(item){
    var children,node, nodes;
    if(!item) return;
    if(item.element) return item.element;
    if(typeof item.node === "function") return item.node();
    if(typeof item.nodeType === "number") return item;
    if(item.group) return combine.node(item.group)
    if(children = item.children){
      if(children.length === 1){
        return combine.node(children[0]);
      }
      nodes = [];
      for(var i = 0, len = children.length; i < len; i++ ){
        node = combine.node(children[i]);
        if(Array.isArray(node)){
          nodes.push.apply(nodes, node)
        }else if(node) {
          nodes.push(node)
        }
      }
      return nodes;
    }
  },
  // @TODO remove _gragContainer
  inject: function(node, pos ){
    var group = this;
    var fragment = combine.node(group.group || group);
    if(node === false) {
      animate.remove(fragment)
      return group;
    }else{
      if(!fragment) return group;
      if(typeof node === 'string') node = dom.find(node);
      if(!node) throw Error('injected node is not found');
      // use animate to animate firstchildren
      animate.inject(fragment, node, pos);
    }
    // if it is a component
    if(group.$emit) {
      group.$emit("$inject", node, pos);
      group.parentNode = (pos ==='after' || pos === 'before')? node.parentNode : node;
    }
    return group;
  },

  // get the last dom in object(for insertion operation)
  last: function(item){
    var children = item.children;

    if(typeof item.last === "function") return item.last();
    if(typeof item.nodeType === "number") return item;

    if(children && children.length) return combine.last(children[children.length - 1]);
    if(item.group) return combine.last(item.group);

  },

  destroy: function(item, first){
    if(!item) return;
    if(Array.isArray(item)){
      for(var i = 0, len = item.length; i < len; i++ ){
        combine.destroy(item[i], first);
      }
    }
    var children = item.children;
    if(typeof item.destroy === "function") return item.destroy(first);
    if(typeof item.nodeType === "number" && first)  dom.remove(item);
    if(children && children.length){
      combine.destroy(children, true);
      item.children = null;
    }
  }

}
},{"../dom.js":10,"./animate.js":13}],16:[function(require,module,exports){
// http://stackoverflow.com/questions/1354064/how-to-convert-characters-to-html-entities-using-plain-javascript
var entities = {
  'quot':34, 
  'amp':38, 
  'apos':39, 
  'lt':60, 
  'gt':62, 
  'nbsp':160, 
  'iexcl':161, 
  'cent':162, 
  'pound':163, 
  'curren':164, 
  'yen':165, 
  'brvbar':166, 
  'sect':167, 
  'uml':168, 
  'copy':169, 
  'ordf':170, 
  'laquo':171, 
  'not':172, 
  'shy':173, 
  'reg':174, 
  'macr':175, 
  'deg':176, 
  'plusmn':177, 
  'sup2':178, 
  'sup3':179, 
  'acute':180, 
  'micro':181, 
  'para':182, 
  'middot':183, 
  'cedil':184, 
  'sup1':185, 
  'ordm':186, 
  'raquo':187, 
  'frac14':188, 
  'frac12':189, 
  'frac34':190, 
  'iquest':191, 
  'Agrave':192, 
  'Aacute':193, 
  'Acirc':194, 
  'Atilde':195, 
  'Auml':196, 
  'Aring':197, 
  'AElig':198, 
  'Ccedil':199, 
  'Egrave':200, 
  'Eacute':201, 
  'Ecirc':202, 
  'Euml':203, 
  'Igrave':204, 
  'Iacute':205, 
  'Icirc':206, 
  'Iuml':207, 
  'ETH':208, 
  'Ntilde':209, 
  'Ograve':210, 
  'Oacute':211, 
  'Ocirc':212, 
  'Otilde':213, 
  'Ouml':214, 
  'times':215, 
  'Oslash':216, 
  'Ugrave':217, 
  'Uacute':218, 
  'Ucirc':219, 
  'Uuml':220, 
  'Yacute':221, 
  'THORN':222, 
  'szlig':223, 
  'agrave':224, 
  'aacute':225, 
  'acirc':226, 
  'atilde':227, 
  'auml':228, 
  'aring':229, 
  'aelig':230, 
  'ccedil':231, 
  'egrave':232, 
  'eacute':233, 
  'ecirc':234, 
  'euml':235, 
  'igrave':236, 
  'iacute':237, 
  'icirc':238, 
  'iuml':239, 
  'eth':240, 
  'ntilde':241, 
  'ograve':242, 
  'oacute':243, 
  'ocirc':244, 
  'otilde':245, 
  'ouml':246, 
  'divide':247, 
  'oslash':248, 
  'ugrave':249, 
  'uacute':250, 
  'ucirc':251, 
  'uuml':252, 
  'yacute':253, 
  'thorn':254, 
  'yuml':255, 
  'fnof':402, 
  'Alpha':913, 
  'Beta':914, 
  'Gamma':915, 
  'Delta':916, 
  'Epsilon':917, 
  'Zeta':918, 
  'Eta':919, 
  'Theta':920, 
  'Iota':921, 
  'Kappa':922, 
  'Lambda':923, 
  'Mu':924, 
  'Nu':925, 
  'Xi':926, 
  'Omicron':927, 
  'Pi':928, 
  'Rho':929, 
  'Sigma':931, 
  'Tau':932, 
  'Upsilon':933, 
  'Phi':934, 
  'Chi':935, 
  'Psi':936, 
  'Omega':937, 
  'alpha':945, 
  'beta':946, 
  'gamma':947, 
  'delta':948, 
  'epsilon':949, 
  'zeta':950, 
  'eta':951, 
  'theta':952, 
  'iota':953, 
  'kappa':954, 
  'lambda':955, 
  'mu':956, 
  'nu':957, 
  'xi':958, 
  'omicron':959, 
  'pi':960, 
  'rho':961, 
  'sigmaf':962, 
  'sigma':963, 
  'tau':964, 
  'upsilon':965, 
  'phi':966, 
  'chi':967, 
  'psi':968, 
  'omega':969, 
  'thetasym':977, 
  'upsih':978, 
  'piv':982, 
  'bull':8226, 
  'hellip':8230, 
  'prime':8242, 
  'Prime':8243, 
  'oline':8254, 
  'frasl':8260, 
  'weierp':8472, 
  'image':8465, 
  'real':8476, 
  'trade':8482, 
  'alefsym':8501, 
  'larr':8592, 
  'uarr':8593, 
  'rarr':8594, 
  'darr':8595, 
  'harr':8596, 
  'crarr':8629, 
  'lArr':8656, 
  'uArr':8657, 
  'rArr':8658, 
  'dArr':8659, 
  'hArr':8660, 
  'forall':8704, 
  'part':8706, 
  'exist':8707, 
  'empty':8709, 
  'nabla':8711, 
  'isin':8712, 
  'notin':8713, 
  'ni':8715, 
  'prod':8719, 
  'sum':8721, 
  'minus':8722, 
  'lowast':8727, 
  'radic':8730, 
  'prop':8733, 
  'infin':8734, 
  'ang':8736, 
  'and':8743, 
  'or':8744, 
  'cap':8745, 
  'cup':8746, 
  'int':8747, 
  'there4':8756, 
  'sim':8764, 
  'cong':8773, 
  'asymp':8776, 
  'ne':8800, 
  'equiv':8801, 
  'le':8804, 
  'ge':8805, 
  'sub':8834, 
  'sup':8835, 
  'nsub':8836, 
  'sube':8838, 
  'supe':8839, 
  'oplus':8853, 
  'otimes':8855, 
  'perp':8869, 
  'sdot':8901, 
  'lceil':8968, 
  'rceil':8969, 
  'lfloor':8970, 
  'rfloor':8971, 
  'lang':9001, 
  'rang':9002, 
  'loz':9674, 
  'spades':9824, 
  'clubs':9827, 
  'hearts':9829, 
  'diams':9830, 
  'OElig':338, 
  'oelig':339, 
  'Scaron':352, 
  'scaron':353, 
  'Yuml':376, 
  'circ':710, 
  'tilde':732, 
  'ensp':8194, 
  'emsp':8195, 
  'thinsp':8201, 
  'zwnj':8204, 
  'zwj':8205, 
  'lrm':8206, 
  'rlm':8207, 
  'ndash':8211, 
  'mdash':8212, 
  'lsquo':8216, 
  'rsquo':8217, 
  'sbquo':8218, 
  'ldquo':8220, 
  'rdquo':8221, 
  'bdquo':8222, 
  'dagger':8224, 
  'Dagger':8225, 
  'permil':8240, 
  'lsaquo':8249, 
  'rsaquo':8250, 
  'euro':8364
}



module.exports  = entities;
},{}],17:[function(require,module,exports){
// simplest event emitter 60 lines
// ===============================
var slice = [].slice, _ = require("../util.js");
var API = {
  $on: function(event, fn) {
    if(typeof event === "object"){
      for (var i in event) {
        this.$on(i, event[i]);
      }
    }else{
      // @patch: for list
      var context = this;
      var handles = context._handles || (context._handles = {}),
        calls = handles[event] || (handles[event] = []);
      calls.push(fn);
    }
    return this;
  },
  $off: function(event, fn) {
    var context = this;
    if(!context._handles) return;
    if(!event) this._handles = {};
    var handles = context._handles,
      calls;

    if (calls = handles[event]) {
      if (!fn) {
        handles[event] = [];
        return context;
      }
      for (var i = 0, len = calls.length; i < len; i++) {
        if (fn === calls[i]) {
          calls.splice(i, 1);
          return context;
        }
      }
    }
    return context;
  },
  // bubble event
  $emit: function(event){
    // @patch: for list
    var context = this;
    var handles = context._handles, calls, args, type;
    if(!event) return;
    var args = slice.call(arguments, 1);
    var type = event;

    if(!handles) return context;
    if(calls = handles[type.slice(1)]){
      for (var j = 0, len = calls.length; j < len; j++) {
        calls[j].apply(context, args)
      }
    }
    if (!(calls = handles[type])) return context;
    for (var i = 0, len = calls.length; i < len; i++) {
      calls[i].apply(context, args)
    }
    // if(calls.length) context.$update();
    return context;
  },
  // capture  event
  $one: function(){
    
}
}
// container class
function Event() {}
_.extend(Event.prototype, API)

Event.mixTo = function(obj){
  obj = typeof obj === "function" ? obj.prototype : obj;
  _.extend(obj, API)
}
module.exports = Event;
},{"../util.js":28}],18:[function(require,module,exports){
// (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
// Backbone may be freely distributed under the MIT license.
// For all details and documentation:
// http://backbonejs.org

// klass: a classical JS OOP façade
// https://github.com/ded/klass
// License MIT (c) Dustin Diaz 2014
  
// inspired by backbone's extend and klass
var _ = require("../util.js"),
  fnTest = /xy/.test(function(){"xy";}) ? /\bsupr\b/:/.*/,
  isFn = function(o){return typeof o === "function"};


function wrap(k, fn, supro) {
  return function () {
    var tmp = this.supr;
    this.supr = supro[k];
    var ret = fn.apply(this, arguments);
    this.supr = tmp;
    return ret;
  }
}

function process( what, o, supro ) {
  for ( var k in o ) {
    if (o.hasOwnProperty(k)) {

      what[k] = isFn( o[k] ) && isFn( supro[k] ) && 
        fnTest.test( o[k] ) ? wrap(k, o[k], supro) : o[k];
    }
  }
}

// if the property is ["events", "data", "computed"] , we should merge them
var merged = ["events", "data", "computed"], mlen = merged.length;
module.exports = function extend(o){
  o = o || {};
  var supr = this, proto,
    supro = supr && supr.prototype || {};

  if(typeof o === 'function'){
    proto = o.prototype;
    o.implement = implement;
    o.extend = extend;
    return o;
  } 
  
  function fn() {
    supr.apply(this, arguments);
  }

  proto = _.createProto(fn, supro);

  function implement(o){
    // we need merge the merged property
    var len = mlen;
    for(;len--;){
      var prop = merged[len];
      if(o.hasOwnProperty(prop) && proto.hasOwnProperty(prop)){
        _.extend(proto[prop], o[prop], true) 
        delete o[prop];
      }
    }


    process(proto, o, supro); 
    return this;
  }



  fn.implement = implement
  fn.implement(o)
  if(supr.__after__) supr.__after__.call(fn, supr, o);
  fn.extend = extend;
  return fn;
}


},{"../util.js":28}],19:[function(require,module,exports){

var f = module.exports = {};

// json:  two way 
//  - get: JSON.stringify
//  - set: JSON.parse
//  - example: `{ title|json }`
f.json = {
  get: function( value ){
    return typeof JSON !== 'undefined'? JSON.stringify(value): value;
  },
  set: function( value ){
    return typeof JSON !== 'undefined'? JSON.parse(value) : value;
  }
}

// last: one-way
//  - get: return the last item in list
//  - example: `{ list|last }`
f.last = function(arr){
  return arr && arr[arr.length - 1];
}

// average: one-way
//  - get: copute the average of the list
//  - example: `{ list| average: "score" }`
f.average = function(array, key){
  array = array || [];
  return array.length? f.total(array, key)/ array.length : 0;
}


// total: one-way
//  - get: copute the total of the list
//  - example: `{ list| average: "score" }`
f.total = function(array, key){
  var total = 0;
  if(!array) return;
  array.forEach(function( item ){
    total += key? item[key] : item;
  })
  return total;
}

// var basicSortFn = function(a, b){return b - a}

// f.sort = function(array, key, reverse){
//   var type = typeof key, sortFn; 
//   switch(type){
//     case 'function': sortFn = key; break;
//     case 'string': sortFn = function(a, b){};break;
//     default:
//       sortFn = basicSortFn;
//   }
//   // need other refernce.
//   return array.slice().sort(function(a,b){
//     return reverse? -sortFn(a, b): sortFn(a, b);
//   })
//   return array
// }



},{}],20:[function(require,module,exports){
var exprCache = require('../env').exprCache;
var _ = require("../util");
var Parser = require("../parser/Parser.js");
module.exports = {
  expression: function(expr, simple){
    // @TODO cache
    if( typeof expr === 'string' && ( expr = expr.trim() ) ){
      expr = exprCache.get( expr ) || exprCache.set( expr, new Parser( expr, { mode: 2, expression: true } ).expression() )
    }
    if(expr) return expr;
  },
  parse: function(template){
    return new Parser(template).parse();
  }
}


},{"../env":11,"../parser/Parser.js":26,"../util":28}],21:[function(require,module,exports){
// shim for es5
var slice = [].slice;
var tstr = ({}).toString;

function extend(o1, o2 ){
  for(var i in o2) if( o1[i] === undefined){
    o1[i] = o2[i]
  }
  return o2;
}

module.exports = function(){
  // String proto ;
  extend(String.prototype, {
    trim: function(){
      return this.replace(/^\s+|\s+$/g, '');
    }
  });


  // Array proto;
  extend(Array.prototype, {
    indexOf: function(obj, from){
      from = from || 0;
      for (var i = from, len = this.length; i < len; i++) {
        if (this[i] === obj) return i;
      }
      return -1;
    },
    forEach: function(callback, context){
      for (var i = 0, len = this.length; i < len; i++) {
        callback.call(context, this[i], i, this);
      }
    },
    filter: function(callback, context){
      var res = [];
      for (var i = 0, length = this.length; i < length; i++) {
        var pass = callback.call(context, this[i], i, this);
        if(pass) res.push(this[i]);
      }
      return res;
    },
    map: function(callback, context){
      var res = [];
      for (var i = 0, length = this.length; i < length; i++) {
        res.push(callback.call(context, this[i], i, this));
      }
      return res;
    }
  });

  // Function proto;
  extend(Function.prototype, {
    bind: function(context){
      var fn = this;
      var preArgs = slice.call(arguments, 1);
      return function(){
        var args = preArgs.concat(slice.call(arguments));
        return fn.apply(context, args);
      }
    }
  })
  
  // Array
  extend(Array, {
    isArray: function(arr){
      return tstr.call(arr) === "[object Array]";
    }
  })
}


},{}],22:[function(require,module,exports){
var _ = require('../util.js');
var parseExpression = require('./parse.js').expression;
var diffArray = require('./arrayDiff.js');

function Watcher(){}

var methods = {
  $watch: function(expr, fn, options){
    var get, once, test, rlen, extra = this.__ext__; //records length
    if(!this._watchers) this._watchers = [];

    options = options || {};
    if(options === true){
       options = { deep: true }
    }
    var uid = _.uid('w_');
    if(Array.isArray(expr)){
      var tests = [];
      for(var i = 0,len = expr.length; i < len; i++){
          tests.push(this.$expression(expr[i]).get)
      }
      var prev = [];
      test = function(context){
        var equal = true;
        for(var i =0, len = tests.length; i < len; i++){
          var splice = tests[i](context, extra);
          if(!_.equals(splice, prev[i])){
             equal = false;
             prev[i] = _.clone(splice);
          }
        }
        return equal? false: prev;
      }
    }else{
      if(typeof expr === 'function'){
        get = expr.bind(this);      
      }else{
        expr = this._touchExpr( parseExpression(expr) );
        get = expr.get;
        once = expr.once;
      }
    }

    var watcher = {
      id: uid, 
      get: get, 
      fn: fn, 
      once: once, 
      force: options.force,
      // don't use ld to resolve array diff
      notld: options.indexTrack,
      test: test,
      deep: options.deep,
      last: options.sync? get(this): options.last
    }
    
    this._watchers.push( watcher );

    rlen = this._records && this._records.length;
    if(rlen) this._records[rlen-1].push(uid)
    // init state.
    if(options.init === true){
      var prephase = this.$phase;
      this.$phase = 'digest';
      this._checkSingleWatch( watcher, this._watchers.length-1 );
      this.$phase = prephase;
    }
    return watcher;
  },
  $unwatch: function(uid){
    uid = uid.uid || uid;
    if(!this._watchers) this._watchers = [];
    if(Array.isArray(uid)){
      for(var i =0, len = uid.length; i < len; i++){
        this.$unwatch(uid[i]);
      }
    }else{
      var watchers = this._watchers, watcher, wlen;
      if(!uid || !watchers || !(wlen = watchers.length)) return;
      for(;wlen--;){
        watcher = watchers[wlen];
        if(watcher && watcher.id === uid ){
          watchers.splice(wlen, 1);
        }
      }
    }
  },
  $expression: function(value){
    return this._touchExpr(parseExpression(value))
  },
  /**
   * the whole digest loop ,just like angular, it just a dirty-check loop;
   * @param  {String} path  now regular process a pure dirty-check loop, but in parse phase, 
   *                  Regular's parser extract the dependencies, in future maybe it will change to dirty-check combine with path-aware update;
   * @return {Void}   
   */

  $digest: function(){
    if(this.$phase === 'digest' || this._mute) return;
    this.$phase = 'digest';
    var dirty = false, n =0;
    while(dirty = this._digest()){

      if((++n) > 20){ // max loop
        throw Error('there may a circular dependencies reaches')
      }
    }
    if( n > 0 && this.$emit) this.$emit("$update");
    this.$phase = null;
  },
  // private digest logic
  _digest: function(){
    // if(this.context) return this.context.$digest();
    // if(this.$emit) this.$emit('digest');
    var watchers = this._watchers;
    var dirty = false, children, watcher, watcherDirty;
    if(watchers && watchers.length){
      for(var i = 0, len = watchers.length;i < len; i++){
        watcher = watchers[i];
        watcherDirty = this._checkSingleWatch(watcher, i);
        if(watcherDirty) dirty = true;
      }
    }
    // check children's dirty.
    children = this._children;
    if(children && children.length){
      for(var m = 0, mlen = children.length; m < mlen; m++){
        if(children[m] && children[m]._digest()) dirty = true;
      }
    }
    return dirty;
  },
  // check a single one watcher 
  _checkSingleWatch: function(watcher, i){
    var dirty = false;
    if(!watcher) return;

    var now, last, tlast, tnow,  eq, diff;

    if(!watcher.test){

      now = watcher.get(this);
      last = watcher.last;
      tlast = _.typeOf(last);
      tnow = _.typeOf(now);
      eq = true, diff;

      // !Object
      if( !(tnow === 'object' && tlast==='object' && watcher.deep) ){
        // Array
        if( tnow === 'array' && ( tlast=='undefined' || tlast === 'array') ){
          diff = diffArray(now, watcher.last || [], watcher.notld)
          if( tlast !== 'array' || diff === true || diff.length ) dirty = true;
        }else{
          eq = _.equals( now, last );
          if( !eq || watcher.force ){
            watcher.force = null;
            dirty = true; 
          }
        }
      }else{
        for(var j in now){
          if(last[j] !== now[j]){
            dirty = true;
            break;
          }
        }
        if(dirty !== true){
          for(var n in last){
            if(last[n] !== now[n]){
              dirty = true;
              break;
            }
          }
        }
      }
    } else{
      // @TODO 是否把多重改掉
      var result = watcher.test(this);
      if(result){
        dirty = true;
        watcher.fn.apply(this, result)
      }
    }
    if(dirty && !watcher.test){
      if(tnow === 'object' && watcher.deep || tnow === 'array'){
        watcher.last = _.clone(now);
      }else{
        watcher.last = now;
      }
      watcher.fn.call(this, now, last, diff)
      if(watcher.once) this._watchers.splice(i, 1);
    }

    return dirty;
  },

  /**
   * **tips**: whatever param you passed in $update, after the function called, dirty-check(digest) phase will enter;
   * 
   * @param  {Function|String|Expression} path  
   * @param  {Whatever} value optional, when path is Function, the value is ignored
   * @return {this}     this 
   */
  $set: function(path, value){
    if(path != null){
      var type = _.typeOf(path);
      if( type === 'string' || path.type === 'expression' ){
        path = this.$expression(path);
        path.set(this, value);
      }else if(type === 'function'){
        path.call(this, this.data);
      }else{
        for(var i in path) {
          this.$set(i, path[i])
        }
      }
    }
  },
  // 1. expr canbe string or a Expression
  // 2. detect: if true, if expr is a string will directly return;
  $get: function(expr, detect)  {
    if(detect && typeof expr === 'string') return expr;
    return this.$expression(expr).get(this);
  },
  $update: function(){
    this.$set.apply(this, arguments);
    var rootParent = this;

    do{
      if(rootParent.data.isolate || !rootParent.$parent) break;
      rootParent = rootParent.$parent;
    } while(rootParent)

    rootParent.$digest();
  },
  // auto collect watchers for logic-control.
  _record: function(){
    if(!this._records) this._records = [];
    this._records.push([]);
  },
  _release: function(){
    return this._records.pop();
  }
}


_.extend(Watcher.prototype, methods)


Watcher.mixTo = function(obj){
  obj = typeof obj === "function" ? obj.prototype : obj;
  return _.extend(obj, methods)
}

module.exports = Watcher;
},{"../util.js":28,"./arrayDiff.js":14,"./parse.js":20}],23:[function(require,module,exports){
var env =  require("./env.js");
var config = require("./config"); 
var Regular = module.exports = require("./Regular.js");
var Parser = Regular.Parser;
var Lexer = Regular.Lexer;

if(env.browser){
    require("./directive/base.js");
    require("./directive/animation.js");
    require("./module/timeout.js");
    Regular.dom = require("./dom.js");
}
Regular.env = env;
Regular.util = require("./util.js");
Regular.parse = function(str, options){
  options = options || {};

  if(options.BEGIN || options.END){
    if(options.BEGIN) config.BEGIN = options.BEGIN;
    if(options.END) config.END = options.END;
    Lexer.setup();
  }
  var ast = new Parser(str).parse();
  return !options.stringify? ast : JSON.stringify(ast);
}


},{"./Regular.js":3,"./config":4,"./directive/animation.js":6,"./directive/base.js":7,"./dom.js":10,"./env.js":11,"./module/timeout.js":24,"./util.js":28}],24:[function(require,module,exports){
var Regular = require("../Regular.js");

/**
 * Timeout Module
 * @param {Component} Component 
 */
function TimeoutModule(Component){

  Component.implement({
    /**
     * just like setTimeout, but will enter digest automately
     * @param  {Function} fn    
     * @param  {Number}   delay 
     * @return {Number}   timeoutid
     */
    $timeout: function(fn, delay){
      delay = delay || 0;
      return setTimeout(function(){
        fn.call(this);
        this.$update(); //enter digest
      }.bind(this), delay);
    },
    /**
     * just like setInterval, but will enter digest automately
     * @param  {Function} fn    
     * @param  {Number}   interval 
     * @return {Number}   intervalid
     */
    $interval: function(fn, interval){
      interval = interval || 1000/60;
      return setInterval(function(){
        fn.call(this);
        this.$update(); //enter digest
      }.bind(this), interval);
    }
  });
}


Regular.plugin('timeout', TimeoutModule);
Regular.plugin('$timeout', TimeoutModule);
},{"../Regular.js":3}],25:[function(require,module,exports){
var _ = require("../util.js");
var config = require("../config.js");

// some custom tag  will conflict with the Lexer progress
var conflictTag = {"}": "{", "]": "["}, map1, map2;
// some macro for lexer
var macro = {
  'NAME': /(?:[:_A-Za-z][-\.:_0-9A-Za-z]*)/,
  'IDENT': /[\$_A-Za-z][_0-9A-Za-z\$]*/,
  'SPACE': /[\r\n\f ]/
}


var test = /a|(b)/.exec("a");
var testSubCapure = test && test[1] === undefined? 
  function(str){ return str !== undefined }
  :function(str){return !!str};

function wrapHander(handler){
  return function(all){
    return {type: handler, value: all }
  }
}

function Lexer(input, opts){
  if(conflictTag[config.END]){
    this.markStart = conflictTag[config.END];
    this.markEnd = config.END;
  }

  this.input = (input||"").trim();
  this.opts = opts || {};
  this.map = this.opts.mode !== 2?  map1: map2;
  this.states = ["INIT"];
  if(opts && opts.expression){
     this.states.push("JST");
     this.expression = true;
  }
}

var lo = Lexer.prototype


lo.lex = function(str){
  str = (str || this.input).trim();
  var tokens = [], split, test,mlen, token, state;
  this.input = str, 
  this.marks = 0;
  // init the pos index
  this.index=0;
  var i = 0;
  while(str){
    i++
    state = this.state();
    split = this.map[state] 
    test = split.TRUNK.exec(str);
    if(!test){
      this.error('Unrecoginized Token');
    }
    mlen = test[0].length;
    str = str.slice(mlen)
    token = this._process.call(this, test, split, str)
    if(token) tokens.push(token)
    this.index += mlen;
    // if(state == 'TAG' || state == 'JST') str = this.skipspace(str);
  }

  tokens.push({type: 'EOF'});

  return tokens;
}

lo.error = function(msg){
  throw  Error("Parse Error: " + msg +  ':\n' + _.trackErrorPos(this.input, this.index));
}

lo._process = function(args, split,str){
  // console.log(args.join(","), this.state())
  var links = split.links, marched = false, token;

  for(var len = links.length, i=0;i<len ;i++){
    var link = links[i],
      handler = link[2],
      index = link[0];
    // if(args[6] === '>' && index === 6) console.log('haha')
    if(testSubCapure(args[index])) {
      marched = true;
      if(handler){
        token = handler.apply(this, args.slice(index, index + link[1]))
        if(token)  token.pos = this.index;
      }
      break;
    }
  }
  if(!marched){ // in ie lt8 . sub capture is "" but ont 
    switch(str.charAt(0)){
      case "<":
        this.enter("TAG");
        break;
      default:
        this.enter("JST");
        break;
    }
  }
  return token;
}
lo.enter = function(state){
  this.states.push(state)
  return this;
}

lo.state = function(){
  var states = this.states;
  return states[states.length-1];
}

lo.leave = function(state){
  var states = this.states;
  if(!state || states[states.length-1] === state) states.pop()
}


Lexer.setup = function(){
  macro.END = config.END;
  macro.BEGIN = config.BEGIN;
  //
  map1 = genMap([
    // INIT
    rules.ENTER_JST,
    rules.ENTER_TAG,
    rules.TEXT,

    //TAG
    rules.TAG_NAME,
    rules.TAG_OPEN,
    rules.TAG_CLOSE,
    rules.TAG_PUNCHOR,
    rules.TAG_ENTER_JST,
    rules.TAG_UNQ_VALUE,
    rules.TAG_STRING,
    rules.TAG_SPACE,
    rules.TAG_COMMENT,

    // JST
    rules.JST_OPEN,
    rules.JST_CLOSE,
    rules.JST_COMMENT,
    rules.JST_EXPR_OPEN,
    rules.JST_IDENT,
    rules.JST_SPACE,
    rules.JST_LEAVE,
    rules.JST_NUMBER,
    rules.JST_PUNCHOR,
    rules.JST_STRING,
    rules.JST_COMMENT
    ])

  // ignored the tag-relative token
  map2 = genMap([
    // INIT no < restrict
    rules.ENTER_JST2,
    rules.TEXT,
    // JST
    rules.JST_COMMENT,
    rules.JST_OPEN,
    rules.JST_CLOSE,
    rules.JST_EXPR_OPEN,
    rules.JST_IDENT,
    rules.JST_SPACE,
    rules.JST_LEAVE,
    rules.JST_NUMBER,
    rules.JST_PUNCHOR,
    rules.JST_STRING,
    rules.JST_COMMENT
    ])
}


function genMap(rules){
  var rule, map = {}, sign;
  for(var i = 0, len = rules.length; i < len ; i++){
    rule = rules[i];
    sign = rule[2] || 'INIT';
    ( map[sign] || (map[sign] = {rules:[], links:[]}) ).rules.push(rule);
  }
  return setup(map);
}

function setup(map){
  var split, rules, trunks, handler, reg, retain, rule;
  function replaceFn(all, one){
    return typeof macro[one] === 'string'? 
      _.escapeRegExp(macro[one]) 
      : String(macro[one]).slice(1,-1);
  }

  for(var i in map){

    split = map[i];
    split.curIndex = 1;
    rules = split.rules;
    trunks = [];

    for(var j = 0,len = rules.length; j<len; j++){
      rule = rules[j]; 
      reg = rule[0];
      handler = rule[1];

      if(typeof handler === 'string'){
        handler = wrapHander(handler);
      }
      if(_.typeOf(reg) === 'regexp') reg = reg.toString().slice(1, -1);

      reg = reg.replace(/\{(\w+)\}/g, replaceFn)
      retain = _.findSubCapture(reg) + 1; 
      split.links.push([split.curIndex, retain, handler]); 
      split.curIndex += retain;
      trunks.push(reg);
    }
    split.TRUNK = new RegExp("^(?:(" + trunks.join(")|(") + "))")
  }
  return map;
}

var rules = {

  // 1. INIT
  // ---------------

  // mode1's JST ENTER RULE
  ENTER_JST: [/[^\x00<]*?(?={BEGIN})/, function(all){
    this.enter('JST');
    if(all) return {type: 'TEXT', value: all}
  }],

  // mode2's JST ENTER RULE
  ENTER_JST2: [/[^\x00]*?(?={BEGIN})/, function(all){
    this.enter('JST');
    if(all) return {type: 'TEXT', value: all}
  }],

  ENTER_TAG: [/[^\x00<>]*?(?=<)/, function(all){ 
    this.enter('TAG');
    if(all) return {type: 'TEXT', value: all}
  }],

  TEXT: [/[^\x00]+/, 'TEXT'],

  // 2. TAG
  // --------------------
  TAG_NAME: [/{NAME}/, 'NAME', 'TAG'],
  TAG_UNQ_VALUE: [/[^\{}&"'=><`\r\n\f ]+/, 'UNQ', 'TAG'],

  TAG_OPEN: [/<({NAME})\s*/, function(all, one){ //"
    return {type: 'TAG_OPEN', value: one}
  }, 'TAG'],
  TAG_CLOSE: [/<\/({NAME})[\r\n\f ]*>/, function(all, one){
    this.leave();
    return {type: 'TAG_CLOSE', value: one }
  }, 'TAG'],

    // mode2's JST ENTER RULE
  TAG_ENTER_JST: [/(?={BEGIN})/, function(){
    this.enter('JST');
  }, 'TAG'],


  TAG_PUNCHOR: [/[\>\/=&]/, function(all){
    if(all === '>') this.leave();
    return {type: all, value: all }
  }, 'TAG'],
  TAG_STRING:  [ /'([^']*)'|"([^"]*)\"/, /*'*/  function(all, one, two){ 
    var value = one || two || "";

    return {type: 'STRING', value: value}
  }, 'TAG'],

  TAG_SPACE: [/{SPACE}+/, null, 'TAG'],
  TAG_COMMENT: [/<\!--([^\x00]*?)--\>/, function(all){
    this.leave()
    // this.leave('TAG')
  } ,'TAG'],

  // 3. JST
  // -------------------

  JST_OPEN: ['{BEGIN}#{SPACE}*({IDENT})', function(all, name){
    return {
      type: 'OPEN',
      value: name
    }
  }, 'JST'],
  JST_LEAVE: [/{END}/, function(all){
    if(this.markEnd === all && this.expression) return {type: this.markEnd, value: this.markEnd};
    if(!this.markEnd || !this.marks ){
      this.firstEnterStart = false;
      this.leave('JST');
      return {type: 'END'}
    }else{
      this.marks--;
      return {type: this.markEnd, value: this.markEnd}
    }
  }, 'JST'],
  JST_CLOSE: [/{BEGIN}\s*\/({IDENT})\s*{END}/, function(all, one){
    this.leave('JST');
    return {
      type: 'CLOSE',
      value: one
    }
  }, 'JST'],
  JST_COMMENT: [/{BEGIN}\!([^\x00]*?)\!{END}/, function(){
    this.leave();
  }, 'JST'],
  JST_EXPR_OPEN: ['{BEGIN}',function(all, one){
    if(all === this.markStart){
      if(this.expression) return { type: this.markStart, value: this.markStart };
      if(this.firstEnterStart || this.marks){
        this.marks++
        this.firstEnterStart = false;
        return { type: this.markStart, value: this.markStart };
      }else{
        this.firstEnterStart = true;
      }
    }
    return {
      type: 'EXPR_OPEN',
      escape: false
    }

  }, 'JST'],
  JST_IDENT: ['{IDENT}', 'IDENT', 'JST'],
  JST_SPACE: [/[ \r\n\f]+/, null, 'JST'],
  JST_PUNCHOR: [/[=!]?==|[-=><+*\/%\!]?\=|\|\||&&|\@\(|\.\.|[<\>\[\]\(\)\-\|\{}\+\*\/%?:\.!,]/, function(all){
    return { type: all, value: all }
  },'JST'],

  JST_STRING:  [ /'([^']*)'|"([^"]*)"/, function(all, one, two){ //"'
    return {type: 'STRING', value: one || two || ""}
  }, 'JST'],
  JST_NUMBER: [/(?:[0-9]*\.[0-9]+|[0-9]+)(e\d+)?/, function(all){
    return {type: 'NUMBER', value: parseFloat(all, 10)};
  }, 'JST']
}


// setup when first config
Lexer.setup();



module.exports = Lexer;

},{"../config.js":4,"../util.js":28}],26:[function(require,module,exports){
var _ = require("../util.js");

var config = require("../config.js");
var node = require("./node.js");
var Lexer = require("./Lexer.js");
var varName = _.varName;
var ctxName = _.ctxName;
var extName = _.extName;
var isPath = _.makePredicate("STRING IDENT NUMBER");
var isKeyWord = _.makePredicate("true false undefined null this Array Date JSON Math NaN RegExp decodeURI decodeURIComponent encodeURI encodeURIComponent parseFloat parseInt Object");




function Parser(input, opts){
  opts = opts || {};

  this.input = input;
  this.tokens = new Lexer(input, opts).lex();
  this.pos = 0;
  this.length = this.tokens.length;
}


var op = Parser.prototype;


op.parse = function(){
  this.pos = 0;
  var res= this.program();
  if(this.ll().type === 'TAG_CLOSE'){
    this.error("You may got a unclosed Tag")
  }
  return res;
}

op.ll =  function(k){
  k = k || 1;
  if(k < 0) k = k + 1;
  var pos = this.pos + k - 1;
  if(pos > this.length - 1){
      return this.tokens[this.length-1];
  }
  return this.tokens[pos];
}
  // lookahead
op.la = function(k){
  return (this.ll(k) || '').type;
}

op.match = function(type, value){
  var ll;
  if(!(ll = this.eat(type, value))){
    ll  = this.ll();
    this.error('expect [' + type + (value == null? '':':'+ value) + ']" -> got "[' + ll.type + (value==null? '':':'+ll.value) + ']', ll.pos)
  }else{
    return ll;
  }
}

op.error = function(msg, pos){
  msg =  "\n【 parse failed 】 " + msg +  ':\n\n' + _.trackErrorPos(this.input, typeof pos === 'number'? pos: this.ll().pos||0);
  throw new Error(msg);
}

op.next = function(k){
  k = k || 1;
  this.pos += k;
}
op.eat = function(type, value){
  var ll = this.ll();
  if(typeof type !== 'string'){
    for(var len = type.length ; len--;){
      if(ll.type === type[len]) {
        this.next();
        return ll;
      }
    }
  }else{
    if( ll.type === type && (typeof value === 'undefined' || ll.value === value) ){
       this.next();
       return ll;
    }
  }
  return false;
}

// program
//  :EOF
//  | (statement)* EOF
op.program = function(){
  var statements = [],  ll = this.ll();
  while(ll.type !== 'EOF' && ll.type !=='TAG_CLOSE'){

    statements.push(this.statement());
    ll = this.ll();
  }
  // if(ll.type === 'TAG_CLOSE') this.error("You may have unmatched Tag")
  return statements;
}

// statement
//  : xml
//  | jst
//  | text
op.statement = function(){
  var ll = this.ll();
  switch(ll.type){
    case 'NAME':
    case 'TEXT':
      var text = ll.value;
      this.next();
      while(ll = this.eat(['NAME', 'TEXT'])){
        text += ll.value;
      }
      return node.text(text);
    case 'TAG_OPEN':
      return this.xml();
    case 'OPEN': 
      return this.directive();
    case 'EXPR_OPEN':
      return this.interplation();
    default:
      this.error('Unexpected token: '+ this.la())
  }
}

// xml 
// stag statement* TAG_CLOSE?(if self-closed tag)
op.xml = function(){
  var name, attrs, children, selfClosed;
  name = this.match('TAG_OPEN').value;
  attrs = this.attrs();
  selfClosed = this.eat('/')
  this.match('>');
  if( !selfClosed && !_.isVoidTag(name) ){
    children = this.program();
    if(!this.eat('TAG_CLOSE', name)) this.error('expect </'+name+'> got'+ 'no matched closeTag')
  }
  return node.element(name, attrs, children);
}

// xentity
//  -rule(wrap attribute)
//  -attribute
//
// __example__
//  name = 1 |  
//  ng-hide |
//  on-click={{}} | 
//  {{#if name}}on-click={{xx}}{{#else}}on-tap={{}}{{/if}}

op.xentity = function(ll){
  var name = ll.value, value, modifier;
  if(ll.type === 'NAME'){
    //@ only for test
    if(~name.indexOf('.')){
      var tmp = name.split('.');
      name = tmp[0];
      modifier = tmp[1]

    }
    if( this.eat("=") ) value = this.attvalue(modifier);
    return node.attribute( name, value, modifier );
  }else{
    if( name !== 'if') this.error("current version. ONLY RULE #if #else #elseif is valid in tag, the rule #" + name + ' is invalid');
    return this['if'](true);
  }

}

// stag     ::=    '<' Name (S attr)* S? '>'  
// attr    ::=     Name Eq attvalue
op.attrs = function(isAttribute){
  var eat
  if(!isAttribute){
    eat = ["NAME", "OPEN"]
  }else{
    eat = ["NAME"]
  }

  var attrs = [], ll;
  while (ll = this.eat(eat)){
    attrs.push(this.xentity( ll ))
  }
  return attrs;
}

// attvalue
//  : STRING  
//  | NAME
op.attvalue = function(mdf){
  var ll = this.ll();
  switch(ll.type){
    case "NAME":
    case "UNQ":
    case "STRING":
      this.next();
      var value = ll.value;
      if(~value.indexOf(config.BEGIN) && ~value.indexOf(config.END) && mdf!=='cmpl'){
        var constant = true;
        var parsed = new Parser(value, { mode: 2 }).parse();
        if(parsed.length === 1 && parsed[0].type === 'expression') return parsed[0];
        var body = [];
        parsed.forEach(function(item){
          if(!item.constant) constant=false;
          // silent the mutiple inteplation
            body.push(item.body || "'" + item.text.replace(/'/g, "\\'") + "'");        
        });
        body = "[" + body.join(",") + "].join('')";
        value = node.expression(body, null, constant);
      }
      return value;
    case "EXPR_OPEN":
      return this.interplation();
    // case "OPEN":
    //   if(ll.value === 'inc' || ll.value === 'include'){
    //     this.next();
    //     return this.inc();
    //   }else{
    //     this.error('attribute value only support inteplation and {#inc} statement')
    //   }
    //   break;
    default:
      this.error('Unexpected token: '+ this.la())
  }
}


// {{#}}
op.directive = function(){
  var name = this.ll().value;
  this.next();
  if(typeof this[name] === 'function'){
    return this[name]()
  }else{
    this.error('Undefined directive['+ name +']');
  }
}


// {{}}
op.interplation = function(){
  this.match('EXPR_OPEN');
  var res = this.expression(true);
  this.match('END');
  return res;
}

// {{~}}
op.inc = op.include = function(){
  var content = this.expression();
  this.match('END');
  return node.template(content);
}

// {{#if}}
op["if"] = function(tag){
  var test = this.expression();
  var consequent = [], alternate=[];

  var container = consequent;
  var statement = !tag? "statement" : "attrs";

  this.match('END');

  var ll, close;
  while( ! (close = this.eat('CLOSE')) ){
    ll = this.ll();
    if( ll.type === 'OPEN' ){
      switch( ll.value ){
        case 'else':
          container = alternate;
          this.next();
          this.match( 'END' );
          break;
        case 'elseif':
          this.next();
          alternate.push( this["if"](tag) );
          return node['if']( test, consequent, alternate );
        default:
          container.push( this[statement](true) );
      }
    }else{
      container.push(this[statement](true));
    }
  }
  // if statement not matched
  if(close.value !== "if") this.error('Unmatched if directive')
  return node["if"](test, consequent, alternate);
}


// @mark   mustache syntax have natrure dis, canot with expression
// {{#list}}
op.list = function(){
  // sequence can be a list or hash
  var sequence = this.expression(), variable, ll, track;
  var consequent = [], alternate=[];
  var container = consequent;

  this.match('IDENT', 'as');

  variable = this.match('IDENT').value;

  if(this.eat('IDENT', 'by')){
    if(this.eat('IDENT',variable + '_index')){
      track = true;
    }else{
      track = this.expression();
      if(track.constant){
        // true is means constant, we handle it just like xxx_index.
        track = true;
      }
    }
  }

  this.match('END');

  while( !(ll = this.eat('CLOSE')) ){
    if(this.eat('OPEN', 'else')){
      container =  alternate;
      this.match('END');
    }else{
      container.push(this.statement());
    }
  }
  
  if(ll.value !== 'list') this.error('expect ' + 'list got ' + '/' + ll.value + ' ', ll.pos );
  return node.list(sequence, variable, consequent, alternate, track);
}


op.expression = function(){
  var expression;
  if(this.eat('@(')){ //once bind
    expression = this.expr();
    expression.once = true;
    this.match(')')
  }else{
    expression = this.expr();
  }
  return expression;
}

op.expr = function(){
  this.depend = [];

  var buffer = this.filter()

  var body = buffer.get || buffer;
  var setbody = buffer.set;
  return node.expression(body, setbody, !this.depend.length);
}


// filter
// assign ('|' filtername[':' args]) * 
op.filter = function(){
  var left = this.assign();
  var ll = this.eat('|');
  var buffer = [], setBuffer, prefix,
    attr = "t", 
    set = left.set, get, 
    tmp = "";

  if(ll){
    if(set) setBuffer = [];

    prefix = "(function(" + attr + "){";

    do{
      tmp = attr + " = " + ctxName + "._f_('" + this.match('IDENT').value+ "' ).get.call( "+_.ctxName +"," + attr ;
      if(this.eat(':')){
        tmp +=", "+ this.arguments("|").join(",") + ");"
      }else{
        tmp += ');'
      }
      buffer.push(tmp);
      setBuffer && setBuffer.unshift( tmp.replace(" ).get.call", " ).set.call") );

    }while(ll = this.eat('|'));
    buffer.push("return " + attr );
    setBuffer && setBuffer.push("return " + attr);

    get =  prefix + buffer.join("") + "})("+left.get+")";
    // we call back to value.
    if(setBuffer){
      // change _ss__(name, _p_) to _s__(name, filterFn(_p_));
      set = set.replace(_.setName, 
        prefix + setBuffer.join("") + "})("+　_.setName　+")" );

    }
    // the set function is depend on the filter definition. if it have set method, the set will work
    return this.getset(get, set);
  }
  return left;
}

// assign
// left-hand-expr = condition
op.assign = function(){
  var left = this.condition(), ll;
  if(ll = this.eat(['=', '+=', '-=', '*=', '/=', '%='])){
    if(!left.set) this.error('invalid lefthand expression in assignment expression');
    return this.getset( left.set.replace( "," + _.setName, "," + this.condition().get ).replace("'='", "'"+ll.type+"'"), left.set);
    // return this.getset('(' + left.get + ll.type  + this.condition().get + ')', left.set);
  }
  return left;
}

// or
// or ? assign : assign
op.condition = function(){

  var test = this.or();
  if(this.eat('?')){
    return this.getset([test.get + "?", 
      this.assign().get, 
      this.match(":").type, 
      this.assign().get].join(""));
  }

  return test;
}

// and
// and && or
op.or = function(){

  var left = this.and();

  if(this.eat('||')){
    return this.getset(left.get + '||' + this.or().get);
  }

  return left;
}
// equal
// equal && and
op.and = function(){

  var left = this.equal();

  if(this.eat('&&')){
    return this.getset(left.get + '&&' + this.and().get);
  }
  return left;
}
// relation
// 
// equal == relation
// equal != relation
// equal === relation
// equal !== relation
op.equal = function(){
  var left = this.relation(), ll;
  // @perf;
  if( ll = this.eat(['==','!=', '===', '!=='])){
    return this.getset(left.get + ll.type + this.equal().get);
  }
  return left
}
// relation < additive
// relation > additive
// relation <= additive
// relation >= additive
// relation in additive
op.relation = function(){
  var left = this.additive(), ll;
  // @perf
  if(ll = (this.eat(['<', '>', '>=', '<=']) || this.eat('IDENT', 'in') )){
    return this.getset(left.get + ll.value + this.relation().get);
  }
  return left
}
// additive :
// multive
// additive + multive
// additive - multive
op.additive = function(){
  var left = this.multive() ,ll;
  if(ll= this.eat(['+','-']) ){
    return this.getset(left.get + ll.value + this.additive().get);
  }
  return left
}
// multive :
// unary
// multive * unary
// multive / unary
// multive % unary
op.multive = function(){
  var left = this.range() ,ll;
  if( ll = this.eat(['*', '/' ,'%']) ){
    return this.getset(left.get + ll.type + this.multive().get);
  }
  return left;
}

op.range = function(){
  var left = this.unary(), ll, right;

  if(ll = this.eat('..')){
    right = this.unary();
    var body = 
      "(function(start,end){var res = [],step=end>start?1:-1; for(var i = start; end>start?i <= end: i>=end; i=i+step){res.push(i); } return res })("+left.get+","+right.get+")"
    return this.getset(body);
  }

  return left;
}



// lefthand
// + unary
// - unary
// ~ unary
// ! unary
op.unary = function(){
  var ll;
  if(ll = this.eat(['+','-','~', '!'])){
    return this.getset('(' + ll.type + this.unary().get + ')') ;
  }else{
    return this.member()
  }
}

// call[lefthand] :
// member args
// member [ expression ]
// member . ident  

op.member = function(base, last, pathes, prevBase){
  var ll, path, extValue;


  var onlySimpleAccessor = false;
  if(!base){ //first
    path = this.primary();
    var type = typeof path;
    if(type === 'string'){ 
      pathes = [];
      pathes.push( path );
      last = path;
      extValue = extName + "." + path
      base = ctxName + "._sg_('" + path + "', " + varName + ", " + extName + ")";
      onlySimpleAccessor = true;
    }else{ //Primative Type
      if(path.get === 'this'){
        base = ctxName;
        pathes = ['this'];
      }else{
        pathes = null;
        base = path.get;
      }
    }
  }else{ // not first enter
    if(typeof last === 'string' && isPath( last) ){ // is valid path
      pathes.push(last);
    }else{
      if(pathes && pathes.length) this.depend.push(pathes);
      pathes = null;
    }
  }
  if(ll = this.eat(['[', '.', '('])){
    switch(ll.type){
      case '.':
          // member(object, property, computed)
        var tmpName = this.match('IDENT').value;
        prevBase = base;
        if( this.la() !== "(" ){ 
          base = ctxName + "._sg_('" + tmpName + "', " + base + ")";
        }else{
          base += "['" + tmpName + "']";
        }
        return this.member( base, tmpName, pathes,  prevBase);
      case '[':
          // member(object, property, computed)
        path = this.assign();
        prevBase = base;
        if( this.la() !== "(" ){ 
        // means function call, we need throw undefined error when call function
        // and confirm that the function call wont lose its context
          base = ctxName + "._sg_(" + path.get + ", " + base + ")";
        }else{
          base += "[" + path.get + "]";
        }
        this.match(']')
        return this.member(base, path, pathes, prevBase);
      case '(':
        // call(callee, args)
        var args = this.arguments().join(',');
        base =  base+"(" + args +")";
        this.match(')')
        return this.member(base, null, pathes);
    }
  }
  if( pathes && pathes.length ) this.depend.push( pathes );
  var res =  {get: base};
  if(last){
    res.set = ctxName + "._ss_(" + 
        (last.get? last.get : "'"+ last + "'") + 
        ","+ _.setName + ","+ 
        (prevBase?prevBase:_.varName) + 
        ", '=', "+ ( onlySimpleAccessor? 1 : 0 ) + ")";
  
  }
  return res;
}

/**
 * 
 */
op.arguments = function(end){
  end = end || ')'
  var args = [];
  do{
    if(this.la() !== end){
      args.push(this.assign().get)
    }
  }while( this.eat(','));
  return args
}


// primary :
// this 
// ident
// literal
// array
// object
// ( expression )

op.primary = function(){
  var ll = this.ll();
  switch(ll.type){
    case "{":
      return this.object();
    case "[":
      return this.array();
    case "(":
      return this.paren();
    // literal or ident
    case 'STRING':
      this.next();
      return this.getset("'" + ll.value + "'")
    case 'NUMBER':
      this.next();
      return this.getset(""+ll.value);
    case "IDENT":
      this.next();
      if(isKeyWord(ll.value)){
        return this.getset( ll.value );
      }
      return ll.value;
    default: 
      this.error('Unexpected Token: ' + ll.type);
  }
}

// object
//  {propAssign [, propAssign] * [,]}

// propAssign
//  prop : assign

// prop
//  STRING
//  IDENT
//  NUMBER

op.object = function(){
  var code = [this.match('{').type];

  var ll = this.eat( ['STRING', 'IDENT', 'NUMBER'] );
  while(ll){
    code.push("'" + ll.value + "'" + this.match(':').type);
    var get = this.assign().get;
    code.push(get);
    ll = null;
    if(this.eat(",") && (ll = this.eat(['STRING', 'IDENT', 'NUMBER'])) ) code.push(",");
  }
  code.push(this.match('}').type);
  return {get: code.join("")}
}

// array
// [ assign[,assign]*]
op.array = function(){
  var code = [this.match('[').type], item;
  if( this.eat("]") ){

     code.push("]");
  } else {
    while(item = this.assign()){
      code.push(item.get);
      if(this.eat(',')) code.push(",");
      else break;
    }
    code.push(this.match(']').type);
  }
  return {get: code.join("")};
}

// '(' expression ')'
op.paren = function(){
  this.match('(');
  var res = this.filter()
  res.get = '(' + res.get + ')';
  this.match(')');
  return res;
}

op.getset = function(get, set){
  return {
    get: get,
    set: set
  }
}



module.exports = Parser;

},{"../config.js":4,"../util.js":28,"./Lexer.js":25,"./node.js":27}],27:[function(require,module,exports){
module.exports = {
  element: function(name, attrs, children){
    return {
      type: 'element',
      tag: name,
      attrs: attrs,
      children: children
    }
  },
  attribute: function(name, value, mdf){
    return {
      type: 'attribute',
      name: name,
      value: value,
      mdf: mdf
    }
  },
  "if": function(test, consequent, alternate){
    return {
      type: 'if',
      test: test,
      consequent: consequent,
      alternate: alternate
    }
  },
  list: function(sequence, variable, body, alternate, track){
    return {
      type: 'list',
      sequence: sequence,
      alternate: alternate,
      variable: variable,
      body: body,
      track: track
    }
  },
  expression: function( body, setbody, constant ){
    return {
      type: "expression",
      body: body,
      constant: constant || false,
      setbody: setbody || false
    }
  },
  text: function(text){
    return {
      type: "text",
      text: text
    }
  },
  template: function(template){
    return {
      type: 'template',
      content: template
    }
  }
}

},{}],28:[function(require,module,exports){
(function (global){
require('./helper/shim.js')();
var _  = module.exports;
var entities = require('./helper/entities.js');
var slice = [].slice;
var o2str = ({}).toString;
var win = typeof window !=='undefined'? window: global;


_.noop = function(){};
_.uid = (function(){
  var _uid=0;
  return function(){
    return _uid++;
  }
})();

_.extend = function( o1, o2, override ){
  // if(_.typeOf(override) === 'array'){
  //  for(var i = 0, len = override.length; i < len; i++ ){
  //   var key = override[i];
  //   o1[key] = o2[key];
  //  } 
  // }else{
  for(var i in o2){
    if( typeof o1[i] === "undefined" || override === true ){
      o1[i] = o2[i]
    }
  }
  // }
  return o1;
}

_.keys = function(obj){
  if(Object.keys) return Object.keys(obj);
  var res = [];
  for(var i in obj) if(obj.hasOwnProperty(i)){
    res.push(i);
  }
  return res;
}

_.varName = 'd';
_.setName = 'p_';
_.ctxName = 'c';
_.extName = 'e';

_.rWord = /^[\$\w]+$/;
_.rSimpleAccessor = /^[\$\w]+(\.[\$\w]+)*$/;

_.nextTick = typeof setImmediate === 'function'? 
  setImmediate.bind(win) : 
  function(callback) {
    setTimeout(callback, 0) 
  }



_.prefix = "var " + _.varName + "=" + _.ctxName + ".data;" +  _.extName  + "=" + _.extName + "||'';";


_.slice = function(obj, start, end){
  var res = [];
  for(var i = start || 0, len = end || obj.length; i < len; i++){
    var item = obj[i];
    res.push(item)
  }
  return res;
}

_.typeOf = function (o) {
  return o == null ? String(o) :o2str.call(o).slice(8, -1).toLowerCase();
}


_.makePredicate = function makePredicate(words, prefix) {
    if (typeof words === "string") {
        words = words.split(" ");
    }
    var f = "",
    cats = [];
    out: for (var i = 0; i < words.length; ++i) {
        for (var j = 0; j < cats.length; ++j){
          if (cats[j][0].length === words[i].length) {
              cats[j].push(words[i]);
              continue out;
          }
        }
        cats.push([words[i]]);
    }
    function compareTo(arr) {
        if (arr.length === 1) return f += "return str === '" + arr[0] + "';";
        f += "switch(str){";
        for (var i = 0; i < arr.length; ++i){
           f += "case '" + arr[i] + "':";
        }
        f += "return true}return false;";
    }

    // When there are more than three length categories, an outer
    // switch first dispatches on the lengths, to save on comparisons.
    if (cats.length > 3) {
        cats.sort(function(a, b) {
            return b.length - a.length;
        });
        f += "switch(str.length){";
        for (var i = 0; i < cats.length; ++i) {
            var cat = cats[i];
            f += "case " + cat[0].length + ":";
            compareTo(cat);
        }
        f += "}";

        // Otherwise, simply generate a flat `switch` statement.
    } else {
        compareTo(words);
    }
    return new Function("str", f);
}


_.trackErrorPos = (function (){
  // linebreak
  var lb = /\r\n|[\n\r\u2028\u2029]/g;
  var minRange = 20, maxRange = 20;
  function findLine(lines, pos){
    var tmpLen = 0;
    for(var i = 0,len = lines.length; i < len; i++){
      var lineLen = (lines[i] || "").length;

      if(tmpLen + lineLen > pos) {
        return {num: i, line: lines[i], start: pos - i - tmpLen , prev:lines[i-1], next: lines[i+1] };
      }
      // 1 is for the linebreak
      tmpLen = tmpLen + lineLen ;
    }
  }
  function formatLine(str,  start, num, target){
    var len = str.length;
    var min = start - minRange;
    if(min < 0) min = 0;
    var max = start + maxRange;
    if(max > len) max = len;

    var remain = str.slice(min, max);
    var prefix = "[" +(num+1) + "] " + (min > 0? ".." : "")
    var postfix = max < len ? "..": "";
    var res = prefix + remain + postfix;
    if(target) res += "\n" + new Array(start-min + prefix.length + 1).join(" ") + "^^^";
    return res;
  }
  return function(input, pos){
    if(pos > input.length-1) pos = input.length-1;
    lb.lastIndex = 0;
    var lines = input.split(lb);
    var line = findLine(lines,pos);
    var start = line.start, num = line.num;

    return (line.prev? formatLine(line.prev, start, num-1 ) + '\n': '' ) + 
      formatLine(line.line, start, num, true) + '\n' + 
      (line.next? formatLine(line.next, start, num+1 ) + '\n': '' );

  }
})();


var ignoredRef = /\((\?\!|\?\:|\?\=)/g;
_.findSubCapture = function (regStr) {
  var left = 0,
    right = 0,
    len = regStr.length,
    ignored = regStr.match(ignoredRef); // ignored uncapture
  if(ignored) ignored = ignored.length
  else ignored = 0;
  for (; len--;) {
    var letter = regStr.charAt(len);
    if (len === 0 || regStr.charAt(len - 1) !== "\\" ) { 
      if (letter === "(") left++;
      if (letter === ")") right++;
    }
  }
  if (left !== right) throw "RegExp: "+ regStr + "'s bracket is not marched";
  else return left - ignored;
};


_.escapeRegExp = function( str){// Credit: XRegExp 0.6.1 (c) 2007-2008 Steven Levithan <http://stevenlevithan.com/regex/xregexp/> MIT License
  return str.replace(/[-[\]{}()*+?.\\^$|,#\s]/g, function(match){
    return '\\' + match;
  });
};


var rEntity = new RegExp("&(" + _.keys(entities).join('|') + ');', 'gi');

_.convertEntity = function(chr){

  return ("" + chr).replace(rEntity, function(all, capture){
    return String.fromCharCode(entities[capture])
  });

}


// simple get accessor

_.createObject = function(o, props){
    function Foo() {}
    Foo.prototype = o;
    var res = new Foo;
    if(props) _.extend(res, props);
    return res;
}

_.createProto = function(fn, o){
    function Foo() { this.constructor = fn;}
    Foo.prototype = o;
    return (fn.prototype = new Foo());
}



/**
clone
*/
_.clone = function clone(obj){
    var type = _.typeOf(obj);
    if(type === 'array'){
      var cloned = [];
      for(var i=0,len = obj.length; i< len;i++){
        cloned[i] = obj[i]
      }
      return cloned;
    }
    if(type === 'object'){
      var cloned = {};
      for(var i in obj) if(obj.hasOwnProperty(i)){
        cloned[i] = obj[i];
      }
      return cloned;
    }
    return obj;
  }

_.equals = function(now, old){
  var type = typeof now;
  if(type === 'number' && typeof old === 'number'&& isNaN(now) && isNaN(old)) return true
  return now === old;
}

var dash = /-([a-z])/g;
_.camelCase = function(str){
  return str.replace(dash, function(all, capture){
    return capture.toUpperCase();
  })
}



_.throttle = function throttle(func, wait){
  var wait = wait || 100;
  var context, args, result;
  var timeout = null;
  var previous = 0;
  var later = function() {
    previous = +new Date;
    timeout = null;
    result = func.apply(context, args);
    context = args = null;
  };
  return function() {
    var now = + new Date;
    var remaining = wait - (now - previous);
    context = this;
    args = arguments;
    if (remaining <= 0 || remaining > wait) {
      clearTimeout(timeout);
      timeout = null;
      previous = now;
      result = func.apply(context, args);
      context = args = null;
    } else if (!timeout) {
      timeout = setTimeout(later, remaining);
    }
    return result;
  };
};

// hogan escape
// ==============
_.escape = (function(){
  var rAmp = /&/g,
      rLt = /</g,
      rGt = />/g,
      rApos = /\'/g,
      rQuot = /\"/g,
      hChars = /[&<>\"\']/;

  return function(str) {
    return hChars.test(str) ?
      str
        .replace(rAmp, '&amp;')
        .replace(rLt, '&lt;')
        .replace(rGt, '&gt;')
        .replace(rApos, '&#39;')
        .replace(rQuot, '&quot;') :
      str;
  }
})();

_.cache = function(max){
  max = max || 1000;
  var keys = [],
      cache = {};
  return {
    set: function(key, value) {
      if (keys.length > this.max) {
        cache[keys.shift()] = undefined;
      }
      // 
      if(cache[key] === undefined){
        keys.push(key);
      }
      cache[key] = value;
      return value;
    },
    get: function(key) {
      if (key === undefined) return cache;
      return cache[key];
    },
    max: max,
    len:function(){
      return keys.length;
    }
  };
}

// // setup the raw Expression
// _.touchExpression = function(expr){
//   if(expr.type === 'expression'){
//   }
//   return expr;
// }


// handle the same logic on component's `on-*` and element's `on-*`
// return the fire object
_.handleEvent = function(value, type ){
  var self = this, evaluate;
  if(value.type === 'expression'){ // if is expression, go evaluated way
    evaluate = value.get;
  }
  if(evaluate){
    return function fire(obj){
      self.data.$event = obj;
      var res = evaluate(self);
      if(res === false && obj && obj.preventDefault) obj.preventDefault();
      self.data.$event = undefined;
      self.$update();
    }
  }else{
    return function fire(){
      var args = slice.call(arguments)      
      args.unshift(value);
      self.$emit.apply(self, args);
      self.$update();
    }
  }
}

// only call once
_.once = function(fn){
  var time = 0;
  return function(){
    if( time++ === 0) fn.apply(this, arguments);
  }
}

_.fixObjStr = function(str){
  if(str.trim().indexOf('{') !== 0){
    return '{' + str + '}';
  }
  return str;
}



_.log = function(msg, type){
  if(typeof console !== "undefined")  console[type || "log"](msg);
}




//http://www.w3.org/html/wg/drafts/html/master/single-page.html#void-elements
_.isVoidTag = _.makePredicate("area base br col embed hr img input keygen link menuitem meta param source track wbr r-content");
_.isBooleanAttr = _.makePredicate('selected checked disabled readonly required open autofocus controls autoplay compact loop defer multiple');

_.isFalse - function(){return false}
_.isTrue - function(){return true}

_.isExpr = function(expr){
  return expr && expr.type === 'expression';
}
// @TODO: make it more strict
_.isGroup = function(group){
  return group.inject || group.$inject;
}

_.getCompileFn = function(source, ctx, options){
  return ctx.$compile.bind(ctx,source, options)
}



}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9yZWd1bGFyanMvc3JjL3V0aWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi9oZWxwZXIvc2hpbS5qcycpKCk7XG52YXIgXyAgPSBtb2R1bGUuZXhwb3J0cztcbnZhciBlbnRpdGllcyA9IHJlcXVpcmUoJy4vaGVscGVyL2VudGl0aWVzLmpzJyk7XG52YXIgc2xpY2UgPSBbXS5zbGljZTtcbnZhciBvMnN0ciA9ICh7fSkudG9TdHJpbmc7XG52YXIgd2luID0gdHlwZW9mIHdpbmRvdyAhPT0ndW5kZWZpbmVkJz8gd2luZG93OiBnbG9iYWw7XG5cblxuXy5ub29wID0gZnVuY3Rpb24oKXt9O1xuXy51aWQgPSAoZnVuY3Rpb24oKXtcbiAgdmFyIF91aWQ9MDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIF91aWQrKztcbiAgfVxufSkoKTtcblxuXy5leHRlbmQgPSBmdW5jdGlvbiggbzEsIG8yLCBvdmVycmlkZSApe1xuICAvLyBpZihfLnR5cGVPZihvdmVycmlkZSkgPT09ICdhcnJheScpe1xuICAvLyAgZm9yKHZhciBpID0gMCwgbGVuID0gb3ZlcnJpZGUubGVuZ3RoOyBpIDwgbGVuOyBpKysgKXtcbiAgLy8gICB2YXIga2V5ID0gb3ZlcnJpZGVbaV07XG4gIC8vICAgbzFba2V5XSA9IG8yW2tleV07XG4gIC8vICB9IFxuICAvLyB9ZWxzZXtcbiAgZm9yKHZhciBpIGluIG8yKXtcbiAgICBpZiggdHlwZW9mIG8xW2ldID09PSBcInVuZGVmaW5lZFwiIHx8IG92ZXJyaWRlID09PSB0cnVlICl7XG4gICAgICBvMVtpXSA9IG8yW2ldXG4gICAgfVxuICB9XG4gIC8vIH1cbiAgcmV0dXJuIG8xO1xufVxuXG5fLmtleXMgPSBmdW5jdGlvbihvYmope1xuICBpZihPYmplY3Qua2V5cykgcmV0dXJuIE9iamVjdC5rZXlzKG9iaik7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yKHZhciBpIGluIG9iaikgaWYob2JqLmhhc093blByb3BlcnR5KGkpKXtcbiAgICByZXMucHVzaChpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG5fLnZhck5hbWUgPSAnZCc7XG5fLnNldE5hbWUgPSAncF8nO1xuXy5jdHhOYW1lID0gJ2MnO1xuXy5leHROYW1lID0gJ2UnO1xuXG5fLnJXb3JkID0gL15bXFwkXFx3XSskLztcbl8uclNpbXBsZUFjY2Vzc29yID0gL15bXFwkXFx3XSsoXFwuW1xcJFxcd10rKSokLztcblxuXy5uZXh0VGljayA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbic/IFxuICBzZXRJbW1lZGlhdGUuYmluZCh3aW4pIDogXG4gIGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgc2V0VGltZW91dChjYWxsYmFjaywgMCkgXG4gIH1cblxuXG5cbl8ucHJlZml4ID0gXCJ2YXIgXCIgKyBfLnZhck5hbWUgKyBcIj1cIiArIF8uY3R4TmFtZSArIFwiLmRhdGE7XCIgKyAgXy5leHROYW1lICArIFwiPVwiICsgXy5leHROYW1lICsgXCJ8fCcnO1wiO1xuXG5cbl8uc2xpY2UgPSBmdW5jdGlvbihvYmosIHN0YXJ0LCBlbmQpe1xuICB2YXIgcmVzID0gW107XG4gIGZvcih2YXIgaSA9IHN0YXJ0IHx8IDAsIGxlbiA9IGVuZCB8fCBvYmoubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuICAgIHZhciBpdGVtID0gb2JqW2ldO1xuICAgIHJlcy5wdXNoKGl0ZW0pXG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuXy50eXBlT2YgPSBmdW5jdGlvbiAobykge1xuICByZXR1cm4gbyA9PSBudWxsID8gU3RyaW5nKG8pIDpvMnN0ci5jYWxsKG8pLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5cbl8ubWFrZVByZWRpY2F0ZSA9IGZ1bmN0aW9uIG1ha2VQcmVkaWNhdGUod29yZHMsIHByZWZpeCkge1xuICAgIGlmICh0eXBlb2Ygd29yZHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgd29yZHMgPSB3b3Jkcy5zcGxpdChcIiBcIik7XG4gICAgfVxuICAgIHZhciBmID0gXCJcIixcbiAgICBjYXRzID0gW107XG4gICAgb3V0OiBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2F0cy5sZW5ndGg7ICsrail7XG4gICAgICAgICAgaWYgKGNhdHNbal1bMF0ubGVuZ3RoID09PSB3b3Jkc1tpXS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgY2F0c1tqXS5wdXNoKHdvcmRzW2ldKTtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRzLnB1c2goW3dvcmRzW2ldXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXBhcmVUbyhhcnIpIHtcbiAgICAgICAgaWYgKGFyci5sZW5ndGggPT09IDEpIHJldHVybiBmICs9IFwicmV0dXJuIHN0ciA9PT0gJ1wiICsgYXJyWzBdICsgXCInO1wiO1xuICAgICAgICBmICs9IFwic3dpdGNoKHN0cil7XCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKXtcbiAgICAgICAgICAgZiArPSBcImNhc2UgJ1wiICsgYXJyW2ldICsgXCInOlwiO1xuICAgICAgICB9XG4gICAgICAgIGYgKz0gXCJyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2U7XCI7XG4gICAgfVxuXG4gICAgLy8gV2hlbiB0aGVyZSBhcmUgbW9yZSB0aGFuIHRocmVlIGxlbmd0aCBjYXRlZ29yaWVzLCBhbiBvdXRlclxuICAgIC8vIHN3aXRjaCBmaXJzdCBkaXNwYXRjaGVzIG9uIHRoZSBsZW5ndGhzLCB0byBzYXZlIG9uIGNvbXBhcmlzb25zLlxuICAgIGlmIChjYXRzLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgY2F0cy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuICAgICAgICB9KTtcbiAgICAgICAgZiArPSBcInN3aXRjaChzdHIubGVuZ3RoKXtcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYXRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY2F0ID0gY2F0c1tpXTtcbiAgICAgICAgICAgIGYgKz0gXCJjYXNlIFwiICsgY2F0WzBdLmxlbmd0aCArIFwiOlwiO1xuICAgICAgICAgICAgY29tcGFyZVRvKGNhdCk7XG4gICAgICAgIH1cbiAgICAgICAgZiArPSBcIn1cIjtcblxuICAgICAgICAvLyBPdGhlcndpc2UsIHNpbXBseSBnZW5lcmF0ZSBhIGZsYXQgYHN3aXRjaGAgc3RhdGVtZW50LlxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBhcmVUbyh3b3Jkcyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRnVuY3Rpb24oXCJzdHJcIiwgZik7XG59XG5cblxuXy50cmFja0Vycm9yUG9zID0gKGZ1bmN0aW9uICgpe1xuICAvLyBsaW5lYnJlYWtcbiAgdmFyIGxiID0gL1xcclxcbnxbXFxuXFxyXFx1MjAyOFxcdTIwMjldL2c7XG4gIHZhciBtaW5SYW5nZSA9IDIwLCBtYXhSYW5nZSA9IDIwO1xuICBmdW5jdGlvbiBmaW5kTGluZShsaW5lcywgcG9zKXtcbiAgICB2YXIgdG1wTGVuID0gMDtcbiAgICBmb3IodmFyIGkgPSAwLGxlbiA9IGxpbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKXtcbiAgICAgIHZhciBsaW5lTGVuID0gKGxpbmVzW2ldIHx8IFwiXCIpLmxlbmd0aDtcblxuICAgICAgaWYodG1wTGVuICsgbGluZUxlbiA+IHBvcykge1xuICAgICAgICByZXR1cm4ge251bTogaSwgbGluZTogbGluZXNbaV0sIHN0YXJ0OiBwb3MgLSBpIC0gdG1wTGVuICwgcHJldjpsaW5lc1tpLTFdLCBuZXh0OiBsaW5lc1tpKzFdIH07XG4gICAgICB9XG4gICAgICAvLyAxIGlzIGZvciB0aGUgbGluZWJyZWFrXG4gICAgICB0bXBMZW4gPSB0bXBMZW4gKyBsaW5lTGVuIDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZm9ybWF0TGluZShzdHIsICBzdGFydCwgbnVtLCB0YXJnZXQpe1xuICAgIHZhciBsZW4gPSBzdHIubGVuZ3RoO1xuICAgIHZhciBtaW4gPSBzdGFydCAtIG1pblJhbmdlO1xuICAgIGlmKG1pbiA8IDApIG1pbiA9IDA7XG4gICAgdmFyIG1heCA9IHN0YXJ0ICsgbWF4UmFuZ2U7XG4gICAgaWYobWF4ID4gbGVuKSBtYXggPSBsZW47XG5cbiAgICB2YXIgcmVtYWluID0gc3RyLnNsaWNlKG1pbiwgbWF4KTtcbiAgICB2YXIgcHJlZml4ID0gXCJbXCIgKyhudW0rMSkgKyBcIl0gXCIgKyAobWluID4gMD8gXCIuLlwiIDogXCJcIilcbiAgICB2YXIgcG9zdGZpeCA9IG1heCA8IGxlbiA/IFwiLi5cIjogXCJcIjtcbiAgICB2YXIgcmVzID0gcHJlZml4ICsgcmVtYWluICsgcG9zdGZpeDtcbiAgICBpZih0YXJnZXQpIHJlcyArPSBcIlxcblwiICsgbmV3IEFycmF5KHN0YXJ0LW1pbiArIHByZWZpeC5sZW5ndGggKyAxKS5qb2luKFwiIFwiKSArIFwiXl5eXCI7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIHBvcyl7XG4gICAgaWYocG9zID4gaW5wdXQubGVuZ3RoLTEpIHBvcyA9IGlucHV0Lmxlbmd0aC0xO1xuICAgIGxiLmxhc3RJbmRleCA9IDA7XG4gICAgdmFyIGxpbmVzID0gaW5wdXQuc3BsaXQobGIpO1xuICAgIHZhciBsaW5lID0gZmluZExpbmUobGluZXMscG9zKTtcbiAgICB2YXIgc3RhcnQgPSBsaW5lLnN0YXJ0LCBudW0gPSBsaW5lLm51bTtcblxuICAgIHJldHVybiAobGluZS5wcmV2PyBmb3JtYXRMaW5lKGxpbmUucHJldiwgc3RhcnQsIG51bS0xICkgKyAnXFxuJzogJycgKSArIFxuICAgICAgZm9ybWF0TGluZShsaW5lLmxpbmUsIHN0YXJ0LCBudW0sIHRydWUpICsgJ1xcbicgKyBcbiAgICAgIChsaW5lLm5leHQ/IGZvcm1hdExpbmUobGluZS5uZXh0LCBzdGFydCwgbnVtKzEgKSArICdcXG4nOiAnJyApO1xuXG4gIH1cbn0pKCk7XG5cblxudmFyIGlnbm9yZWRSZWYgPSAvXFwoKFxcP1xcIXxcXD9cXDp8XFw/XFw9KS9nO1xuXy5maW5kU3ViQ2FwdHVyZSA9IGZ1bmN0aW9uIChyZWdTdHIpIHtcbiAgdmFyIGxlZnQgPSAwLFxuICAgIHJpZ2h0ID0gMCxcbiAgICBsZW4gPSByZWdTdHIubGVuZ3RoLFxuICAgIGlnbm9yZWQgPSByZWdTdHIubWF0Y2goaWdub3JlZFJlZik7IC8vIGlnbm9yZWQgdW5jYXB0dXJlXG4gIGlmKGlnbm9yZWQpIGlnbm9yZWQgPSBpZ25vcmVkLmxlbmd0aFxuICBlbHNlIGlnbm9yZWQgPSAwO1xuICBmb3IgKDsgbGVuLS07KSB7XG4gICAgdmFyIGxldHRlciA9IHJlZ1N0ci5jaGFyQXQobGVuKTtcbiAgICBpZiAobGVuID09PSAwIHx8IHJlZ1N0ci5jaGFyQXQobGVuIC0gMSkgIT09IFwiXFxcXFwiICkgeyBcbiAgICAgIGlmIChsZXR0ZXIgPT09IFwiKFwiKSBsZWZ0Kys7XG4gICAgICBpZiAobGV0dGVyID09PSBcIilcIikgcmlnaHQrKztcbiAgICB9XG4gIH1cbiAgaWYgKGxlZnQgIT09IHJpZ2h0KSB0aHJvdyBcIlJlZ0V4cDogXCIrIHJlZ1N0ciArIFwiJ3MgYnJhY2tldCBpcyBub3QgbWFyY2hlZFwiO1xuICBlbHNlIHJldHVybiBsZWZ0IC0gaWdub3JlZDtcbn07XG5cblxuXy5lc2NhcGVSZWdFeHAgPSBmdW5jdGlvbiggc3RyKXsvLyBDcmVkaXQ6IFhSZWdFeHAgMC42LjEgKGMpIDIwMDctMjAwOCBTdGV2ZW4gTGV2aXRoYW4gPGh0dHA6Ly9zdGV2ZW5sZXZpdGhhbi5jb20vcmVnZXgveHJlZ2V4cC8+IE1JVCBMaWNlbnNlXG4gIHJldHVybiBzdHIucmVwbGFjZSgvWy1bXFxde30oKSorPy5cXFxcXiR8LCNcXHNdL2csIGZ1bmN0aW9uKG1hdGNoKXtcbiAgICByZXR1cm4gJ1xcXFwnICsgbWF0Y2g7XG4gIH0pO1xufTtcblxuXG52YXIgckVudGl0eSA9IG5ldyBSZWdFeHAoXCImKFwiICsgXy5rZXlzKGVudGl0aWVzKS5qb2luKCd8JykgKyAnKTsnLCAnZ2knKTtcblxuXy5jb252ZXJ0RW50aXR5ID0gZnVuY3Rpb24oY2hyKXtcblxuICByZXR1cm4gKFwiXCIgKyBjaHIpLnJlcGxhY2UockVudGl0eSwgZnVuY3Rpb24oYWxsLCBjYXB0dXJlKXtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShlbnRpdGllc1tjYXB0dXJlXSlcbiAgfSk7XG5cbn1cblxuXG4vLyBzaW1wbGUgZ2V0IGFjY2Vzc29yXG5cbl8uY3JlYXRlT2JqZWN0ID0gZnVuY3Rpb24obywgcHJvcHMpe1xuICAgIGZ1bmN0aW9uIEZvbygpIHt9XG4gICAgRm9vLnByb3RvdHlwZSA9IG87XG4gICAgdmFyIHJlcyA9IG5ldyBGb287XG4gICAgaWYocHJvcHMpIF8uZXh0ZW5kKHJlcywgcHJvcHMpO1xuICAgIHJldHVybiByZXM7XG59XG5cbl8uY3JlYXRlUHJvdG8gPSBmdW5jdGlvbihmbiwgbyl7XG4gICAgZnVuY3Rpb24gRm9vKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZm47fVxuICAgIEZvby5wcm90b3R5cGUgPSBvO1xuICAgIHJldHVybiAoZm4ucHJvdG90eXBlID0gbmV3IEZvbygpKTtcbn1cblxuXG5cbi8qKlxuY2xvbmVcbiovXG5fLmNsb25lID0gZnVuY3Rpb24gY2xvbmUob2JqKXtcbiAgICB2YXIgdHlwZSA9IF8udHlwZU9mKG9iaik7XG4gICAgaWYodHlwZSA9PT0gJ2FycmF5Jyl7XG4gICAgICB2YXIgY2xvbmVkID0gW107XG4gICAgICBmb3IodmFyIGk9MCxsZW4gPSBvYmoubGVuZ3RoOyBpPCBsZW47aSsrKXtcbiAgICAgICAgY2xvbmVkW2ldID0gb2JqW2ldXG4gICAgICB9XG4gICAgICByZXR1cm4gY2xvbmVkO1xuICAgIH1cbiAgICBpZih0eXBlID09PSAnb2JqZWN0Jyl7XG4gICAgICB2YXIgY2xvbmVkID0ge307XG4gICAgICBmb3IodmFyIGkgaW4gb2JqKSBpZihvYmouaGFzT3duUHJvcGVydHkoaSkpe1xuICAgICAgICBjbG9uZWRbaV0gPSBvYmpbaV07XG4gICAgICB9XG4gICAgICByZXR1cm4gY2xvbmVkO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbl8uZXF1YWxzID0gZnVuY3Rpb24obm93LCBvbGQpe1xuICB2YXIgdHlwZSA9IHR5cGVvZiBub3c7XG4gIGlmKHR5cGUgPT09ICdudW1iZXInICYmIHR5cGVvZiBvbGQgPT09ICdudW1iZXInJiYgaXNOYU4obm93KSAmJiBpc05hTihvbGQpKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gbm93ID09PSBvbGQ7XG59XG5cbnZhciBkYXNoID0gLy0oW2Etel0pL2c7XG5fLmNhbWVsQ2FzZSA9IGZ1bmN0aW9uKHN0cil7XG4gIHJldHVybiBzdHIucmVwbGFjZShkYXNoLCBmdW5jdGlvbihhbGwsIGNhcHR1cmUpe1xuICAgIHJldHVybiBjYXB0dXJlLnRvVXBwZXJDYXNlKCk7XG4gIH0pXG59XG5cblxuXG5fLnRocm90dGxlID0gZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCl7XG4gIHZhciB3YWl0ID0gd2FpdCB8fCAxMDA7XG4gIHZhciBjb250ZXh0LCBhcmdzLCByZXN1bHQ7XG4gIHZhciB0aW1lb3V0ID0gbnVsbDtcbiAgdmFyIHByZXZpb3VzID0gMDtcbiAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgcHJldmlvdXMgPSArbmV3IERhdGU7XG4gICAgdGltZW91dCA9IG51bGw7XG4gICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gIH07XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbm93ID0gKyBuZXcgRGF0ZTtcbiAgICB2YXIgcmVtYWluaW5nID0gd2FpdCAtIChub3cgLSBwcmV2aW91cyk7XG4gICAgY29udGV4dCA9IHRoaXM7XG4gICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICBpZiAocmVtYWluaW5nIDw9IDAgfHwgcmVtYWluaW5nID4gd2FpdCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfSBlbHNlIGlmICghdGltZW91dCkge1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59O1xuXG4vLyBob2dhbiBlc2NhcGVcbi8vID09PT09PT09PT09PT09XG5fLmVzY2FwZSA9IChmdW5jdGlvbigpe1xuICB2YXIgckFtcCA9IC8mL2csXG4gICAgICByTHQgPSAvPC9nLFxuICAgICAgckd0ID0gLz4vZyxcbiAgICAgIHJBcG9zID0gL1xcJy9nLFxuICAgICAgclF1b3QgPSAvXFxcIi9nLFxuICAgICAgaENoYXJzID0gL1smPD5cXFwiXFwnXS87XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKHN0cikge1xuICAgIHJldHVybiBoQ2hhcnMudGVzdChzdHIpID9cbiAgICAgIHN0clxuICAgICAgICAucmVwbGFjZShyQW1wLCAnJmFtcDsnKVxuICAgICAgICAucmVwbGFjZShyTHQsICcmbHQ7JylcbiAgICAgICAgLnJlcGxhY2Uockd0LCAnJmd0OycpXG4gICAgICAgIC5yZXBsYWNlKHJBcG9zLCAnJiMzOTsnKVxuICAgICAgICAucmVwbGFjZShyUXVvdCwgJyZxdW90OycpIDpcbiAgICAgIHN0cjtcbiAgfVxufSkoKTtcblxuXy5jYWNoZSA9IGZ1bmN0aW9uKG1heCl7XG4gIG1heCA9IG1heCB8fCAxMDAwO1xuICB2YXIga2V5cyA9IFtdLFxuICAgICAgY2FjaGUgPSB7fTtcbiAgcmV0dXJuIHtcbiAgICBzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChrZXlzLmxlbmd0aCA+IHRoaXMubWF4KSB7XG4gICAgICAgIGNhY2hlW2tleXMuc2hpZnQoKV0gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICAvLyBcbiAgICAgIGlmKGNhY2hlW2tleV0gPT09IHVuZGVmaW5lZCl7XG4gICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgfVxuICAgICAgY2FjaGVba2V5XSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGNhY2hlO1xuICAgICAgcmV0dXJuIGNhY2hlW2tleV07XG4gICAgfSxcbiAgICBtYXg6IG1heCxcbiAgICBsZW46ZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBrZXlzLmxlbmd0aDtcbiAgICB9XG4gIH07XG59XG5cbi8vIC8vIHNldHVwIHRoZSByYXcgRXhwcmVzc2lvblxuLy8gXy50b3VjaEV4cHJlc3Npb24gPSBmdW5jdGlvbihleHByKXtcbi8vICAgaWYoZXhwci50eXBlID09PSAnZXhwcmVzc2lvbicpe1xuLy8gICB9XG4vLyAgIHJldHVybiBleHByO1xuLy8gfVxuXG5cbi8vIGhhbmRsZSB0aGUgc2FtZSBsb2dpYyBvbiBjb21wb25lbnQncyBgb24tKmAgYW5kIGVsZW1lbnQncyBgb24tKmBcbi8vIHJldHVybiB0aGUgZmlyZSBvYmplY3Rcbl8uaGFuZGxlRXZlbnQgPSBmdW5jdGlvbih2YWx1ZSwgdHlwZSApe1xuICB2YXIgc2VsZiA9IHRoaXMsIGV2YWx1YXRlO1xuICBpZih2YWx1ZS50eXBlID09PSAnZXhwcmVzc2lvbicpeyAvLyBpZiBpcyBleHByZXNzaW9uLCBnbyBldmFsdWF0ZWQgd2F5XG4gICAgZXZhbHVhdGUgPSB2YWx1ZS5nZXQ7XG4gIH1cbiAgaWYoZXZhbHVhdGUpe1xuICAgIHJldHVybiBmdW5jdGlvbiBmaXJlKG9iail7XG4gICAgICBzZWxmLmRhdGEuJGV2ZW50ID0gb2JqO1xuICAgICAgdmFyIHJlcyA9IGV2YWx1YXRlKHNlbGYpO1xuICAgICAgaWYocmVzID09PSBmYWxzZSAmJiBvYmogJiYgb2JqLnByZXZlbnREZWZhdWx0KSBvYmoucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNlbGYuZGF0YS4kZXZlbnQgPSB1bmRlZmluZWQ7XG4gICAgICBzZWxmLiR1cGRhdGUoKTtcbiAgICB9XG4gIH1lbHNle1xuICAgIHJldHVybiBmdW5jdGlvbiBmaXJlKCl7XG4gICAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKSAgICAgIFxuICAgICAgYXJncy51bnNoaWZ0KHZhbHVlKTtcbiAgICAgIHNlbGYuJGVtaXQuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICBzZWxmLiR1cGRhdGUoKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gb25seSBjYWxsIG9uY2Vcbl8ub25jZSA9IGZ1bmN0aW9uKGZuKXtcbiAgdmFyIHRpbWUgPSAwO1xuICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICBpZiggdGltZSsrID09PSAwKSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG59XG5cbl8uZml4T2JqU3RyID0gZnVuY3Rpb24oc3RyKXtcbiAgaWYoc3RyLnRyaW0oKS5pbmRleE9mKCd7JykgIT09IDApe1xuICAgIHJldHVybiAneycgKyBzdHIgKyAnfSc7XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn1cblxuXG5cbl8ubG9nID0gZnVuY3Rpb24obXNnLCB0eXBlKXtcbiAgaWYodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIpICBjb25zb2xlW3R5cGUgfHwgXCJsb2dcIl0obXNnKTtcbn1cblxuXG5cblxuLy9odHRwOi8vd3d3LnczLm9yZy9odG1sL3dnL2RyYWZ0cy9odG1sL21hc3Rlci9zaW5nbGUtcGFnZS5odG1sI3ZvaWQtZWxlbWVudHNcbl8uaXNWb2lkVGFnID0gXy5tYWtlUHJlZGljYXRlKFwiYXJlYSBiYXNlIGJyIGNvbCBlbWJlZCBociBpbWcgaW5wdXQga2V5Z2VuIGxpbmsgbWVudWl0ZW0gbWV0YSBwYXJhbSBzb3VyY2UgdHJhY2sgd2JyIHItY29udGVudFwiKTtcbl8uaXNCb29sZWFuQXR0ciA9IF8ubWFrZVByZWRpY2F0ZSgnc2VsZWN0ZWQgY2hlY2tlZCBkaXNhYmxlZCByZWFkb25seSByZXF1aXJlZCBvcGVuIGF1dG9mb2N1cyBjb250cm9scyBhdXRvcGxheSBjb21wYWN0IGxvb3AgZGVmZXIgbXVsdGlwbGUnKTtcblxuXy5pc0ZhbHNlIC0gZnVuY3Rpb24oKXtyZXR1cm4gZmFsc2V9XG5fLmlzVHJ1ZSAtIGZ1bmN0aW9uKCl7cmV0dXJuIHRydWV9XG5cbl8uaXNFeHByID0gZnVuY3Rpb24oZXhwcil7XG4gIHJldHVybiBleHByICYmIGV4cHIudHlwZSA9PT0gJ2V4cHJlc3Npb24nO1xufVxuLy8gQFRPRE86IG1ha2UgaXQgbW9yZSBzdHJpY3Rcbl8uaXNHcm91cCA9IGZ1bmN0aW9uKGdyb3VwKXtcbiAgcmV0dXJuIGdyb3VwLmluamVjdCB8fCBncm91cC4kaW5qZWN0O1xufVxuXG5fLmdldENvbXBpbGVGbiA9IGZ1bmN0aW9uKHNvdXJjZSwgY3R4LCBvcHRpb25zKXtcbiAgcmV0dXJuIGN0eC4kY29tcGlsZS5iaW5kKGN0eCxzb3VyY2UsIG9wdGlvbnMpXG59XG5cblxuIl19
},{"./helper/entities.js":16,"./helper/shim.js":21}],29:[function(require,module,exports){
var diffArray = require('./helper/arrayDiff.js');
var combine = require('./helper/combine.js');
var animate = require("./helper/animate.js");
var node = require("./parser/node.js");
var Group = require('./group.js');
var dom = require("./dom.js");
var _ = require('./util');


var walkers = module.exports = {};

walkers.list = function(ast, options){

  var Regular = walkers.Regular;  
  var placeholder = document.createComment("Regular list"),
    namespace = options.namespace,
    extra = options.extra;
  var self = this;
  var group = new Group([placeholder]);
  var indexName = ast.variable + '_index';
  var variable = ast.variable;
  var alternate = ast.alternate;
  var track = ast.track, keyOf, extraObj;
  if( track && track !== true ){
    track = this._touchExpr(track);
    extraObj = _.createObject(extra);
    keyOf = function( item, index ){
      extraObj[ variable ] = item;
      extraObj[ indexName ] = index;
      return track.get( self, extraObj );
    }
  }
  function removeRange(index, rlen){
    for(var j = 0; j< rlen; j++){ //removed
      var removed = group.children.splice( index + 1, 1)[0];
      removed.destroy(true);
    }
  }
  function addRange(index, end, newValue){
    for(var o = index; o < end; o++){ //add
      // prototype inherit
      var item = newValue[o];
      var data = {};
      data[indexName] = o;
      data[variable] = item;

      data = _.createObject(extra, data);
      var section = self.$compile(ast.body, {
        extra: data,
        namespace:namespace,
        record: true,
        outer: options.outer
      })
      section.data = data;
      // autolink
      var insert =  combine.last(group.get(o));
      if(insert.parentNode){
        animate.inject(combine.node(section),insert, 'after');
      }
      // insert.parentNode.insertBefore(combine.node(section), insert.nextSibling);
      group.children.splice( o + 1 , 0, section);
    }
  }

  function updateRange(start, end, newValue){
    for(var k = start; k < end; k++){ // no change
      var sect = group.get( k + 1 );
      sect.data[ indexName ] = k;
      sect.data[ variable ] = newValue[k];
    }
  }

  function updateLD(newValue, oldValue, splices){
    if(!oldValue) oldValue = [];
    if(!newValue) newValue = [];


    var cur = placeholder;
    var m = 0, len = newValue.length;

    if(!splices && (len !==0 || oldValue.length !==0)  ){
      splices = diffArray(newValue, oldValue);
    }

    if(!splices || !splices.length) return;
      
    for(var i = 0; i < splices.length; i++){ //init
      var splice = splices[i];
      var index = splice.index; // beacuse we use a comment for placeholder
      var removed = splice.removed;
      var add = splice.add;
      var rlen = removed.length;
      // for track
      if( track && rlen && add ){
        var minar = Math.min(rlen, add);
        var tIndex = 0;
        while(tIndex < minar){
          if( keyOf(newValue[index], index) !== keyOf( removed[0], index ) ){
            removeRange(index, 1)
            addRange(index, index+1, newValue)
          }
          removed.shift();
          add--;
          index++;
          tIndex++;
        }
        rlen = removed.length;
      }
      // update
      updateRange(m, index, newValue);
      removeRange( index ,rlen)

      addRange(index, index+add, newValue)

      m = index + add - rlen;
      m  = m < 0? 0 : m;

    }
    if(m < len){
      for(var i = m; i < len; i++){
        var pair = group.get(i + 1);
        pair.data[indexName] = i;
      }
    }
  }

  // if the track is constant test.
  function updateSimple(newValue, oldValue){
    newValue = newValue || [];
    oldValue  = oldValue || [];

    var nlen = newValue.length || 0;
    var olen = oldValue.length || 0;
    var mlen = Math.min(nlen, olen);


    updateRange(0, mlen, newValue)
    if(nlen < olen){ //need add
      removeRange(nlen, olen-nlen);
    }else if(nlen > olen){
      addRange(olen, nlen, newValue);
    }
  }

  function update(newValue, oldValue, splices){
    var nlen = newValue && newValue.length;
    var olen = oldValue && oldValue.length;
    if( !olen && nlen && group.get(1)){
      var altGroup = group.children.pop();
      if(altGroup.destroy)  altGroup.destroy(true);
    }

    if(track === true){
      updateSimple(newValue, oldValue, splices)
    }else{
      updateLD(newValue, oldValue, splices)
    }

    // @ {#list} {#else}
    if( !nlen && alternate && alternate.length){
      var section = self.$compile(alternate, {
        extra: extra,
        record: true,
        outer: options.outer,
        namespace: namespace
      })
      group.children.push(section);
      if(placeholder.parentNode){
        animate.inject(combine.node(section), placeholder, 'after');
      }
    }
  }
  this.$watch(ast.sequence, update, { init: true, indexTrack: track === true });
  return group;
}
// {#include } or {#inc template}
walkers.template = function(ast, options){
  var content = ast.content, compiled;
  var placeholder = document.createComment('inlcude');
  var compiled, namespace = options.namespace, extra = options.extra;
  var group = new Group([placeholder]);
  if(content){
    var self = this;
    this.$watch(content, function(value){
      var removed = group.get(1), type= typeof value;
      if( removed){
        removed.destroy(true); 
        group.children.pop();
      }
      if(!value) return;
      group.push( compiled = (typeof value === 'function') ? value(): self.$compile(value, {record: true, outer: options.outer,namespace: namespace, extra: extra}) ); 
      if(placeholder.parentNode) {
        compiled.$inject(placeholder, 'before')
      }
    }, {
      init: true
    });
  }
  return group;
};


// how to resolve this problem
var ii = 0;
walkers['if'] = function(ast, options){
  var self = this, consequent, alternate, extra = options.extra;
  if(options && options.element){ // attribute inteplation
    var update = function(nvalue){
      if(!!nvalue){
        if(alternate) combine.destroy(alternate)
        if(ast.consequent) consequent = self.$compile(ast.consequent, {record: true, element: options.element , extra:extra});
      }else{
        if(consequent) combine.destroy(consequent)
        if(ast.alternate) alternate = self.$compile(ast.alternate, {record: true, element: options.element, extra: extra});
      }
    }
    this.$watch(ast.test, update, { force: true });
    return {
      destroy: function(){
        if(consequent) combine.destroy(consequent);
        else if(alternate) combine.destroy(alternate);
      }
    }
  }

  var test, consequent, alternate, node;
  var placeholder = document.createComment("Regular if" + ii++);
  var group = new Group();
  group.push(placeholder);
  var preValue = null, namespace= options.namespace;


  var update = function (nvalue, old){
    var value = !!nvalue;
    if(value === preValue) return;
    preValue = value;
    if(group.children[1]){
      group.children[1].destroy(true);
      group.children.pop();
    }
    if(value){ //true
      if(ast.consequent && ast.consequent.length){
        consequent = self.$compile( ast.consequent , {record:true, outer: options.outer,namespace: namespace, extra:extra })
        // placeholder.parentNode && placeholder.parentNode.insertBefore( node, placeholder );
        group.push(consequent);
        if(placeholder.parentNode){
          animate.inject(combine.node(consequent), placeholder, 'before');
        }
      }
    }else{ //false
      if(ast.alternate && ast.alternate.length){
        alternate = self.$compile(ast.alternate, {record:true, outer: options.outer,namespace: namespace, extra:extra});
        group.push(alternate);
        if(placeholder.parentNode){
          animate.inject(combine.node(alternate), placeholder, 'before');
        }
      }
    }
  }
  this.$watch(ast.test, update, {force: true, init: true});

  return group;
}


walkers.expression = function(ast, options){
  var node = document.createTextNode("");
  this.$watch(ast, function(newval){
    dom.text(node, "" + (newval == null? "": "" + newval) );
  })
  return node;
}
walkers.text = function(ast, options){
  var node = document.createTextNode(_.convertEntity(ast.text));
  return node;
}



var eventReg = /^on-(.+)$/

/**
 * walkers element (contains component)
 */
walkers.element = function(ast, options){
  var attrs = ast.attrs, self = this,
    Constructor = this.constructor,
    children = ast.children,
    namespace = options.namespace, 
    extra = options.extra,
    tag = ast.tag,
    Component = Constructor.component(tag),
    ref, group, element;

  if( tag === 'r-content' ){
    _.log('r-content is deprecated, use {#inc this.$body} instead (`{#include}` as same)', 'warn');
    return this.$body && this.$body();
  } 

  if(Component || tag === 'r-component'){
    options.Component = Component;
    return walkers.component.call(this, ast, options)
  }

  if(tag === 'svg') namespace = "svg";
  // @Deprecated: may be removed in next version, use {#inc } instead
  
  if( children && children.length ){
    group = this.$compile(children, {outer: options.outer,namespace: namespace, extra: extra });
  }

  element = dom.create(tag, namespace, attrs);

  if(group && !_.isVoidTag(tag)){
    dom.inject( combine.node(group) , element)
  }

  // sort before
  if(!ast.touched){
    attrs.sort(function(a1, a2){
      var d1 = Constructor.directive(a1.name),
        d2 = Constructor.directive(a2.name);
      if( d1 && d2 ) return (d2.priority || 1) - (d1.priority || 1);
      if(d1) return 1;
      if(d2) return -1;
      if(a2.name === "type") return 1;
      return -1;
    })
    ast.touched = true;
  }
  // may distinct with if else
  var destroies = walkAttributes.call(this, attrs, element, extra);

  return {
    type: "element",
    group: group,
    node: function(){
      return element;
    },
    last: function(){
      return element;
    },
    destroy: function(first){
      if( first ){
        animate.remove( element, group? group.destroy.bind( group ): _.noop );
      }else if(group) {
        group.destroy();
      }
      // destroy ref
      if( destroies.length ) {
        destroies.forEach(function( destroy ){
          if( destroy ){
            if( typeof destroy.destroy === 'function' ){
              destroy.destroy()
            }else{
              destroy();
            }
          }
        })
      }
    }
  }
}

walkers.component = function(ast, options){
  var attrs = ast.attrs, 
    Component = options.Component,
    Constructor = this.constructor,
    isolate, 
    extra = options.extra,
    namespace = options.namespace,
    ref, self = this, is;

  var data = {}, events;

  for(var i = 0, len = attrs.length; i < len; i++){
    var attr = attrs[i];
    // consider disabled   equlasto  disabled={true}
    var value = this._touchExpr(attr.value === undefined? true: attr.value);
    if(value.constant) value = attr.value = value.get(this);
    if(attr.value && attr.value.constant === true){
      value = value.get(this);
    }
    var name = attr.name;
    if(!attr.event){
      var etest = name.match(eventReg);
      // event: 'nav'
      if(etest) attr.event = etest[1];
    }

    // @compile modifier
    if(attr.mdf === 'cmpl'){
      value = _.getCompileFn(value, this, {
        record: true, 
        namespace:namespace, 
        extra: extra, 
        outer: options.outer
      })
    }
    
    // @if is r-component . we need to find the target Component
    if(name === 'is' && !Component){
      is = value;
      var componentName = this.$get(value, true);
      Component = Constructor.component(componentName)
      if(typeof Component !== 'function') throw new Error("component " + componentName + " has not registed!");
    }
    // bind event proxy
    var eventName;
    if(eventName = attr.event){
      events = events || {};
      events[eventName] = _.handleEvent.call(this, value, eventName);
      continue;
    }else {
      name = attr.name = _.camelCase(name);
    }

    if(value.type !== 'expression'){
      data[name] = value;
    }else{
      data[name] = value.get(self); 
    }
    if( name === 'ref'  && value != null){
      ref = value
    }
    if( name === 'isolate'){
      // 1: stop: composite -> parent
      // 2. stop: composite <- parent
      // 3. stop 1 and 2: composite <-> parent
      // 0. stop nothing (defualt)
      isolate = value.type === 'expression'? value.get(self): parseInt(value === true? 3: value, 10);
      data.isolate = isolate;
    }
  }

  var definition = { 
    data: data, 
    events: events, 
    $parent: this,
    $root: this.$root,
    $outer: options.outer,
    _body: ast.children
  }
  var options = {
    namespace: namespace, 
    extra: options.extra
  }


  var component = new Component(definition, options), reflink;


  if(ref && this.$refs){
    reflink = Component.directive('ref').link
    this.$on('$destroy', reflink.call(this, component, ref) )
  }
  if(ref &&  self.$refs) self.$refs[ref] = component;
  for(var i = 0, len = attrs.length; i < len; i++){
    var attr = attrs[i];
    var value = attr.value||true;
    var name = attr.name;
    // need compiled
    if(value.type === 'expression' && !attr.event){
      value = self._touchExpr(value);
      // use bit operate to control scope
      if( !(isolate & 2) ) 
        this.$watch(value, component.$update.bind(component, name))
      if( value.set && !(isolate & 1 ) ) 
        // sync the data. it force the component don't trigger attr.name's first dirty echeck
        component.$watch(name, self.$update.bind(self, value), {sync: true});
    }
  }
  if(is && is.type === 'expression'  ){
    var group = new Group();
    group.push(component);
    this.$watch(is, function(value){
      // found the new component
      var Component = Constructor.component(value);
      if(!Component) throw new Error("component " + value + " has not registed!");
      var ncomponent = new Component(definition);
      var component = group.children.pop();
      group.push(ncomponent);
      ncomponent.$inject(combine.last(component), 'after')
      component.destroy();
      // @TODO  if component changed , we need update ref
      if(ref){
        self.$refs[ref] = ncomponent;
      }
    }, {sync: true})
    return group;
  }
  return component;
}

function walkAttributes(attrs, element, extra){
  var bindings = []
  for(var i = 0, len = attrs.length; i < len; i++){
    var binding = this._walk(attrs[i], {element: element, fromElement: true, attrs: attrs, extra: extra})
    if(binding) bindings.push(binding);
  }
  return bindings;
}

walkers.attribute = function(ast ,options){

  var attr = ast;
  var name = attr.name;
  var value = attr.value || "";
  var constant = value.constant;
  var Component = this.constructor;
  var directive = Component.directive(name);
  var element = options.element;
  var self = this;


  value = this._touchExpr(value);

  if(constant) value = value.get(this);

  if(directive && directive.link){
    var binding = directive.link.call(self, element, value, name, options.attrs);
    if(typeof binding === 'function') binding = {destroy: binding}; 
    return binding;
  } else{
    if(value.type === 'expression' ){
      this.$watch(value, function(nvalue, old){
        dom.attr(element, name, nvalue);
      }, {init: true});
    }else{
      if(_.isBooleanAttr(name)){
        dom.attr(element, name, true);
      }else{
        dom.attr(element, name, value);
      }
    }
    if(!options.fromElement){
      return {
        destroy: function(){
          dom.attr(element, name, null);
        }
      }
    }
  }

}


},{"./dom.js":10,"./group.js":12,"./helper/animate.js":13,"./helper/arrayDiff.js":14,"./helper/combine.js":15,"./parser/node.js":27,"./util":28}],30:[function(require,module,exports){
/*!
  * Reqwest! A general purpose XHR connection manager
  * license MIT (c) Dustin Diaz 2014
  * https://github.com/ded/reqwest
  */

!function (name, context, definition) {
  if (typeof module != 'undefined' && module.exports) module.exports = definition()
  else if (typeof define == 'function' && define.amd) define(definition)
  else context[name] = definition()
}('reqwest', this, function () {

  var win = window
    , doc = document
    , httpsRe = /^http/
    , protocolRe = /(^\w+):\/\//
    , twoHundo = /^(20\d|1223)$/ //http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request
    , byTag = 'getElementsByTagName'
    , readyState = 'readyState'
    , contentType = 'Content-Type'
    , requestedWith = 'X-Requested-With'
    , head = doc[byTag]('head')[0]
    , uniqid = 0
    , callbackPrefix = 'reqwest_' + (+new Date())
    , lastValue // data stored by the most recent JSONP callback
    , xmlHttpRequest = 'XMLHttpRequest'
    , xDomainRequest = 'XDomainRequest'
    , noop = function () {}

    , isArray = typeof Array.isArray == 'function'
        ? Array.isArray
        : function (a) {
            return a instanceof Array
          }

    , defaultHeaders = {
          'contentType': 'application/x-www-form-urlencoded'
        , 'requestedWith': xmlHttpRequest
        , 'accept': {
              '*':  'text/javascript, text/html, application/xml, text/xml, */*'
            , 'xml':  'application/xml, text/xml'
            , 'html': 'text/html'
            , 'text': 'text/plain'
            , 'json': 'application/json, text/javascript'
            , 'js':   'application/javascript, text/javascript'
          }
      }

    , xhr = function(o) {
        // is it x-domain
        if (o['crossOrigin'] === true) {
          var xhr = win[xmlHttpRequest] ? new XMLHttpRequest() : null
          if (xhr && 'withCredentials' in xhr) {
            return xhr
          } else if (win[xDomainRequest]) {
            return new XDomainRequest()
          } else {
            throw new Error('Browser does not support cross-origin requests')
          }
        } else if (win[xmlHttpRequest]) {
          return new XMLHttpRequest()
        } else {
          return new ActiveXObject('Microsoft.XMLHTTP')
        }
      }
    , globalSetupOptions = {
        dataFilter: function (data) {
          return data
        }
      }

  function succeed(r) {
    var protocol = protocolRe.exec(r.url);
    protocol = (protocol && protocol[1]) || window.location.protocol;
    return httpsRe.test(protocol) ? twoHundo.test(r.request.status) : !!r.request.response;
  }

  function handleReadyState(r, success, error) {
    return function () {
      // use _aborted to mitigate against IE err c00c023f
      // (can't read props on aborted request objects)
      if (r._aborted) return error(r.request)
      if (r._timedOut) return error(r.request, 'Request is aborted: timeout')
      if (r.request && r.request[readyState] == 4) {
        r.request.onreadystatechange = noop
        if (succeed(r)) success(r.request)
        else
          error(r.request)
      }
    }
  }

  function setHeaders(http, o) {
    var headers = o['headers'] || {}
      , h

    headers['Accept'] = headers['Accept']
      || defaultHeaders['accept'][o['type']]
      || defaultHeaders['accept']['*']

    var isAFormData = typeof FormData === 'function' && (o['data'] instanceof FormData);
    // breaks cross-origin requests with legacy browsers
    if (!o['crossOrigin'] && !headers[requestedWith]) headers[requestedWith] = defaultHeaders['requestedWith']
    if (!headers[contentType] && !isAFormData) headers[contentType] = o['contentType'] || defaultHeaders['contentType']
    for (h in headers)
      headers.hasOwnProperty(h) && 'setRequestHeader' in http && http.setRequestHeader(h, headers[h])
  }

  function setCredentials(http, o) {
    if (typeof o['withCredentials'] !== 'undefined' && typeof http.withCredentials !== 'undefined') {
      http.withCredentials = !!o['withCredentials']
    }
  }

  function generalCallback(data) {
    lastValue = data
  }

  function urlappend (url, s) {
    return url + (/\?/.test(url) ? '&' : '?') + s
  }

  function handleJsonp(o, fn, err, url) {
    var reqId = uniqid++
      , cbkey = o['jsonpCallback'] || 'callback' // the 'callback' key
      , cbval = o['jsonpCallbackName'] || reqwest.getcallbackPrefix(reqId)
      , cbreg = new RegExp('((^|\\?|&)' + cbkey + ')=([^&]+)')
      , match = url.match(cbreg)
      , script = doc.createElement('script')
      , loaded = 0
      , isIE10 = navigator.userAgent.indexOf('MSIE 10.0') !== -1

    if (match) {
      if (match[3] === '?') {
        url = url.replace(cbreg, '$1=' + cbval) // wildcard callback func name
      } else {
        cbval = match[3] // provided callback func name
      }
    } else {
      url = urlappend(url, cbkey + '=' + cbval) // no callback details, add 'em
    }

    win[cbval] = generalCallback

    script.type = 'text/javascript'
    script.src = url
    script.async = true
    if (typeof script.onreadystatechange !== 'undefined' && !isIE10) {
      // need this for IE due to out-of-order onreadystatechange(), binding script
      // execution to an event listener gives us control over when the script
      // is executed. See http://jaubourg.net/2010/07/loading-script-as-onclick-handler-of.html
      script.htmlFor = script.id = '_reqwest_' + reqId
    }

    script.onload = script.onreadystatechange = function () {
      if ((script[readyState] && script[readyState] !== 'complete' && script[readyState] !== 'loaded') || loaded) {
        return false
      }
      script.onload = script.onreadystatechange = null
      script.onclick && script.onclick()
      // Call the user callback with the last value stored and clean up values and scripts.
      fn(lastValue)
      lastValue = undefined
      head.removeChild(script)
      loaded = 1
    }

    // Add the script to the DOM head
    head.appendChild(script)

    // Enable JSONP timeout
    return {
      abort: function () {
        script.onload = script.onreadystatechange = null
        err({}, 'Request is aborted: timeout', {})
        lastValue = undefined
        head.removeChild(script)
        loaded = 1
      }
    }
  }

  function getRequest(fn, err) {
    var o = this.o
      , method = (o['method'] || 'GET').toUpperCase()
      , url = typeof o === 'string' ? o : o['url']
      // convert non-string objects to query-string form unless o['processData'] is false
      , data = (o['processData'] !== false && o['data'] && typeof o['data'] !== 'string')
        ? reqwest.toQueryString(o['data'])
        : (o['data'] || null)
      , http
      , sendWait = false

    // if we're working on a GET request and we have data then we should append
    // query string to end of URL and not post data
    if ((o['type'] == 'jsonp' || method == 'GET') && data) {
      url = urlappend(url, data)
      data = null
    }

    if (o['type'] == 'jsonp') return handleJsonp(o, fn, err, url)

    // get the xhr from the factory if passed
    // if the factory returns null, fall-back to ours
    http = (o.xhr && o.xhr(o)) || xhr(o)

    http.open(method, url, o['async'] === false ? false : true)
    setHeaders(http, o)
    setCredentials(http, o)
    if (win[xDomainRequest] && http instanceof win[xDomainRequest]) {
        http.onload = fn
        http.onerror = err
        // NOTE: see
        // http://social.msdn.microsoft.com/Forums/en-US/iewebdevelopment/thread/30ef3add-767c-4436-b8a9-f1ca19b4812e
        http.onprogress = function() {}
        sendWait = true
    } else {
      http.onreadystatechange = handleReadyState(this, fn, err)
    }
    o['before'] && o['before'](http)
    if (sendWait) {
      setTimeout(function () {
        http.send(data)
      }, 200)
    } else {
      http.send(data)
    }
    return http
  }

  function Reqwest(o, fn) {
    this.o = o
    this.fn = fn

    init.apply(this, arguments)
  }

  function setType(header) {
    // json, javascript, text/plain, text/html, xml
    if (header.match('json')) return 'json'
    if (header.match('javascript')) return 'js'
    if (header.match('text')) return 'html'
    if (header.match('xml')) return 'xml'
  }

  function init(o, fn) {

    this.url = typeof o == 'string' ? o : o['url']
    this.timeout = null

    // whether request has been fulfilled for purpose
    // of tracking the Promises
    this._fulfilled = false
    // success handlers
    this._successHandler = function(){}
    this._fulfillmentHandlers = []
    // error handlers
    this._errorHandlers = []
    // complete (both success and fail) handlers
    this._completeHandlers = []
    this._erred = false
    this._responseArgs = {}

    var self = this

    fn = fn || function () {}

    if (o['timeout']) {
      this.timeout = setTimeout(function () {
        timedOut()
      }, o['timeout'])
    }

    if (o['success']) {
      this._successHandler = function () {
        o['success'].apply(o, arguments)
      }
    }

    if (o['error']) {
      this._errorHandlers.push(function () {
        o['error'].apply(o, arguments)
      })
    }

    if (o['complete']) {
      this._completeHandlers.push(function () {
        o['complete'].apply(o, arguments)
      })
    }

    function complete (resp) {
      o['timeout'] && clearTimeout(self.timeout)
      self.timeout = null
      while (self._completeHandlers.length > 0) {
        self._completeHandlers.shift()(resp)
      }
    }

    function success (resp) {
      var type = o['type'] || resp && setType(resp.getResponseHeader('Content-Type')) // resp can be undefined in IE
      resp = (type !== 'jsonp') ? self.request : resp
      // use global data filter on response text
      var filteredResponse = globalSetupOptions.dataFilter(resp.responseText, type)
        , r = filteredResponse
      try {
        resp.responseText = r
      } catch (e) {
        // can't assign this in IE<=8, just ignore
      }
      if (r) {
        switch (type) {
        case 'json':
          try {
            resp = win.JSON ? win.JSON.parse(r) : eval('(' + r + ')')
          } catch (err) {
            return error(resp, 'Could not parse JSON in response', err)
          }
          break
        case 'js':
          resp = eval(r)
          break
        case 'html':
          resp = r
          break
        case 'xml':
          resp = resp.responseXML
              && resp.responseXML.parseError // IE trololo
              && resp.responseXML.parseError.errorCode
              && resp.responseXML.parseError.reason
            ? null
            : resp.responseXML
          break
        }
      }

      self._responseArgs.resp = resp
      self._fulfilled = true
      fn(resp)
      self._successHandler(resp)
      while (self._fulfillmentHandlers.length > 0) {
        resp = self._fulfillmentHandlers.shift()(resp)
      }

      complete(resp)
    }

    function timedOut() {
      self._timedOut = true
      self.request.abort()      
    }

    function error(resp, msg, t) {
      resp = self.request
      self._responseArgs.resp = resp
      self._responseArgs.msg = msg
      self._responseArgs.t = t
      self._erred = true
      while (self._errorHandlers.length > 0) {
        self._errorHandlers.shift()(resp, msg, t)
      }
      complete(resp)
    }

    this.request = getRequest.call(this, success, error)
  }

  Reqwest.prototype = {
    abort: function () {
      this._aborted = true
      this.request.abort()
    }

  , retry: function () {
      init.call(this, this.o, this.fn)
    }

    /**
     * Small deviation from the Promises A CommonJs specification
     * http://wiki.commonjs.org/wiki/Promises/A
     */

    /**
     * `then` will execute upon successful requests
     */
  , then: function (success, fail) {
      success = success || function () {}
      fail = fail || function () {}
      if (this._fulfilled) {
        this._responseArgs.resp = success(this._responseArgs.resp)
      } else if (this._erred) {
        fail(this._responseArgs.resp, this._responseArgs.msg, this._responseArgs.t)
      } else {
        this._fulfillmentHandlers.push(success)
        this._errorHandlers.push(fail)
      }
      return this
    }

    /**
     * `always` will execute whether the request succeeds or fails
     */
  , always: function (fn) {
      if (this._fulfilled || this._erred) {
        fn(this._responseArgs.resp)
      } else {
        this._completeHandlers.push(fn)
      }
      return this
    }

    /**
     * `fail` will execute when the request fails
     */
  , fail: function (fn) {
      if (this._erred) {
        fn(this._responseArgs.resp, this._responseArgs.msg, this._responseArgs.t)
      } else {
        this._errorHandlers.push(fn)
      }
      return this
    }
  , 'catch': function (fn) {
      return this.fail(fn)
    }
  }

  function reqwest(o, fn) {
    return new Reqwest(o, fn)
  }

  // normalize newline variants according to spec -> CRLF
  function normalize(s) {
    return s ? s.replace(/\r?\n/g, '\r\n') : ''
  }

  function serial(el, cb) {
    var n = el.name
      , t = el.tagName.toLowerCase()
      , optCb = function (o) {
          // IE gives value="" even where there is no value attribute
          // 'specified' ref: http://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-862529273
          if (o && !o['disabled'])
            cb(n, normalize(o['attributes']['value'] && o['attributes']['value']['specified'] ? o['value'] : o['text']))
        }
      , ch, ra, val, i

    // don't serialize elements that are disabled or without a name
    if (el.disabled || !n) return

    switch (t) {
    case 'input':
      if (!/reset|button|image|file/i.test(el.type)) {
        ch = /checkbox/i.test(el.type)
        ra = /radio/i.test(el.type)
        val = el.value
        // WebKit gives us "" instead of "on" if a checkbox has no value, so correct it here
        ;(!(ch || ra) || el.checked) && cb(n, normalize(ch && val === '' ? 'on' : val))
      }
      break
    case 'textarea':
      cb(n, normalize(el.value))
      break
    case 'select':
      if (el.type.toLowerCase() === 'select-one') {
        optCb(el.selectedIndex >= 0 ? el.options[el.selectedIndex] : null)
      } else {
        for (i = 0; el.length && i < el.length; i++) {
          el.options[i].selected && optCb(el.options[i])
        }
      }
      break
    }
  }

  // collect up all form elements found from the passed argument elements all
  // the way down to child elements; pass a '<form>' or form fields.
  // called with 'this'=callback to use for serial() on each element
  function eachFormElement() {
    var cb = this
      , e, i
      , serializeSubtags = function (e, tags) {
          var i, j, fa
          for (i = 0; i < tags.length; i++) {
            fa = e[byTag](tags[i])
            for (j = 0; j < fa.length; j++) serial(fa[j], cb)
          }
        }

    for (i = 0; i < arguments.length; i++) {
      e = arguments[i]
      if (/input|select|textarea/i.test(e.tagName)) serial(e, cb)
      serializeSubtags(e, [ 'input', 'select', 'textarea' ])
    }
  }

  // standard query string style serialization
  function serializeQueryString() {
    return reqwest.toQueryString(reqwest.serializeArray.apply(null, arguments))
  }

  // { 'name': 'value', ... } style serialization
  function serializeHash() {
    var hash = {}
    eachFormElement.apply(function (name, value) {
      if (name in hash) {
        hash[name] && !isArray(hash[name]) && (hash[name] = [hash[name]])
        hash[name].push(value)
      } else hash[name] = value
    }, arguments)
    return hash
  }

  // [ { name: 'name', value: 'value' }, ... ] style serialization
  reqwest.serializeArray = function () {
    var arr = []
    eachFormElement.apply(function (name, value) {
      arr.push({name: name, value: value})
    }, arguments)
    return arr
  }

  reqwest.serialize = function () {
    if (arguments.length === 0) return ''
    var opt, fn
      , args = Array.prototype.slice.call(arguments, 0)

    opt = args.pop()
    opt && opt.nodeType && args.push(opt) && (opt = null)
    opt && (opt = opt.type)

    if (opt == 'map') fn = serializeHash
    else if (opt == 'array') fn = reqwest.serializeArray
    else fn = serializeQueryString

    return fn.apply(null, args)
  }

  reqwest.toQueryString = function (o, trad) {
    var prefix, i
      , traditional = trad || false
      , s = []
      , enc = encodeURIComponent
      , add = function (key, value) {
          // If value is a function, invoke it and return its value
          value = ('function' === typeof value) ? value() : (value == null ? '' : value)
          s[s.length] = enc(key) + '=' + enc(value)
        }
    // If an array was passed in, assume that it is an array of form elements.
    if (isArray(o)) {
      for (i = 0; o && i < o.length; i++) add(o[i]['name'], o[i]['value'])
    } else {
      // If traditional, encode the "old" way (the way 1.3.2 or older
      // did it), otherwise encode params recursively.
      for (prefix in o) {
        if (o.hasOwnProperty(prefix)) buildParams(prefix, o[prefix], traditional, add)
      }
    }

    // spaces should be + according to spec
    return s.join('&').replace(/%20/g, '+')
  }

  function buildParams(prefix, obj, traditional, add) {
    var name, i, v
      , rbracket = /\[\]$/

    if (isArray(obj)) {
      // Serialize array item.
      for (i = 0; obj && i < obj.length; i++) {
        v = obj[i]
        if (traditional || rbracket.test(prefix)) {
          // Treat each array item as a scalar.
          add(prefix, v)
        } else {
          buildParams(prefix + '[' + (typeof v === 'object' ? i : '') + ']', v, traditional, add)
        }
      }
    } else if (obj && obj.toString() === '[object Object]') {
      // Serialize object item.
      for (name in obj) {
        buildParams(prefix + '[' + name + ']', obj[name], traditional, add)
      }

    } else {
      // Serialize scalar item.
      add(prefix, obj)
    }
  }

  reqwest.getcallbackPrefix = function () {
    return callbackPrefix
  }

  // jQuery and Zepto compatibility, differences can be remapped here so you can call
  // .ajax.compat(options, callback)
  reqwest.compat = function (o, fn) {
    if (o) {
      o['type'] && (o['method'] = o['type']) && delete o['type']
      o['dataType'] && (o['type'] = o['dataType'])
      o['jsonpCallback'] && (o['jsonpCallbackName'] = o['jsonpCallback']) && delete o['jsonpCallback']
      o['jsonp'] && (o['jsonpCallback'] = o['jsonp'])
    }
    return new Reqwest(o, fn)
  }

  reqwest.ajaxSetup = function (options) {
    options = options || {}
    for (var k in options) {
      globalSetupOptions[k] = options[k]
    }
  }

  return reqwest
});

},{}],31:[function(require,module,exports){
/*!
 * Copyright (c) 2015 Chris O'Hara <cohara87@gmail.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

(function (name, definition) {
    if (typeof exports !== 'undefined' && typeof module !== 'undefined') {
        module.exports = definition();
    } else if (typeof define === 'function' && typeof define.amd === 'object') {
        define(definition);
    } else {
        this[name] = definition();
    }
})('validator', function (validator) {

    'use strict';

    validator = { version: '4.0.2' };

    var emailUser = /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~])+)*)|"(\s*(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e])|(\\[\x01-\x09\x0b\x0c\x0d-\x7f])))*\s*")$/i;

    var emailUserUtf8 = /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|"(\s*(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*\s*")$/i;

    var displayName = /^(?:[a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~\.]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(?:[a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~\.]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\s)*<(.+)>$/i;

    var creditCard = /^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/;

    var isin = /^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;

    var isbn10Maybe = /^(?:[0-9]{9}X|[0-9]{10})$/
      , isbn13Maybe = /^(?:[0-9]{13})$/;

    var ipv4Maybe = /^(\d+)\.(\d+)\.(\d+)\.(\d+)$/
      , ipv6Block = /^[0-9A-F]{1,4}$/i;

    var uuid = {
        '3': /^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i
      , '4': /^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i
      , '5': /^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i
      , all: /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i
    };

    var alpha = /^[A-Z]+$/i
      , alphanumeric = /^[0-9A-Z]+$/i
      , numeric = /^[-+]?[0-9]+$/
      , int = /^(?:[-+]?(?:0|[1-9][0-9]*))$/
      , float = /^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/
      , hexadecimal = /^[0-9A-F]+$/i
      , decimal = /^[-+]?([0-9]+|\.[0-9]+|[0-9]+\.[0-9]+)$/
      , hexcolor = /^#?([0-9A-F]{3}|[0-9A-F]{6})$/i;

    var ascii = /^[\x00-\x7F]+$/
      , multibyte = /[^\x00-\x7F]/
      , fullWidth = /[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/
      , halfWidth = /[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;

    var surrogatePair = /[\uD800-\uDBFF][\uDC00-\uDFFF]/;

    var base64 = /^(?:[A-Z0-9+\/]{4})*(?:[A-Z0-9+\/]{2}==|[A-Z0-9+\/]{3}=|[A-Z0-9+\/]{4})$/i;

    var phones = {
      'zh-CN': /^(\+?0?86\-?)?1[345789]\d{9}$/,
      'en-ZA': /^(\+?27|0)\d{9}$/,
      'en-AU': /^(\+?61|0)4\d{8}$/,
      'en-HK': /^(\+?852\-?)?[569]\d{3}\-?\d{4}$/,
      'fr-FR': /^(\+?33|0)[67]\d{8}$/,
      'pt-PT': /^(\+351)?9[1236]\d{7}$/,
      'el-GR': /^(\+30)?((2\d{9})|(69\d{8}))$/,
      'en-GB': /^(\+?44|0)7\d{9}$/,
      'en-US': /^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,
      'en-ZM': /^(\+26)?09[567]\d{7}$/,
      'ru-RU': /^(\+?7|8)?9\d{9}$/
    };

    // from http://goo.gl/0ejHHW
    var iso8601 = /^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;

    validator.extend = function (name, fn) {
        validator[name] = function () {
            var args = Array.prototype.slice.call(arguments);
            args[0] = validator.toString(args[0]);
            return fn.apply(validator, args);
        };
    };

    //Right before exporting the validator object, pass each of the builtins
    //through extend() so that their first argument is coerced to a string
    validator.init = function () {
        for (var name in validator) {
            if (typeof validator[name] !== 'function' || name === 'toString' ||
                    name === 'toDate' || name === 'extend' || name === 'init') {
                continue;
            }
            validator.extend(name, validator[name]);
        }
    };

    validator.toString = function (input) {
        if (typeof input === 'object' && input !== null && input.toString) {
            input = input.toString();
        } else if (input === null || typeof input === 'undefined' || (isNaN(input) && !input.length)) {
            input = '';
        } else if (typeof input !== 'string') {
            input += '';
        }
        return input;
    };

    validator.toDate = function (date) {
        if (Object.prototype.toString.call(date) === '[object Date]') {
            return date;
        }
        date = Date.parse(date);
        return !isNaN(date) ? new Date(date) : null;
    };

    validator.toFloat = function (str) {
        return parseFloat(str);
    };

    validator.toInt = function (str, radix) {
        return parseInt(str, radix || 10);
    };

    validator.toBoolean = function (str, strict) {
        if (strict) {
            return str === '1' || str === 'true';
        }
        return str !== '0' && str !== 'false' && str !== '';
    };

    validator.equals = function (str, comparison) {
        return str === validator.toString(comparison);
    };

    validator.contains = function (str, elem) {
        return str.indexOf(validator.toString(elem)) >= 0;
    };

    validator.matches = function (str, pattern, modifiers) {
        if (Object.prototype.toString.call(pattern) !== '[object RegExp]') {
            pattern = new RegExp(pattern, modifiers);
        }
        return pattern.test(str);
    };

    var default_email_options = {
        allow_display_name: false,
        allow_utf8_local_part: true,
        require_tld: true
    };

    validator.isEmail = function (str, options) {
        options = merge(options, default_email_options);

        if (options.allow_display_name) {
            var display_email = str.match(displayName);
            if (display_email) {
                str = display_email[1];
            }
        }

        var parts = str.split('@')
          , domain = parts.pop()
          , user = parts.join('@');

        var lower_domain = domain.toLowerCase();
        if (lower_domain === 'gmail.com' || lower_domain === 'googlemail.com') {
            user = user.replace(/\./g, '').toLowerCase();
        }

        if (!validator.isByteLength(user, 0, 64) ||
                !validator.isByteLength(domain, 0, 256)) {
            return false;
        }

        if (!validator.isFQDN(domain, {require_tld: options.require_tld})) {
            return false;
        }

        return options.allow_utf8_local_part ?
            emailUserUtf8.test(user) :
            emailUser.test(user);
    };

    var default_url_options = {
        protocols: [ 'http', 'https', 'ftp' ]
      , require_tld: true
      , require_protocol: false
      , require_valid_protocol: true
      , allow_underscores: false
      , allow_trailing_dot: false
      , allow_protocol_relative_urls: false
    };

    validator.isURL = function (url, options) {
        if (!url || url.length >= 2083 || /\s/.test(url)) {
            return false;
        }
        if (url.indexOf('mailto:') === 0) {
            return false;
        }
        options = merge(options, default_url_options);
        var protocol, auth, host, hostname, port,
            port_str, split;
        split = url.split('://');
        if (split.length > 1) {
            protocol = split.shift();
            if (options.require_valid_protocol && options.protocols.indexOf(protocol) === -1) {
                return false;
            }
        } else if (options.require_protocol) {
            return false;
        }  else if (options.allow_protocol_relative_urls && url.substr(0, 2) === '//') {
            split[0] = url.substr(2);
        }
        url = split.join('://');
        split = url.split('#');
        url = split.shift();

        split = url.split('?');
        url = split.shift();

        split = url.split('/');
        url = split.shift();
        split = url.split('@');
        if (split.length > 1) {
            auth = split.shift();
            if (auth.indexOf(':') >= 0 && auth.split(':').length > 2) {
                return false;
            }
        }
        hostname = split.join('@');
        split = hostname.split(':');
        host = split.shift();
        if (split.length) {
            port_str = split.join(':');
            port = parseInt(port_str, 10);
            if (!/^[0-9]+$/.test(port_str) || port <= 0 || port > 65535) {
                return false;
            }
        }
        if (!validator.isIP(host) && !validator.isFQDN(host, options) &&
                host !== 'localhost') {
            return false;
        }
        if (options.host_whitelist &&
                options.host_whitelist.indexOf(host) === -1) {
            return false;
        }
        if (options.host_blacklist &&
                options.host_blacklist.indexOf(host) !== -1) {
            return false;
        }
        return true;
    };

    validator.isIP = function (str, version) {
        version = validator.toString(version);
        if (!version) {
            return validator.isIP(str, 4) || validator.isIP(str, 6);
        } else if (version === '4') {
            if (!ipv4Maybe.test(str)) {
                return false;
            }
            var parts = str.split('.').sort(function (a, b) {
                return a - b;
            });
            return parts[3] <= 255;
        } else if (version === '6') {
            var blocks = str.split(':');
            var foundOmissionBlock = false; // marker to indicate ::

            // At least some OS accept the last 32 bits of an IPv6 address
            // (i.e. 2 of the blocks) in IPv4 notation, and RFC 3493 says
            // that '::ffff:a.b.c.d' is valid for IPv4-mapped IPv6 addresses,
            // and '::a.b.c.d' is deprecated, but also valid.
            var foundIPv4TransitionBlock = validator.isIP(blocks[blocks.length - 1], 4);
            var expectedNumberOfBlocks = foundIPv4TransitionBlock ? 7 : 8;

            if (blocks.length > expectedNumberOfBlocks)
                return false;

            // initial or final ::
            if (str === '::') {
                return true;
            } else if (str.substr(0, 2) === '::') {
                blocks.shift();
                blocks.shift();
                foundOmissionBlock = true;
            } else if (str.substr(str.length - 2) === '::') {
                blocks.pop();
                blocks.pop();
                foundOmissionBlock = true;
            }

            for (var i = 0; i < blocks.length; ++i) {
                // test for a :: which can not be at the string start/end
                // since those cases have been handled above
                if (blocks[i] === '' && i > 0 && i < blocks.length -1) {
                    if (foundOmissionBlock)
                        return false; // multiple :: in address
                    foundOmissionBlock = true;
                } else if (foundIPv4TransitionBlock && i == blocks.length - 1) {
                    // it has been checked before that the last
                    // block is a valid IPv4 address
                } else if (!ipv6Block.test(blocks[i])) {
                    return false;
                }
            }

            if (foundOmissionBlock) {
                return blocks.length >= 1;
            } else {
                return blocks.length === expectedNumberOfBlocks;
            }
        }
        return false;
    };

    var default_fqdn_options = {
        require_tld: true
      , allow_underscores: false
      , allow_trailing_dot: false
    };

    validator.isFQDN = function (str, options) {
        options = merge(options, default_fqdn_options);

        /* Remove the optional trailing dot before checking validity */
        if (options.allow_trailing_dot && str[str.length - 1] === '.') {
            str = str.substring(0, str.length - 1);
        }
        var parts = str.split('.');
        if (options.require_tld) {
            var tld = parts.pop();
            if (!parts.length || !/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(tld)) {
                return false;
            }
        }
        for (var part, i = 0; i < parts.length; i++) {
            part = parts[i];
            if (options.allow_underscores) {
                if (part.indexOf('__') >= 0) {
                    return false;
                }
                part = part.replace(/_/g, '');
            }
            if (!/^[a-z\u00a1-\uffff0-9-]+$/i.test(part)) {
                return false;
            }
            if (/[\uff01-\uff5e]/.test(part)) {
                // disallow full-width chars
                return false;
            }
            if (part[0] === '-' || part[part.length - 1] === '-' ||
                    part.indexOf('---') >= 0) {
                return false;
            }
        }
        return true;
    };

    validator.isBoolean = function(str) {
        return (['true', 'false', '1', '0'].indexOf(str) >= 0);
    };

    validator.isAlpha = function (str) {
        return alpha.test(str);
    };

    validator.isAlphanumeric = function (str) {
        return alphanumeric.test(str);
    };

    validator.isNumeric = function (str) {
        return numeric.test(str);
    };

    validator.isDecimal = function (str) {
        return str !== '' && decimal.test(str);
    };

    validator.isHexadecimal = function (str) {
        return hexadecimal.test(str);
    };

    validator.isHexColor = function (str) {
        return hexcolor.test(str);
    };

    validator.isLowercase = function (str) {
        return str === str.toLowerCase();
    };

    validator.isUppercase = function (str) {
        return str === str.toUpperCase();
    };

    validator.isInt = function (str, options) {
        options = options || {};
        return int.test(str) && (!options.hasOwnProperty('min') || str >= options.min) && (!options.hasOwnProperty('max') || str <= options.max);
    };

    validator.isFloat = function (str, options) {
        options = options || {};
        return str !== '' && float.test(str) && (!options.hasOwnProperty('min') || str >= options.min) && (!options.hasOwnProperty('max') || str <= options.max);
    };

    validator.isDivisibleBy = function (str, num) {
        return validator.toFloat(str) % validator.toInt(num) === 0;
    };

    validator.isNull = function (str) {
        return str.length === 0;
    };

    validator.isLength = function (str, min, max) {
        var surrogatePairs = str.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g) || [];
        var len = str.length - surrogatePairs.length;
        return len >= min && (typeof max === 'undefined' || len <= max);
    };

    validator.isByteLength = function (str, min, max) {
        var len = encodeURI(str).split(/%..|./).length - 1;
        return len >= min && (typeof max === 'undefined' || len <= max);
    };

    validator.isUUID = function (str, version) {
        var pattern = uuid[version ? version : 'all'];
        return pattern && pattern.test(str);
    };

    validator.isDate = function (str) {
        return !isNaN(Date.parse(str));
    };

    validator.isAfter = function (str, date) {
        var comparison = validator.toDate(date || new Date())
          , original = validator.toDate(str);
        return !!(original && comparison && original > comparison);
    };

    validator.isBefore = function (str, date) {
        var comparison = validator.toDate(date || new Date())
          , original = validator.toDate(str);
        return original && comparison && original < comparison;
    };

    validator.isIn = function (str, options) {
        var i;
        if (Object.prototype.toString.call(options) === '[object Array]') {
            var array = [];
            for (i in options) {
                array[i] = validator.toString(options[i]);
            }
            return array.indexOf(str) >= 0;
        } else if (typeof options === 'object') {
            return options.hasOwnProperty(str);
        } else if (options && typeof options.indexOf === 'function') {
            return options.indexOf(str) >= 0;
        }
        return false;
    };

    validator.isCreditCard = function (str) {
        var sanitized = str.replace(/[^0-9]+/g, '');
        if (!creditCard.test(sanitized)) {
            return false;
        }
        var sum = 0, digit, tmpNum, shouldDouble;
        for (var i = sanitized.length - 1; i >= 0; i--) {
            digit = sanitized.substring(i, (i + 1));
            tmpNum = parseInt(digit, 10);
            if (shouldDouble) {
                tmpNum *= 2;
                if (tmpNum >= 10) {
                    sum += ((tmpNum % 10) + 1);
                } else {
                    sum += tmpNum;
                }
            } else {
                sum += tmpNum;
            }
            shouldDouble = !shouldDouble;
        }
        return !!((sum % 10) === 0 ? sanitized : false);
    };

    validator.isISIN = function (str) {
        if (!isin.test(str)) {
            return false;
        }

        var checksumStr = str.replace(/[A-Z]/g, function(character) {
            return parseInt(character, 36);
        });

        var sum = 0, digit, tmpNum, shouldDouble = true;
        for (var i = checksumStr.length - 2; i >= 0; i--) {
            digit = checksumStr.substring(i, (i + 1));
            tmpNum = parseInt(digit, 10);
            if (shouldDouble) {
                tmpNum *= 2;
                if (tmpNum >= 10) {
                    sum += tmpNum + 1;
                } else {
                    sum += tmpNum;
                }
            } else {
                sum += tmpNum;
            }
            shouldDouble = !shouldDouble;
        }

        return parseInt(str.substr(str.length - 1), 10) === (10000 - sum) % 10;
    };

    validator.isISBN = function (str, version) {
        version = validator.toString(version);
        if (!version) {
            return validator.isISBN(str, 10) || validator.isISBN(str, 13);
        }
        var sanitized = str.replace(/[\s-]+/g, '')
          , checksum = 0, i;
        if (version === '10') {
            if (!isbn10Maybe.test(sanitized)) {
                return false;
            }
            for (i = 0; i < 9; i++) {
                checksum += (i + 1) * sanitized.charAt(i);
            }
            if (sanitized.charAt(9) === 'X') {
                checksum += 10 * 10;
            } else {
                checksum += 10 * sanitized.charAt(9);
            }
            if ((checksum % 11) === 0) {
                return !!sanitized;
            }
        } else  if (version === '13') {
            if (!isbn13Maybe.test(sanitized)) {
                return false;
            }
            var factor = [ 1, 3 ];
            for (i = 0; i < 12; i++) {
                checksum += factor[i % 2] * sanitized.charAt(i);
            }
            if (sanitized.charAt(12) - ((10 - (checksum % 10)) % 10) === 0) {
                return !!sanitized;
            }
        }
        return false;
    };

    validator.isMobilePhone = function(str, locale) {
        if (locale in phones) {
            return phones[locale].test(str);
        }
        return false;
    };

    var default_currency_options = {
        symbol: '$'
      , require_symbol: false
      , allow_space_after_symbol: false
      , symbol_after_digits: false
      , allow_negatives: true
      , parens_for_negatives: false
      , negative_sign_before_digits: false
      , negative_sign_after_digits: false
      , allow_negative_sign_placeholder: false
      , thousands_separator: ','
      , decimal_separator: '.'
      , allow_space_after_digits: false
    };

    validator.isCurrency = function (str, options) {
        options = merge(options, default_currency_options);

        return currencyRegex(options).test(str);
    };

    validator.isJSON = function (str) {
        try {
            var obj = JSON.parse(str);
            return !!obj && typeof obj === 'object';
        } catch (e) {}
        return false;
    };

    validator.isMultibyte = function (str) {
        return multibyte.test(str);
    };

    validator.isAscii = function (str) {
        return ascii.test(str);
    };

    validator.isFullWidth = function (str) {
        return fullWidth.test(str);
    };

    validator.isHalfWidth = function (str) {
        return halfWidth.test(str);
    };

    validator.isVariableWidth = function (str) {
        return fullWidth.test(str) && halfWidth.test(str);
    };

    validator.isSurrogatePair = function (str) {
        return surrogatePair.test(str);
    };

    validator.isBase64 = function (str) {
        return base64.test(str);
    };

    validator.isMongoId = function (str) {
        return validator.isHexadecimal(str) && str.length === 24;
    };

    validator.isISO8601 = function (str) {
        return iso8601.test(str);
    };

    validator.ltrim = function (str, chars) {
        var pattern = chars ? new RegExp('^[' + chars + ']+', 'g') : /^\s+/g;
        return str.replace(pattern, '');
    };

    validator.rtrim = function (str, chars) {
        var pattern = chars ? new RegExp('[' + chars + ']+$', 'g') : /\s+$/g;
        return str.replace(pattern, '');
    };

    validator.trim = function (str, chars) {
        var pattern = chars ? new RegExp('^[' + chars + ']+|[' + chars + ']+$', 'g') : /^\s+|\s+$/g;
        return str.replace(pattern, '');
    };

    validator.escape = function (str) {
        return (str.replace(/&/g, '&amp;')
            .replace(/"/g, '&quot;')
            .replace(/'/g, '&#x27;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/\//g, '&#x2F;')
            .replace(/\`/g, '&#96;'));
    };

    validator.stripLow = function (str, keep_new_lines) {
        var chars = keep_new_lines ? '\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F' : '\\x00-\\x1F\\x7F';
        return validator.blacklist(str, chars);
    };

    validator.whitelist = function (str, chars) {
        return str.replace(new RegExp('[^' + chars + ']+', 'g'), '');
    };

    validator.blacklist = function (str, chars) {
        return str.replace(new RegExp('[' + chars + ']+', 'g'), '');
    };

    var default_normalize_email_options = {
        lowercase: true
    };

    validator.normalizeEmail = function (email, options) {
        options = merge(options, default_normalize_email_options);
        if (!validator.isEmail(email)) {
            return false;
        }
        var parts = email.split('@', 2);
        parts[1] = parts[1].toLowerCase();
        if (parts[1] === 'gmail.com' || parts[1] === 'googlemail.com') {
            parts[0] = parts[0].toLowerCase().replace(/\./g, '');
            if (parts[0][0] === '+') {
                return false;
            }
            parts[0] = parts[0].split('+')[0];
            parts[1] = 'gmail.com';
        } else if (options.lowercase) {
            parts[0] = parts[0].toLowerCase();
        }
        return parts.join('@');
    };

    function merge(obj, defaults) {
        obj = obj || {};
        for (var key in defaults) {
            if (typeof obj[key] === 'undefined') {
                obj[key] = defaults[key];
            }
        }
        return obj;
    }

    function currencyRegex(options) {
        var symbol = '(\\' + options.symbol.replace(/\./g, '\\.') + ')' + (options.require_symbol ? '' : '?')
            , negative = '-?'
            , whole_dollar_amount_without_sep = '[1-9]\\d*'
            , whole_dollar_amount_with_sep = '[1-9]\\d{0,2}(\\' + options.thousands_separator + '\\d{3})*'
            , valid_whole_dollar_amounts = ['0', whole_dollar_amount_without_sep, whole_dollar_amount_with_sep]
            , whole_dollar_amount = '(' + valid_whole_dollar_amounts.join('|') + ')?'
            , decimal_amount = '(\\' + options.decimal_separator + '\\d{2})?';
        var pattern = whole_dollar_amount + decimal_amount;
        // default is negative sign before symbol, but there are two other options (besides parens)
        if (options.allow_negatives && !options.parens_for_negatives) {
            if (options.negative_sign_after_digits) {
                pattern += negative;
            }
            else if (options.negative_sign_before_digits) {
                pattern = negative + pattern;
            }
        }
        // South African Rand, for example, uses R 123 (space) and R-123 (no space)
        if (options.allow_negative_sign_placeholder) {
            pattern = '( (?!\\-))?' + pattern;
        }
        else if (options.allow_space_after_symbol) {
            pattern = ' ?' + pattern;
        }
        else if (options.allow_space_after_digits) {
            pattern += '( (?!$))?';
        }
        if (options.symbol_after_digits) {
            pattern += symbol;
        } else {
            pattern = symbol + pattern;
        }
        if (options.allow_negatives) {
            if (options.parens_for_negatives) {
                pattern = '(\\(' + pattern + '\\)|' + pattern + ')';
            }
            else if (!(options.negative_sign_before_digits || options.negative_sign_after_digits)) {
                pattern = negative + pattern;
            }
        }
        return new RegExp(
            '^' +
            // ensure there's a dollar and/or decimal amount, and that it doesn't start with a space or a negative sign followed by a space
            '(?!-? )(?=.*\\d)' +
            pattern +
            '$'
        );
    }

    validator.init();

    return validator;

});

},{}],32:[function(require,module,exports){
'use strict';

var reqwest = require('reqwest');
var ajax = {};
// var eventEmitter = new require('events').EventEmitter();
// var ajax = {
//     $on: eventEmitter.on,
//     $off: eventEmitter.removeListener,
//     $emit: eventEmitter.emit
// };

var Notify = require('../module/notify.js');

ajax.request = function(opt) {
    var noop = function(){};
    var oldError = opt.error || noop,
        oldSuccess = opt.success || noop,
        oldComplete = opt.complete || noop;

    opt.data = opt.data || {};

    if(!opt.contentType && opt.method && opt.method.toLowerCase() !== 'get')
        opt.contentType = 'application/json';
    else
        opt.data.timestamp = +new Date;

    if(opt.contentType === 'application/json') {
        opt.data = JSON.stringify(opt.data);
    }

    //ajax.$emit('start', opt);
    opt.success = function(data) {
        //ajax.$emit('success', data);

        if(!data.success) {
            Notify.error(data.message);
            oldError(data.result, data);
            return;
        }
        
        oldSuccess(data.result, data);
    }

    opt.error = function(data) {
        //ajax.$emit('error', data);
        oldError(data.result, data);
    }

    opt.complete = function(data) {
        //ajax.$emit('complete', data);
        oldComplete(data.result, data);
    }

    reqwest(opt);
}

ajax.get = function(url, success) {
    ajax.request({
        url: url,
        method: 'get',
        success: success
    });
}

ajax.post = function(url, data, success) {
    ajax.request({
        url: url,
        method: 'post',
        type: 'json',
        success: success
    })
}

module.exports = ajax;
},{"../module/notify.js":58,"reqwest":30}],33:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Component 组件基类
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var Regular = require('regularjs');
var _ = require('./util.js');
var filter = require('./filter.js');

/**
 * @class Component
 * @extend Regular
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 */
var Component = Regular.extend({
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            readonly: false,
            disabled: false,
            visible: true,
            'class': ''
        });
        this.supr();
    }
})
.filter(filter)
.directive({

})

module.exports = Component;
},{"./filter.js":34,"./util.js":36,"regularjs":23}],34:[function(require,module,exports){
'use strict';

var filter = {};

filter.format = function() {
    function fix(str) {
        str = '' + (String(str) || '');
        return str.length <= 1? '0' + str : str;
    }
    var maps = {
        'yyyy': function(date){return date.getFullYear()},
        'MM': function(date){return fix(date.getMonth() + 1); },
        'dd': function(date){ return fix(date.getDate()) },
        'HH': function(date){return fix(date.getHours()) },
        'mm': function(date){ return fix(date.getMinutes())},
        'ss': function(date){ return fix(date.getSeconds())}
    }

    var trunk = new RegExp(Object.keys(maps).join('|'),'g');
    return function(value, format){
        if(!value){return '';}
        format = format || 'yyyy-MM-dd HH:mm';
        value = new Date(value);

        return format.replace(trunk, function(capture){
            return maps[capture]? maps[capture](value): '';
        });
    }
}();

filter.average = function(array, key) {
    array = array || [];
    return array.length? filter.total(array, key) / array.length : 0;
}
filter.total = function(array, key) {
    var total = 0;
    if(!array) return;
    array.forEach(function( item ){
        total += key? item[key] : item;
    })
    return total;
}

filter.filter = function(array, filterFn) {
    if(!array || !array.length) return;
    return array.filter(function(item, index){
        return filterFn(item, index);
    })
}

module.exports = filter;
},{}],35:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * SourceComponent 数据组件基类
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var Component = require('./component.js');
var _ = require('./util.js');

/**
 * @class SourceComponent
 * @extend Component
 * @param {object[]=[]}             options.data.source             数据源
 * @param {boolean=true}            options.data.updateAuto         当有service时，是否自动加载
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 * @param {object}                  options.service                 数据服务
 */
var SourceComponent = Component.extend({
    service: null,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            source: [],
            updateAuto: true
        });

        if(this.data.service)
            this.service = this.data.service;

        if(this.service && this.data.updateAuto)
            this.$updateSource();

        this.supr();
    },
    /**
     * @method getParams 返回请求时需要的参数
     * @protected
     * @return {object}
     */
    getParams: function() {
        return {};
    },
    /**
     * @method $updateSource() 从service中更新数据源
     * @public
     * @return {SourceComponent} this
     */
    $updateSource: function() {
        this.service.getList(this.getParams(), function(result) {
            this.$update('source', result);
        }.bind(this));
        return this;
    }
});

module.exports = SourceComponent;
},{"./component.js":33,"./util.js":36}],36:[function(require,module,exports){
'use strict';

var Regular = require('regularjs');

var _ = {
    extend: function(o1, o2, override) {
        for(var i in o2)
            if(override || o1[i] === undefined)
                o1[i] = o2[i]
        return o1;
    },
    dom: Regular.dom,
    multiline: function(func) {
        var reg = /^function\s*\(\)\s*\{\s*\/\*+\s*([\s\S]*)\s*\*+\/\s*\}$/;
        return reg.exec(func)[1];
    }
}

module.exports = _;
},{"regularjs":23}],37:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Validator 表单验证
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var vali = require('validator');
var validator = {}

/**
 * 235235
rules = [
    {type: 'isRequired', min: 2, max: 5
]
*/

validator.validate = function(value, rules) {
    var result = {
        success: true,
        message: ''
    }

    rules.forEach(function(rule) {
        rule.success = true;

        if(rule.type === 'is') {
            rule.success = rule.reg.test(value);
        } else if(rule.type === 'isRequired') {
            rule.success = !!value;
        } else if(rule.type === 'isFilled') {
            rule.success = !!value && value.trim();
        } else if(rule.type === 'isEmail') {
            rule.success = vali.isEmail(value);
        } else if(rule.type === 'isURL') {
            rule.success = vali.isURL(value);
        } else if(rule.type === 'isNumber') {
            rule.success = vali.isInt(value);
        } else if(rule.type === 'isInt') {
            rule.success = vali.isInt(value);
        } else if(rule.type === 'isFloat') {
            rule.success = vali.isFloat(value);
        } else if(rule.type === 'isLength') {
            rule.success = vali.isLength(value, rule.min, rule.max);
        } else {
            rule.success = rule.method(value);
        }

        if(!rule.success && result.success) {
            result.success = false;
            result.message = rule.message;
        }
    });

    return result;
}

validator.validateForm = function(data, fields) {
    var conclusion = {
        results: {},
        success: true,
        message: ''
    }
    
    for(var key in fields) {
        var rules = fields[key];
        if(!rules)
            continue;
        var value = data[key];

        conclusion.results[key] = validator.validate(value, rules);
    }

    return conclusion;
}

module.exports = validator;
},{"validator":31}],38:[function(require,module,exports){
module.exports="<div class=\"m-accordion {@(class)}\" r-class={ {\'z-dis\': disabled} } r-hide={!visible}>    {#inc this.$body}</div>"
},{}],39:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Accordion       选项卡
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var Component = require('../base/component.js');
var template = require('./accordion.html');
var itemTemplate = require('./accordionPane.html');
var _ = require('../base/util.js');

/**
 * @class Accordion
 * @extend Component
 * @param {object}                  options.data                    绑定属性
 * @param {boolean=true}            options.data.collapse           是否只能同时展开一个
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 */
var Accordion = Component.extend({
    name: 'accordion',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            panes: [],
            collapse: true
        });
        this.supr();
    }
    /**
     * @method toggle(item) 展开或收起某一项
     * @private
     * @param  {object} item 展开收起项
     * @return {void}
     */
});

var AccordionPane = Component.extend({
    name: 'accordionPane',
    template: itemTemplate,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            title: '',
            open: false,
            disabled: false
        });
        this.supr();

        if(this.$outer)
            this.$outer.data.panes.push(this);
    },
    toggle: function(open) {
        if(open && this.$outer.data.collapse) {
            this.$outer.data.panes.forEach(function(pane) {
                pane.data.open = false;
            });
        }

        this.data.open = open;
    }
});

module.exports = Accordion;
},{"../base/component.js":33,"../base/util.js":36,"./accordion.html":38,"./accordionPane.html":40}],40:[function(require,module,exports){
module.exports="<div class=\"m-panel\">    <div class=\"panel_hd\" on-click={this.toggle(!open)}>{title}</div>    <div class=\"panel_bd\" r-hide={!open}>        {#include this.$body}    </div></div>"
},{}],41:[function(require,module,exports){
module.exports="<div class=\"u-calendar {@(class)}\" r-class={ {\'z-dis\': disabled} } r-hide={!visible}>    <div class=\"calendar_hd\">        <span class=\"calendar_prev\">            <span class=\"calendar_item\" on-click={this.addYear(-1)}><i class=\"u-icon u-icon-angle-double-left\"></i></span>            <span class=\"calendar_item\" on-click={this.addMonth(-1)}><i class=\"u-icon u-icon-angle-left\"></i></span>        </span>        <span>{date | format: \'yyyy-MM\'}</span>        <span class=\"calendar_next\">            <span class=\"calendar_item\" on-click={this.addMonth(1)}><i class=\"u-icon u-icon-angle-right\"></i></span>            <span class=\"calendar_item\" on-click={this.addYear(1)}><i class=\"u-icon u-icon-angle-double-right\"></i></span>        </span>    </div>    <div class=\"calendar_bd\">        <div class=\"calendar_week\"><span class=\"calendar_item\">日</span><span class=\"calendar_item\">一</span><span class=\"calendar_item\">二</span><span class=\"calendar_item\">三</span><span class=\"calendar_item\">四</span><span class=\"calendar_item\">五</span><span class=\"calendar_item\">六</span></div>        <div class=\"calendar_day\">{#list _days as day}<span class=\"calendar_item\" r-class={ {\'z-sel\': date.toDateString() === day.toDateString(), \'z-muted\': date.getMonth() !== day.getMonth(), \'z-dis\': this.isOutOfRange(day)} } on-click={this.select(day)}>{day | format: \'dd\'}</span>{/list}</div>        {#inc this.$body}    </div></div>"
},{}],42:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Calendar  日历
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var Component = require('../base/component.js');
var template = require('./calendar.html');
var _ = require('../base/util.js');

var MS_OF_DAY = 24*3600*1000;

/**
 * @class Calendar
 * @extend Component
 * @param {object}                  options.data                    绑定属性
 * @param {Date=null}               options.data.date               当前选择的日期
 * @param {Date=null}               options.data.minDate            最小日期，如果为空则不限制
 * @param {Date=null}               options.data.maxDate            最大日期，如果为空则不限制
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 */
var Calendar = Component.extend({
    name: 'calendar',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            date: null,
            minDate: null,
            maxDate: null,
            _days: []
        });
        this.supr();

        this.$watch('date', function(newValue, oldValue) {
            if(newValue && oldValue && newValue.getFullYear() === oldValue.getFullYear() && newValue.getMonth() === oldValue.getMonth())
                return;

            // if(newValue && this.isOutOfRange(newValue))
            //     this.data.date = this.data.minDate || this.data.maxDate;
            
            this.update();
        });

        if(!this.data.date)
            this.goToday();
    },
    /**
     * @method update() 日期改变后更新日历
     * @private
     * @return {void}
     */
    update: function() {
        this.data._days = [];
        
        var date = this.data.date;
        var month = date.getMonth();
        var mfirst = new Date(date); mfirst.setDate(1);
        var mfirstTime = mfirst.getTime();
        var nfirst = new Date(mfirst); nfirst.setMonth(month + 1); nfirst.setDate(1);
        var nfirstTime = nfirst.getTime();
        var lastTime = nfirstTime + ((7 - nfirst.getDay())%7 - 1)*MS_OF_DAY;
        var num = - mfirst.getDay();
        var tmpTime, tmp;
        do {
            tmpTime = mfirstTime + (num++)*MS_OF_DAY;
            tmp = new Date(tmpTime);
            this.data._days.push(tmp);
        } while(tmpTime < lastTime);
    },
    /**
     * @method addYear(year) 调整年份
     * @public
     * @param  {number=0} year 加/减的年份
     * @return {void}
     */
    addYear: function(year) {
        if(this.data.readonly || this.data.disabled || !year)
            return;

        var date = new Date(this.data.date);
        date.setFullYear(date.getFullYear() + year);
        this.data.date = date;
    },
    /**
     * @method addMonth(month) 调整月份
     * @public
     * @param  {number=0} month 加/减的月份
     * @return {void}
     */
    addMonth: function(month) {
        if(this.data.readonly || this.data.disabled || !month)
            return;

        var date = new Date(this.data.date);
        date.setMonth(date.getMonth() + month);
        this.data.date = date;
    },
    /**
     * @method select(date) 选择一个日期
     * @public
     * @param  {Date=null} date 选择的日期
     * @return {void}
     */
    select: function(date) {
        if(this.data.readonly || this.data.disabled || this.isOutOfRange(date))
            return;

        this.data.date = new Date(date);

        /**
         * @event select 选择某一个日期时触发
         * @property {object} date 当前选择的日期
         */
        this.$emit('select', {
            date: date
        });
    },
    /**
     * @method goToday() 回到今天
     * @public
     * @return {void}
     */
    goToday: function() {
        this.data.date = new Date((new Date().getTime()/MS_OF_DAY>>0)*MS_OF_DAY);
    },
    /**
     * @method isOutOfRange 是否超出日期范围
     * @param {Date} day 某一天
     * @return {void}
     */
    isOutOfRange: function(day) {
        var minDate = this.data.minDate ? new Date((this.data.minDate.getTime()/MS_OF_DAY>>0)*MS_OF_DAY) : null;
        var maxDate = this.data.maxDate ? new Date((this.data.maxDate.getTime()/MS_OF_DAY>>0)*MS_OF_DAY) : null;

        return (minDate && day < minDate) || (maxDate && day > maxDate);
    }
});

module.exports = Calendar;
},{"../base/component.js":33,"../base/util.js":36,"./calendar.html":41}],43:[function(require,module,exports){
module.exports=""
},{}],44:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Editor    编辑器
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var Component = require('../base/component.js');
var template = require('./editor.html');
var _ = require('../base/util.js');

/**
 * @class Editor
 * @extend Component
 * @param {object}                  options.data                    绑定属性 | Binding Properties
 * @param {string='提示'}           options.data.title              对话框标题 | Title of Dialog
 * @param {string=''}               options.data.content            对话框内容
 * @param {string|boolean=true}     options.data.okButton           是否显示确定按钮。值为`string`时显示该段文字。
 * @param {string|boolean=false}    options.data.cancelButton       是否显示取消按钮。值为`string`时显示该段文字。
 * @param {number=null}             options.data.width              对话框宽度。值为否定时宽度为CSS设置的宽度。
 * @param {function}                options.ok                      当点击确定的时候执行
 * @param {function}                options.cancel                  当点击取消的时候执行
 */
var Editor = Component.extend({
    name: 'modal',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            title: '提示',
            content: '',
            okButton: true,
            cancelButton: false,
            width: null
        });
        this.supr();
    },
    /**
     * @protected
     */
    init: function() {
        this.supr();
        // 证明不是内嵌组件
        if(this.$root === this)
            this.$inject(document.body);
    },
    /**
     * @method close(result) 关闭模态对话框
     * @public
     * @param  {boolean} result 点击确定还是取消
     * @return {void}
     */
    close: function(result) {
        /**
         * @event close 关闭对话框时触发
         * @property {boolean} result 点击了确定还是取消
         */
        this.$emit('close', {
            result: result
        });
        result ? this.ok() : this.cancel();
        this.destroy();
    },
    /**
     * @override
     */
    ok: function() {
        /**
         * @event ok 确定对话框时触发
         */
        this.$emit('ok');
    },
    /**
     * @override
     */
    cancel: function() {
        /**
         * @event close 取消对话框时触发
         */
        this.$emit('cancel');
    }
});

module.exports = Editor;

},{"../base/component.js":33,"../base/util.js":36,"./editor.html":43}],45:[function(require,module,exports){
module.exports="<div class=\"m-gridview {@(class)}\" r-class={ {\'z-dis\': disabled} } r-hide={!visible}>    {#list source as item}    <div class=\"gridview_item\" r-class={ {\'z-sel\': selected === item} }>{#if @(itemTemplate)}{#include @(itemTemplate)}{#else}{item.name}{/if}</div>    {/list}</div>"
},{}],46:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * GridView  网格视图
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var SourceComponent = require('../base/sourceComponent.js');
var template = require('./gridView.html');
var _ = require('../base/util.js');

/**
 * @class GridView
 * @extend SourceComponent
 * @param {object}                  options.data                    绑定属性
 * @param {object[]=[]}             options.data.source             数据源
 * @param {number}                  options.data.source[].id        每项的id
 * @param {string}                  options.data.source[].name      每项的内容
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 * @param {object}                  options.service                 数据服务
 */
var GridView = SourceComponent.extend({
    name: 'gridView',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            // @inherited source: []
        });
        this.supr();
    }
});

module.exports = GridView;
},{"../base/sourceComponent.js":35,"../base/util.js":36,"./gridView.html":45}],47:[function(require,module,exports){
module.exports="<div class=\"m-editor {@(class)}\" r-class={ {\'z-dis\': disabled} } r-hide={!visible}>    <div class=\"editor_preview\" r-html={html}></div>    <ul class=\"m-toolbar editor_toolbar\" r-class={ {\'z-dis\': disabled} }>        <li><a title=\"加粗\" on-click={this.bold()}><i class=\"u-icon u-icon-bold\"></i></a></li>        <li><a title=\"斜体\" on-click={this.italic()}><i class=\"u-icon u-icon-italic\"></i></a></li>        <li class=\"toolbar_divider\">|</li>        <li><a title=\"引用\" on-click={this.quote()}><i class=\"u-icon u-icon-quote\"></i></a></li>        <li><a title=\"无序列表\" on-click={this.ul()}><i class=\"u-icon u-icon-list-ul\"></i></a></li>        <li><a title=\"有序列表\" on-click={this.ol()}><i class=\"u-icon u-icon-list-ol\"></i></a></li>        <li class=\"toolbar_divider\">|</li>        <li><a title=\"链接\" on-click={this.link()}><i class=\"u-icon u-icon-link\"></i></a></li>        <li><a title=\"图片\" on-click={this.image()}><i class=\"u-icon u-icon-image\"></i></a></li>    </ul>    <textarea class=\"editor_textarea\" r-model={content} ref=\"textarea\" readonly={readonly} disabled={disabled}></textarea></div><uploader visible={false} url={imageUrl} extensions={extensions} ref=\"uploader\" on-success={this.uploaderSuccess($event)} on-error={this.uploaderError($event)} />"
},{}],48:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * HTMLEditor 编辑器
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var Component = require('../base/component.js');
var template = require('./htmlEditor.html');
var _ = require('../base/util.js');

/**
 * @class HTMLEditor
 * @extend Component
 * @param {object}                  options.data                    绑定属性 | Binding Properties
 * @param {string=''}               options.data.content            编辑器内容
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 */
var HTMLEditor = Component.extend({
    name: 'htmlEditor',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            content: ''
        });
        this.supr();
    },
    computed: {
        html: function() {
            return this.data.content;
        }
    },
    bold: function() {
        if(this.data.readonly || this.data.disabled)
            return;

        var rangeData = this.getCursorPosition();
        rangeData.text = '<strong>' + rangeData.text + '</strong>';
        this.setCursorPosition(rangeData);
        this.data.content = this.$refs.textarea.value;
        this.$update();
    },
    italic: function() {
        if(this.data.readonly || this.data.disabled)
            return;

        var rangeData = this.getCursorPosition();
        rangeData.text = '<em>' + rangeData.text + '</em>';
        this.setCursorPosition(rangeData);
        this.data.content = this.$refs.textarea.value;
        this.$update();
    },
    quote: function() {
        if(this.data.readonly || this.data.disabled)
            return;

        var rangeData = this.getCursorPosition();
        // var value = this.$refs.textarea.value;
        // for(var i = rangeData.start - 1; i > 0; i--)
        //     if(value[i] == '\n') {
        //         i++;
        //         break;
        //     }
        // rangeData.start = i;
        // for(var i = rangeData.end; i < value.length; i++)
        //     if(value[i] == '\n') {
        //         i--;
        //         break;
        //     }
        // rangeData.end = i;
        rangeData.text = '<blockquote>' + rangeData.text + '</blockquote>';
        this.setCursorPosition(rangeData);
        this.data.content = this.$refs.textarea.value;
        this.$update();
    },
    ul: function() {
        if(this.data.readonly || this.data.disabled)
            return;

        var rangeData = this.getCursorPosition();
        rangeData.text = '<li>' + rangeData.text + '</li>';
        this.setCursorPosition(rangeData);
        this.data.content = this.$refs.textarea.value;
        this.$update();
    },
    ol: function() {
        if(this.data.readonly || this.data.disabled)
            return;

        var rangeData = this.getCursorPosition();
        rangeData.text = '<li>' + rangeData.text + '</li>';
        this.setCursorPosition(rangeData);
        this.data.content = this.$refs.textarea.value;
        this.$update();
    },
    link: function() {
        if(this.data.readonly || this.data.disabled)
            return;

        var rangeData = this.getCursorPosition();
        rangeData.text = '<a href="#">' + rangeData.text + '</a>';
        this.setCursorPosition(rangeData);
        this.data.content = this.$refs.textarea.value;
        this.$update();
    },
    image: function() {
        if(this.data.readonly || this.data.disabled)
            return;

        this.$refs.uploader.upload();
    },
    latex: function() {
        if(this.data.readonly || this.data.disabled)
            return;
        
        var rangeData = this.getCursorPosition();
        rangeData.text = '$$a^2 + b^2 = c^2$$';
        this.setCursorPosition(rangeData);
        this.data.content = this.$refs.textarea.value;
        this.$update();
    },
    uploaderSuccess: function(data) {
        var rangeData = this.getCursorPosition();
        rangeData.text = '<img src="' + data.result + '">';
        this.setCursorPosition(rangeData);
        this.data.content = this.$refs.textarea.value;
        this.$update();
    },
    uploaderError: function(e) {
        Notify.error(e);
    },
    getCursorPosition: function() {
        var textarea = this.$refs.textarea;

        var rangeData = {text: '', start: 0, end: 0};
        textarea.focus();

        if (textarea.setSelectionRange) { // W3C
            rangeData.start = textarea.selectionStart;
            rangeData.end = textarea.selectionEnd;
            rangeData.text = (rangeData.start != rangeData.end) ? textarea.value.substring(rangeData.start, rangeData.end): '';
        } else if (document.selection) { // IE
            var i,
                oS = document.selection.createRange(),
                // Don't: oR = textarea.createTextRange()
                oR = document.body.createTextRange();
            oR.moveToElementText(textarea);

            rangeData.text = oS.text;
            rangeData.bookmark = oS.getBookmark();

            // object.moveStart(sUnit [, iCount])
            // Return Value: Integer that returns the number of units moved.
            for (i = 0; oR.compareEndPoints('StartToStart', oS) < 0 && oS.moveStart('character', -1) !== 0; i++) {
                // Why? You can alert(textarea.value.length)
                if (textarea.value.charAt(i) == '\n') {
                    i++;
                }
            }
            rangeData.start = i;
            rangeData.end = rangeData.text.length + rangeData.start;
        }

        return rangeData;
    },
    setCursorPosition: function(rangeData) {
        if(!rangeData)
            throw new Error('You must get cursor position first!');

        var textarea = this.$refs.textarea;

        var oldValue = textarea.value;
        textarea.value = oldValue.substring(0, rangeData.start) + rangeData.text + oldValue.substring(rangeData.end, oldValue.length);
        rangeData.end = rangeData.start + rangeData.text.length;
        if (textarea.setSelectionRange) { // W3C
            textarea.focus();
            textarea.setSelectionRange(rangeData.start, rangeData.end);
        } else if (textarea.createTextRange) { // IE
            var oR = textarea.createTextRange();
            // Fixbug :
            // In IE, if cursor position at the end of textarea, the setCursorPosition function don't work
            if(textarea.value.length === rangeData.start) {
                oR.collapse(false)
                oR.select();
            } else {
                oR.moveToBookmark(rangeData.bookmark);
                oR.select();
            }
        }
    }
});

module.exports = HTMLEditor;

},{"../base/component.js":33,"../base/util.js":36,"./htmlEditor.html":47}],49:[function(require,module,exports){
module.exports="<ul class=\"m-listview {@(class)}\" r-class={ {\'z-dis\': disabled} } r-hide={!visible}>    {#list source as item}    <li r-class={ {\'z-sel\': selected === item, \'z-dis\': item.disabled} } title={item.name} on-click={this.select(item)}>{#if @(itemTemplate)}{#include @(itemTemplate)}{#else}{item.name}{/if}</li>    {/list}</ul>"
},{}],50:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * ListView  列表视图
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var SourceComponent = require('../base/sourceComponent.js');
var template = require('./listView.html');
var _ = require('../base/util.js');

/**
 * @class ListView
 * @param {object}                  options.data                    绑定属性
 * @param {object[]=[]}             options.data.source             数据源
 * @param {number}                  options.data.source[].id        每项的id
 * @param {string}                  options.data.source[].name      每项的内容
 * @param {object=null}             options.data.selected           当前选择项
 * @param {string=null}             options.data.itemTemplate       单项模板
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 * @param {object}                  options.service                 数据服务
 */
var ListView = SourceComponent.extend({
    name: 'listView',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            // @inherited source: [],
            selected: null,
            itemTemplate: null
        });
        this.supr();
    },
    /**
     * @method select(item) 选择某一项
     * @public
     * @param  {object} item 选择项
     * @return {void}
     */
    select: function(item) {
        if(this.data.readonly || this.data.disabled || item.disabled)
            return;

        this.data.selected = item;
        /**
         * @event select 选择某一项时触发
         * @property {object} selected 当前选择项
         */
        this.$emit('select', {
            selected: item
        });
    }
});

module.exports = ListView;
},{"../base/sourceComponent.js":35,"../base/util.js":36,"./listView.html":49}],51:[function(require,module,exports){
module.exports="<div class=\"m-editor {@(class)}\" r-class={ {\'z-dis\': disabled} } r-hide={!visible}>    <div class=\"editor_preview\" r-html={html}></div>    <ul class=\"m-toolbar editor_toolbar\" r-class={ {\'z-dis\': disabled} }>        <li><a title=\"加粗\" on-click={this.bold()}><i class=\"u-icon u-icon-bold\"></i></a></li>        <li><a title=\"斜体\" on-click={this.italic()}><i class=\"u-icon u-icon-italic\"></i></a></li>        <li class=\"toolbar_divider\">|</li>        <li><a title=\"引用\" on-click={this.quote()}><i class=\"u-icon u-icon-quote\"></i></a></li>        <li><a title=\"无序列表\" on-click={this.ul()}><i class=\"u-icon u-icon-list-ul\"></i></a></li>        <li><a title=\"有序列表\" on-click={this.ol()}><i class=\"u-icon u-icon-list-ol\"></i></a></li>        <li class=\"toolbar_divider\">|</li>        <li><a title=\"链接\" on-click={this.link()}><i class=\"u-icon u-icon-link\"></i></a></li>        <li><a title=\"图片\" on-click={this.image()}><i class=\"u-icon u-icon-image\"></i></a></li>        <li class=\"f-fr\"><a title=\"帮助\" href=\"http://www.jianshu.com/p/7bd23251da0a\" target=\"_blank\"><i class=\"u-icon u-icon-info\"></i></a></li>    </ul>    <textarea class=\"editor_textarea\" r-model={content} ref=\"textarea\" readonly={readonly} disabled={disabled}></textarea></div><uploader visible={false} url={imageUrl} extensions={extensions} ref=\"uploader\" on-success={this.uploaderSuccess($event)} on-error={this.uploaderError($event)} />"
},{}],52:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * MarkEditor 编辑器
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var Component = require('../base/component.js');
var template = require('./markEditor.html');
var _ = require('../base/util.js');

var marked = require('marked');

/**
 * @class MarkEditor
 * @extend Component
 * @param {object}                  options.data                    绑定属性 | Binding Properties
 * @param {string=''}               options.data.content            编辑器内容
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 */
var MarkEditor = Component.extend({
    name: 'markEditor',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            content: ''
        });
        this.supr();
    },
    computed: {
        html: function() {
            return marked(this.data.content);
        }
    },
    bold: function() {
        if(this.data.readonly || this.data.disabled)
            return;

        var rangeData = this.getCursorPosition();
        rangeData.text = '**' + rangeData.text + '**';
        this.setCursorPosition(rangeData);
        this.data.content = this.$refs.textarea.value;
        this.$update();
    },
    italic: function() {
        if(this.data.readonly || this.data.disabled)
            return;

        var rangeData = this.getCursorPosition();
        rangeData.text = '*' + rangeData.text + '*';
        this.setCursorPosition(rangeData);
        this.data.content = this.$refs.textarea.value;
        this.$update();
    },
    quote: function() {
        if(this.data.readonly || this.data.disabled)
            return;

        var rangeData = this.getCursorPosition();
        var value = this.$refs.textarea.value;
        for(var i = rangeData.start - 1; i > 0; i--)
            if(value[i] == '\n') {
                i++;
                break;
            }
        rangeData.start = i;
        rangeData.text = '> ';
        rangeData.end = rangeData.start;
        this.setCursorPosition(rangeData);
        this.data.content = this.$refs.textarea.value;
        this.$update();
    },
    ul: function() {
        if(this.data.readonly || this.data.disabled)
            return;

        var rangeData = this.getCursorPosition();
        var value = this.$refs.textarea.value;
        for(var i = rangeData.start - 1; i > 0; i--)
            if(value[i] == '\n') {
                i++;
                break;
            }
        rangeData.start = i;
        rangeData.text = '- ';
        rangeData.end = rangeData.start;
        this.setCursorPosition(rangeData);
        this.data.content = this.$refs.textarea.value;
        this.$update();
    },
    ol: function() {
        if(this.data.readonly || this.data.disabled)
            return;

        var rangeData = this.getCursorPosition();
        var value = this.$refs.textarea.value;
        for(var i = rangeData.start - 1; i > 0; i--)
            if(value[i] == '\n') {
                i++;
                break;
            }
        rangeData.start = i;
        rangeData.text = '1. ';
        rangeData.end = rangeData.start;
        this.setCursorPosition(rangeData);
        this.data.content = this.$refs.textarea.value;
        this.$update();
    },
    link: function() {
        if(this.data.readonly || this.data.disabled)
            return;

        var rangeData = this.getCursorPosition();
        rangeData.text = '[' + rangeData.text + '](http://)';
        this.setCursorPosition(rangeData);
        this.data.content = this.$refs.textarea.value;
        this.$update();
    },
    image: function() {
        if(this.data.readonly || this.data.disabled)
            return;

        this.$refs.uploader.upload();
    },
    latex: function() {
        if(this.data.readonly || this.data.disabled)
            return;
        
        var rangeData = this.getCursorPosition();
        rangeData.text = '$$a^2 + b^2 = c^2$$';
        this.setCursorPosition(rangeData);
        this.data.content = this.$refs.textarea.value;
        this.$update();
    },
    uploaderSuccess: function(data) {
        var rangeData = this.getCursorPosition();
        rangeData.text = '\n![](' + data.result + ')';
        this.setCursorPosition(rangeData);
        this.data.content = this.$refs.textarea.value;
        this.$update();
    },
    uploaderError: function(e) {
        Notify.error(e);
    },
    getCursorPosition: function() {
        var textarea = this.$refs.textarea;

        var rangeData = {text: '', start: 0, end: 0};
        textarea.focus();

        if (textarea.setSelectionRange) { // W3C
            rangeData.start = textarea.selectionStart;
            rangeData.end = textarea.selectionEnd;
            rangeData.text = (rangeData.start != rangeData.end) ? textarea.value.substring(rangeData.start, rangeData.end): '';
        } else if (document.selection) { // IE
            var i,
                oS = document.selection.createRange(),
                // Don't: oR = textarea.createTextRange()
                oR = document.body.createTextRange();
            oR.moveToElementText(textarea);

            rangeData.text = oS.text;
            rangeData.bookmark = oS.getBookmark();

            // object.moveStart(sUnit [, iCount])
            // Return Value: Integer that returns the number of units moved.
            for (i = 0; oR.compareEndPoints('StartToStart', oS) < 0 && oS.moveStart('character', -1) !== 0; i++) {
                // Why? You can alert(textarea.value.length)
                if (textarea.value.charAt(i) == '\n') {
                    i++;
                }
            }
            rangeData.start = i;
            rangeData.end = rangeData.text.length + rangeData.start;
        }

        return rangeData;
    },
    setCursorPosition: function(rangeData) {
        if(!rangeData)
            throw new Error('You must get cursor position first!');

        var textarea = this.$refs.textarea;

        var oldValue = textarea.value;
        textarea.value = oldValue.substring(0, rangeData.start) + rangeData.text + oldValue.substring(rangeData.end, oldValue.length);
        rangeData.end = rangeData.start + rangeData.text.length;
        if (textarea.setSelectionRange) { // W3C
            textarea.focus();
            textarea.setSelectionRange(rangeData.start, rangeData.end);
        } else if (textarea.createTextRange) { // IE
            var oR = textarea.createTextRange();
            // Fixbug :
            // In IE, if cursor position at the end of textarea, the setCursorPosition function don't work
            if(textarea.value.length === rangeData.start) {
                oR.collapse(false)
                oR.select();
            } else {
                oR.moveToBookmark(rangeData.bookmark);
                oR.select();
            }
        }
    }
});

module.exports = MarkEditor;

},{"../base/component.js":33,"../base/util.js":36,"./markEditor.html":51,"marked":2}],53:[function(require,module,exports){
module.exports="<div>    {#list source as item}    <menu name={item.name} source={item.children} />    {/list}</div>"
},{}],54:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Menubar  列表视图
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var SourceComponent = require('../base/sourceComponent.js');
var template = require('./menubar.html');
var _ = require('../base/util.js');
var Menu = require('../unit/menu.js');

/**
 * @class Menubar
 * @param {object}                  options.data                    绑定属性
 * @param {object[]=[]}             options.data.source             数据源
 * @param {number}                  options.data.source[].id        每项的id
 * @param {string}                  options.data.source[].name      每项的内容
 * @param {object=null}             options.data.selected           当前选择项
 * @param {string=null}             options.data.itemTemplate       单项模板
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 * @param {object}                  options.service                 数据服务
 */
var Menubar = SourceComponent.extend({
    name: 'menubar',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            // @inherited source: [],
            itemTemplate: null
        });
        this.supr();
    }
});

module.exports = Menubar;
},{"../base/sourceComponent.js":35,"../base/util.js":36,"../unit/menu.js":85,"./menubar.html":53}],55:[function(require,module,exports){
module.exports="<div class=\"m-modal {@(class)}\" on-keyup={this.keyup($event)} r-hide={!visible}>    <div class=\"modal_dialog\" {#if width}style=\"width: {width}px\"{/if}>        <div class=\"modal_hd\">            <a class=\"modal_close\" on-click={this.close(!cancelButton)}><i class=\"u-icon u-icon-close\"></i></a>            <h3 class=\"modal_title\">{title}</h3>        </div>        <div class=\"modal_bd\">            {#if contentTemplate}{#include @(contentTemplate)}{#else}{content}{/if}        </div>        <div class=\"modal_ft\">            {#if okButton}            <button class=\"u-btn u-btn-primary\" on-click={this.close(true)}>{okButton === true ? \'确定\' : okButton}</button>            {/if}            {#if cancelButton}            <button class=\"u-btn\" on-click={this.close(false)}>{cancelButton === true ? \'取消\' : cancelButton}</button>            {/if}        </div>    </div></div>"
},{}],56:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Modal     模态对话框
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var Component = require('../base/component.js');
var template = require('./modal.html');
var _ = require('../base/util.js');

/**
 * @class Modal
 * @extend Component
 * @param {object}                  options.data                    绑定属性 | Binding Properties
 * @param {string='提示'}           options.data.title              对话框标题 | Title of Dialog
 * @param {string=''}               options.data.content            对话框内容
 * @param {string|boolean=true}     options.data.okButton           是否显示确定按钮。值为`string`时显示该段文字。
 * @param {string|boolean=false}    options.data.cancelButton       是否显示取消按钮。值为`string`时显示该段文字。
 * @param {number=null}             options.data.width              对话框宽度。值为否定时宽度为CSS设置的宽度。
 * @param {string=''}               options.data.class              补充class
 */
var Modal = Component.extend({
    name: 'modal',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            title: '提示',
            content: '',
            okButton: true,
            cancelButton: false,
            width: null
        });
        this.supr();
    },
    /**
     * @protected
     */
    init: function() {
        this.supr();
        // 证明不是内嵌组件
        if(this.$root === this)
            this.$inject(document.body);
    },
    /**
     * @method close(result) 关闭模态对话框
     * @public
     * @param  {boolean} result 点击确定还是取消
     * @return {void}
     */
    close: function(result) {
        /**
         * @event close 关闭对话框时触发
         * @property {boolean} result 点击了确定还是取消
         */
        this.$emit('close', {
            result: result
        });
        result ? this.ok() : this.cancel();
        this.destroy();
    },
    /**
     * @override
     */
    ok: function() {
        /**
         * @event ok 确定对话框时触发
         */
        this.$emit('ok');

        this.destroy();
    },
    /**
     * @override
     */
    cancel: function() {
        /**
         * @event cancel 取消对话框时触发
         */
        this.$emit('cancel');

        this.destroy();
    },
    keyup: function($event) {
        if($event.which == 13)
            this.ok();
    }
});

/**
 * @method alert(content[,title]) 弹出一个alert对话框。关闭时始终触发确定事件。
 * @static
 * @public
 * @param  {string=''} content 对话框内容
 * @param  {string='提示'} title 对话框标题
 * @return {void}
 */
Modal.alert = function(content, title, okButton) {
    var modal = new Modal({
        data: {
            content: content,
            title: title,
            okButton: okButton
        }
    });
    return modal;
}

/**
 * @method confirm(content[,title]) 弹出一个confirm对话框
 * @static
 * @public
 * @param  {string=''} content 对话框内容
 * @param  {string='提示'} title 对话框标题
 * @return {void}
 */
Modal.confirm = function(content, title, okButton, cancelButton) {
    var modal = new Modal({
        data: {
            content: content,
            title: title,
            okButton: okButton,
            cancelButton: cancelButton || true
        }
    });
    return modal;
}

module.exports = Modal;

},{"../base/component.js":33,"../base/util.js":36,"./modal.html":55}],57:[function(require,module,exports){
module.exports="<div class=\"m-notify m-notify-{@(position)} {@(class)}\" r-hide={!visible}>    {#list messages as message}    <div class=\"u-message u-message-{@(message.type)}\" r-animation=\"on: enter; class: animated fadeIn fast; on: leave; class: animated fadeOut fast;\">        <a class=\"message_close\" on-click={this.close(message)}><i class=\"u-icon u-icon-close\"></i></a>        <i class=\"message_icon u-icon u-icon-{@(message.type)}-circle\" r-hide={@(!message.type)}></i>        {@(message.text)}    </div>    {/list}</div>"
},{}],58:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Notify    通知
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var Component = require('../base/component.js');
var template = require('./notify.html');
var _ = require('../base/util.js');

/**
 * @class Notify
 * @extend Component
 * @param {object}                  options.data                    监听数据
 * @param {string='topcenter'}      options.data.position           通知的位置，可选参数：`topcenter`、`topleft`、`topright`、`bottomcenter`、`bottomleft`、`bottomright`、`static`
 * @param {number=2000}             options.data.duration           每条消息的停留毫秒数，如果为0，则表示消息常驻不消失。
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 */
var Notify = Component.extend({
    name: 'notify',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            messages: [],
            position: 'topcenter',
            duration: 2000
        });
        this.supr();
    },
    /**
     * @protected
     */
    init: function() {
        this.supr();
        // 证明不是内嵌组件
        if(this.$root === this)
            this.$inject(document.body);
    },
    /**
     * @method show(text[,type][,duration]) 弹出一个消息
     * @public
     * @param  {string=''} text 消息内容
     * @param  {string=null} type 消息类型，可选参数：`info`、`success`、`warning`、`error`
     * @param  {number=notify.duration} duration 该条消息的停留毫秒数，如果为0，则表示消息常驻不消失。
     * @return {void}
     */
    show: function(text, type, duration) {
        var message = {
            text: text,
            type: type,
            duration: duration >= 0 ? duration : this.data.duration
        };
        this.data.messages.unshift(message);
        this.$update();

        if(+message.duration)
            this.$timeout(this.close.bind(this, message), +message.duration);

        /**
         * @event show 弹出一个消息时触发
         * @property {object} message 弹出的消息对象
         */
        this.$emit('show', {
            message: message
        });
    },
    /**
     * @method close(message) 关闭某条消息
     * @public
     * @param  {object} message 需要关闭的消息对象
     * @return {void}
     */
    close: function(message) {
        var index = this.data.messages.indexOf(message);
        this.data.messages.splice(index, 1);
        this.$update();
        /**
         * @event close 关闭某条消息时触发
         * @property {object} message 关闭了的消息对象
         */
        this.$emit('close', {
            message: message
        });
    },
    /**
     * @method closeAll() 关闭所有消息
     * @public
     * @return {void}
     */
    closeAll: function() {
        this.$update('messages', []);
    }
}).use('$timeout');


/**
 * 直接初始化一个实例
 * @type {Notify}
 */
var notify = new Notify();
Notify.notify = notify;

/**
 * @method show(text[,type][,duration]) 弹出一个消息
 * @static
 * @public
 * @param  {string=''} text 消息内容
 * @param  {string=null} type 消息类型，可选参数：`info`、`success`、`warning`、`error`
 * @param  {number=notify.duration} duration 该条消息的停留毫秒数，如果为0，则表示消息常驻不消失。
 * @return {void}
 */
Notify.show = function() {
    notify.show.apply(notify, arguments);
}
/**
 * @method [info|success|warning|error](text) 弹出特殊类型的消息
 * @static
 * @public
 * @param  {string=''} text 消息内容
 * @return {void}
 */
var types = ['success', 'warning', 'info', 'error'];
types.forEach(function(type) {
    Notify[type] = function(text) {
        Notify.show(text, type);
    }
});
/**
 * @method close(message) 关闭某条消息
 * @static
 * @public
 * @param  {object} message 需要关闭的消息对象
 * @return {void}
 */
Notify.close = function() {
    notify.close.apply(notify, arguments);
}
/**
 * @method closeAll() 关闭所有消息
 * @static
 * @public
 * @return {void}
 */
Notify.closeAll = function() {
    notify.closeAll.apply(notify, arguments);
}

module.exports = Notify;
},{"../base/component.js":33,"../base/util.js":36,"./notify.html":57}],59:[function(require,module,exports){
module.exports="<ul class=\"m-pager m-pager-{@(position)} {@(class)}\" r-class={ {\'z-dis\': disabled} } r-hide={!visible}>    <li class=\"pager_prev\" r-class={ {\'z-dis\' : current <= 1} } on-click={this.select(current - 1)}><a>上一页</a></li>    {#if total - middle > side * 2 + 1}        {#list 1..side as i}        <li r-class={ {\'z-crt\': current == i} } on-click={this.select(i)}><a>{i}</a></li>        {/list}        {#if _start > side + 1}<li><span>...</span></li>{/if}        {#list _start.._end as i}        <li r-class={ {\'z-crt\': current == i} } on-click={this.select(i)}><a>{i}</a></li>        {/list}        {#if _end < total - side}<li><span>...</span></li>{/if}        {#list (total - side + 1)..total as i}        <li r-class={ {\'z-crt\': current == i} } on-click={this.select(i)}><a>{i}</a></li>        {/list}    {#else}        {#list 1..total as i}        <li r-class={ {\'z-crt\': current == i} } on-click={this.select(i)}><a>{i}</a></li>        {/list}    {/if}    <li class=\"pager_next\" r-class={ {\'z-dis\' : current >= total} } on-click={this.select(current + 1)}><a>下一页</a></li></ul>"
},{}],60:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Pager     分页
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

var Component = require('../base/component.js');
var template = require('./pager.html');
var _ = require('../base/util.js');

/**
 * @class Pager
 * @extend Component
 * @param {object}                  options.data                    监听数据
 * @param {number=1}                options.data.current            当前页
 * @param {total=11}                options.data.total              总页数
 * @param {string='center'}         options.data.position           分页的位置，可选参数：`center`、`left`、`right`
 * @param {middle=5}                options.data.middle             当页数较多时，中间显示的页数
 * @param {side=2}                  options.data.side               当页数较多时，两端显示的页数
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 */
var Pager = Component.extend({
    name: 'pager',
    template: template,
    config: function() {
        _.extend(this.data, {
            current: 1,
            total: 11,
            position: 'center',
            middle: 5,
            side: 2,
            _start: 1,
            _end: 5
        });
        this.supr();

        this.$watch(['current', 'total'], function(current, total) {
            this.data.current = current = +current;
            this.data.total = total = +total;
            var show = this.data.middle>>1;
            var side = this.data.side;

            this.data._start = current - show;
            this.data._end = current + show;
            if(this.data._start < side + 1)
                this.data._start = side + 1;
            if(this.data._end > total - side)
                this.data._end = total - side;
            if(current - this.data._start < show)
                this.data._end += this.data._start - current + show;
            if(this.data._end - current < show)
                this.data._start += this.data._end - current - show;
        });

        this.$watch(['middle', 'side'], function(middle, side) {
            this.data.middle = +middle;
            this.data.side = +side;
        });
    },
    /**
     * @method select(page) 选择某一页
     * @public
     * @param  {object} page 选择页
     * @return {void}
     */
    select: function(page) {
        if(this.data.readonly || this.data.disabled)
            return;

        if(page < 1) return;
        if(page > this.data.total) return;
        if(page == this.data.current) return;

        this.data.current = page;
        /**
         * @event select 选择某一页时触发
         * @property {object} current 当前选择页
         */
        this.$emit('select', {
            current: this.data.current
        });
    }
});

module.exports = Pager;
},{"../base/component.js":33,"../base/util.js":36,"./pager.html":59}],61:[function(require,module,exports){
module.exports="<div class=\"m-tab {@(class)}\" r-class={ {\'z-dis\': disabled} } r-hide={!visible}>    <ul class=\"tab_hd\">        {#list source as item}        <li r-class={ {\'z-crt\': item == selected, \'z-dis\': item.disabled} } on-click={this.select(item)}>{item.title}</li>        {/list}    </ul>    <div class=\"tab_bd\">        {#inc this.$body}    </div></div>"
},{}],62:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Tab       选项卡
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var Component = require('../base/component.js');
var template = require('./tab.html');
var _ = require('../base/util.js');

/**
 * @class Tab
 * @extend Component
 * @param {object}                  options.data                    绑定属性
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 */
var Tab = Component.extend({
    name: 'tab',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            source: [],
            selected: null
        });
        this.supr();
    },
    /**
     * @method select(item) 选择某一项
     * @public
     * @param  {object} item 选择项
     * @return {void}
     */
    select: function(item) {
        if(item.disabled || this.data.readonly || this.data.disabled)
            return;

        this.data.selected = item;
        /**
         * @event select 选择某一项时触发
         * @property {object} selected 当前选择项
         */
        this.$emit('select', {
            selected: item
        });
    }
});

var TabPane = Component.extend({
    name: 'tabPane',
    template: '<div r-hide={this.$outer.data.selected.tab != this}>{#include this.$body}</div>',
    /**
     * @protected
     */
    config: function() { 
        if(this.$outer) {
            var source = this.$outer.data.source;
            var item = {
                title: this.data.title,
                disabled: this.data.disabled,
                tab: this
            };
            source.push(item);

            if(!this.$outer.data.selected)
                this.$outer.data.selected = item;
        }
    }
});

module.exports = Tab;
},{"../base/component.js":33,"../base/util.js":36,"./tab.html":61}],63:[function(require,module,exports){
module.exports="<table class=\"m-table m-tableview {@(class)}\" r-class={ {\'m-table-striped\': striped, \'m-table-hover\': hover} } r-hide={!visible}>    <thead>        <tr>            {#list fields as field}            <th r-class={ {\'tableview_sortable\': field.sortable} } on-click={this.sort(field)}>                {field.name || field.key}                {#if field.sortable}                    <i class=\"u-icon {order.by === field.key ? (order.desc ? \'u-icon-sort-desc\' : \'u-icon-sort-asc\') : \'u-icon-sort\'}\"></i>                {/if}            </th>            {/list}        </tr>    </thead>    <tbody>        {#list source as item}        <tr>            {#list fields as field}            <td>{item[field.key]}</td>            {/list}        </tr>        {/list}    </tbody></table>"
},{}],64:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * TableView 表格视图
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var SourceComponent = require('../base/sourceComponent.js');
var template = require('./tableView.html');
var _ = require('../base/util.js');

/**
 * @class TableView
 * @extend SourceComponent
 * @param {object}                  options.data                    绑定属性
 * @param {object[]=[]}             options.data.source             数据源
 * @param {number}                  options.data.source[].id        每项的id
 * @param {string}                  options.data.source[].name      每项的内容
 * @param {object[]=[]}             options.data.field              字段集
 * @param {string}                  options.data.field[].key        每个字段的key
 * @param {string}                  options.data.field[].name       每个字段在表头显示的文字，如果没有则显示key
 * @param {boolean=false}           options.data.striped            是否显示条纹
 * @param {boolean=false}           options.data.hover              是否每行在hover时显示样式
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 * @param {object}                  options.service                 数据服务
 */
var TableView = SourceComponent.extend({
    name: 'tableView',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            // @inherited source: [],
            fields: [],
            striped: false,
            hover: false,
            // TODO: 暂不考虑多字段排序
            order: {
                by: null,
                desc: false
            }
        });
        this.supr();
    },
    /**
     * @method sort(field) 按照某个字段排序
     * @public
     * @param  {object} field 排序字段
     * @return {void}
     */
    sort: function(field) {
        if(!field.sortable)
            return;

        var order = this.data.order;

        if(order.by === field.key)
            order.desc = !order.desc;
        else {
            order.by = field.key;
            order.desc = false;
        }

        if(this.service)
            this.$updateSource();
        else {
            this.data.source.sort(function(a, b) {
                if(order.desc)
                    return a[order.by] < b[order.by];
                else
                    return a[order.by] > b[order.by];
            });
        }
        /**
         * @event sort 按照某个字段排序时触发
         * @property {object} field 排序字段
         */
        this.$emit('sort', {
            field: field
        });
    }
});

module.exports = TableView;
},{"../base/sourceComponent.js":35,"../base/util.js":36,"./tableView.html":63}],65:[function(require,module,exports){
module.exports="<div class=\"m-treeview {@(class)}\" r-class={ {\'z-dis\': disabled} } r-hide={!visible}>    <treeViewList source={source} visible={true} /></div>"
},{}],66:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * TreeView  树型视图
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var SourceComponent = require('../base/sourceComponent.js');
var template = require('./treeView.html');
var hierarchicalTemplate = require('./treeViewList.html');
var _ = require('../base/util.js');

/**
 * @class TreeView
 * @extend SourceComponent
 * @param {object}                  options.data                    绑定属性
 * @param {object[]=[]}             options.data.source             数据源
 * @param {number}                  options.data.source[].id        每项的id
 * @param {string}                  options.data.source[].name      每项的内容
 * @param {object=null}             options.data.selected           当前选择项
 * @param {boolean=false}           options.data.hierarchical       是否分级动态加载，需要service
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 * @param {object}                  options.service                 数据服务
 */
var TreeView = SourceComponent.extend({
    name: 'treeView',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            // @inherited source: [],
            selected: null,
            multiple: false,
            hierarchical: false
        });
        this.supr();

        this.$ancestor = this;
    },
    /**
     * @method select(item) 选择某一项
     * @public
     * @param  {object} item 选择项
     * @return {void}
     */
    select: function(item) {
        if(this.data.readonly || this.data.disabled || item.disabled)
            return;

        this.data.selected = item;
        /**
         * @event select 选择某一项时触发
         * @property {object} selected 当前选择项
         */
        this.$emit('select', {
            selected: item
        });
    },
    /**
     * @method toggle(item) 展开或收起某一项
     * @private
     * @param  {object} item 展开收起项
     * @return {void}
     */
    toggle: function(item) {
        if(this.data.readonly || this.data.disabled || item.disabled)
            return;

        item.open = !item.open;

        /**
         * @event toggle 展开或收起某一项时触发
         * @property {object} item 展开收起项
         * @property {boolean} open 展开还是收起
         */
        this.$emit('toggle', {
            item: item,
            open: item.open
        });
    }
});

var TreeViewList = SourceComponent.extend({
    name: 'treeViewList',
    template: hierarchicalTemplate,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            // @inherited source: [],
            itemTemplate: null,
            visible: false
        });
        this.supr();

        this.$ancestor = this.$parent.$ancestor;
        this.service = this.$ancestor.service;
        this.data.itemTemplate = this.$ancestor.data.itemTemplate;
        this.data.hierarchical = this.$ancestor.data.hierarchical;

        this.$watch('visible', function(newValue) {
            if(!this.data.hierarchical)
                return;

            if(!newValue || this.$parent.name !== 'treeViewList')
                return;

            this.$updateSource(function() {
                this.data.hierarchical = false;
            });
        });
    },
    /**
     * @override
     */
    getParams: function() {
        if(this.data.parent)
            return _.extend({parentId: this.data.parent.id}, this.$ancestor.getParams());
    },
    $updateSource: function() {
        this.service.getList(this.getParams(), function(result) {
            // 给每个节点item添加parent
            result.forEach(function(item) {
                item.parent = this.data.parent;
            }.bind(this));

            this.$update('source', result);

            this.$emit('updateSource', {
                result: result
            });
        }.bind(this));
        return this;
    },
    /**
     * @method select(item) 选择某一项
     * @private
     * @param  {object} item 选择项
     * @return {void}
     */
    select: function(item) {
        this.$ancestor.select(item);
    },
    /**
     * @method toggle(item) 展开或收起某一项
     * @private
     * @param  {object} item 展开收起项
     * @return {void}
     */
    toggle: function(item) {
        this.$ancestor.toggle(item);
    }
});

module.exports = TreeView;
},{"../base/sourceComponent.js":35,"../base/util.js":36,"./treeView.html":65,"./treeViewList.html":67}],67:[function(require,module,exports){
module.exports="<ul class=\"treeview_list\" r-hide={!visible}>    {#list source as item}    <li>        <div class=\"treeview_item\">            {#if item.childrenCount || (item.children && item.children.length)}            <i class=\"u-icon\" r-class={ {\'u-icon-caret-right\': !item.open, \'u-icon-caret-down\': item.open}} on-click={this.toggle(item)}></i>            {/if}            <div class=\"treeview_itemname\" r-class={ {\'z-sel\': this.$ancestor.data.selected === item, \'z-dis\': item.disabled} } title={item.name} on-click={this.select(item)}>{#if @(itemTemplate)}{#include @(itemTemplate)}{#else}{item.name}{/if}</div>        </div>        {#if item.childrenCount || (item.children && item.children.length)}<treeViewList source={item.children} visible={item.open} parent={item} />{/if}    </li>    {/list}</ul>"
},{}],68:[function(require,module,exports){
module.exports="<label class=\"u-check2 {@(class)}\" r-class={ {\'z-dis\': disabled, \'z-chk\': checked, \'z-part\': checked === null, \'u-check2-block\': block} } r-hide={!visible} title={name} on-click={this.check(!checked)}><div class=\"check2_box\"><i class=\"u-icon u-icon-check\"></i></div> {name}</label>"
},{}],69:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Check2   多选按钮
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var Component = require('../base/component.js');
var template = require('./check2.html');
var _ = require('../base/util.js');

/**
 * @class Check2
 * @extend Component
 * @param {object}                  options.data                    绑定属性
 * @param {string=''}               options.data.name               多选按钮的文字
 * @param {object=null}             options.data.checked            多选按钮的选择状态
 * @param {boolean=false}           options.data.block              是否以block方式显示
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 */
var Check2 = Component.extend({
    name: 'check2',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            name: '',
            checked: false,
            block: false
        });
        this.supr();
    },
    /**
     * @method check(checked) 改变选中状态
     * @public
     * @param  {boolean} checked 选中状态
     * @return {void}
     */
    check: function(checked) {
        if(this.data.readonly || this.data.disabled)
            return;

        this.data.checked = checked;
        /**
         * @event check 改变选中状态时触发
         * @property {boolean} checked 选中状态
         */
        this.$emit('check', {
            checked: checked
        });
    }
});

module.exports = Check2;
},{"../base/component.js":33,"../base/util.js":36,"./check2.html":68}],70:[function(require,module,exports){
module.exports="<div class=\"u-unitgroup {@(class)}\" r-hide={!visible}>    {#list source as item}    <check2 name={item.name} checked={item.checked} disabled={disabled} block={block} />    {/list}</div>"
},{}],71:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Check2Group 输入扩展
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var CheckGroup = require('./checkGroup.js');
var template = require('./check2Group.html');
var _ = require('../base/util.js');
var Check2 = require('./check2.js');

/**
 * @class Check2Group
 * @extend CheckGroup
 * @param {object}                  options.data                    绑定属性
 * @param {object[]=[]}             options.data.source             数据源
 * @param {number}                  options.data.source[].id        每项的id
 * @param {string}                  options.data.source[].name      每项的内容
 * @param {boolean=false}           options.data.block              多行显示
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 * @param {object}                  options.service                 数据服务
 */
var Check2Group = CheckGroup.extend({
    name: 'check2Group',
    template: template
});

module.exports = Check2Group;
},{"../base/util.js":36,"./check2.js":69,"./check2Group.html":70,"./checkGroup.js":73}],72:[function(require,module,exports){
module.exports="<div class=\"u-unitgroup {@(class)}\" r-hide={!visible}>    {#list source as item}    <label class=\"u-check2\" r-class={ {\'z-dis\': disabled, \'u-check2-block\': block} } title={item.name}><input type=\"checkbox\" class=\"u-check\" r-model={item.checked} disabled={disabled}> {item.name}</label>    {/list}</div>"
},{}],73:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * CheckGroup 多选组
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var SourceComponent = require('../base/sourceComponent.js');
var template = require('./checkGroup.html');
var _ = require('../base/util.js');

/**
 * @class CheckGroup
 * @extend SourceComponent
 * @param {object}                  options.data                    绑定属性
 * @param {object[]=[]}             options.data.source             数据源
 * @param {number}                  options.data.source[].id        每项的id
 * @param {string}                  options.data.source[].name      每项的内容
 * @param {boolean=false}           options.data.block              多行显示
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 * @param {object}                  options.service                 数据服务
 */
var CheckGroup = SourceComponent.extend({
    name: 'checkGroup',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            // @inherited source: [],
            block: false
        });
        this.supr();
    }
});

module.exports = CheckGroup;
},{"../base/sourceComponent.js":35,"../base/util.js":36,"./checkGroup.html":72}],74:[function(require,module,exports){
module.exports="<div class=\"u-dropdown u-dropdown-datepicker {@(class)}\" r-class={ {\'z-dis\': disabled} } r-hide={!visible} ref=\"element\">    <div class=\"dropdown_hd\">        <input class=\"u-input u-input-full\" placeholder={placeholder} value={date | format: \'yyyy-MM-dd\'} on-focus={this.toggle(true)} on-change={this.input($event)} ref=\"input\" disabled={disabled} {#if readonly}readonly=\"readonly\"{/if}>    </div>    <div class=\"dropdown_bd\" r-hide={!open} r-animation=\"on: enter; class: animated fadeInY fast; on: leave; class: animated fadeOutY fast;\">        <calendar date={date} minDate={minDate} maxDate={maxDate} on-select={this.select($event.date)} />    </div></div>"
},{}],75:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * DatePicker 日期选择
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

var Dropdown = require('./dropdown.js');
var template = require('./datePicker.html');
var _ = require('../base/util.js');

var filter = require('../base/filter.js');
var Calendar = require('../module/calendar.js');

/**
 * @class DatePicker
 * @extend Dropdown
 * @param {object}                  options.data                    绑定属性
 * @param {object=null}             options.data.date               当前选择的日期
 * @param {string='请输入'}         options.data.placeholder        文本框默认文字
 * @param {Date=null}               options.data.minDate            最小日期，如果为空则不限制
 * @param {Date=null}               options.data.maxDate            最大日期，如果为空则不限制
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 */
var DatePicker = Dropdown.extend({
    name: 'datePicker',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            // @inherited source: [],
            // @inherited open: false,
            minDate: null,
            maxDate: null,
            placeholder: '请输入'
        });
        this.supr();
    },
    /**
     * @method select(date) 选择一个日期
     * @public
     * @param  {Date=null} date 选择的日期
     * @return {void}
     */
    select: function(date) {
        /**
         * @event select 选择某一项时触发
         * @property {object} date 当前选择项
         */
        this.$emit('select', {
            date: date
        });
        this.toggle(false);
    },
    input: function($event) {
        var date = new Date($event.target.value);
        if(date != 'Invalid Date')
            this.data.date = date;
        else
            $event.target.value = filter.format(this.data.date, 'yyyy-MM-dd');
    }
});

module.exports = DatePicker;
},{"../base/filter.js":34,"../base/util.js":36,"../module/calendar.js":42,"./datePicker.html":74,"./dropdown.js":79}],76:[function(require,module,exports){
module.exports="<div class=\"u-dropdown u-dropdown-datepicker u-dropdown-datetimepicker {@(class)}\" r-class={ {\'z-dis\': disabled} } r-hide={!visible} ref=\"element\">    <div class=\"dropdown_hd\">        <input class=\"u-input u-input-full\" placeholder={placeholder} value={date | format: \'yyyy-MM-dd HH:mm\'} on-focus={this.toggle(true)} on-change={this.input($event)} ref=\"input\" disabled={disabled} {#if readonly}readonly=\"readonly\"{/if}>    </div>    <div class=\"dropdown_bd\" r-hide={!open} r-animation=\"on: enter; class: animated fadeInY fast; on: leave; class: animated fadeOutY fast;\">        <calendar date={_date}>            <timePicker time={_time} />        </calendar>    </div></div>"
},{}],77:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * DateTimePicker 日期选择
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

var DatePicker = require('./datePicker.js');
var template = require('./dateTimePicker.html');
var _ = require('../base/util.js');
var TimePicker = require('./timePicker.js');

var filter = require('../base/filter.js');

/**
 * @class DateTimePicker
 * @extend DatePicker
 * @param {object}                  options.data                    绑定属性
 * @param {object=null}             options.data.date               当前选择的日期
 * @param {string='请输入'}         options.data.placeholder        文本框默认文字
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 */
var DateTimePicker = DatePicker.extend({
    name: 'dateTimePicker',
    template: template,
    config: function() {   
        _.extend(this.data, {
            // @inherited source: [],
            // @inherited open: false,
            // @inherited placeholder: '请输入',
            date: null,
            _date: undefined,
            _time: '00:00'
        });
        this.supr();

        this.$watch('date', function(newValue, oldValue) {
            if(newValue && newValue != 'Invalid Date' && newValue - oldValue !== 0) {
                this.data._date = new Date(newValue);
                this.data._time = filter.format(newValue, 'HH:mm');
            }
        });

        this.$watch(['_date', '_time'], function(_date, _time) {
            if(_date && _time) {
                var date = new Date(this.data._date);
                var time = this.data._time.split(':');
                date.setHours(time[0]);
                date.setMinutes(time[1]);
                date.setSeconds(0);
                date.setMilliseconds(0);
                this.data.date = date;
            }
        });
    },
    input: function($event) {
        var date = new Date($event.target.value);
        if(date != 'Invalid Date') {
            date.setSeconds(0);
            date.setMilliseconds(0);
            this.data.date = date;
        } else
            $event.target.value = filter.format(this.data.date, 'yyyy-MM-dd HH:mm');
    }
});

module.exports = DateTimePicker;
},{"../base/filter.js":34,"../base/util.js":36,"./datePicker.js":75,"./dateTimePicker.html":76,"./timePicker.js":100}],78:[function(require,module,exports){
module.exports="<div class=\"u-dropdown {@(class)}\" r-class={ {\'z-dis\': disabled} } r-hide={!visible} ref=\"element\">    <div class=\"dropdown_hd\" on-click={this.toggle(!open)}>        {#if this.$body}            {#inc this.$body}        {#else}            <a class=\"u-btn\">{title || \'下拉菜单\'} <i class=\"u-icon u-icon-caret-down\"></i></a>        {/if}    </div>    <div class=\"dropdown_bd\" r-hide={!open} r-animation=\"on: enter; class: animated fadeInY fast; on: leave; class: animated fadeOutY fast;\">        <ul class=\"m-listview\">            {#list source as item}            <li r-class={ {\'z-dis\': item.disabled, \'dropdown_divider\': item.divider} } on-click={this.select(item)}>{#if @(itemTemplate)}{#include @(itemTemplate)}{#else}{item.name}{/if}</li>            {/list}        </ul>    </div></div>"
},{}],79:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Dropdown  下拉菜单
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

var SourceComponent = require('../base/sourceComponent.js');
var template = require('./dropdown.html');
var _ = require('../base/util.js');

/**
 * @class Dropdown
 * @extend SourceComponent
 * @param {object}                  options.data                    绑定属性
 * @param {string=''}               options.data.title              按钮文字
 * @param {object[]=[]}             options.data.source             数据源
 * @param {number}                  options.data.source[].id        每项的id
 * @param {string}                  options.data.source[].name      每项的内容
 * @param {boolean=false}           options.data.source[].disabled  禁用此项
 * @param {boolean=false}           options.data.source[].divider   设置此项分隔线
 * @param {string=null}             options.data.itemTemplate       单项模板
 * @param {boolean=false}           options.data.open               当前为展开/收起状态
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 * @param {object}                  options.service                 数据服务
 */
var Dropdown = SourceComponent.extend({
    name: 'dropdown',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            // @inherited source: [],
            itemTemplate: null,
            open: false
        });
        this.supr();
    },
    /**
     * @method select(item) 选择某一项
     * @public
     * @param  {object} item 选择项
     * @return {void}
     */
    select: function(item) {
        if(this.data.disabled || item.disabled || item.divider)
            return;

        //this.data.selected = item;
        /**
         * @event select 选择某一项时触发
         * @property {object} selected 当前选择项
         */
        this.$emit('select', {
            selected: item
        });
        this.toggle(false);
    },
    /**
     * @method toggle(open) 在展开/收起状态之间切换
     * @public
     * @param  {boolean} open 展开/收起
     * @return {void}
     */
    toggle: function(open) {
        if(this.data.disabled)
            return;
        
        this.data.open = open;

        // 根据状态在Dropdown.opens列表中添加/删除管理项
        var index = Dropdown.opens.indexOf(this);
        if(open && index < 0)
            Dropdown.opens.push(this);
        else if(!open && index >= 0)
            Dropdown.opens.splice(index, 1);
    }
});

// 处理点击dropdown之外的地方后的收起事件。
Dropdown.opens = [];

_.dom.on(document.body, 'click', function(e) {
    Dropdown.opens.forEach(function(dropdown) {
        // 这个地方不能用stopPropagation来处理，因为展开一个dropdown的同时要收起其他dropdown
        var element = dropdown.$refs.element;
        var element2 = e.target;
        while(element2) {
            if(element == element2)
                return;
            element2 = element2.parentElement;
        }
        dropdown.toggle(false);
        dropdown.$update();
    });
});

module.exports = Dropdown;
},{"../base/sourceComponent.js":35,"../base/util.js":36,"./dropdown.html":78}],80:[function(require,module,exports){
module.exports="<a class=\"u-gotop u-gotop-{position} {@(class)}\" on-click={this.gotop()}><i class=\"u-icon u-icon-arrow-up\"></i></a>"
},{}],81:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Gotop  回到顶部
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var Component = require('../base/component.js');
var template = require('./gotop.html');
var _ = require('../base/util.js');

/**
 * @class Gotop
 * @param {object}                  options.data                    绑定属性
 * @param {string='bottomright'}    options.data.position           组件的位置，可选参数：`topcenter`、`topleft`、`topright`、`bottomcenter`、`bottomleft`、`bottomright`、`static`
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 */
var Gotop = Component.extend({
    name: 'gotop',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            position: 'bottomright'
        });
        this.supr();
    },
    /**
     * @method gotop() 回到顶部
     * @public
     * @return {void}
     */
    gotop: function() {
        if(this.data.readonly || this.data.disabled)
            return;

        document.body.scrollTop = 0;
    }
});

module.exports = Gotop;
},{"../base/component.js":33,"../base/util.js":36,"./gotop.html":80}],82:[function(require,module,exports){
module.exports="<label class=\"u-input2 {@(class)}\" r-hide={!visible}>    <input class=\"u-input u-input-{type}\" r-model={value} placeholder={placeholder} disabled={disabled} readonly={readonly} on-keyup={this.validate(value, rules)}></label>{#if tip}<span class=\"u-tip u-tip-{type}\">{tip}</span>{/if}"
},{}],83:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Input2   输入扩展
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

var Component = require('../base/component.js');
var template = require('./input2.html');
var _ = require('../base/util.js');
var validator = require('../base/validator.js');

/**
 * @class Input2
 * @extend Component
 * @param {object}                  options.data                    绑定属性
 * @param {string=''}               options.data.value              输入框的值
 * @param {string=''}               options.data.type               输入框的类型
 * @param {string=''}               options.data.placeholder        占位符
 * @param {object[]=[]}             options.data.rules              验证规则
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 */
var Input2 = Component.extend({
    name: 'input2',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            value: '',
            type: '',
            placeholder: '',
            rules: []
        });
        this.supr();
    },
    validate: function(value, rules) {
        var result = validator.validate(value, rules);
        
        this.data.type = result.success ? 'success' : 'error';
        this.data.tip = result.message;
    }
});

module.exports = Input2;
},{"../base/component.js":33,"../base/util.js":36,"../base/validator.js":37,"./input2.html":82}],84:[function(require,module,exports){
module.exports="<div class=\"u-dropdown u-dropdown-menu {@(class)}\" r-class={ {\'z-dis\': disabled} } r-hide={!visible} ref=\"element\">    <div class=\"dropdown_hd\" on-click={this.toggle(!open)}>        {#if this.$body}            {#inc this.$body}        {#else}            <a class=\"u-btn\">{title || \'多级菜单\'} <i class=\"u-icon u-icon-caret-down\"></i></a>        {/if}    </div>    <div class=\"dropdown_bd\" r-hide={!open} r-animation=\"on: enter; class: animated fadeInY fast; on: leave; class: animated fadeOutY fast;\">        <menuList source={source} visible={true} />    </div></div>"
},{}],85:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Menu      多级菜单
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

var Dropdown = require('./dropdown.js');
var SourceComponent = require('../base/sourceComponent.js');
var template = require('./menu.html');
var hierarchicalTemplate = require('./menuList.html');
var _ = require('../base/util.js');

/**
 * @class  Menu
 * @extend Dropdown
 * @param {object}                  options.data                    绑定属性
 * @param {string=''}               options.data.title              按钮文字
 * @param {object[]=[]}             options.data.source             数据源
 * @param {number}                  options.data.source[].id        每项的id
 * @param {string}                  options.data.source[].name      每项的内容
 * @param {boolean=false}           options.data.source[].disabled  禁用此项
 * @param {boolean=false}           options.data.source[].divider   设置此项分隔线
 * @param {string=null}             options.data.itemTemplate       单项模板
 * @param {boolean=false}           options.data.open               当前为展开/收起状态
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 * @param {object}                  options.service                 数据服务
 */
var Menu = Dropdown.extend({
    name: 'menu',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            // @inherited source: [],
            open: false
        });
        this.supr();

        this.$ancestor = this;
    }
});

var MenuList = SourceComponent.extend({
    name: 'menuList',
    template: hierarchicalTemplate,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            // @inherited source: [],
            itemTemplate: null,
            // visible: false
        });
        this.supr();

        this.$ancestor = this.$parent.$ancestor;
        this.service = this.$ancestor.service;
        this.data.itemTemplate = this.$ancestor.data.itemTemplate;
    },
    /**
     * @method select(item) 选择某一项
     * @private
     * @param  {object} item 选择项
     * @return {void}
     */
    select: function(item) {
        if(this.$ancestor.data.disabled || item.disabled || item.divider)
            return;

        this.$ancestor.select(item);
    },
    /**
     * @method toggle(item) 展开或收起某一项
     * @private
     * @param  {object} item 展开收起项
     * @return {void}
     */
    toggle: function(item) {
        if(this.$ancestor.data.disabled)
            return;

        item.open = !item.open;

        /**
         * @event toggle 展开或收起某一项时触发
         * @private
         * @property {object} item 展开收起项
         * @property {boolean} open 展开还是收起
         */
        this.$ancestor.$emit('toggle', {
            item: item,
            open: item.open
        });
    }
})

module.exports = Menu;
},{"../base/sourceComponent.js":35,"../base/util.js":36,"./dropdown.js":79,"./menu.html":84,"./menuList.html":86}],86:[function(require,module,exports){
module.exports="<ul class=\"m-listview menu_list\" r-hide={!visible}>    {#list source as item}    <li r-class={ {\'z-dis\': item.disabled, \'dropdown_divider\': item.divider} }>        <div class=\"menu_item\">            {#if item.childrenCount || (item.children && item.children.length)}            <i class=\"u-icon u-icon-caret-right\"></i>            {/if}            <div class=\"menu_itemname\" title={item.name} on-click={this.select(item)}>{#if @(itemTemplate)}{#include @(itemTemplate)}{#else}{item.name}{/if}</div>        </div>        {#if item.childrenCount || (item.children && item.children.length)}<menuList source={item.children} visible={item.open} parent={item} />{/if}    </li>    {/list}</ul>"
},{}],87:[function(require,module,exports){
module.exports="<label class=\"u-input2 u-input2-numberinput {@(class)}\" r-hide={!visible}>    <input class=\"u-input u-input-{type}\" r-model={value | number} placeholder={placeholder} disabled={disabled} readonly={readonly}>    <a class=\"u-btn\" r-class={ {\'z-dis\': disabled} } on-click={this.increase()}><i class=\"u-icon u-icon-caret-up\"></i></a>    <a class=\"u-btn\" r-class={ {\'z-dis\': disabled} } on-click={this.decrease()}><i class=\"u-icon u-icon-caret-down\"></i></a></label>{#if tip}<span class=\"u-tip u-tip-{type}\">{tip}</span>{/if}"
},{}],88:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * NumberInput 输入扩展
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

var Input2 = require('./input2.js');
var template = require('./numberInput.html');
var _ = require('../base/util.js');

/**
 * @class NumberInput
 * @extend Input2
 * @param {object}                  options.data                    绑定属性
 * @param {string=''}               options.data.value              输入框的值
 * @param {string=''}               options.data.type               输入框的类型
 * @param {string=''}               options.data.placeholder        占位符
 * @param {number=null}             options.data.min                最小值
 * @param {number=null}             options.data.max                最大值
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 */
var NumberInput = Input2.extend({
    name: 'numberInput',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            value: 0,
            // @inherited type: '',
            // @inherited placeholder: '',
            min: null,
            max: null
        });
        this.supr();

        this.$watch('value', function(newValue, oldValue) {
            if(this.data.max !== null && this.data.value > this.data.max)
                this.data.value = this.data.max;
            if(this.data.min !== null && this.data.value < this.data.min)
                this.data.value = this.data.min;

            if(newValue != oldValue)
                this.$emit('change', {
                    value: newValue
                });
        });
    },
    increase: function() {
        if(this.data.readonly || this.data.disabled)
            return;

        this.data.value++;
    },
    decrease: function() {
        if(this.data.readonly || this.data.disabled)
            return;

        this.data.value--;
    }
}).filter({
    number: {
        get: function(value) {
            value = '' + (value || 0);
            if(this.data.format)
                return this.data.format.replace(new RegExp('\\d{0,' + value.length + '}$'), value);
            return value;
        },
        set: function(value) {
            return +value || 0;
            // return +(value.replace(/[^\d\.\-]/g, '')) || 0;
        }
    }
});

module.exports = NumberInput;
},{"../base/util.js":36,"./input2.js":83,"./numberInput.html":87}],89:[function(require,module,exports){
module.exports="<div class=\"u-progress u-progress-{@(size)} u-progress-{@(type)} {@(class)}\" r-class={ {\'u-progress-striped\': striped, \'z-act\': active} } r-hide={!visible}>    <div class=\"progress_bar\" style=\"width: {percent}%;\">{text ? (text === true ? percent + \'%\' : text) : \'\'}</div></div>"
},{}],90:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Progress  进度条
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var Component = require('../base/component.js');
var template = require('./progress.html');
var _ = require('../base/util.js');

/**
 * @class Progress
 * @extend Component
 * @param {object}                  options.data                    绑定属性
 * @param {number=36}               options.data.percent            百分比
 * @param {string|boolean=true}     options.data.text               在进度条中是否显示百分比。值为`string`时显示该段文字。
 * @param {string=null}             options.data.size               进度条的尺寸
 * @param {string=null}             options.data.type               进度条的类型，改变显示颜色
 * @param {boolean=false}           options.data.striped            是否显示条纹
 * @param {boolean=false}           options.data.active             进度条是否为激活状态，当`striped`为`true`时，进度条显示动画
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 */
var Progress = Component.extend({
    name: 'progress',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            percent: 36,
            text: true,
            size: null,
            type: null,
            striped: false,
            active: false
        });
        this.supr();
    }
});

module.exports = Progress;
},{"../base/component.js":33,"../base/util.js":36,"./progress.html":89}],91:[function(require,module,exports){
module.exports="<div class=\"u-unitgroup {@(class)}\" r-hide={!visible}>    {#list source as item}    <label class=\"u-radio2\" r-class={ {\'z-dis\': disabled, \'z-sel\': item === selected, \'u-radio2-block\': block} } title={item.name} on-click={this.select(item)}><div class=\"radio2_box\"><i class=\"u-icon u-icon-radio\"></i></div> {item.name}</label>    {/list}</div>"
},{}],92:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Radio2Group 输入扩展
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var RadioGroup = require('./radioGroup.js');
var template = require('./radio2Group.html');
var _ = require('../base/util.js');

/**
 * @class Radio2Group
 * @extend RadioGroup
 * @param {object}                  options.data                    绑定属性
 * @param {object[]=[]}             options.data.source             数据源
 * @param {number}                  options.data.source[].id        每项的id
 * @param {string}                  options.data.source[].name      每项的内容
 * @param {object=null}             options.data.seleced            当前选择项
 * @param {boolean=false}           options.data.block              多行显示
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 * @param {object}                  options.service                 数据服务
 */
var Radio2Group = RadioGroup.extend({
    name: 'radio2Group',
    template: template
});

module.exports = Radio2Group;
},{"../base/util.js":36,"./radio2Group.html":91,"./radioGroup.js":94}],93:[function(require,module,exports){
module.exports="<div class=\"u-unitgroup {@(class)}\" r-hide={!visible}>    {#list source as item}    <label class=\"u-radio2\" r-class={ {\'z-dis\': disabled, \'u-radio2-block\': block} } title={item.name} on-click={this.select(item)}><input type=\"radio\" class=\"u-radio\" name={_radioGroupId} disabled={disabled}> {item.name}</label>    {/list}</div>"
},{}],94:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * RadioGroup 单选组
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var SourceComponent = require('../base/sourceComponent.js');
var template = require('./radioGroup.html');
var _ = require('../base/util.js');

/**
 * @class RadioGroup
 * @extend SourceComponent
 * @param {object}                  options.data                    绑定属性
 * @param {object[]=[]}             options.data.source             数据源
 * @param {number}                  options.data.source[].id        每项的id
 * @param {string}                  options.data.source[].name      每项的内容
 * @param {object=null}             options.data.seleced            当前选择项
 * @param {boolean=false}           options.data.block              多行显示
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 * @param {object}                  options.service                 数据服务
 */
var RadioGroup = SourceComponent.extend({
    name: 'radioGroup',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            // @inherited source: [],
            selected: null,
            _radioGroupId: new Date()
        });
        this.supr();
    },
    /**
     * @method select(item) 选择某一项
     * @public
     * @param  {object} item 选择项
     * @return {void}
     */
    select: function(item) {
        if(this.data.readonly || this.data.disabled)
            return;

        this.data.selected = item;
        /**
         * @event select 选择某一项时触发
         * @property {object} selected 当前选择项
         */
        this.$emit('select', {
            selected: item
        });
    }
});

module.exports = RadioGroup;
},{"../base/sourceComponent.js":35,"../base/util.js":36,"./radioGroup.html":93}],95:[function(require,module,exports){
module.exports="<div class=\"u-dropdown u-dropdown-select2 {@(class)}\" r-class={ {\'z-dis\': disabled} } r-hide={!visible} ref=\"element\">    <div class=\"dropdown_hd\" on-click={this.toggle(!open)}>        <span>{selected ? selected.name : placeholder}</span>        <i class=\"u-icon u-icon-caret-down\"></i>    </div>    <div class=\"dropdown_bd\" r-hide={!open} r-animation=\"on: enter; class: animated fadeInY fast; on: leave; class: animated fadeOutY fast;\">        <ul class=\"m-listview\">            {#if placeholder}<li r-class={ {\'z-sel\': selected === null} } on-click={this.select(null)}>{placeholder}</li>{/if}            {#list source as item}            <li r-class={ {\'z-sel\': selected === item} } on-click={this.select(item)}>{item.name}</li>            {/list}        </ul>    </div></div>"
},{}],96:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Select2  选择扩展
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var Dropdown = require('./dropdown.js');
var template = require('./select2.html');
var _ = require('../base/util.js');

/**
 * @class Select2
 * @extend Dropdown
 * @param {object}                  options.data                    绑定属性
 * @param {object[]=[]}             options.data.source             数据源
 * @param {number}                  options.data.source[].id        每项的id
 * @param {string}                  options.data.source[].name      每项的内容
 * @param {object=null}             options.data.selected           当前选择项
 * @param {string='请选择'}         options.data.placeholder        默认项的文字
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 * @param {object}                  options.service                 数据服务
 */
var Select2 = Dropdown.extend({
    name: 'select2',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            // @inherited source: [],
            // @inherited open: false
            selected: null,
            placeholder: '请选择'
        });
        this.supr();
    },
    /**
     * @method select(item) 选择某一项
     * @public
     * @param  {object} item 选择项
     * @return {void}
     */
    select: function(item) {
        this.$update('selected', item);
        //this.data.selected = item;
        /**
         * @event select 选择某一项时触发
         * @property {object} selected 当前选择项
         */
        this.$emit('select', {
            selected: item
        });
        this.toggle(false);
    },
});

module.exports = Select2;
},{"../base/util.js":36,"./dropdown.js":79,"./select2.html":95}],97:[function(require,module,exports){
module.exports="<div class=\"u-dropdown u-dropdown-suggest {@(class)}\" r-class={ {\'z-dis\': disabled} } r-hide={!visible} ref=\"element\">    <div class=\"dropdown_hd\">        <input class=\"u-input u-input-full\" placeholder={placeholder} r-model={value} on-focus={this.input($event)} on-keyup={this.input($event)} on-blur={this.uninput($event)} ref=\"input\" disabled={disabled} {#if readonly}readonly=\"readonly\"{/if}>    </div>    <div class=\"dropdown_bd\" r-hide={!open} r-animation=\"on: enter; class: animated fadeInY fast; on: leave; class: animated fadeOutY fast;\">        <ul class=\"m-listview\">            {#list source as item}            {#if this.filter(item)}                <li on-click={this.select(item)}>{item.name}</li>            {/if}            {/list}        </ul>    </div></div>"
},{}],98:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Suggest   自动提示
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var Dropdown = require('./dropdown.js');
var template = require('./suggest.html');
var _ = require('../base/util.js');
var ListView = require('../module/listView.js');

/**
 * @class Suggest
 * @extend Dropdown
 * @param {object}                  options.data                    绑定属性
 * @param {object[]=[]}             options.data.source             数据源
 * @param {number}                  options.data.source[].id        每项的id
 * @param {string}                  options.data.source[].name      每项的内容
 * @param {object=null}             options.data.selected           当前选择项
 * @param {string=''}               options.data.value              文本框中的值
 * @param {string='请输入'}         options.data.placeholder        文本框默认文字
 * @param {number=0}                options.data.minLength          最小提示长度。当输入长度>=该值后开始提示
 * @param {string='all'}            options.data.matchType          匹配方式，`all`表示匹配全局，`start`表示只匹配开头，`end`表示只匹配结尾
 * @param {boolean=false}           options.data.strict             是否为严格模式。当为严格模式时，`value`属性必须在source中选择，否则为空。
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 * @param {object}                  options.service                 数据服务
 */
var Suggest = Dropdown.extend({
    name: 'suggest',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            // @inherited source: [],
            // @inherited open: false,
            selected: null,
            value: '',
            placeholder: '请输入',
            minLength: 0,
            delay: 300,
            matchType: 'all',
            strict: false
        });
        this.supr();
    },
    /**
     * @method select(item) 选择某一项
     * @public
     * @param  {object} item 选择项
     * @return {void}
     */
    select: function(item) {
        this.$update('selected', item);
        this.data.value = item.name;
        //this.data.selected = item;
        /**
         * @event select 选择某一项时触发
         * @property {object} selected 当前选择项
         */
        this.$emit('select', {
            selected: item
        });
        this.toggle(false);
    },
    /**
     * @method toggle(open)  在展开状态和收起状态之间切换
     * @public
     * @param  {boolean} open 展开还是收起
     * @return {void}
     */
    toggle: function(open, _isInput) {
        if(this.data.readonly || this.data.disabled)
            return;

        this.data.open = open;

        /**
         * @event toggle 展开或收起状态改变时触发
         * @property {boolean} open 展开还是收起
         */
        this.$emit('toggle', {
            open: open
        });

        var index = Dropdown.opens.indexOf(this);
        if(open && index < 0)
            Dropdown.opens.push(this);
        else if(!open && index >= 0) {
            Dropdown.opens.splice(index, 1);

            if(!_isInput && this.data.strict)
               this.data.value = this.data.selected ? this.data.selected.name : '';
        }
    },
    // 输入时
    input: function($event) {
        var value = this.data.value;

        if(value.length >= this.data.minLength) {
            this.toggle(true);
            if(this.service)
                this.$updateSource();
        } else
            this.toggle(false, true);
    },
    uninput: function($event) {

    },
    getParams: function() {
        return {value: this.data.value};
    },
    filter: function(item) {
        var value = this.data.value;

        if(!value && this.data.minLength)
            return false;

        if(this.data.matchType == 'all')
            return item.name.indexOf(value) >= 0;
        else if(this.data.matchType == 'start')
            return item.name.slice(0, value.length) == value;
        else if(this.data.matchType == 'end')
            return item.name.slice(-value.length) == value;
    }
});

module.exports = Suggest;
},{"../base/util.js":36,"../module/listView.js":50,"./dropdown.js":79,"./suggest.html":97}],99:[function(require,module,exports){
module.exports="<span class=\"u-timepicker {@(class)}\" r-hide={!visible}>	<numberInput min=\"0\" max=\"23\" format=\"00\" value={hour} disabled={disabled} readonly={readonly} />	<span>:</span>	<numberInput min=\"0\" max=\"59\" format=\"00\" value={minute} disabled={disabled} readonly={readonly} /></span>"
},{}],100:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * TimePicker 日期选择
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

var Component = require('../base/component.js');
var template = require('./timePicker.html');
var _ = require('../base/util.js');
var NumberInput = require('./numberInput.js');

/**
 * @class TimePicker
 * @extend Component
 * @param {object}                  options.data                    绑定属性
 * @param {string='00:00'}          options.data.time               当前的时间值
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 */
var TimePicker = Component.extend({
    name: 'timePicker',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            time: '00:00',
            hour: 0,
            minute: 0
        });
        this.supr();

        this.$watch('time', function(newValue, oldValue) {
            if(newValue && newValue != oldValue) {
                time = newValue.split(':');
                this.data.hour = +time[0];
                this.data.minute = +time[1];

                this.$emit('change', {
                    time: newValue
                })
            }
        });

        this.$watch(['hour', 'minute'], function(hour, minute) {
            hour = '' + hour;
            minute = '' + minute;
            this.data.time = (hour.length > 1 ? hour : '0' + hour) + ':' + (minute.length > 1 ? minute : '0' + minute);
        });
    }
});

module.exports = TimePicker;
},{"../base/component.js":33,"../base/util.js":36,"./numberInput.js":88,"./timePicker.html":99}],101:[function(require,module,exports){
module.exports="<div class=\"u-dropdown u-dropdown-select2 {@(class)}\" r-class={ {\'z-dis\': disabled} } r-hide={!visible} ref=\"element\">    <div class=\"dropdown_hd\" on-click={this.toggle(!open)}>        <i class=\"u-icon u-icon-caret-down\"></i>        <span>{selected ? selected.name : placeholder}</span>    </div>    <div class=\"dropdown_bd\" r-hide={!open} r-animation=\"on: enter; class: animated fadeInY fast; on: leave; class: animated fadeOutY fast;\">        <treeView source={source} hierarchical={hierarchical} service={service} on-select={this.select($event.selected)} />    </div></div>"
},{}],102:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * TreeSelect 树型选择
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var Select2 = require('./select2.js');
var template = require('./treeSelect.html');
var _ = require('../base/util.js');
var Treeview = require('../module/treeView.js');

/**
 * @class TreeSelect
 * @extend Select2
 * @param {object}                  options.data                    绑定属性
 * @param {object[]=[]}             options.data.source             数据源
 * @param {number}                  options.data.source[].id        每项的id
 * @param {string}                  options.data.source[].name      每项的内容
 * @param {object=null}             options.data.selected           当前选择项
 * @param {string='请选择'}         options.data.placeholder        默认项的文字
 * @param {boolean=false}           options.data.hierarchical       是否分级动态加载，需要service
 * @param {boolean=false}           options.data.readonly           是否只读
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 * @param {object}                  options.service                 数据服务
 */
var TreeSelect = Select2.extend({
    name: 'treeSelect',
    template: template,
    config: function() {
        _.extend(this.data, {
            // @inherited source: [],
            // @inherited open: false,
            // @inherited selected: null,
            // @inherited placeholder: '请选择'
            hierarchical: false,
            updateAuto: false
        });
        this.supr();
    }
});

module.exports = TreeSelect;
},{"../base/util.js":36,"../module/treeView.js":66,"./select2.js":96,"./treeSelect.html":101}],103:[function(require,module,exports){
module.exports="<div class=\"u-uploader {@(class)}\" r-hide={!visible}>	<div on-click={this.upload()}>		{#if this.$body}			{#inc this.$body}    	{#else}    		<a class=\"u-btn\">{title || \'上传\'}</a>		{/if}    </div>    <form method=\"POST\" action={url} target=\"iframe{_id}\" enctype={contentType} ref=\"form\">        <input type=\"file\" name=\"file\" ref=\"file\" on-change={this.submit()}>        {#list Object.keys(data) as key}        <input type=\"hidden\" name={key} value={data[key]}>        {/list}    </form>    <iframe name=\"iframe{_id}\" on-load={this.cbUpload()} ref=\"iframe\">    </iframe></div>"
},{}],104:[function(require,module,exports){
/**
 * ------------------------------------------------------------
 * Uploader  上传
 * @author   sensen(rainforest92@126.com)
 * ------------------------------------------------------------
 */

'use strict';

var Component = require('../base/component.js');
var template = require('./uploader.html');
var _ = require('../base/util.js');

/**
 * @class Uploader
 * @extend Component
 * @param {object}                  options.data                    绑定属性
 * @param {string=''}               options.data.title              按钮文字
 * @param {string=''}               options.data.url                上传路径
 * @param {string='json'}           options.data.dataType           数据类型
 * @param {object}                  options.data.data               附加数据
 * @param {string|string[]=''}      options.data.extensions         可上传的扩展名，如果为空，则表示可上传任何文件类型
 * @param {boolean=false}           options.data.disabled           是否禁用
 * @param {boolean=true}            options.data.visible            是否显示
 * @param {string=''}               options.data.class              补充class
 */
var Uploader = Component.extend({
    name: 'uploader',
    template: template,
    /**
     * @protected
     */
    config: function() {
        _.extend(this.data, {
            title: '',
            url: '',
            contentType: 'multipart/form-data',
            dataType: 'json',
            data: {},
            extensions: null,
            _id: new Date().getTime()
        });
        this.supr();
    },
    /**
     * @method upload() 弹出文件对话框并且上传文件
     * @public
     * @return {void}
     */
    upload: function() {
        if(!this.data.disabled)
            this.$refs.file.click();
    },
    /**
     * @method submit() 提交表单
     * @private
     * @return {void}
     */
    submit: function() {
        if(this.data.extensions) {
            var fileName = this.$refs.file.value;
            var ext = fileName.substring(fileName.lastIndexOf('.') + 1, fileName.length).toLowerCase();

            var extensions = this.data.extensions;
            if(typeof extensions === 'string')
                extensions = extensions.split(',');
            
            if(extensions.indexOf(ext) === -1)
                return this.$emit('error', this.extensionError());
        }

        this.$emit('sending', this.data.data);

        this.$refs.form.submit();
    },
    cbUpload: function() {
        var iframe = this.$refs.iframe;

        var xml = {};
        try {
            if(iframe.contentWindow) {
                xml.responseText = iframe.contentWindow.document.body ? iframe.contentWindow.document.body.innerHTML : null;
                xml.responseXML = iframe.contentWindow.document.XMLDocument ? iframe.contentWindow.document.XMLDocument : iframe.contentWindow.document;
            } else if(iframe.contentDocument) {
                xml.responseText = iframe.contentDocument.document.body?iframe.contentDocument.document.body.innerHTML : null;
                xml.responseXML = iframe.contentDocument.document.XMLDocument?iframe.contentDocument.document.XMLDocument : iframe.contentDocument.document;
            }
        } catch(e) {
            console.log(e);
        }

        if(!xml.responseText)
            return;

        function uploadHttpData(r, type) {
            var data = (type == 'xml' || !type) ? r.responseXML : r.responseText;
            // If the type is 'script', eval it in global context
            if (type === 'json') {
                try {
                    data = JSON.parse(data);
                } catch (e) {
                    var text = /<pre.*?>(.*?)<\/pre>/.exec(data);
                    text = text ? text[1] : data;
                    data = JSON.parse(text);
                }
            }
            return data;
        }

        this.$emit('success', uploadHttpData(xml, this.data.dataType));
        this.$emit('complete', xml);

        this.$refs.file.value = '';
    },
    extensionError:　function() {
        return '只能上传' + this.data.extensions.join(', ')　+ '类型的文件！';
    },
});

module.exports = Uploader;
},{"../base/component.js":33,"../base/util.js":36,"./uploader.html":103}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbWFya2VkL2xpYi9tYXJrZWQuanMiLCJub2RlX21vZHVsZXMvcmVndWxhcmpzL3NyYy9SZWd1bGFyLmpzIiwibm9kZV9tb2R1bGVzL3JlZ3VsYXJqcy9zcmMvY29uZmlnLmpzIiwibm9kZV9tb2R1bGVzL3JlZ3VsYXJqcy9zcmMvY29uc3QuanMiLCJub2RlX21vZHVsZXMvcmVndWxhcmpzL3NyYy9kaXJlY3RpdmUvYW5pbWF0aW9uLmpzIiwibm9kZV9tb2R1bGVzL3JlZ3VsYXJqcy9zcmMvZGlyZWN0aXZlL2Jhc2UuanMiLCJub2RlX21vZHVsZXMvcmVndWxhcmpzL3NyYy9kaXJlY3RpdmUvZXZlbnQuanMiLCJub2RlX21vZHVsZXMvcmVndWxhcmpzL3NyYy9kaXJlY3RpdmUvZm9ybS5qcyIsIm5vZGVfbW9kdWxlcy9yZWd1bGFyanMvc3JjL2RvbS5qcyIsIm5vZGVfbW9kdWxlcy9yZWd1bGFyanMvc3JjL2Vudi5qcyIsIm5vZGVfbW9kdWxlcy9yZWd1bGFyanMvc3JjL2dyb3VwLmpzIiwibm9kZV9tb2R1bGVzL3JlZ3VsYXJqcy9zcmMvaGVscGVyL2FuaW1hdGUuanMiLCJub2RlX21vZHVsZXMvcmVndWxhcmpzL3NyYy9oZWxwZXIvYXJyYXlEaWZmLmpzIiwibm9kZV9tb2R1bGVzL3JlZ3VsYXJqcy9zcmMvaGVscGVyL2NvbWJpbmUuanMiLCJub2RlX21vZHVsZXMvcmVndWxhcmpzL3NyYy9oZWxwZXIvZW50aXRpZXMuanMiLCJub2RlX21vZHVsZXMvcmVndWxhcmpzL3NyYy9oZWxwZXIvZXZlbnQuanMiLCJub2RlX21vZHVsZXMvcmVndWxhcmpzL3NyYy9oZWxwZXIvZXh0ZW5kLmpzIiwibm9kZV9tb2R1bGVzL3JlZ3VsYXJqcy9zcmMvaGVscGVyL2ZpbHRlci5qcyIsIm5vZGVfbW9kdWxlcy9yZWd1bGFyanMvc3JjL2hlbHBlci9wYXJzZS5qcyIsIm5vZGVfbW9kdWxlcy9yZWd1bGFyanMvc3JjL2hlbHBlci9zaGltLmpzIiwibm9kZV9tb2R1bGVzL3JlZ3VsYXJqcy9zcmMvaGVscGVyL3dhdGNoZXIuanMiLCJub2RlX21vZHVsZXMvcmVndWxhcmpzL3NyYy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9yZWd1bGFyanMvc3JjL21vZHVsZS90aW1lb3V0LmpzIiwibm9kZV9tb2R1bGVzL3JlZ3VsYXJqcy9zcmMvcGFyc2VyL0xleGVyLmpzIiwibm9kZV9tb2R1bGVzL3JlZ3VsYXJqcy9zcmMvcGFyc2VyL1BhcnNlci5qcyIsIm5vZGVfbW9kdWxlcy9yZWd1bGFyanMvc3JjL3BhcnNlci9ub2RlLmpzIiwibm9kZV9tb2R1bGVzL3JlZ3VsYXJqcy9zcmMvdXRpbC5qcyIsIm5vZGVfbW9kdWxlcy9yZWd1bGFyanMvc3JjL3dhbGtlcnMuanMiLCJub2RlX21vZHVsZXMvcmVxd2VzdC9yZXF3ZXN0LmpzIiwibm9kZV9tb2R1bGVzL3ZhbGlkYXRvci92YWxpZGF0b3IuanMiLCJzcmMvanMvYmFzZS9hamF4LmpzIiwic3JjL2pzL2Jhc2UvY29tcG9uZW50LmpzIiwic3JjL2pzL2Jhc2UvZmlsdGVyLmpzIiwic3JjL2pzL2Jhc2Uvc291cmNlQ29tcG9uZW50LmpzIiwic3JjL2pzL2Jhc2UvdXRpbC5qcyIsInNyYy9qcy9iYXNlL3ZhbGlkYXRvci5qcyIsInNyYy9qcy9tb2R1bGUvYWNjb3JkaW9uLmh0bWwiLCJzcmMvanMvbW9kdWxlL2FjY29yZGlvbi5qcyIsInNyYy9qcy9tb2R1bGUvYWNjb3JkaW9uUGFuZS5odG1sIiwic3JjL2pzL21vZHVsZS9jYWxlbmRhci5odG1sIiwic3JjL2pzL21vZHVsZS9jYWxlbmRhci5qcyIsInNyYy9qcy9tb2R1bGUvZWRpdG9yLmh0bWwiLCJzcmMvanMvbW9kdWxlL2VkaXRvci5qcyIsInNyYy9qcy9tb2R1bGUvZ3JpZFZpZXcuaHRtbCIsInNyYy9qcy9tb2R1bGUvZ3JpZFZpZXcuanMiLCJzcmMvanMvbW9kdWxlL2h0bWxFZGl0b3IuaHRtbCIsInNyYy9qcy9tb2R1bGUvaHRtbEVkaXRvci5qcyIsInNyYy9qcy9tb2R1bGUvbGlzdFZpZXcuaHRtbCIsInNyYy9qcy9tb2R1bGUvbGlzdFZpZXcuanMiLCJzcmMvanMvbW9kdWxlL21hcmtFZGl0b3IuaHRtbCIsInNyYy9qcy9tb2R1bGUvbWFya0VkaXRvci5qcyIsInNyYy9qcy9tb2R1bGUvbWVudWJhci5odG1sIiwic3JjL2pzL21vZHVsZS9tZW51YmFyLmpzIiwic3JjL2pzL21vZHVsZS9tb2RhbC5odG1sIiwic3JjL2pzL21vZHVsZS9tb2RhbC5qcyIsInNyYy9qcy9tb2R1bGUvbm90aWZ5Lmh0bWwiLCJzcmMvanMvbW9kdWxlL25vdGlmeS5qcyIsInNyYy9qcy9tb2R1bGUvcGFnZXIuaHRtbCIsInNyYy9qcy9tb2R1bGUvcGFnZXIuanMiLCJzcmMvanMvbW9kdWxlL3RhYi5odG1sIiwic3JjL2pzL21vZHVsZS90YWIuanMiLCJzcmMvanMvbW9kdWxlL3RhYmxlVmlldy5odG1sIiwic3JjL2pzL21vZHVsZS90YWJsZVZpZXcuanMiLCJzcmMvanMvbW9kdWxlL3RyZWVWaWV3Lmh0bWwiLCJzcmMvanMvbW9kdWxlL3RyZWVWaWV3LmpzIiwic3JjL2pzL21vZHVsZS90cmVlVmlld0xpc3QuaHRtbCIsInNyYy9qcy91bml0L2NoZWNrMi5odG1sIiwic3JjL2pzL3VuaXQvY2hlY2syLmpzIiwic3JjL2pzL3VuaXQvY2hlY2syR3JvdXAuaHRtbCIsInNyYy9qcy91bml0L2NoZWNrMkdyb3VwLmpzIiwic3JjL2pzL3VuaXQvY2hlY2tHcm91cC5odG1sIiwic3JjL2pzL3VuaXQvY2hlY2tHcm91cC5qcyIsInNyYy9qcy91bml0L2RhdGVQaWNrZXIuaHRtbCIsInNyYy9qcy91bml0L2RhdGVQaWNrZXIuanMiLCJzcmMvanMvdW5pdC9kYXRlVGltZVBpY2tlci5odG1sIiwic3JjL2pzL3VuaXQvZGF0ZVRpbWVQaWNrZXIuanMiLCJzcmMvanMvdW5pdC9kcm9wZG93bi5odG1sIiwic3JjL2pzL3VuaXQvZHJvcGRvd24uanMiLCJzcmMvanMvdW5pdC9nb3RvcC5odG1sIiwic3JjL2pzL3VuaXQvZ290b3AuanMiLCJzcmMvanMvdW5pdC9pbnB1dDIuaHRtbCIsInNyYy9qcy91bml0L2lucHV0Mi5qcyIsInNyYy9qcy91bml0L21lbnUuaHRtbCIsInNyYy9qcy91bml0L21lbnUuanMiLCJzcmMvanMvdW5pdC9tZW51TGlzdC5odG1sIiwic3JjL2pzL3VuaXQvbnVtYmVySW5wdXQuaHRtbCIsInNyYy9qcy91bml0L251bWJlcklucHV0LmpzIiwic3JjL2pzL3VuaXQvcHJvZ3Jlc3MuaHRtbCIsInNyYy9qcy91bml0L3Byb2dyZXNzLmpzIiwic3JjL2pzL3VuaXQvcmFkaW8yR3JvdXAuaHRtbCIsInNyYy9qcy91bml0L3JhZGlvMkdyb3VwLmpzIiwic3JjL2pzL3VuaXQvcmFkaW9Hcm91cC5odG1sIiwic3JjL2pzL3VuaXQvcmFkaW9Hcm91cC5qcyIsInNyYy9qcy91bml0L3NlbGVjdDIuaHRtbCIsInNyYy9qcy91bml0L3NlbGVjdDIuanMiLCJzcmMvanMvdW5pdC9zdWdnZXN0Lmh0bWwiLCJzcmMvanMvdW5pdC9zdWdnZXN0LmpzIiwic3JjL2pzL3VuaXQvdGltZVBpY2tlci5odG1sIiwic3JjL2pzL3VuaXQvdGltZVBpY2tlci5qcyIsInNyYy9qcy91bml0L3RyZWVTZWxlY3QuaHRtbCIsInNyYy9qcy91bml0L3RyZWVTZWxlY3QuanMiLCJzcmMvanMvdW5pdC91cGxvYWRlci5odG1sIiwic3JjL2pzL3VuaXQvdXBsb2FkZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4d0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcFlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4UEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNySUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3J0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaGFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdm1CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3B3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlFQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pFQTs7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuSkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4RkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RDQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6TUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlEQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ROQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNDQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdElBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUpBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEZBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlFQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hGQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsS0E7O0FDQUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNURBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pDQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQ0E7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BFQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyRUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JHQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3Q0E7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaERBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RHQTs7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEZBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQ0E7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0RBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9EQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdElBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4REE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5Q0E7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBSR1VJICAgICAgUmVndWxhciBVSeW6k1xuICogQGF1dGhvciAgIHNlbnNlbihyYWluZm9yZXN0OTJAMTI2LmNvbSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJHVUkgPSB7fVxuXG4vKipcbiAqIGJhc2VcbiAqL1xuUkdVSS5SZWd1bGFyID0gcmVxdWlyZSgncmVndWxhcmpzJyk7XG5SR1VJLkNvbXBvbmVudCA9IHJlcXVpcmUoJy4vYmFzZS9jb21wb25lbnQuanMnKTtcblJHVUkuXyA9IHJlcXVpcmUoJy4vYmFzZS91dGlsLmpzJyk7XG5SR1VJLmFqYXggPSByZXF1aXJlKCcuL2Jhc2UvYWpheC5qcycpO1xuXG4vKipcbiAqIGpzVW5pdFxuICovXG4vLyDlr7zoiKrnsbtcblJHVUkuRHJvcGRvd24gPSByZXF1aXJlKCcuL3VuaXQvZHJvcGRvd24uanMnKTtcblJHVUkuTWVudSA9IHJlcXVpcmUoJy4vdW5pdC9tZW51LmpzJyk7XG5cbi8vIOihqOWNleexu1xuUkdVSS5JbnB1dDIgPSByZXF1aXJlKCcuL3VuaXQvaW5wdXQyLmpzJyk7XG5SR1VJLk51bWJlcklucHV0ID0gcmVxdWlyZSgnLi91bml0L251bWJlcklucHV0LmpzJyk7XG5SR1VJLkNoZWNrMiA9IHJlcXVpcmUoJy4vdW5pdC9jaGVjazIuanMnKTtcblJHVUkuQ2hlY2tHcm91cCA9IHJlcXVpcmUoJy4vdW5pdC9jaGVja0dyb3VwLmpzJyk7XG5SR1VJLkNoZWNrMkdyb3VwID0gcmVxdWlyZSgnLi91bml0L2NoZWNrMkdyb3VwLmpzJyk7XG5SR1VJLlJhZGlvR3JvdXAgPSByZXF1aXJlKCcuL3VuaXQvcmFkaW9Hcm91cC5qcycpO1xuUkdVSS5SYWRpbzJHcm91cCA9IHJlcXVpcmUoJy4vdW5pdC9yYWRpbzJHcm91cC5qcycpO1xuUkdVSS5TZWxlY3QyID0gcmVxdWlyZSgnLi91bml0L3NlbGVjdDIuanMnKTtcblJHVUkuVHJlZVNlbGVjdCA9IHJlcXVpcmUoJy4vdW5pdC90cmVlU2VsZWN0LmpzJyk7XG5SR1VJLlN1Z2dlc3QgPSByZXF1aXJlKCcuL3VuaXQvc3VnZ2VzdC5qcycpO1xuUkdVSS5VcGxvYWRlciA9IHJlcXVpcmUoJy4vdW5pdC91cGxvYWRlci5qcycpO1xuXG4vLyDml6XmnJ/nsbtcblJHVUkuRGF0ZVBpY2tlciA9IHJlcXVpcmUoJy4vdW5pdC9kYXRlUGlja2VyLmpzJyk7XG5SR1VJLlRpbWVQaWNrZXIgPSByZXF1aXJlKCcuL3VuaXQvdGltZVBpY2tlci5qcycpO1xuUkdVSS5EYXRlVGltZVBpY2tlciA9IHJlcXVpcmUoJy4vdW5pdC9kYXRlVGltZVBpY2tlci5qcycpO1xuXG4vLyDlhbbku5ZcblJHVUkuUHJvZ3Jlc3MgPSByZXF1aXJlKCcuL3VuaXQvcHJvZ3Jlc3MuanMnKTtcblJHVUkuR290b3AgPSByZXF1aXJlKCcuL3VuaXQvZ290b3AuanMnKTtcblxuLyoqXG4gKiBqc01vZHVsZVxuICovXG4vLyDlr7zoiKrnsbtcblJHVUkuVGFiID0gcmVxdWlyZSgnLi9tb2R1bGUvdGFiLmpzJyk7XG5SR1VJLkFjY29yZGlvbiA9IHJlcXVpcmUoJy4vbW9kdWxlL2FjY29yZGlvbi5qcycpO1xuUkdVSS5QYWdlciA9IHJlcXVpcmUoJy4vbW9kdWxlL3BhZ2VyLmpzJyk7XG5SR1VJLk1lbnViYXIgPSByZXF1aXJlKCcuL21vZHVsZS9tZW51YmFyLmpzJyk7XG5cbi8vIOeql+WPo+exu1xuUkdVSS5Ob3RpZnkgPSByZXF1aXJlKCcuL21vZHVsZS9ub3RpZnkuanMnKTtcblJHVUkuTW9kYWwgPSByZXF1aXJlKCcuL21vZHVsZS9tb2RhbC5qcycpO1xuXG4vLyDmlbDmja7nsbtcblJHVUkuTGlzdFZpZXcgPSByZXF1aXJlKCcuL21vZHVsZS9saXN0Vmlldy5qcycpO1xuUkdVSS5HcmlkVmlldyA9IHJlcXVpcmUoJy4vbW9kdWxlL2dyaWRWaWV3LmpzJyk7XG5SR1VJLlRyZWVWaWV3ID0gcmVxdWlyZSgnLi9tb2R1bGUvdHJlZVZpZXcuanMnKTtcblJHVUkuVGFibGVWaWV3ID0gcmVxdWlyZSgnLi9tb2R1bGUvdGFibGVWaWV3LmpzJyk7XG5cbi8vIOaXpeacn+exu1xuUkdVSS5DYWxlbmRhciA9IHJlcXVpcmUoJy4vbW9kdWxlL2NhbGVuZGFyLmpzJyk7XG5cbi8vIOS4iuS8oOexu1xuLy9cblxuLy8g57yW6L6R5Zmo57G7XG5SR1VJLkVkaXRvciA9IHJlcXVpcmUoJy4vbW9kdWxlL2VkaXRvci5qcycpO1xuUkdVSS5IVE1MRWRpdG9yID0gcmVxdWlyZSgnLi9tb2R1bGUvaHRtbEVkaXRvci5qcycpO1xuUkdVSS5NYXJrRWRpdG9yID0gcmVxdWlyZSgnLi9tb2R1bGUvbWFya0VkaXRvci5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5SR1VJID0gUkdVSTsiLCIoZnVuY3Rpb24gKGdsb2JhbCl7XG4vKipcbiAqIG1hcmtlZCAtIGEgbWFya2Rvd24gcGFyc2VyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTEtMjAxNCwgQ2hyaXN0b3BoZXIgSmVmZnJleS4gKE1JVCBMaWNlbnNlZClcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jaGpqL21hcmtlZFxuICovXG5cbjsoZnVuY3Rpb24oKSB7XG5cbi8qKlxuICogQmxvY2stTGV2ZWwgR3JhbW1hclxuICovXG5cbnZhciBibG9jayA9IHtcbiAgbmV3bGluZTogL15cXG4rLyxcbiAgY29kZTogL14oIHs0fVteXFxuXStcXG4qKSsvLFxuICBmZW5jZXM6IG5vb3AsXG4gIGhyOiAvXiggKlstKl9dKXszLH0gKig/Olxcbit8JCkvLFxuICBoZWFkaW5nOiAvXiAqKCN7MSw2fSkgKihbXlxcbl0rPykgKiMqICooPzpcXG4rfCQpLyxcbiAgbnB0YWJsZTogbm9vcCxcbiAgbGhlYWRpbmc6IC9eKFteXFxuXSspXFxuICooPXwtKXsyLH0gKig/Olxcbit8JCkvLFxuICBibG9ja3F1b3RlOiAvXiggKj5bXlxcbl0rKFxcbig/IWRlZilbXlxcbl0rKSpcXG4qKSsvLFxuICBsaXN0OiAvXiggKikoYnVsbCkgW1xcc1xcU10rPyg/OmhyfGRlZnxcXG57Mix9KD8hICkoPyFcXDFidWxsIClcXG4qfFxccyokKS8sXG4gIGh0bWw6IC9eICooPzpjb21tZW50ICooPzpcXG58XFxzKiQpfGNsb3NlZCAqKD86XFxuezIsfXxcXHMqJCl8Y2xvc2luZyAqKD86XFxuezIsfXxcXHMqJCkpLyxcbiAgZGVmOiAvXiAqXFxbKFteXFxdXSspXFxdOiAqPD8oW15cXHM+XSspPj8oPzogK1tcIihdKFteXFxuXSspW1wiKV0pPyAqKD86XFxuK3wkKS8sXG4gIHRhYmxlOiBub29wLFxuICBwYXJhZ3JhcGg6IC9eKCg/OlteXFxuXStcXG4/KD8haHJ8aGVhZGluZ3xsaGVhZGluZ3xibG9ja3F1b3RlfHRhZ3xkZWYpKSspXFxuKi8sXG4gIHRleHQ6IC9eW15cXG5dKy9cbn07XG5cbmJsb2NrLmJ1bGxldCA9IC8oPzpbKistXXxcXGQrXFwuKS87XG5ibG9jay5pdGVtID0gL14oICopKGJ1bGwpIFteXFxuXSooPzpcXG4oPyFcXDFidWxsIClbXlxcbl0qKSovO1xuYmxvY2suaXRlbSA9IHJlcGxhY2UoYmxvY2suaXRlbSwgJ2dtJylcbiAgKC9idWxsL2csIGJsb2NrLmJ1bGxldClcbiAgKCk7XG5cbmJsb2NrLmxpc3QgPSByZXBsYWNlKGJsb2NrLmxpc3QpXG4gICgvYnVsbC9nLCBibG9jay5idWxsZXQpXG4gICgnaHInLCAnXFxcXG4rKD89XFxcXDE/KD86Wy0qX10gKil7Myx9KD86XFxcXG4rfCQpKScpXG4gICgnZGVmJywgJ1xcXFxuKyg/PScgKyBibG9jay5kZWYuc291cmNlICsgJyknKVxuICAoKTtcblxuYmxvY2suYmxvY2txdW90ZSA9IHJlcGxhY2UoYmxvY2suYmxvY2txdW90ZSlcbiAgKCdkZWYnLCBibG9jay5kZWYpXG4gICgpO1xuXG5ibG9jay5fdGFnID0gJyg/ISg/OidcbiAgKyAnYXxlbXxzdHJvbmd8c21hbGx8c3xjaXRlfHF8ZGZufGFiYnJ8ZGF0YXx0aW1lfGNvZGUnXG4gICsgJ3x2YXJ8c2FtcHxrYmR8c3VifHN1cHxpfGJ8dXxtYXJrfHJ1Ynl8cnR8cnB8YmRpfGJkbydcbiAgKyAnfHNwYW58YnJ8d2JyfGluc3xkZWx8aW1nKVxcXFxiKVxcXFx3Kyg/ITovfFteXFxcXHdcXFxcc0BdKkApXFxcXGInO1xuXG5ibG9jay5odG1sID0gcmVwbGFjZShibG9jay5odG1sKVxuICAoJ2NvbW1lbnQnLCAvPCEtLVtcXHNcXFNdKj8tLT4vKVxuICAoJ2Nsb3NlZCcsIC88KHRhZylbXFxzXFxTXSs/PFxcL1xcMT4vKVxuICAoJ2Nsb3NpbmcnLCAvPHRhZyg/OlwiW15cIl0qXCJ8J1teJ10qJ3xbXidcIj5dKSo/Pi8pXG4gICgvdGFnL2csIGJsb2NrLl90YWcpXG4gICgpO1xuXG5ibG9jay5wYXJhZ3JhcGggPSByZXBsYWNlKGJsb2NrLnBhcmFncmFwaClcbiAgKCdocicsIGJsb2NrLmhyKVxuICAoJ2hlYWRpbmcnLCBibG9jay5oZWFkaW5nKVxuICAoJ2xoZWFkaW5nJywgYmxvY2subGhlYWRpbmcpXG4gICgnYmxvY2txdW90ZScsIGJsb2NrLmJsb2NrcXVvdGUpXG4gICgndGFnJywgJzwnICsgYmxvY2suX3RhZylcbiAgKCdkZWYnLCBibG9jay5kZWYpXG4gICgpO1xuXG4vKipcbiAqIE5vcm1hbCBCbG9jayBHcmFtbWFyXG4gKi9cblxuYmxvY2subm9ybWFsID0gbWVyZ2Uoe30sIGJsb2NrKTtcblxuLyoqXG4gKiBHRk0gQmxvY2sgR3JhbW1hclxuICovXG5cbmJsb2NrLmdmbSA9IG1lcmdlKHt9LCBibG9jay5ub3JtYWwsIHtcbiAgZmVuY2VzOiAvXiAqKGB7Myx9fH57Myx9KVsgXFwuXSooXFxTKyk/ICpcXG4oW1xcc1xcU10qPylcXHMqXFwxICooPzpcXG4rfCQpLyxcbiAgcGFyYWdyYXBoOiAvXi8sXG4gIGhlYWRpbmc6IC9eICooI3sxLDZ9KSArKFteXFxuXSs/KSAqIyogKig/Olxcbit8JCkvXG59KTtcblxuYmxvY2suZ2ZtLnBhcmFncmFwaCA9IHJlcGxhY2UoYmxvY2sucGFyYWdyYXBoKVxuICAoJyg/IScsICcoPyEnXG4gICAgKyBibG9jay5nZm0uZmVuY2VzLnNvdXJjZS5yZXBsYWNlKCdcXFxcMScsICdcXFxcMicpICsgJ3wnXG4gICAgKyBibG9jay5saXN0LnNvdXJjZS5yZXBsYWNlKCdcXFxcMScsICdcXFxcMycpICsgJ3wnKVxuICAoKTtcblxuLyoqXG4gKiBHRk0gKyBUYWJsZXMgQmxvY2sgR3JhbW1hclxuICovXG5cbmJsb2NrLnRhYmxlcyA9IG1lcmdlKHt9LCBibG9jay5nZm0sIHtcbiAgbnB0YWJsZTogL14gKihcXFMuKlxcfC4qKVxcbiAqKFstOl0rICpcXHxbLXwgOl0qKVxcbigoPzouKlxcfC4qKD86XFxufCQpKSopXFxuKi8sXG4gIHRhYmxlOiAvXiAqXFx8KC4rKVxcbiAqXFx8KCAqWy06XStbLXwgOl0qKVxcbigoPzogKlxcfC4qKD86XFxufCQpKSopXFxuKi9cbn0pO1xuXG4vKipcbiAqIEJsb2NrIExleGVyXG4gKi9cblxuZnVuY3Rpb24gTGV4ZXIob3B0aW9ucykge1xuICB0aGlzLnRva2VucyA9IFtdO1xuICB0aGlzLnRva2Vucy5saW5rcyA9IHt9O1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IG1hcmtlZC5kZWZhdWx0cztcbiAgdGhpcy5ydWxlcyA9IGJsb2NrLm5vcm1hbDtcblxuICBpZiAodGhpcy5vcHRpb25zLmdmbSkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMudGFibGVzKSB7XG4gICAgICB0aGlzLnJ1bGVzID0gYmxvY2sudGFibGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJ1bGVzID0gYmxvY2suZ2ZtO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEV4cG9zZSBCbG9jayBSdWxlc1xuICovXG5cbkxleGVyLnJ1bGVzID0gYmxvY2s7XG5cbi8qKlxuICogU3RhdGljIExleCBNZXRob2RcbiAqL1xuXG5MZXhlci5sZXggPSBmdW5jdGlvbihzcmMsIG9wdGlvbnMpIHtcbiAgdmFyIGxleGVyID0gbmV3IExleGVyKG9wdGlvbnMpO1xuICByZXR1cm4gbGV4ZXIubGV4KHNyYyk7XG59O1xuXG4vKipcbiAqIFByZXByb2Nlc3NpbmdcbiAqL1xuXG5MZXhlci5wcm90b3R5cGUubGV4ID0gZnVuY3Rpb24oc3JjKSB7XG4gIHNyYyA9IHNyY1xuICAgIC5yZXBsYWNlKC9cXHJcXG58XFxyL2csICdcXG4nKVxuICAgIC5yZXBsYWNlKC9cXHQvZywgJyAgICAnKVxuICAgIC5yZXBsYWNlKC9cXHUwMGEwL2csICcgJylcbiAgICAucmVwbGFjZSgvXFx1MjQyNC9nLCAnXFxuJyk7XG5cbiAgcmV0dXJuIHRoaXMudG9rZW4oc3JjLCB0cnVlKTtcbn07XG5cbi8qKlxuICogTGV4aW5nXG4gKi9cblxuTGV4ZXIucHJvdG90eXBlLnRva2VuID0gZnVuY3Rpb24oc3JjLCB0b3AsIGJxKSB7XG4gIHZhciBzcmMgPSBzcmMucmVwbGFjZSgvXiArJC9nbSwgJycpXG4gICAgLCBuZXh0XG4gICAgLCBsb29zZVxuICAgICwgY2FwXG4gICAgLCBidWxsXG4gICAgLCBiXG4gICAgLCBpdGVtXG4gICAgLCBzcGFjZVxuICAgICwgaVxuICAgICwgbDtcblxuICB3aGlsZSAoc3JjKSB7XG4gICAgLy8gbmV3bGluZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLm5ld2xpbmUuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgaWYgKGNhcFswXS5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICAgIHR5cGU6ICdzcGFjZSdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29kZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmNvZGUuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgY2FwID0gY2FwWzBdLnJlcGxhY2UoL14gezR9L2dtLCAnJyk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2NvZGUnLFxuICAgICAgICB0ZXh0OiAhdGhpcy5vcHRpb25zLnBlZGFudGljXG4gICAgICAgICAgPyBjYXAucmVwbGFjZSgvXFxuKyQvLCAnJylcbiAgICAgICAgICA6IGNhcFxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBmZW5jZXMgKGdmbSlcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5mZW5jZXMuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdjb2RlJyxcbiAgICAgICAgbGFuZzogY2FwWzJdLFxuICAgICAgICB0ZXh0OiBjYXBbM10gfHwgJydcbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gaGVhZGluZ1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmhlYWRpbmcuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgZGVwdGg6IGNhcFsxXS5sZW5ndGgsXG4gICAgICAgIHRleHQ6IGNhcFsyXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0YWJsZSBubyBsZWFkaW5nIHBpcGUgKGdmbSlcbiAgICBpZiAodG9wICYmIChjYXAgPSB0aGlzLnJ1bGVzLm5wdGFibGUuZXhlYyhzcmMpKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblxuICAgICAgaXRlbSA9IHtcbiAgICAgICAgdHlwZTogJ3RhYmxlJyxcbiAgICAgICAgaGVhZGVyOiBjYXBbMV0ucmVwbGFjZSgvXiAqfCAqXFx8ICokL2csICcnKS5zcGxpdCgvICpcXHwgKi8pLFxuICAgICAgICBhbGlnbjogY2FwWzJdLnJlcGxhY2UoL14gKnxcXHwgKiQvZywgJycpLnNwbGl0KC8gKlxcfCAqLyksXG4gICAgICAgIGNlbGxzOiBjYXBbM10ucmVwbGFjZSgvXFxuJC8sICcnKS5zcGxpdCgnXFxuJylcbiAgICAgIH07XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBpdGVtLmFsaWduLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICgvXiAqLSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdyaWdodCc7XG4gICAgICAgIH0gZWxzZSBpZiAoL14gKjotKzogKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2NlbnRlcic7XG4gICAgICAgIH0gZWxzZSBpZiAoL14gKjotKyAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAnbGVmdCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbS5hbGlnbltpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW0uY2VsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlbS5jZWxsc1tpXSA9IGl0ZW0uY2VsbHNbaV0uc3BsaXQoLyAqXFx8ICovKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy50b2tlbnMucHVzaChpdGVtKTtcblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gbGhlYWRpbmdcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5saGVhZGluZy5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2hlYWRpbmcnLFxuICAgICAgICBkZXB0aDogY2FwWzJdID09PSAnPScgPyAxIDogMixcbiAgICAgICAgdGV4dDogY2FwWzFdXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGhyXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuaHIuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdocidcbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gYmxvY2txdW90ZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrcXVvdGUuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuXG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2Jsb2NrcXVvdGVfc3RhcnQnXG4gICAgICB9KTtcblxuICAgICAgY2FwID0gY2FwWzBdLnJlcGxhY2UoL14gKj4gPy9nbSwgJycpO1xuXG4gICAgICAvLyBQYXNzIGB0b3BgIHRvIGtlZXAgdGhlIGN1cnJlbnRcbiAgICAgIC8vIFwidG9wbGV2ZWxcIiBzdGF0ZS4gVGhpcyBpcyBleGFjdGx5XG4gICAgICAvLyBob3cgbWFya2Rvd24ucGwgd29ya3MuXG4gICAgICB0aGlzLnRva2VuKGNhcCwgdG9wLCB0cnVlKTtcblxuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdibG9ja3F1b3RlX2VuZCdcbiAgICAgIH0pO1xuXG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBsaXN0XG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMubGlzdC5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBidWxsID0gY2FwWzJdO1xuXG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2xpc3Rfc3RhcnQnLFxuICAgICAgICBvcmRlcmVkOiBidWxsLmxlbmd0aCA+IDFcbiAgICAgIH0pO1xuXG4gICAgICAvLyBHZXQgZWFjaCB0b3AtbGV2ZWwgaXRlbS5cbiAgICAgIGNhcCA9IGNhcFswXS5tYXRjaCh0aGlzLnJ1bGVzLml0ZW0pO1xuXG4gICAgICBuZXh0ID0gZmFsc2U7XG4gICAgICBsID0gY2FwLmxlbmd0aDtcbiAgICAgIGkgPSAwO1xuXG4gICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgICBpdGVtID0gY2FwW2ldO1xuXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgbGlzdCBpdGVtJ3MgYnVsbGV0XG4gICAgICAgIC8vIHNvIGl0IGlzIHNlZW4gYXMgdGhlIG5leHQgdG9rZW4uXG4gICAgICAgIHNwYWNlID0gaXRlbS5sZW5ndGg7XG4gICAgICAgIGl0ZW0gPSBpdGVtLnJlcGxhY2UoL14gKihbKistXXxcXGQrXFwuKSArLywgJycpO1xuXG4gICAgICAgIC8vIE91dGRlbnQgd2hhdGV2ZXIgdGhlXG4gICAgICAgIC8vIGxpc3QgaXRlbSBjb250YWlucy4gSGFja3kuXG4gICAgICAgIGlmICh+aXRlbS5pbmRleE9mKCdcXG4gJykpIHtcbiAgICAgICAgICBzcGFjZSAtPSBpdGVtLmxlbmd0aDtcbiAgICAgICAgICBpdGVtID0gIXRoaXMub3B0aW9ucy5wZWRhbnRpY1xuICAgICAgICAgICAgPyBpdGVtLnJlcGxhY2UobmV3IFJlZ0V4cCgnXiB7MSwnICsgc3BhY2UgKyAnfScsICdnbScpLCAnJylcbiAgICAgICAgICAgIDogaXRlbS5yZXBsYWNlKC9eIHsxLDR9L2dtLCAnJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZXRlcm1pbmUgd2hldGhlciB0aGUgbmV4dCBsaXN0IGl0ZW0gYmVsb25ncyBoZXJlLlxuICAgICAgICAvLyBCYWNrcGVkYWwgaWYgaXQgZG9lcyBub3QgYmVsb25nIGluIHRoaXMgbGlzdC5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zbWFydExpc3RzICYmIGkgIT09IGwgLSAxKSB7XG4gICAgICAgICAgYiA9IGJsb2NrLmJ1bGxldC5leGVjKGNhcFtpICsgMV0pWzBdO1xuICAgICAgICAgIGlmIChidWxsICE9PSBiICYmICEoYnVsbC5sZW5ndGggPiAxICYmIGIubGVuZ3RoID4gMSkpIHtcbiAgICAgICAgICAgIHNyYyA9IGNhcC5zbGljZShpICsgMSkuam9pbignXFxuJykgKyBzcmM7XG4gICAgICAgICAgICBpID0gbCAtIDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgaXRlbSBpcyBsb29zZSBvciBub3QuXG4gICAgICAgIC8vIFVzZTogLyhefFxcbikoPyEgKVteXFxuXStcXG5cXG4oPyFcXHMqJCkvXG4gICAgICAgIC8vIGZvciBkaXNjb3VudCBiZWhhdmlvci5cbiAgICAgICAgbG9vc2UgPSBuZXh0IHx8IC9cXG5cXG4oPyFcXHMqJCkvLnRlc3QoaXRlbSk7XG4gICAgICAgIGlmIChpICE9PSBsIC0gMSkge1xuICAgICAgICAgIG5leHQgPSBpdGVtLmNoYXJBdChpdGVtLmxlbmd0aCAtIDEpID09PSAnXFxuJztcbiAgICAgICAgICBpZiAoIWxvb3NlKSBsb29zZSA9IG5leHQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBsb29zZVxuICAgICAgICAgICAgPyAnbG9vc2VfaXRlbV9zdGFydCdcbiAgICAgICAgICAgIDogJ2xpc3RfaXRlbV9zdGFydCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVjdXJzZS5cbiAgICAgICAgdGhpcy50b2tlbihpdGVtLCBmYWxzZSwgYnEpO1xuXG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICAgIHR5cGU6ICdsaXN0X2l0ZW1fZW5kJ1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdsaXN0X2VuZCdcbiAgICAgIH0pO1xuXG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBodG1sXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuaHRtbC5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnNhbml0aXplXG4gICAgICAgICAgPyAncGFyYWdyYXBoJ1xuICAgICAgICAgIDogJ2h0bWwnLFxuICAgICAgICBwcmU6ICF0aGlzLm9wdGlvbnMuc2FuaXRpemVyXG4gICAgICAgICAgJiYgKGNhcFsxXSA9PT0gJ3ByZScgfHwgY2FwWzFdID09PSAnc2NyaXB0JyB8fCBjYXBbMV0gPT09ICdzdHlsZScpLFxuICAgICAgICB0ZXh0OiBjYXBbMF1cbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gZGVmXG4gICAgaWYgKCghYnEgJiYgdG9wKSAmJiAoY2FwID0gdGhpcy5ydWxlcy5kZWYuZXhlYyhzcmMpKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLmxpbmtzW2NhcFsxXS50b0xvd2VyQ2FzZSgpXSA9IHtcbiAgICAgICAgaHJlZjogY2FwWzJdLFxuICAgICAgICB0aXRsZTogY2FwWzNdXG4gICAgICB9O1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdGFibGUgKGdmbSlcbiAgICBpZiAodG9wICYmIChjYXAgPSB0aGlzLnJ1bGVzLnRhYmxlLmV4ZWMoc3JjKSkpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG5cbiAgICAgIGl0ZW0gPSB7XG4gICAgICAgIHR5cGU6ICd0YWJsZScsXG4gICAgICAgIGhlYWRlcjogY2FwWzFdLnJlcGxhY2UoL14gKnwgKlxcfCAqJC9nLCAnJykuc3BsaXQoLyAqXFx8ICovKSxcbiAgICAgICAgYWxpZ246IGNhcFsyXS5yZXBsYWNlKC9eICp8XFx8ICokL2csICcnKS5zcGxpdCgvICpcXHwgKi8pLFxuICAgICAgICBjZWxsczogY2FwWzNdLnJlcGxhY2UoLyg/OiAqXFx8ICopP1xcbiQvLCAnJykuc3BsaXQoJ1xcbicpXG4gICAgICB9O1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5hbGlnbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoL14gKi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAncmlnaHQnO1xuICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdjZW50ZXInO1xuICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSsgKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2xlZnQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBpdGVtLmNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZW0uY2VsbHNbaV0gPSBpdGVtLmNlbGxzW2ldXG4gICAgICAgICAgLnJlcGxhY2UoL14gKlxcfCAqfCAqXFx8ICokL2csICcnKVxuICAgICAgICAgIC5zcGxpdCgvICpcXHwgKi8pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRva2Vucy5wdXNoKGl0ZW0pO1xuXG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0b3AtbGV2ZWwgcGFyYWdyYXBoXG4gICAgaWYgKHRvcCAmJiAoY2FwID0gdGhpcy5ydWxlcy5wYXJhZ3JhcGguZXhlYyhzcmMpKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAncGFyYWdyYXBoJyxcbiAgICAgICAgdGV4dDogY2FwWzFdLmNoYXJBdChjYXBbMV0ubGVuZ3RoIC0gMSkgPT09ICdcXG4nXG4gICAgICAgICAgPyBjYXBbMV0uc2xpY2UoMCwgLTEpXG4gICAgICAgICAgOiBjYXBbMV1cbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdGV4dFxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLnRleHQuZXhlYyhzcmMpKSB7XG4gICAgICAvLyBUb3AtbGV2ZWwgc2hvdWxkIG5ldmVyIHJlYWNoIGhlcmUuXG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgdGV4dDogY2FwWzBdXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChzcmMpIHtcbiAgICAgIHRocm93IG5ld1xuICAgICAgICBFcnJvcignSW5maW5pdGUgbG9vcCBvbiBieXRlOiAnICsgc3JjLmNoYXJDb2RlQXQoMCkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzLnRva2Vucztcbn07XG5cbi8qKlxuICogSW5saW5lLUxldmVsIEdyYW1tYXJcbiAqL1xuXG52YXIgaW5saW5lID0ge1xuICBlc2NhcGU6IC9eXFxcXChbXFxcXGAqe31cXFtcXF0oKSMrXFwtLiFfPl0pLyxcbiAgYXV0b2xpbms6IC9ePChbXiA+XSsoQHw6XFwvKVteID5dKyk+LyxcbiAgdXJsOiBub29wLFxuICB0YWc6IC9ePCEtLVtcXHNcXFNdKj8tLT58XjxcXC8/XFx3Kyg/OlwiW15cIl0qXCJ8J1teJ10qJ3xbXidcIj5dKSo/Pi8sXG4gIGxpbms6IC9eIT9cXFsoaW5zaWRlKVxcXVxcKGhyZWZcXCkvLFxuICByZWZsaW5rOiAvXiE/XFxbKGluc2lkZSlcXF1cXHMqXFxbKFteXFxdXSopXFxdLyxcbiAgbm9saW5rOiAvXiE/XFxbKCg/OlxcW1teXFxdXSpcXF18W15cXFtcXF1dKSopXFxdLyxcbiAgc3Ryb25nOiAvXl9fKFtcXHNcXFNdKz8pX18oPyFfKXxeXFwqXFwqKFtcXHNcXFNdKz8pXFwqXFwqKD8hXFwqKS8sXG4gIGVtOiAvXlxcYl8oKD86W15fXXxfXykrPylfXFxifF5cXCooKD86XFwqXFwqfFtcXHNcXFNdKSs/KVxcKig/IVxcKikvLFxuICBjb2RlOiAvXihgKylcXHMqKFtcXHNcXFNdKj9bXmBdKVxccypcXDEoPyFgKS8sXG4gIGJyOiAvXiB7Mix9XFxuKD8hXFxzKiQpLyxcbiAgZGVsOiBub29wLFxuICB0ZXh0OiAvXltcXHNcXFNdKz8oPz1bXFxcXDwhXFxbXypgXXwgezIsfVxcbnwkKS9cbn07XG5cbmlubGluZS5faW5zaWRlID0gLyg/OlxcW1teXFxdXSpcXF18W15cXFtcXF1dfFxcXSg/PVteXFxbXSpcXF0pKSovO1xuaW5saW5lLl9ocmVmID0gL1xccyo8PyhbXFxzXFxTXSo/KT4/KD86XFxzK1snXCJdKFtcXHNcXFNdKj8pWydcIl0pP1xccyovO1xuXG5pbmxpbmUubGluayA9IHJlcGxhY2UoaW5saW5lLmxpbmspXG4gICgnaW5zaWRlJywgaW5saW5lLl9pbnNpZGUpXG4gICgnaHJlZicsIGlubGluZS5faHJlZilcbiAgKCk7XG5cbmlubGluZS5yZWZsaW5rID0gcmVwbGFjZShpbmxpbmUucmVmbGluaylcbiAgKCdpbnNpZGUnLCBpbmxpbmUuX2luc2lkZSlcbiAgKCk7XG5cbi8qKlxuICogTm9ybWFsIElubGluZSBHcmFtbWFyXG4gKi9cblxuaW5saW5lLm5vcm1hbCA9IG1lcmdlKHt9LCBpbmxpbmUpO1xuXG4vKipcbiAqIFBlZGFudGljIElubGluZSBHcmFtbWFyXG4gKi9cblxuaW5saW5lLnBlZGFudGljID0gbWVyZ2Uoe30sIGlubGluZS5ub3JtYWwsIHtcbiAgc3Ryb25nOiAvXl9fKD89XFxTKShbXFxzXFxTXSo/XFxTKV9fKD8hXyl8XlxcKlxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCpcXCooPyFcXCopLyxcbiAgZW06IC9eXyg/PVxcUykoW1xcc1xcU10qP1xcUylfKD8hXyl8XlxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCooPyFcXCopL1xufSk7XG5cbi8qKlxuICogR0ZNIElubGluZSBHcmFtbWFyXG4gKi9cblxuaW5saW5lLmdmbSA9IG1lcmdlKHt9LCBpbmxpbmUubm9ybWFsLCB7XG4gIGVzY2FwZTogcmVwbGFjZShpbmxpbmUuZXNjYXBlKSgnXSknLCAnfnxdKScpKCksXG4gIHVybDogL14oaHR0cHM/OlxcL1xcL1teXFxzPF0rW148Liw6O1wiJylcXF1cXHNdKS8sXG4gIGRlbDogL15+fig/PVxcUykoW1xcc1xcU10qP1xcUyl+fi8sXG4gIHRleHQ6IHJlcGxhY2UoaW5saW5lLnRleHQpXG4gICAgKCddfCcsICd+XXwnKVxuICAgICgnfCcsICd8aHR0cHM/Oi8vfCcpXG4gICAgKClcbn0pO1xuXG4vKipcbiAqIEdGTSArIExpbmUgQnJlYWtzIElubGluZSBHcmFtbWFyXG4gKi9cblxuaW5saW5lLmJyZWFrcyA9IG1lcmdlKHt9LCBpbmxpbmUuZ2ZtLCB7XG4gIGJyOiByZXBsYWNlKGlubGluZS5icikoJ3syLH0nLCAnKicpKCksXG4gIHRleHQ6IHJlcGxhY2UoaW5saW5lLmdmbS50ZXh0KSgnezIsfScsICcqJykoKVxufSk7XG5cbi8qKlxuICogSW5saW5lIExleGVyICYgQ29tcGlsZXJcbiAqL1xuXG5mdW5jdGlvbiBJbmxpbmVMZXhlcihsaW5rcywgb3B0aW9ucykge1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IG1hcmtlZC5kZWZhdWx0cztcbiAgdGhpcy5saW5rcyA9IGxpbmtzO1xuICB0aGlzLnJ1bGVzID0gaW5saW5lLm5vcm1hbDtcbiAgdGhpcy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlciB8fCBuZXcgUmVuZGVyZXI7XG4gIHRoaXMucmVuZGVyZXIub3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICBpZiAoIXRoaXMubGlua3MpIHtcbiAgICB0aHJvdyBuZXdcbiAgICAgIEVycm9yKCdUb2tlbnMgYXJyYXkgcmVxdWlyZXMgYSBgbGlua3NgIHByb3BlcnR5LicpO1xuICB9XG5cbiAgaWYgKHRoaXMub3B0aW9ucy5nZm0pIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmJyZWFrcykge1xuICAgICAgdGhpcy5ydWxlcyA9IGlubGluZS5icmVha3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucnVsZXMgPSBpbmxpbmUuZ2ZtO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMucGVkYW50aWMpIHtcbiAgICB0aGlzLnJ1bGVzID0gaW5saW5lLnBlZGFudGljO1xuICB9XG59XG5cbi8qKlxuICogRXhwb3NlIElubGluZSBSdWxlc1xuICovXG5cbklubGluZUxleGVyLnJ1bGVzID0gaW5saW5lO1xuXG4vKipcbiAqIFN0YXRpYyBMZXhpbmcvQ29tcGlsaW5nIE1ldGhvZFxuICovXG5cbklubGluZUxleGVyLm91dHB1dCA9IGZ1bmN0aW9uKHNyYywgbGlua3MsIG9wdGlvbnMpIHtcbiAgdmFyIGlubGluZSA9IG5ldyBJbmxpbmVMZXhlcihsaW5rcywgb3B0aW9ucyk7XG4gIHJldHVybiBpbmxpbmUub3V0cHV0KHNyYyk7XG59O1xuXG4vKipcbiAqIExleGluZy9Db21waWxpbmdcbiAqL1xuXG5JbmxpbmVMZXhlci5wcm90b3R5cGUub3V0cHV0ID0gZnVuY3Rpb24oc3JjKSB7XG4gIHZhciBvdXQgPSAnJ1xuICAgICwgbGlua1xuICAgICwgdGV4dFxuICAgICwgaHJlZlxuICAgICwgY2FwO1xuXG4gIHdoaWxlIChzcmMpIHtcbiAgICAvLyBlc2NhcGVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5lc2NhcGUuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IGNhcFsxXTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGF1dG9saW5rXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuYXV0b2xpbmsuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgaWYgKGNhcFsyXSA9PT0gJ0AnKSB7XG4gICAgICAgIHRleHQgPSBjYXBbMV0uY2hhckF0KDYpID09PSAnOidcbiAgICAgICAgICA/IHRoaXMubWFuZ2xlKGNhcFsxXS5zdWJzdHJpbmcoNykpXG4gICAgICAgICAgOiB0aGlzLm1hbmdsZShjYXBbMV0pO1xuICAgICAgICBocmVmID0gdGhpcy5tYW5nbGUoJ21haWx0bzonKSArIHRleHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0ID0gZXNjYXBlKGNhcFsxXSk7XG4gICAgICAgIGhyZWYgPSB0ZXh0O1xuICAgICAgfVxuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIubGluayhocmVmLCBudWxsLCB0ZXh0KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHVybCAoZ2ZtKVxuICAgIGlmICghdGhpcy5pbkxpbmsgJiYgKGNhcCA9IHRoaXMucnVsZXMudXJsLmV4ZWMoc3JjKSkpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0ZXh0ID0gZXNjYXBlKGNhcFsxXSk7XG4gICAgICBocmVmID0gdGV4dDtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmxpbmsoaHJlZiwgbnVsbCwgdGV4dCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0YWdcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy50YWcuZXhlYyhzcmMpKSB7XG4gICAgICBpZiAoIXRoaXMuaW5MaW5rICYmIC9ePGEgL2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgIHRoaXMuaW5MaW5rID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pbkxpbmsgJiYgL148XFwvYT4vaS50ZXN0KGNhcFswXSkpIHtcbiAgICAgICAgdGhpcy5pbkxpbmsgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5vcHRpb25zLnNhbml0aXplXG4gICAgICAgID8gdGhpcy5vcHRpb25zLnNhbml0aXplclxuICAgICAgICAgID8gdGhpcy5vcHRpb25zLnNhbml0aXplcihjYXBbMF0pXG4gICAgICAgICAgOiBlc2NhcGUoY2FwWzBdKVxuICAgICAgICA6IGNhcFswXVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gbGlua1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmxpbmsuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy5pbkxpbmsgPSB0cnVlO1xuICAgICAgb3V0ICs9IHRoaXMub3V0cHV0TGluayhjYXAsIHtcbiAgICAgICAgaHJlZjogY2FwWzJdLFxuICAgICAgICB0aXRsZTogY2FwWzNdXG4gICAgICB9KTtcbiAgICAgIHRoaXMuaW5MaW5rID0gZmFsc2U7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyByZWZsaW5rLCBub2xpbmtcbiAgICBpZiAoKGNhcCA9IHRoaXMucnVsZXMucmVmbGluay5leGVjKHNyYykpXG4gICAgICAgIHx8IChjYXAgPSB0aGlzLnJ1bGVzLm5vbGluay5leGVjKHNyYykpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgbGluayA9IChjYXBbMl0gfHwgY2FwWzFdKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG4gICAgICBsaW5rID0gdGhpcy5saW5rc1tsaW5rLnRvTG93ZXJDYXNlKCldO1xuICAgICAgaWYgKCFsaW5rIHx8ICFsaW5rLmhyZWYpIHtcbiAgICAgICAgb3V0ICs9IGNhcFswXS5jaGFyQXQoMCk7XG4gICAgICAgIHNyYyA9IGNhcFswXS5zdWJzdHJpbmcoMSkgKyBzcmM7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5pbkxpbmsgPSB0cnVlO1xuICAgICAgb3V0ICs9IHRoaXMub3V0cHV0TGluayhjYXAsIGxpbmspO1xuICAgICAgdGhpcy5pbkxpbmsgPSBmYWxzZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHN0cm9uZ1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLnN0cm9uZy5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5zdHJvbmcodGhpcy5vdXRwdXQoY2FwWzJdIHx8IGNhcFsxXSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gZW1cbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5lbS5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5lbSh0aGlzLm91dHB1dChjYXBbMl0gfHwgY2FwWzFdKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBjb2RlXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuY29kZS5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5jb2Rlc3Bhbihlc2NhcGUoY2FwWzJdLCB0cnVlKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBiclxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmJyLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmJyKCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBkZWwgKGdmbSlcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5kZWwuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuZGVsKHRoaXMub3V0cHV0KGNhcFsxXSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdGV4dFxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLnRleHQuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIudGV4dChlc2NhcGUodGhpcy5zbWFydHlwYW50cyhjYXBbMF0pKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoc3JjKSB7XG4gICAgICB0aHJvdyBuZXdcbiAgICAgICAgRXJyb3IoJ0luZmluaXRlIGxvb3Agb24gYnl0ZTogJyArIHNyYy5jaGFyQ29kZUF0KDApKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0O1xufTtcblxuLyoqXG4gKiBDb21waWxlIExpbmtcbiAqL1xuXG5JbmxpbmVMZXhlci5wcm90b3R5cGUub3V0cHV0TGluayA9IGZ1bmN0aW9uKGNhcCwgbGluaykge1xuICB2YXIgaHJlZiA9IGVzY2FwZShsaW5rLmhyZWYpXG4gICAgLCB0aXRsZSA9IGxpbmsudGl0bGUgPyBlc2NhcGUobGluay50aXRsZSkgOiBudWxsO1xuXG4gIHJldHVybiBjYXBbMF0uY2hhckF0KDApICE9PSAnISdcbiAgICA/IHRoaXMucmVuZGVyZXIubGluayhocmVmLCB0aXRsZSwgdGhpcy5vdXRwdXQoY2FwWzFdKSlcbiAgICA6IHRoaXMucmVuZGVyZXIuaW1hZ2UoaHJlZiwgdGl0bGUsIGVzY2FwZShjYXBbMV0pKTtcbn07XG5cbi8qKlxuICogU21hcnR5cGFudHMgVHJhbnNmb3JtYXRpb25zXG4gKi9cblxuSW5saW5lTGV4ZXIucHJvdG90eXBlLnNtYXJ0eXBhbnRzID0gZnVuY3Rpb24odGV4dCkge1xuICBpZiAoIXRoaXMub3B0aW9ucy5zbWFydHlwYW50cykgcmV0dXJuIHRleHQ7XG4gIHJldHVybiB0ZXh0XG4gICAgLy8gZW0tZGFzaGVzXG4gICAgLnJlcGxhY2UoLy0tLS9nLCAnXFx1MjAxNCcpXG4gICAgLy8gZW4tZGFzaGVzXG4gICAgLnJlcGxhY2UoLy0tL2csICdcXHUyMDEzJylcbiAgICAvLyBvcGVuaW5nIHNpbmdsZXNcbiAgICAucmVwbGFjZSgvKF58Wy1cXHUyMDE0LyhcXFt7XCJcXHNdKScvZywgJyQxXFx1MjAxOCcpXG4gICAgLy8gY2xvc2luZyBzaW5nbGVzICYgYXBvc3Ryb3BoZXNcbiAgICAucmVwbGFjZSgvJy9nLCAnXFx1MjAxOScpXG4gICAgLy8gb3BlbmluZyBkb3VibGVzXG4gICAgLnJlcGxhY2UoLyhefFstXFx1MjAxNC8oXFxbe1xcdTIwMThcXHNdKVwiL2csICckMVxcdTIwMWMnKVxuICAgIC8vIGNsb3NpbmcgZG91Ymxlc1xuICAgIC5yZXBsYWNlKC9cIi9nLCAnXFx1MjAxZCcpXG4gICAgLy8gZWxsaXBzZXNcbiAgICAucmVwbGFjZSgvXFwuezN9L2csICdcXHUyMDI2Jyk7XG59O1xuXG4vKipcbiAqIE1hbmdsZSBMaW5rc1xuICovXG5cbklubGluZUxleGVyLnByb3RvdHlwZS5tYW5nbGUgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIGlmICghdGhpcy5vcHRpb25zLm1hbmdsZSkgcmV0dXJuIHRleHQ7XG4gIHZhciBvdXQgPSAnJ1xuICAgICwgbCA9IHRleHQubGVuZ3RoXG4gICAgLCBpID0gMFxuICAgICwgY2g7XG5cbiAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICBjaCA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkge1xuICAgICAgY2ggPSAneCcgKyBjaC50b1N0cmluZygxNik7XG4gICAgfVxuICAgIG91dCArPSAnJiMnICsgY2ggKyAnOyc7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufTtcblxuLyoqXG4gKiBSZW5kZXJlclxuICovXG5cbmZ1bmN0aW9uIFJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbn1cblxuUmVuZGVyZXIucHJvdG90eXBlLmNvZGUgPSBmdW5jdGlvbihjb2RlLCBsYW5nLCBlc2NhcGVkKSB7XG4gIGlmICh0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0KSB7XG4gICAgdmFyIG91dCA9IHRoaXMub3B0aW9ucy5oaWdobGlnaHQoY29kZSwgbGFuZyk7XG4gICAgaWYgKG91dCAhPSBudWxsICYmIG91dCAhPT0gY29kZSkge1xuICAgICAgZXNjYXBlZCA9IHRydWU7XG4gICAgICBjb2RlID0gb3V0O1xuICAgIH1cbiAgfVxuXG4gIGlmICghbGFuZykge1xuICAgIHJldHVybiAnPHByZT48Y29kZT4nXG4gICAgICArIChlc2NhcGVkID8gY29kZSA6IGVzY2FwZShjb2RlLCB0cnVlKSlcbiAgICAgICsgJ1xcbjwvY29kZT48L3ByZT4nO1xuICB9XG5cbiAgcmV0dXJuICc8cHJlPjxjb2RlIGNsYXNzPVwiJ1xuICAgICsgdGhpcy5vcHRpb25zLmxhbmdQcmVmaXhcbiAgICArIGVzY2FwZShsYW5nLCB0cnVlKVxuICAgICsgJ1wiPidcbiAgICArIChlc2NhcGVkID8gY29kZSA6IGVzY2FwZShjb2RlLCB0cnVlKSlcbiAgICArICdcXG48L2NvZGU+PC9wcmU+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5ibG9ja3F1b3RlID0gZnVuY3Rpb24ocXVvdGUpIHtcbiAgcmV0dXJuICc8YmxvY2txdW90ZT5cXG4nICsgcXVvdGUgKyAnPC9ibG9ja3F1b3RlPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuaHRtbCA9IGZ1bmN0aW9uKGh0bWwpIHtcbiAgcmV0dXJuIGh0bWw7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuaGVhZGluZyA9IGZ1bmN0aW9uKHRleHQsIGxldmVsLCByYXcpIHtcbiAgcmV0dXJuICc8aCdcbiAgICArIGxldmVsXG4gICAgKyAnIGlkPVwiJ1xuICAgICsgdGhpcy5vcHRpb25zLmhlYWRlclByZWZpeFxuICAgICsgcmF3LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvW15cXHddKy9nLCAnLScpXG4gICAgKyAnXCI+J1xuICAgICsgdGV4dFxuICAgICsgJzwvaCdcbiAgICArIGxldmVsXG4gICAgKyAnPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuaHIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub3B0aW9ucy54aHRtbCA/ICc8aHIvPlxcbicgOiAnPGhyPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUubGlzdCA9IGZ1bmN0aW9uKGJvZHksIG9yZGVyZWQpIHtcbiAgdmFyIHR5cGUgPSBvcmRlcmVkID8gJ29sJyA6ICd1bCc7XG4gIHJldHVybiAnPCcgKyB0eXBlICsgJz5cXG4nICsgYm9keSArICc8LycgKyB0eXBlICsgJz5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmxpc3RpdGVtID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxsaT4nICsgdGV4dCArICc8L2xpPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUucGFyYWdyYXBoID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxwPicgKyB0ZXh0ICsgJzwvcD5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLnRhYmxlID0gZnVuY3Rpb24oaGVhZGVyLCBib2R5KSB7XG4gIHJldHVybiAnPHRhYmxlPlxcbidcbiAgICArICc8dGhlYWQ+XFxuJ1xuICAgICsgaGVhZGVyXG4gICAgKyAnPC90aGVhZD5cXG4nXG4gICAgKyAnPHRib2R5PlxcbidcbiAgICArIGJvZHlcbiAgICArICc8L3Rib2R5PlxcbidcbiAgICArICc8L3RhYmxlPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUudGFibGVyb3cgPSBmdW5jdGlvbihjb250ZW50KSB7XG4gIHJldHVybiAnPHRyPlxcbicgKyBjb250ZW50ICsgJzwvdHI+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS50YWJsZWNlbGwgPSBmdW5jdGlvbihjb250ZW50LCBmbGFncykge1xuICB2YXIgdHlwZSA9IGZsYWdzLmhlYWRlciA/ICd0aCcgOiAndGQnO1xuICB2YXIgdGFnID0gZmxhZ3MuYWxpZ25cbiAgICA/ICc8JyArIHR5cGUgKyAnIHN0eWxlPVwidGV4dC1hbGlnbjonICsgZmxhZ3MuYWxpZ24gKyAnXCI+J1xuICAgIDogJzwnICsgdHlwZSArICc+JztcbiAgcmV0dXJuIHRhZyArIGNvbnRlbnQgKyAnPC8nICsgdHlwZSArICc+XFxuJztcbn07XG5cbi8vIHNwYW4gbGV2ZWwgcmVuZGVyZXJcblJlbmRlcmVyLnByb3RvdHlwZS5zdHJvbmcgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiAnPHN0cm9uZz4nICsgdGV4dCArICc8L3N0cm9uZz4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmVtID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxlbT4nICsgdGV4dCArICc8L2VtPic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuY29kZXNwYW4gPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiAnPGNvZGU+JyArIHRleHQgKyAnPC9jb2RlPic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuYnIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub3B0aW9ucy54aHRtbCA/ICc8YnIvPicgOiAnPGJyPic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuZGVsID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxkZWw+JyArIHRleHQgKyAnPC9kZWw+Jztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5saW5rID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgaWYgKHRoaXMub3B0aW9ucy5zYW5pdGl6ZSkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgcHJvdCA9IGRlY29kZVVSSUNvbXBvbmVudCh1bmVzY2FwZShocmVmKSlcbiAgICAgICAgLnJlcGxhY2UoL1teXFx3Ol0vZywgJycpXG4gICAgICAgIC50b0xvd2VyQ2FzZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgaWYgKHByb3QuaW5kZXhPZignamF2YXNjcmlwdDonKSA9PT0gMCB8fCBwcm90LmluZGV4T2YoJ3Zic2NyaXB0OicpID09PSAwKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9XG4gIHZhciBvdXQgPSAnPGEgaHJlZj1cIicgKyBocmVmICsgJ1wiJztcbiAgaWYgKHRpdGxlKSB7XG4gICAgb3V0ICs9ICcgdGl0bGU9XCInICsgdGl0bGUgKyAnXCInO1xuICB9XG4gIG91dCArPSAnPicgKyB0ZXh0ICsgJzwvYT4nO1xuICByZXR1cm4gb3V0O1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgdmFyIG91dCA9ICc8aW1nIHNyYz1cIicgKyBocmVmICsgJ1wiIGFsdD1cIicgKyB0ZXh0ICsgJ1wiJztcbiAgaWYgKHRpdGxlKSB7XG4gICAgb3V0ICs9ICcgdGl0bGU9XCInICsgdGl0bGUgKyAnXCInO1xuICB9XG4gIG91dCArPSB0aGlzLm9wdGlvbnMueGh0bWwgPyAnLz4nIDogJz4nO1xuICByZXR1cm4gb3V0O1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiB0ZXh0O1xufTtcblxuLyoqXG4gKiBQYXJzaW5nICYgQ29tcGlsaW5nXG4gKi9cblxuZnVuY3Rpb24gUGFyc2VyKG9wdGlvbnMpIHtcbiAgdGhpcy50b2tlbnMgPSBbXTtcbiAgdGhpcy50b2tlbiA9IG51bGw7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgbWFya2VkLmRlZmF1bHRzO1xuICB0aGlzLm9wdGlvbnMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXIgfHwgbmV3IFJlbmRlcmVyO1xuICB0aGlzLnJlbmRlcmVyID0gdGhpcy5vcHRpb25zLnJlbmRlcmVyO1xuICB0aGlzLnJlbmRlcmVyLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG59XG5cbi8qKlxuICogU3RhdGljIFBhcnNlIE1ldGhvZFxuICovXG5cblBhcnNlci5wYXJzZSA9IGZ1bmN0aW9uKHNyYywgb3B0aW9ucywgcmVuZGVyZXIpIHtcbiAgdmFyIHBhcnNlciA9IG5ldyBQYXJzZXIob3B0aW9ucywgcmVuZGVyZXIpO1xuICByZXR1cm4gcGFyc2VyLnBhcnNlKHNyYyk7XG59O1xuXG4vKipcbiAqIFBhcnNlIExvb3BcbiAqL1xuXG5QYXJzZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oc3JjKSB7XG4gIHRoaXMuaW5saW5lID0gbmV3IElubGluZUxleGVyKHNyYy5saW5rcywgdGhpcy5vcHRpb25zLCB0aGlzLnJlbmRlcmVyKTtcbiAgdGhpcy50b2tlbnMgPSBzcmMucmV2ZXJzZSgpO1xuXG4gIHZhciBvdXQgPSAnJztcbiAgd2hpbGUgKHRoaXMubmV4dCgpKSB7XG4gICAgb3V0ICs9IHRoaXMudG9rKCk7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufTtcblxuLyoqXG4gKiBOZXh0IFRva2VuXG4gKi9cblxuUGFyc2VyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnRva2VuID0gdGhpcy50b2tlbnMucG9wKCk7XG59O1xuXG4vKipcbiAqIFByZXZpZXcgTmV4dCBUb2tlblxuICovXG5cblBhcnNlci5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50b2tlbnNbdGhpcy50b2tlbnMubGVuZ3RoIC0gMV0gfHwgMDtcbn07XG5cbi8qKlxuICogUGFyc2UgVGV4dCBUb2tlbnNcbiAqL1xuXG5QYXJzZXIucHJvdG90eXBlLnBhcnNlVGV4dCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYm9keSA9IHRoaXMudG9rZW4udGV4dDtcblxuICB3aGlsZSAodGhpcy5wZWVrKCkudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgYm9keSArPSAnXFxuJyArIHRoaXMubmV4dCgpLnRleHQ7XG4gIH1cblxuICByZXR1cm4gdGhpcy5pbmxpbmUub3V0cHV0KGJvZHkpO1xufTtcblxuLyoqXG4gKiBQYXJzZSBDdXJyZW50IFRva2VuXG4gKi9cblxuUGFyc2VyLnByb3RvdHlwZS50b2sgPSBmdW5jdGlvbigpIHtcbiAgc3dpdGNoICh0aGlzLnRva2VuLnR5cGUpIHtcbiAgICBjYXNlICdzcGFjZSc6IHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY2FzZSAnaHInOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5ocigpO1xuICAgIH1cbiAgICBjYXNlICdoZWFkaW5nJzoge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuaGVhZGluZyhcbiAgICAgICAgdGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4udGV4dCksXG4gICAgICAgIHRoaXMudG9rZW4uZGVwdGgsXG4gICAgICAgIHRoaXMudG9rZW4udGV4dCk7XG4gICAgfVxuICAgIGNhc2UgJ2NvZGUnOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5jb2RlKHRoaXMudG9rZW4udGV4dCxcbiAgICAgICAgdGhpcy50b2tlbi5sYW5nLFxuICAgICAgICB0aGlzLnRva2VuLmVzY2FwZWQpO1xuICAgIH1cbiAgICBjYXNlICd0YWJsZSc6IHtcbiAgICAgIHZhciBoZWFkZXIgPSAnJ1xuICAgICAgICAsIGJvZHkgPSAnJ1xuICAgICAgICAsIGlcbiAgICAgICAgLCByb3dcbiAgICAgICAgLCBjZWxsXG4gICAgICAgICwgZmxhZ3NcbiAgICAgICAgLCBqO1xuXG4gICAgICAvLyBoZWFkZXJcbiAgICAgIGNlbGwgPSAnJztcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnRva2VuLmhlYWRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICBmbGFncyA9IHsgaGVhZGVyOiB0cnVlLCBhbGlnbjogdGhpcy50b2tlbi5hbGlnbltpXSB9O1xuICAgICAgICBjZWxsICs9IHRoaXMucmVuZGVyZXIudGFibGVjZWxsKFxuICAgICAgICAgIHRoaXMuaW5saW5lLm91dHB1dCh0aGlzLnRva2VuLmhlYWRlcltpXSksXG4gICAgICAgICAgeyBoZWFkZXI6IHRydWUsIGFsaWduOiB0aGlzLnRva2VuLmFsaWduW2ldIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGhlYWRlciArPSB0aGlzLnJlbmRlcmVyLnRhYmxlcm93KGNlbGwpO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy50b2tlbi5jZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICByb3cgPSB0aGlzLnRva2VuLmNlbGxzW2ldO1xuXG4gICAgICAgIGNlbGwgPSAnJztcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IHJvdy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGNlbGwgKz0gdGhpcy5yZW5kZXJlci50YWJsZWNlbGwoXG4gICAgICAgICAgICB0aGlzLmlubGluZS5vdXRwdXQocm93W2pdKSxcbiAgICAgICAgICAgIHsgaGVhZGVyOiBmYWxzZSwgYWxpZ246IHRoaXMudG9rZW4uYWxpZ25bal0gfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBib2R5ICs9IHRoaXMucmVuZGVyZXIudGFibGVyb3coY2VsbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci50YWJsZShoZWFkZXIsIGJvZHkpO1xuICAgIH1cbiAgICBjYXNlICdibG9ja3F1b3RlX3N0YXJ0Jzoge1xuICAgICAgdmFyIGJvZHkgPSAnJztcblxuICAgICAgd2hpbGUgKHRoaXMubmV4dCgpLnR5cGUgIT09ICdibG9ja3F1b3RlX2VuZCcpIHtcbiAgICAgICAgYm9keSArPSB0aGlzLnRvaygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5ibG9ja3F1b3RlKGJvZHkpO1xuICAgIH1cbiAgICBjYXNlICdsaXN0X3N0YXJ0Jzoge1xuICAgICAgdmFyIGJvZHkgPSAnJ1xuICAgICAgICAsIG9yZGVyZWQgPSB0aGlzLnRva2VuLm9yZGVyZWQ7XG5cbiAgICAgIHdoaWxlICh0aGlzLm5leHQoKS50eXBlICE9PSAnbGlzdF9lbmQnKSB7XG4gICAgICAgIGJvZHkgKz0gdGhpcy50b2soKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdChib2R5LCBvcmRlcmVkKTtcbiAgICB9XG4gICAgY2FzZSAnbGlzdF9pdGVtX3N0YXJ0Jzoge1xuICAgICAgdmFyIGJvZHkgPSAnJztcblxuICAgICAgd2hpbGUgKHRoaXMubmV4dCgpLnR5cGUgIT09ICdsaXN0X2l0ZW1fZW5kJykge1xuICAgICAgICBib2R5ICs9IHRoaXMudG9rZW4udHlwZSA9PT0gJ3RleHQnXG4gICAgICAgICAgPyB0aGlzLnBhcnNlVGV4dCgpXG4gICAgICAgICAgOiB0aGlzLnRvaygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5saXN0aXRlbShib2R5KTtcbiAgICB9XG4gICAgY2FzZSAnbG9vc2VfaXRlbV9zdGFydCc6IHtcbiAgICAgIHZhciBib2R5ID0gJyc7XG5cbiAgICAgIHdoaWxlICh0aGlzLm5leHQoKS50eXBlICE9PSAnbGlzdF9pdGVtX2VuZCcpIHtcbiAgICAgICAgYm9keSArPSB0aGlzLnRvaygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5saXN0aXRlbShib2R5KTtcbiAgICB9XG4gICAgY2FzZSAnaHRtbCc6IHtcbiAgICAgIHZhciBodG1sID0gIXRoaXMudG9rZW4ucHJlICYmICF0aGlzLm9wdGlvbnMucGVkYW50aWNcbiAgICAgICAgPyB0aGlzLmlubGluZS5vdXRwdXQodGhpcy50b2tlbi50ZXh0KVxuICAgICAgICA6IHRoaXMudG9rZW4udGV4dDtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmh0bWwoaHRtbCk7XG4gICAgfVxuICAgIGNhc2UgJ3BhcmFncmFwaCc6IHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnBhcmFncmFwaCh0aGlzLmlubGluZS5vdXRwdXQodGhpcy50b2tlbi50ZXh0KSk7XG4gICAgfVxuICAgIGNhc2UgJ3RleHQnOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgodGhpcy5wYXJzZVRleHQoKSk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEhlbHBlcnNcbiAqL1xuXG5mdW5jdGlvbiBlc2NhcGUoaHRtbCwgZW5jb2RlKSB7XG4gIHJldHVybiBodG1sXG4gICAgLnJlcGxhY2UoIWVuY29kZSA/IC8mKD8hIz9cXHcrOykvZyA6IC8mL2csICcmYW1wOycpXG4gICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXG4gICAgLnJlcGxhY2UoLycvZywgJyYjMzk7Jyk7XG59XG5cbmZ1bmN0aW9uIHVuZXNjYXBlKGh0bWwpIHtcbiAgcmV0dXJuIGh0bWwucmVwbGFjZSgvJihbI1xcd10rKTsvZywgZnVuY3Rpb24oXywgbikge1xuICAgIG4gPSBuLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKG4gPT09ICdjb2xvbicpIHJldHVybiAnOic7XG4gICAgaWYgKG4uY2hhckF0KDApID09PSAnIycpIHtcbiAgICAgIHJldHVybiBuLmNoYXJBdCgxKSA9PT0gJ3gnXG4gICAgICAgID8gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChuLnN1YnN0cmluZygyKSwgMTYpKVxuICAgICAgICA6IFN0cmluZy5mcm9tQ2hhckNvZGUoK24uc3Vic3RyaW5nKDEpKTtcbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZShyZWdleCwgb3B0KSB7XG4gIHJlZ2V4ID0gcmVnZXguc291cmNlO1xuICBvcHQgPSBvcHQgfHwgJyc7XG4gIHJldHVybiBmdW5jdGlvbiBzZWxmKG5hbWUsIHZhbCkge1xuICAgIGlmICghbmFtZSkgcmV0dXJuIG5ldyBSZWdFeHAocmVnZXgsIG9wdCk7XG4gICAgdmFsID0gdmFsLnNvdXJjZSB8fCB2YWw7XG4gICAgdmFsID0gdmFsLnJlcGxhY2UoLyhefFteXFxbXSlcXF4vZywgJyQxJyk7XG4gICAgcmVnZXggPSByZWdleC5yZXBsYWNlKG5hbWUsIHZhbCk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxubm9vcC5leGVjID0gbm9vcDtcblxuZnVuY3Rpb24gbWVyZ2Uob2JqKSB7XG4gIHZhciBpID0gMVxuICAgICwgdGFyZ2V0XG4gICAgLCBrZXk7XG5cbiAgZm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB0YXJnZXQgPSBhcmd1bWVudHNbaV07XG4gICAgZm9yIChrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KSkge1xuICAgICAgICBvYmpba2V5XSA9IHRhcmdldFtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cblxuLyoqXG4gKiBNYXJrZWRcbiAqL1xuXG5mdW5jdGlvbiBtYXJrZWQoc3JjLCBvcHQsIGNhbGxiYWNrKSB7XG4gIGlmIChjYWxsYmFjayB8fCB0eXBlb2Ygb3B0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2sgPSBvcHQ7XG4gICAgICBvcHQgPSBudWxsO1xuICAgIH1cblxuICAgIG9wdCA9IG1lcmdlKHt9LCBtYXJrZWQuZGVmYXVsdHMsIG9wdCB8fCB7fSk7XG5cbiAgICB2YXIgaGlnaGxpZ2h0ID0gb3B0LmhpZ2hsaWdodFxuICAgICAgLCB0b2tlbnNcbiAgICAgICwgcGVuZGluZ1xuICAgICAgLCBpID0gMDtcblxuICAgIHRyeSB7XG4gICAgICB0b2tlbnMgPSBMZXhlci5sZXgoc3JjLCBvcHQpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGUpO1xuICAgIH1cblxuICAgIHBlbmRpbmcgPSB0b2tlbnMubGVuZ3RoO1xuXG4gICAgdmFyIGRvbmUgPSBmdW5jdGlvbihlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgb3B0LmhpZ2hsaWdodCA9IGhpZ2hsaWdodDtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG5cbiAgICAgIHZhciBvdXQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIG91dCA9IFBhcnNlci5wYXJzZSh0b2tlbnMsIG9wdCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGVyciA9IGU7XG4gICAgICB9XG5cbiAgICAgIG9wdC5oaWdobGlnaHQgPSBoaWdobGlnaHQ7XG5cbiAgICAgIHJldHVybiBlcnJcbiAgICAgICAgPyBjYWxsYmFjayhlcnIpXG4gICAgICAgIDogY2FsbGJhY2sobnVsbCwgb3V0KTtcbiAgICB9O1xuXG4gICAgaWYgKCFoaWdobGlnaHQgfHwgaGlnaGxpZ2h0Lmxlbmd0aCA8IDMpIHtcbiAgICAgIHJldHVybiBkb25lKCk7XG4gICAgfVxuXG4gICAgZGVsZXRlIG9wdC5oaWdobGlnaHQ7XG5cbiAgICBpZiAoIXBlbmRpbmcpIHJldHVybiBkb25lKCk7XG5cbiAgICBmb3IgKDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgKGZ1bmN0aW9uKHRva2VuKSB7XG4gICAgICAgIGlmICh0b2tlbi50eXBlICE9PSAnY29kZScpIHtcbiAgICAgICAgICByZXR1cm4gLS1wZW5kaW5nIHx8IGRvbmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGlnaGxpZ2h0KHRva2VuLnRleHQsIHRva2VuLmxhbmcsIGZ1bmN0aW9uKGVyciwgY29kZSkge1xuICAgICAgICAgIGlmIChlcnIpIHJldHVybiBkb25lKGVycik7XG4gICAgICAgICAgaWYgKGNvZGUgPT0gbnVsbCB8fCBjb2RlID09PSB0b2tlbi50ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gLS1wZW5kaW5nIHx8IGRvbmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW4udGV4dCA9IGNvZGU7XG4gICAgICAgICAgdG9rZW4uZXNjYXBlZCA9IHRydWU7XG4gICAgICAgICAgLS1wZW5kaW5nIHx8IGRvbmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KSh0b2tlbnNbaV0pO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuICB0cnkge1xuICAgIGlmIChvcHQpIG9wdCA9IG1lcmdlKHt9LCBtYXJrZWQuZGVmYXVsdHMsIG9wdCk7XG4gICAgcmV0dXJuIFBhcnNlci5wYXJzZShMZXhlci5sZXgoc3JjLCBvcHQpLCBvcHQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgZS5tZXNzYWdlICs9ICdcXG5QbGVhc2UgcmVwb3J0IHRoaXMgdG8gaHR0cHM6Ly9naXRodWIuY29tL2NoamovbWFya2VkLic7XG4gICAgaWYgKChvcHQgfHwgbWFya2VkLmRlZmF1bHRzKS5zaWxlbnQpIHtcbiAgICAgIHJldHVybiAnPHA+QW4gZXJyb3Igb2NjdXJlZDo8L3A+PHByZT4nXG4gICAgICAgICsgZXNjYXBlKGUubWVzc2FnZSArICcnLCB0cnVlKVxuICAgICAgICArICc8L3ByZT4nO1xuICAgIH1cbiAgICB0aHJvdyBlO1xuICB9XG59XG5cbi8qKlxuICogT3B0aW9uc1xuICovXG5cbm1hcmtlZC5vcHRpb25zID1cbm1hcmtlZC5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0KSB7XG4gIG1lcmdlKG1hcmtlZC5kZWZhdWx0cywgb3B0KTtcbiAgcmV0dXJuIG1hcmtlZDtcbn07XG5cbm1hcmtlZC5kZWZhdWx0cyA9IHtcbiAgZ2ZtOiB0cnVlLFxuICB0YWJsZXM6IHRydWUsXG4gIGJyZWFrczogZmFsc2UsXG4gIHBlZGFudGljOiBmYWxzZSxcbiAgc2FuaXRpemU6IGZhbHNlLFxuICBzYW5pdGl6ZXI6IG51bGwsXG4gIG1hbmdsZTogdHJ1ZSxcbiAgc21hcnRMaXN0czogZmFsc2UsXG4gIHNpbGVudDogZmFsc2UsXG4gIGhpZ2hsaWdodDogbnVsbCxcbiAgbGFuZ1ByZWZpeDogJ2xhbmctJyxcbiAgc21hcnR5cGFudHM6IGZhbHNlLFxuICBoZWFkZXJQcmVmaXg6ICcnLFxuICByZW5kZXJlcjogbmV3IFJlbmRlcmVyLFxuICB4aHRtbDogZmFsc2Vcbn07XG5cbi8qKlxuICogRXhwb3NlXG4gKi9cblxubWFya2VkLlBhcnNlciA9IFBhcnNlcjtcbm1hcmtlZC5wYXJzZXIgPSBQYXJzZXIucGFyc2U7XG5cbm1hcmtlZC5SZW5kZXJlciA9IFJlbmRlcmVyO1xuXG5tYXJrZWQuTGV4ZXIgPSBMZXhlcjtcbm1hcmtlZC5sZXhlciA9IExleGVyLmxleDtcblxubWFya2VkLklubGluZUxleGVyID0gSW5saW5lTGV4ZXI7XG5tYXJrZWQuaW5saW5lTGV4ZXIgPSBJbmxpbmVMZXhlci5vdXRwdXQ7XG5cbm1hcmtlZC5wYXJzZSA9IG1hcmtlZDtcblxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICBtb2R1bGUuZXhwb3J0cyA9IG1hcmtlZDtcbn0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIG1hcmtlZDsgfSk7XG59IGVsc2Uge1xuICB0aGlzLm1hcmtlZCA9IG1hcmtlZDtcbn1cblxufSkuY2FsbChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMgfHwgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsKTtcbn0oKSk7XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OXRZWEpyWldRdmJHbGlMMjFoY210bFpDNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVNJc0ltWnBiR1VpT2lKblpXNWxjbUYwWldRdWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lMeW9xWEc0Z0tpQnRZWEpyWldRZ0xTQmhJRzFoY210a2IzZHVJSEJoY25ObGNseHVJQ29nUTI5d2VYSnBaMmgwSUNoaktTQXlNREV4TFRJd01UUXNJRU5vY21semRHOXdhR1Z5SUVwbFptWnlaWGt1SUNoTlNWUWdUR2xqWlc1elpXUXBYRzRnS2lCb2RIUndjem92TDJkcGRHaDFZaTVqYjIwdlkyaHFhaTl0WVhKclpXUmNiaUFxTDF4dVhHNDdLR1oxYm1OMGFXOXVLQ2tnZTF4dVhHNHZLaXBjYmlBcUlFSnNiMk5yTFV4bGRtVnNJRWR5WVcxdFlYSmNiaUFxTDF4dVhHNTJZWElnWW14dlkyc2dQU0I3WEc0Z0lHNWxkMnhwYm1VNklDOWVYRnh1S3k4c1hHNGdJR052WkdVNklDOWVLQ0I3TkgxYlhseGNibDByWEZ4dUtpa3JMeXhjYmlBZ1ptVnVZMlZ6T2lCdWIyOXdMRnh1SUNCb2Nqb2dMMTRvSUNwYkxTcGZYU2w3TXl4OUlDb29QenBjWEc0cmZDUXBMeXhjYmlBZ2FHVmhaR2x1WnpvZ0wxNGdLaWdqZXpFc05uMHBJQ29vVzE1Y1hHNWRLejhwSUNvaktpQXFLRDg2WEZ4dUszd2tLUzhzWEc0Z0lHNXdkR0ZpYkdVNklHNXZiM0FzWEc0Z0lHeG9aV0ZrYVc1bk9pQXZYaWhiWGx4Y2JsMHJLVnhjYmlBcUtEMThMU2w3TWl4OUlDb29QenBjWEc0cmZDUXBMeXhjYmlBZ1lteHZZMnR4ZFc5MFpUb2dMMTRvSUNvK1cxNWNYRzVkS3loY1hHNG9QeUZrWldZcFcxNWNYRzVkS3lrcVhGeHVLaWtyTHl4Y2JpQWdiR2x6ZERvZ0wxNG9JQ29wS0dKMWJHd3BJRnRjWEhOY1hGTmRLejhvUHpwb2NueGtaV1o4WEZ4dWV6SXNmU2cvSVNBcEtEOGhYRnd4WW5Wc2JDQXBYRnh1S254Y1hITXFKQ2t2TEZ4dUlDQm9kRzFzT2lBdlhpQXFLRDg2WTI5dGJXVnVkQ0FxS0Q4NlhGeHVmRnhjY3lva0tYeGpiRzl6WldRZ0tpZy9PbHhjYm5zeUxIMThYRnh6S2lRcGZHTnNiM05wYm1jZ0tpZy9PbHhjYm5zeUxIMThYRnh6S2lRcEtTOHNYRzRnSUdSbFpqb2dMMTRnS2x4Y1d5aGJYbHhjWFYwcktWeGNYVG9nS2p3L0tGdGVYRnh6UGwwcktUNC9LRDg2SUN0YlhDSW9YU2hiWGx4Y2JsMHJLVnRjSWlsZEtUOGdLaWcvT2x4Y2JpdDhKQ2t2TEZ4dUlDQjBZV0pzWlRvZ2JtOXZjQ3hjYmlBZ2NHRnlZV2R5WVhCb09pQXZYaWdvUHpwYlhseGNibDByWEZ4dVB5Zy9JV2h5ZkdobFlXUnBibWQ4YkdobFlXUnBibWQ4WW14dlkydHhkVzkwWlh4MFlXZDhaR1ZtS1NrcktWeGNiaW92TEZ4dUlDQjBaWGgwT2lBdlhsdGVYRnh1WFNzdlhHNTlPMXh1WEc1aWJHOWpheTVpZFd4c1pYUWdQU0F2S0Q4Nld5b3JMVjE4WEZ4a0sxeGNMaWt2TzF4dVlteHZZMnN1YVhSbGJTQTlJQzllS0NBcUtTaGlkV3hzS1NCYlhseGNibDBxS0Q4NlhGeHVLRDhoWEZ3eFluVnNiQ0FwVzE1Y1hHNWRLaWtxTHp0Y2JtSnNiMk5yTG1sMFpXMGdQU0J5WlhCc1lXTmxLR0pzYjJOckxtbDBaVzBzSUNkbmJTY3BYRzRnSUNndlluVnNiQzluTENCaWJHOWpheTVpZFd4c1pYUXBYRzRnSUNncE8xeHVYRzVpYkc5amF5NXNhWE4wSUQwZ2NtVndiR0ZqWlNoaWJHOWpheTVzYVhOMEtWeHVJQ0FvTDJKMWJHd3ZaeXdnWW14dlkyc3VZblZzYkdWMEtWeHVJQ0FvSjJoeUp5d2dKMXhjWEZ4dUt5Zy9QVnhjWEZ3eFB5Zy9PbHN0S2w5ZElDb3Blek1zZlNnL09seGNYRnh1SzN3a0tTa25LVnh1SUNBb0oyUmxaaWNzSUNkY1hGeGNiaXNvUHowbklDc2dZbXh2WTJzdVpHVm1Mbk52ZFhKalpTQXJJQ2NwSnlsY2JpQWdLQ2s3WEc1Y2JtSnNiMk5yTG1Kc2IyTnJjWFZ2ZEdVZ1BTQnlaWEJzWVdObEtHSnNiMk5yTG1Kc2IyTnJjWFZ2ZEdVcFhHNGdJQ2duWkdWbUp5d2dZbXh2WTJzdVpHVm1LVnh1SUNBb0tUdGNibHh1WW14dlkyc3VYM1JoWnlBOUlDY29QeUVvUHpvblhHNGdJQ3NnSjJGOFpXMThjM1J5YjI1bmZITnRZV3hzZkhOOFkybDBaWHh4ZkdSbWJueGhZbUp5ZkdSaGRHRjhkR2x0Wlh4amIyUmxKMXh1SUNBcklDZDhkbUZ5ZkhOaGJYQjhhMkprZkhOMVlueHpkWEI4YVh4aWZIVjhiV0Z5YTN4eWRXSjVmSEowZkhKd2ZHSmthWHhpWkc4blhHNGdJQ3NnSjN4emNHRnVmR0p5ZkhkaWNueHBibk44WkdWc2ZHbHRaeWxjWEZ4Y1lpbGNYRnhjZHlzb1B5RTZMM3hiWGx4Y1hGeDNYRnhjWEhOQVhTcEFLVnhjWEZ4aUp6dGNibHh1WW14dlkyc3VhSFJ0YkNBOUlISmxjR3hoWTJVb1lteHZZMnN1YUhSdGJDbGNiaUFnS0NkamIyMXRaVzUwSnl3Z0x6d2hMUzFiWEZ4elhGeFRYU28vTFMwK0x5bGNiaUFnS0NkamJHOXpaV1FuTENBdlBDaDBZV2NwVzF4Y2MxeGNVMTByUHp4Y1hDOWNYREUrTHlsY2JpQWdLQ2RqYkc5emFXNW5KeXdnTHp4MFlXY29QenBjSWx0ZVhDSmRLbHdpZkNkYlhpZGRLaWQ4VzE0blhDSStYU2txUHo0dktWeHVJQ0FvTDNSaFp5OW5MQ0JpYkc5amF5NWZkR0ZuS1Z4dUlDQW9LVHRjYmx4dVlteHZZMnN1Y0dGeVlXZHlZWEJvSUQwZ2NtVndiR0ZqWlNoaWJHOWpheTV3WVhKaFozSmhjR2dwWEc0Z0lDZ25hSEluTENCaWJHOWpheTVvY2lsY2JpQWdLQ2RvWldGa2FXNW5KeXdnWW14dlkyc3VhR1ZoWkdsdVp5bGNiaUFnS0Nkc2FHVmhaR2x1Wnljc0lHSnNiMk5yTG14b1pXRmthVzVuS1Z4dUlDQW9KMkpzYjJOcmNYVnZkR1VuTENCaWJHOWpheTVpYkc5amEzRjFiM1JsS1Z4dUlDQW9KM1JoWnljc0lDYzhKeUFySUdKc2IyTnJMbDkwWVdjcFhHNGdJQ2duWkdWbUp5d2dZbXh2WTJzdVpHVm1LVnh1SUNBb0tUdGNibHh1THlvcVhHNGdLaUJPYjNKdFlXd2dRbXh2WTJzZ1IzSmhiVzFoY2x4dUlDb3ZYRzVjYm1Kc2IyTnJMbTV2Y20xaGJDQTlJRzFsY21kbEtIdDlMQ0JpYkc5amF5azdYRzVjYmk4cUtseHVJQ29nUjBaTklFSnNiMk5ySUVkeVlXMXRZWEpjYmlBcUwxeHVYRzVpYkc5amF5NW5abTBnUFNCdFpYSm5aU2g3ZlN3Z1lteHZZMnN1Ym05eWJXRnNMQ0I3WEc0Z0lHWmxibU5sY3pvZ0wxNGdLaWhnZXpNc2ZYeCtlek1zZlNsYklGeGNMbDBxS0Z4Y1V5c3BQeUFxWEZ4dUtGdGNYSE5jWEZOZEtqOHBYRnh6S2x4Y01TQXFLRDg2WEZ4dUszd2tLUzhzWEc0Z0lIQmhjbUZuY21Gd2FEb2dMMTR2TEZ4dUlDQm9aV0ZrYVc1bk9pQXZYaUFxS0NON01TdzJmU2tnS3loYlhseGNibDByUHlrZ0tpTXFJQ29vUHpwY1hHNHJmQ1FwTDF4dWZTazdYRzVjYm1Kc2IyTnJMbWRtYlM1d1lYSmhaM0poY0dnZ1BTQnlaWEJzWVdObEtHSnNiMk5yTG5CaGNtRm5jbUZ3YUNsY2JpQWdLQ2NvUHlFbkxDQW5LRDhoSjF4dUlDQWdJQ3NnWW14dlkyc3VaMlp0TG1abGJtTmxjeTV6YjNWeVkyVXVjbVZ3YkdGalpTZ25YRnhjWERFbkxDQW5YRnhjWERJbktTQXJJQ2Q4SjF4dUlDQWdJQ3NnWW14dlkyc3ViR2x6ZEM1emIzVnlZMlV1Y21Wd2JHRmpaU2duWEZ4Y1hERW5MQ0FuWEZ4Y1hETW5LU0FySUNkOEp5bGNiaUFnS0NrN1hHNWNiaThxS2x4dUlDb2dSMFpOSUNzZ1ZHRmliR1Z6SUVKc2IyTnJJRWR5WVcxdFlYSmNiaUFxTDF4dVhHNWliRzlqYXk1MFlXSnNaWE1nUFNCdFpYSm5aU2g3ZlN3Z1lteHZZMnN1WjJadExDQjdYRzRnSUc1d2RHRmliR1U2SUM5ZUlDb29YRnhUTGlwY1hId3VLaWxjWEc0Z0tpaGJMVHBkS3lBcVhGeDhXeTE4SURwZEtpbGNYRzRvS0Q4NkxpcGNYSHd1S2lnL09seGNibndrS1NrcUtWeGNiaW92TEZ4dUlDQjBZV0pzWlRvZ0wxNGdLbHhjZkNndUt5bGNYRzRnS2x4Y2ZDZ2dLbHN0T2wwcld5MThJRHBkS2lsY1hHNG9LRDg2SUNwY1hId3VLaWcvT2x4Y2Jud2tLU2txS1Z4Y2Jpb3ZYRzU5S1R0Y2JseHVMeW9xWEc0Z0tpQkNiRzlqYXlCTVpYaGxjbHh1SUNvdlhHNWNibVoxYm1OMGFXOXVJRXhsZUdWeUtHOXdkR2x2Ym5NcElIdGNiaUFnZEdocGN5NTBiMnRsYm5NZ1BTQmJYVHRjYmlBZ2RHaHBjeTUwYjJ0bGJuTXViR2x1YTNNZ1BTQjdmVHRjYmlBZ2RHaHBjeTV2Y0hScGIyNXpJRDBnYjNCMGFXOXVjeUI4ZkNCdFlYSnJaV1F1WkdWbVlYVnNkSE03WEc0Z0lIUm9hWE11Y25Wc1pYTWdQU0JpYkc5amF5NXViM0p0WVd3N1hHNWNiaUFnYVdZZ0tIUm9hWE11YjNCMGFXOXVjeTVuWm0wcElIdGNiaUFnSUNCcFppQW9kR2hwY3k1dmNIUnBiMjV6TG5SaFlteGxjeWtnZTF4dUlDQWdJQ0FnZEdocGN5NXlkV3hsY3lBOUlHSnNiMk5yTG5SaFlteGxjenRjYmlBZ0lDQjlJR1ZzYzJVZ2UxeHVJQ0FnSUNBZ2RHaHBjeTV5ZFd4bGN5QTlJR0pzYjJOckxtZG1iVHRjYmlBZ0lDQjlYRzRnSUgxY2JuMWNibHh1THlvcVhHNGdLaUJGZUhCdmMyVWdRbXh2WTJzZ1VuVnNaWE5jYmlBcUwxeHVYRzVNWlhobGNpNXlkV3hsY3lBOUlHSnNiMk5yTzF4dVhHNHZLaXBjYmlBcUlGTjBZWFJwWXlCTVpYZ2dUV1YwYUc5a1hHNGdLaTljYmx4dVRHVjRaWEl1YkdWNElEMGdablZ1WTNScGIyNG9jM0pqTENCdmNIUnBiMjV6S1NCN1hHNGdJSFpoY2lCc1pYaGxjaUE5SUc1bGR5Qk1aWGhsY2lodmNIUnBiMjV6S1R0Y2JpQWdjbVYwZFhKdUlHeGxlR1Z5TG14bGVDaHpjbU1wTzF4dWZUdGNibHh1THlvcVhHNGdLaUJRY21Wd2NtOWpaWE56YVc1blhHNGdLaTljYmx4dVRHVjRaWEl1Y0hKdmRHOTBlWEJsTG14bGVDQTlJR1oxYm1OMGFXOXVLSE55WXlrZ2UxeHVJQ0J6Y21NZ1BTQnpjbU5jYmlBZ0lDQXVjbVZ3YkdGalpTZ3ZYRnh5WEZ4dWZGeGNjaTluTENBblhGeHVKeWxjYmlBZ0lDQXVjbVZ3YkdGalpTZ3ZYRngwTDJjc0lDY2dJQ0FnSnlsY2JpQWdJQ0F1Y21Wd2JHRmpaU2d2WEZ4MU1EQmhNQzluTENBbklDY3BYRzRnSUNBZ0xuSmxjR3hoWTJVb0wxeGNkVEkwTWpRdlp5d2dKMXhjYmljcE8xeHVYRzRnSUhKbGRIVnliaUIwYUdsekxuUnZhMlZ1S0hOeVl5d2dkSEoxWlNrN1hHNTlPMXh1WEc0dktpcGNiaUFxSUV4bGVHbHVaMXh1SUNvdlhHNWNia3hsZUdWeUxuQnliM1J2ZEhsd1pTNTBiMnRsYmlBOUlHWjFibU4wYVc5dUtITnlZeXdnZEc5d0xDQmljU2tnZTF4dUlDQjJZWElnYzNKaklEMGdjM0pqTG5KbGNHeGhZMlVvTDE0Z0t5UXZaMjBzSUNjbktWeHVJQ0FnSUN3Z2JtVjRkRnh1SUNBZ0lDd2diRzl2YzJWY2JpQWdJQ0FzSUdOaGNGeHVJQ0FnSUN3Z1luVnNiRnh1SUNBZ0lDd2dZbHh1SUNBZ0lDd2dhWFJsYlZ4dUlDQWdJQ3dnYzNCaFkyVmNiaUFnSUNBc0lHbGNiaUFnSUNBc0lHdzdYRzVjYmlBZ2QyaHBiR1VnS0hOeVl5a2dlMXh1SUNBZ0lDOHZJRzVsZDJ4cGJtVmNiaUFnSUNCcFppQW9ZMkZ3SUQwZ2RHaHBjeTV5ZFd4bGN5NXVaWGRzYVc1bExtVjRaV01vYzNKaktTa2dlMXh1SUNBZ0lDQWdjM0pqSUQwZ2MzSmpMbk4xWW5OMGNtbHVaeWhqWVhCYk1GMHViR1Z1WjNSb0tUdGNiaUFnSUNBZ0lHbG1JQ2hqWVhCYk1GMHViR1Z1WjNSb0lENGdNU2tnZTF4dUlDQWdJQ0FnSUNCMGFHbHpMblJ2YTJWdWN5NXdkWE5vS0h0Y2JpQWdJQ0FnSUNBZ0lDQjBlWEJsT2lBbmMzQmhZMlVuWEc0Z0lDQWdJQ0FnSUgwcE8xeHVJQ0FnSUNBZ2ZWeHVJQ0FnSUgxY2JseHVJQ0FnSUM4dklHTnZaR1ZjYmlBZ0lDQnBaaUFvWTJGd0lEMGdkR2hwY3k1eWRXeGxjeTVqYjJSbExtVjRaV01vYzNKaktTa2dlMXh1SUNBZ0lDQWdjM0pqSUQwZ2MzSmpMbk4xWW5OMGNtbHVaeWhqWVhCYk1GMHViR1Z1WjNSb0tUdGNiaUFnSUNBZ0lHTmhjQ0E5SUdOaGNGc3dYUzV5WlhCc1lXTmxLQzllSUhzMGZTOW5iU3dnSnljcE8xeHVJQ0FnSUNBZ2RHaHBjeTUwYjJ0bGJuTXVjSFZ6YUNoN1hHNGdJQ0FnSUNBZ0lIUjVjR1U2SUNkamIyUmxKeXhjYmlBZ0lDQWdJQ0FnZEdWNGREb2dJWFJvYVhNdWIzQjBhVzl1Y3k1d1pXUmhiblJwWTF4dUlDQWdJQ0FnSUNBZ0lEOGdZMkZ3TG5KbGNHeGhZMlVvTDF4Y2Jpc2tMeXdnSnljcFhHNGdJQ0FnSUNBZ0lDQWdPaUJqWVhCY2JpQWdJQ0FnSUgwcE8xeHVJQ0FnSUNBZ1kyOXVkR2x1ZFdVN1hHNGdJQ0FnZlZ4dVhHNGdJQ0FnTHk4Z1ptVnVZMlZ6SUNoblptMHBYRzRnSUNBZ2FXWWdLR05oY0NBOUlIUm9hWE11Y25Wc1pYTXVabVZ1WTJWekxtVjRaV01vYzNKaktTa2dlMXh1SUNBZ0lDQWdjM0pqSUQwZ2MzSmpMbk4xWW5OMGNtbHVaeWhqWVhCYk1GMHViR1Z1WjNSb0tUdGNiaUFnSUNBZ0lIUm9hWE11ZEc5clpXNXpMbkIxYzJnb2UxeHVJQ0FnSUNBZ0lDQjBlWEJsT2lBblkyOWtaU2NzWEc0Z0lDQWdJQ0FnSUd4aGJtYzZJR05oY0ZzeVhTeGNiaUFnSUNBZ0lDQWdkR1Y0ZERvZ1kyRndXek5kSUh4OElDY25YRzRnSUNBZ0lDQjlLVHRjYmlBZ0lDQWdJR052Ym5ScGJuVmxPMXh1SUNBZ0lIMWNibHh1SUNBZ0lDOHZJR2hsWVdScGJtZGNiaUFnSUNCcFppQW9ZMkZ3SUQwZ2RHaHBjeTV5ZFd4bGN5NW9aV0ZrYVc1bkxtVjRaV01vYzNKaktTa2dlMXh1SUNBZ0lDQWdjM0pqSUQwZ2MzSmpMbk4xWW5OMGNtbHVaeWhqWVhCYk1GMHViR1Z1WjNSb0tUdGNiaUFnSUNBZ0lIUm9hWE11ZEc5clpXNXpMbkIxYzJnb2UxeHVJQ0FnSUNBZ0lDQjBlWEJsT2lBbmFHVmhaR2x1Wnljc1hHNGdJQ0FnSUNBZ0lHUmxjSFJvT2lCallYQmJNVjB1YkdWdVozUm9MRnh1SUNBZ0lDQWdJQ0IwWlhoME9pQmpZWEJiTWwxY2JpQWdJQ0FnSUgwcE8xeHVJQ0FnSUNBZ1kyOXVkR2x1ZFdVN1hHNGdJQ0FnZlZ4dVhHNGdJQ0FnTHk4Z2RHRmliR1VnYm04Z2JHVmhaR2x1WnlCd2FYQmxJQ2huWm0wcFhHNGdJQ0FnYVdZZ0tIUnZjQ0FtSmlBb1kyRndJRDBnZEdocGN5NXlkV3hsY3k1dWNIUmhZbXhsTG1WNFpXTW9jM0pqS1NrcElIdGNiaUFnSUNBZ0lITnlZeUE5SUhOeVl5NXpkV0p6ZEhKcGJtY29ZMkZ3V3pCZExteGxibWQwYUNrN1hHNWNiaUFnSUNBZ0lHbDBaVzBnUFNCN1hHNGdJQ0FnSUNBZ0lIUjVjR1U2SUNkMFlXSnNaU2NzWEc0Z0lDQWdJQ0FnSUdobFlXUmxjam9nWTJGd1d6RmRMbkpsY0d4aFkyVW9MMTRnS253Z0tseGNmQ0FxSkM5bkxDQW5KeWt1YzNCc2FYUW9MeUFxWEZ4OElDb3ZLU3hjYmlBZ0lDQWdJQ0FnWVd4cFoyNDZJR05oY0ZzeVhTNXlaWEJzWVdObEtDOWVJQ3A4WEZ4OElDb2tMMmNzSUNjbktTNXpjR3hwZENndklDcGNYSHdnS2k4cExGeHVJQ0FnSUNBZ0lDQmpaV3hzY3pvZ1kyRndXek5kTG5KbGNHeGhZMlVvTDF4Y2JpUXZMQ0FuSnlrdWMzQnNhWFFvSjF4Y2JpY3BYRzRnSUNBZ0lDQjlPMXh1WEc0Z0lDQWdJQ0JtYjNJZ0tHa2dQU0F3T3lCcElEd2dhWFJsYlM1aGJHbG5iaTVzWlc1bmRHZzdJR2tyS3lrZ2UxeHVJQ0FnSUNBZ0lDQnBaaUFvTDE0Z0tpMHJPaUFxSkM4dWRHVnpkQ2hwZEdWdExtRnNhV2R1VzJsZEtTa2dlMXh1SUNBZ0lDQWdJQ0FnSUdsMFpXMHVZV3hwWjI1YmFWMGdQU0FuY21sbmFIUW5PMXh1SUNBZ0lDQWdJQ0I5SUdWc2MyVWdhV1lnS0M5ZUlDbzZMU3M2SUNva0x5NTBaWE4wS0dsMFpXMHVZV3hwWjI1YmFWMHBLU0I3WEc0Z0lDQWdJQ0FnSUNBZ2FYUmxiUzVoYkdsbmJsdHBYU0E5SUNkalpXNTBaWEluTzF4dUlDQWdJQ0FnSUNCOUlHVnNjMlVnYVdZZ0tDOWVJQ282TFNzZ0tpUXZMblJsYzNRb2FYUmxiUzVoYkdsbmJsdHBYU2twSUh0Y2JpQWdJQ0FnSUNBZ0lDQnBkR1Z0TG1Gc2FXZHVXMmxkSUQwZ0oyeGxablFuTzF4dUlDQWdJQ0FnSUNCOUlHVnNjMlVnZTF4dUlDQWdJQ0FnSUNBZ0lHbDBaVzB1WVd4cFoyNWJhVjBnUFNCdWRXeHNPMXh1SUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUdadmNpQW9hU0E5SURBN0lHa2dQQ0JwZEdWdExtTmxiR3h6TG14bGJtZDBhRHNnYVNzcktTQjdYRzRnSUNBZ0lDQWdJR2wwWlcwdVkyVnNiSE5iYVYwZ1BTQnBkR1Z0TG1ObGJHeHpXMmxkTG5Od2JHbDBLQzhnS2x4Y2ZDQXFMeWs3WEc0Z0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUhSb2FYTXVkRzlyWlc1ekxuQjFjMmdvYVhSbGJTazdYRzVjYmlBZ0lDQWdJR052Ym5ScGJuVmxPMXh1SUNBZ0lIMWNibHh1SUNBZ0lDOHZJR3hvWldGa2FXNW5YRzRnSUNBZ2FXWWdLR05oY0NBOUlIUm9hWE11Y25Wc1pYTXViR2hsWVdScGJtY3VaWGhsWXloemNtTXBLU0I3WEc0Z0lDQWdJQ0J6Y21NZ1BTQnpjbU11YzNWaWMzUnlhVzVuS0dOaGNGc3dYUzVzWlc1bmRHZ3BPMXh1SUNBZ0lDQWdkR2hwY3k1MGIydGxibk11Y0hWemFDaDdYRzRnSUNBZ0lDQWdJSFI1Y0dVNklDZG9aV0ZrYVc1bkp5eGNiaUFnSUNBZ0lDQWdaR1Z3ZEdnNklHTmhjRnN5WFNBOVBUMGdKejBuSUQ4Z01TQTZJRElzWEc0Z0lDQWdJQ0FnSUhSbGVIUTZJR05oY0ZzeFhWeHVJQ0FnSUNBZ2ZTazdYRzRnSUNBZ0lDQmpiMjUwYVc1MVpUdGNiaUFnSUNCOVhHNWNiaUFnSUNBdkx5Qm9jbHh1SUNBZ0lHbG1JQ2hqWVhBZ1BTQjBhR2x6TG5KMWJHVnpMbWh5TG1WNFpXTW9jM0pqS1NrZ2UxeHVJQ0FnSUNBZ2MzSmpJRDBnYzNKakxuTjFZbk4wY21sdVp5aGpZWEJiTUYwdWJHVnVaM1JvS1R0Y2JpQWdJQ0FnSUhSb2FYTXVkRzlyWlc1ekxuQjFjMmdvZTF4dUlDQWdJQ0FnSUNCMGVYQmxPaUFuYUhJblhHNGdJQ0FnSUNCOUtUdGNiaUFnSUNBZ0lHTnZiblJwYm5WbE8xeHVJQ0FnSUgxY2JseHVJQ0FnSUM4dklHSnNiMk5yY1hWdmRHVmNiaUFnSUNCcFppQW9ZMkZ3SUQwZ2RHaHBjeTV5ZFd4bGN5NWliRzlqYTNGMWIzUmxMbVY0WldNb2MzSmpLU2tnZTF4dUlDQWdJQ0FnYzNKaklEMGdjM0pqTG5OMVluTjBjbWx1WnloallYQmJNRjB1YkdWdVozUm9LVHRjYmx4dUlDQWdJQ0FnZEdocGN5NTBiMnRsYm5NdWNIVnphQ2g3WEc0Z0lDQWdJQ0FnSUhSNWNHVTZJQ2RpYkc5amEzRjFiM1JsWDNOMFlYSjBKMXh1SUNBZ0lDQWdmU2s3WEc1Y2JpQWdJQ0FnSUdOaGNDQTlJR05oY0Zzd1hTNXlaWEJzWVdObEtDOWVJQ28rSUQ4dloyMHNJQ2NuS1R0Y2JseHVJQ0FnSUNBZ0x5OGdVR0Z6Y3lCZ2RHOXdZQ0IwYnlCclpXVndJSFJvWlNCamRYSnlaVzUwWEc0Z0lDQWdJQ0F2THlCY0luUnZjR3hsZG1Wc1hDSWdjM1JoZEdVdUlGUm9hWE1nYVhNZ1pYaGhZM1JzZVZ4dUlDQWdJQ0FnTHk4Z2FHOTNJRzFoY210a2IzZHVMbkJzSUhkdmNtdHpMbHh1SUNBZ0lDQWdkR2hwY3k1MGIydGxiaWhqWVhBc0lIUnZjQ3dnZEhKMVpTazdYRzVjYmlBZ0lDQWdJSFJvYVhNdWRHOXJaVzV6TG5CMWMyZ29lMXh1SUNBZ0lDQWdJQ0IwZVhCbE9pQW5ZbXh2WTJ0eGRXOTBaVjlsYm1RblhHNGdJQ0FnSUNCOUtUdGNibHh1SUNBZ0lDQWdZMjl1ZEdsdWRXVTdYRzRnSUNBZ2ZWeHVYRzRnSUNBZ0x5OGdiR2x6ZEZ4dUlDQWdJR2xtSUNoallYQWdQU0IwYUdsekxuSjFiR1Z6TG14cGMzUXVaWGhsWXloemNtTXBLU0I3WEc0Z0lDQWdJQ0J6Y21NZ1BTQnpjbU11YzNWaWMzUnlhVzVuS0dOaGNGc3dYUzVzWlc1bmRHZ3BPMXh1SUNBZ0lDQWdZblZzYkNBOUlHTmhjRnN5WFR0Y2JseHVJQ0FnSUNBZ2RHaHBjeTUwYjJ0bGJuTXVjSFZ6YUNoN1hHNGdJQ0FnSUNBZ0lIUjVjR1U2SUNkc2FYTjBYM04wWVhKMEp5eGNiaUFnSUNBZ0lDQWdiM0prWlhKbFpEb2dZblZzYkM1c1pXNW5kR2dnUGlBeFhHNGdJQ0FnSUNCOUtUdGNibHh1SUNBZ0lDQWdMeThnUjJWMElHVmhZMmdnZEc5d0xXeGxkbVZzSUdsMFpXMHVYRzRnSUNBZ0lDQmpZWEFnUFNCallYQmJNRjB1YldGMFkyZ29kR2hwY3k1eWRXeGxjeTVwZEdWdEtUdGNibHh1SUNBZ0lDQWdibVY0ZENBOUlHWmhiSE5sTzF4dUlDQWdJQ0FnYkNBOUlHTmhjQzVzWlc1bmRHZzdYRzRnSUNBZ0lDQnBJRDBnTUR0Y2JseHVJQ0FnSUNBZ1ptOXlJQ2c3SUdrZ1BDQnNPeUJwS3lzcElIdGNiaUFnSUNBZ0lDQWdhWFJsYlNBOUlHTmhjRnRwWFR0Y2JseHVJQ0FnSUNBZ0lDQXZMeUJTWlcxdmRtVWdkR2hsSUd4cGMzUWdhWFJsYlNkeklHSjFiR3hsZEZ4dUlDQWdJQ0FnSUNBdkx5QnpieUJwZENCcGN5QnpaV1Z1SUdGeklIUm9aU0J1WlhoMElIUnZhMlZ1TGx4dUlDQWdJQ0FnSUNCemNHRmpaU0E5SUdsMFpXMHViR1Z1WjNSb08xeHVJQ0FnSUNBZ0lDQnBkR1Z0SUQwZ2FYUmxiUzV5WlhCc1lXTmxLQzllSUNvb1d5b3JMVjE4WEZ4a0sxeGNMaWtnS3k4c0lDY25LVHRjYmx4dUlDQWdJQ0FnSUNBdkx5QlBkWFJrWlc1MElIZG9ZWFJsZG1WeUlIUm9aVnh1SUNBZ0lDQWdJQ0F2THlCc2FYTjBJR2wwWlcwZ1kyOXVkR0ZwYm5NdUlFaGhZMnQ1TGx4dUlDQWdJQ0FnSUNCcFppQW9mbWwwWlcwdWFXNWtaWGhQWmlnblhGeHVJQ2NwS1NCN1hHNGdJQ0FnSUNBZ0lDQWdjM0JoWTJVZ0xUMGdhWFJsYlM1c1pXNW5kR2c3WEc0Z0lDQWdJQ0FnSUNBZ2FYUmxiU0E5SUNGMGFHbHpMbTl3ZEdsdmJuTXVjR1ZrWVc1MGFXTmNiaUFnSUNBZ0lDQWdJQ0FnSUQ4Z2FYUmxiUzV5WlhCc1lXTmxLRzVsZHlCU1pXZEZlSEFvSjE0Z2V6RXNKeUFySUhOd1lXTmxJQ3NnSjMwbkxDQW5aMjBuS1N3Z0p5Y3BYRzRnSUNBZ0lDQWdJQ0FnSUNBNklHbDBaVzB1Y21Wd2JHRmpaU2d2WGlCN01TdzBmUzluYlN3Z0p5Y3BPMXh1SUNBZ0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUNBZ0x5OGdSR1YwWlhKdGFXNWxJSGRvWlhSb1pYSWdkR2hsSUc1bGVIUWdiR2x6ZENCcGRHVnRJR0psYkc5dVozTWdhR1Z5WlM1Y2JpQWdJQ0FnSUNBZ0x5OGdRbUZqYTNCbFpHRnNJR2xtSUdsMElHUnZaWE1nYm05MElHSmxiRzl1WnlCcGJpQjBhR2x6SUd4cGMzUXVYRzRnSUNBZ0lDQWdJR2xtSUNoMGFHbHpMbTl3ZEdsdmJuTXVjMjFoY25STWFYTjBjeUFtSmlCcElDRTlQU0JzSUMwZ01Ta2dlMXh1SUNBZ0lDQWdJQ0FnSUdJZ1BTQmliRzlqYXk1aWRXeHNaWFF1WlhobFl5aGpZWEJiYVNBcklERmRLVnN3WFR0Y2JpQWdJQ0FnSUNBZ0lDQnBaaUFvWW5Wc2JDQWhQVDBnWWlBbUppQWhLR0oxYkd3dWJHVnVaM1JvSUQ0Z01TQW1KaUJpTG14bGJtZDBhQ0ErSURFcEtTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNCemNtTWdQU0JqWVhBdWMyeHBZMlVvYVNBcklERXBMbXB2YVc0b0oxeGNiaWNwSUNzZ2MzSmpPMXh1SUNBZ0lDQWdJQ0FnSUNBZ2FTQTlJR3dnTFNBeE8xeHVJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnZlZ4dVhHNGdJQ0FnSUNBZ0lDOHZJRVJsZEdWeWJXbHVaU0IzYUdWMGFHVnlJR2wwWlcwZ2FYTWdiRzl2YzJVZ2IzSWdibTkwTGx4dUlDQWdJQ0FnSUNBdkx5QlZjMlU2SUM4b1hueGNYRzRwS0Q4aElDbGJYbHhjYmwwclhGeHVYRnh1S0Q4aFhGeHpLaVFwTDF4dUlDQWdJQ0FnSUNBdkx5Qm1iM0lnWkdselkyOTFiblFnWW1Wb1lYWnBiM0l1WEc0Z0lDQWdJQ0FnSUd4dmIzTmxJRDBnYm1WNGRDQjhmQ0F2WEZ4dVhGeHVLRDhoWEZ4ektpUXBMeTUwWlhOMEtHbDBaVzBwTzF4dUlDQWdJQ0FnSUNCcFppQW9hU0FoUFQwZ2JDQXRJREVwSUh0Y2JpQWdJQ0FnSUNBZ0lDQnVaWGgwSUQwZ2FYUmxiUzVqYUdGeVFYUW9hWFJsYlM1c1pXNW5kR2dnTFNBeEtTQTlQVDBnSjF4Y2JpYzdYRzRnSUNBZ0lDQWdJQ0FnYVdZZ0tDRnNiMjl6WlNrZ2JHOXZjMlVnUFNCdVpYaDBPMXh1SUNBZ0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUNBZ2RHaHBjeTUwYjJ0bGJuTXVjSFZ6YUNoN1hHNGdJQ0FnSUNBZ0lDQWdkSGx3WlRvZ2JHOXZjMlZjYmlBZ0lDQWdJQ0FnSUNBZ0lEOGdKMnh2YjNObFgybDBaVzFmYzNSaGNuUW5YRzRnSUNBZ0lDQWdJQ0FnSUNBNklDZHNhWE4wWDJsMFpXMWZjM1JoY25RblhHNGdJQ0FnSUNBZ0lIMHBPMXh1WEc0Z0lDQWdJQ0FnSUM4dklGSmxZM1Z5YzJVdVhHNGdJQ0FnSUNBZ0lIUm9hWE11ZEc5clpXNG9hWFJsYlN3Z1ptRnNjMlVzSUdKeEtUdGNibHh1SUNBZ0lDQWdJQ0IwYUdsekxuUnZhMlZ1Y3k1d2RYTm9LSHRjYmlBZ0lDQWdJQ0FnSUNCMGVYQmxPaUFuYkdsemRGOXBkR1Z0WDJWdVpDZGNiaUFnSUNBZ0lDQWdmU2s3WEc0Z0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUhSb2FYTXVkRzlyWlc1ekxuQjFjMmdvZTF4dUlDQWdJQ0FnSUNCMGVYQmxPaUFuYkdsemRGOWxibVFuWEc0Z0lDQWdJQ0I5S1R0Y2JseHVJQ0FnSUNBZ1kyOXVkR2x1ZFdVN1hHNGdJQ0FnZlZ4dVhHNGdJQ0FnTHk4Z2FIUnRiRnh1SUNBZ0lHbG1JQ2hqWVhBZ1BTQjBhR2x6TG5KMWJHVnpMbWgwYld3dVpYaGxZeWh6Y21NcEtTQjdYRzRnSUNBZ0lDQnpjbU1nUFNCemNtTXVjM1ZpYzNSeWFXNW5LR05oY0Zzd1hTNXNaVzVuZEdncE8xeHVJQ0FnSUNBZ2RHaHBjeTUwYjJ0bGJuTXVjSFZ6YUNoN1hHNGdJQ0FnSUNBZ0lIUjVjR1U2SUhSb2FYTXViM0IwYVc5dWN5NXpZVzVwZEdsNlpWeHVJQ0FnSUNBZ0lDQWdJRDhnSjNCaGNtRm5jbUZ3YUNkY2JpQWdJQ0FnSUNBZ0lDQTZJQ2RvZEcxc0p5eGNiaUFnSUNBZ0lDQWdjSEpsT2lBaGRHaHBjeTV2Y0hScGIyNXpMbk5oYm1sMGFYcGxjbHh1SUNBZ0lDQWdJQ0FnSUNZbUlDaGpZWEJiTVYwZ1BUMDlJQ2R3Y21VbklIeDhJR05oY0ZzeFhTQTlQVDBnSjNOamNtbHdkQ2NnZkh3Z1kyRndXekZkSUQwOVBTQW5jM1I1YkdVbktTeGNiaUFnSUNBZ0lDQWdkR1Y0ZERvZ1kyRndXekJkWEc0Z0lDQWdJQ0I5S1R0Y2JpQWdJQ0FnSUdOdmJuUnBiblZsTzF4dUlDQWdJSDFjYmx4dUlDQWdJQzh2SUdSbFpseHVJQ0FnSUdsbUlDZ29JV0p4SUNZbUlIUnZjQ2tnSmlZZ0tHTmhjQ0E5SUhSb2FYTXVjblZzWlhNdVpHVm1MbVY0WldNb2MzSmpLU2twSUh0Y2JpQWdJQ0FnSUhOeVl5QTlJSE55WXk1emRXSnpkSEpwYm1jb1kyRndXekJkTG14bGJtZDBhQ2s3WEc0Z0lDQWdJQ0IwYUdsekxuUnZhMlZ1Y3k1c2FXNXJjMXRqWVhCYk1WMHVkRzlNYjNkbGNrTmhjMlVvS1YwZ1BTQjdYRzRnSUNBZ0lDQWdJR2h5WldZNklHTmhjRnN5WFN4Y2JpQWdJQ0FnSUNBZ2RHbDBiR1U2SUdOaGNGc3pYVnh1SUNBZ0lDQWdmVHRjYmlBZ0lDQWdJR052Ym5ScGJuVmxPMXh1SUNBZ0lIMWNibHh1SUNBZ0lDOHZJSFJoWW14bElDaG5abTBwWEc0Z0lDQWdhV1lnS0hSdmNDQW1KaUFvWTJGd0lEMGdkR2hwY3k1eWRXeGxjeTUwWVdKc1pTNWxlR1ZqS0hOeVl5a3BLU0I3WEc0Z0lDQWdJQ0J6Y21NZ1BTQnpjbU11YzNWaWMzUnlhVzVuS0dOaGNGc3dYUzVzWlc1bmRHZ3BPMXh1WEc0Z0lDQWdJQ0JwZEdWdElEMGdlMXh1SUNBZ0lDQWdJQ0IwZVhCbE9pQW5kR0ZpYkdVbkxGeHVJQ0FnSUNBZ0lDQm9aV0ZrWlhJNklHTmhjRnN4WFM1eVpYQnNZV05sS0M5ZUlDcDhJQ3BjWEh3Z0tpUXZaeXdnSnljcExuTndiR2wwS0M4Z0tseGNmQ0FxTHlrc1hHNGdJQ0FnSUNBZ0lHRnNhV2R1T2lCallYQmJNbDB1Y21Wd2JHRmpaU2d2WGlBcWZGeGNmQ0FxSkM5bkxDQW5KeWt1YzNCc2FYUW9MeUFxWEZ4OElDb3ZLU3hjYmlBZ0lDQWdJQ0FnWTJWc2JITTZJR05oY0ZzelhTNXlaWEJzWVdObEtDOG9Qem9nS2x4Y2ZDQXFLVDljWEc0a0x5d2dKeWNwTG5Od2JHbDBLQ2RjWEc0bktWeHVJQ0FnSUNBZ2ZUdGNibHh1SUNBZ0lDQWdabTl5SUNocElEMGdNRHNnYVNBOElHbDBaVzB1WVd4cFoyNHViR1Z1WjNSb095QnBLeXNwSUh0Y2JpQWdJQ0FnSUNBZ2FXWWdLQzllSUNvdEt6b2dLaVF2TG5SbGMzUW9hWFJsYlM1aGJHbG5ibHRwWFNrcElIdGNiaUFnSUNBZ0lDQWdJQ0JwZEdWdExtRnNhV2R1VzJsZElEMGdKM0pwWjJoMEp6dGNiaUFnSUNBZ0lDQWdmU0JsYkhObElHbG1JQ2d2WGlBcU9pMHJPaUFxSkM4dWRHVnpkQ2hwZEdWdExtRnNhV2R1VzJsZEtTa2dlMXh1SUNBZ0lDQWdJQ0FnSUdsMFpXMHVZV3hwWjI1YmFWMGdQU0FuWTJWdWRHVnlKenRjYmlBZ0lDQWdJQ0FnZlNCbGJITmxJR2xtSUNndlhpQXFPaTBySUNva0x5NTBaWE4wS0dsMFpXMHVZV3hwWjI1YmFWMHBLU0I3WEc0Z0lDQWdJQ0FnSUNBZ2FYUmxiUzVoYkdsbmJsdHBYU0E5SUNkc1pXWjBKenRjYmlBZ0lDQWdJQ0FnZlNCbGJITmxJSHRjYmlBZ0lDQWdJQ0FnSUNCcGRHVnRMbUZzYVdkdVcybGRJRDBnYm5Wc2JEdGNiaUFnSUNBZ0lDQWdmVnh1SUNBZ0lDQWdmVnh1WEc0Z0lDQWdJQ0JtYjNJZ0tHa2dQU0F3T3lCcElEd2dhWFJsYlM1alpXeHNjeTVzWlc1bmRHZzdJR2tyS3lrZ2UxeHVJQ0FnSUNBZ0lDQnBkR1Z0TG1ObGJHeHpXMmxkSUQwZ2FYUmxiUzVqWld4c2MxdHBYVnh1SUNBZ0lDQWdJQ0FnSUM1eVpYQnNZV05sS0M5ZUlDcGNYSHdnS253Z0tseGNmQ0FxSkM5bkxDQW5KeWxjYmlBZ0lDQWdJQ0FnSUNBdWMzQnNhWFFvTHlBcVhGeDhJQ292S1R0Y2JpQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ2RHaHBjeTUwYjJ0bGJuTXVjSFZ6YUNocGRHVnRLVHRjYmx4dUlDQWdJQ0FnWTI5dWRHbHVkV1U3WEc0Z0lDQWdmVnh1WEc0Z0lDQWdMeThnZEc5d0xXeGxkbVZzSUhCaGNtRm5jbUZ3YUZ4dUlDQWdJR2xtSUNoMGIzQWdKaVlnS0dOaGNDQTlJSFJvYVhNdWNuVnNaWE11Y0dGeVlXZHlZWEJvTG1WNFpXTW9jM0pqS1NrcElIdGNiaUFnSUNBZ0lITnlZeUE5SUhOeVl5NXpkV0p6ZEhKcGJtY29ZMkZ3V3pCZExteGxibWQwYUNrN1hHNGdJQ0FnSUNCMGFHbHpMblJ2YTJWdWN5NXdkWE5vS0h0Y2JpQWdJQ0FnSUNBZ2RIbHdaVG9nSjNCaGNtRm5jbUZ3YUNjc1hHNGdJQ0FnSUNBZ0lIUmxlSFE2SUdOaGNGc3hYUzVqYUdGeVFYUW9ZMkZ3V3pGZExteGxibWQwYUNBdElERXBJRDA5UFNBblhGeHVKMXh1SUNBZ0lDQWdJQ0FnSUQ4Z1kyRndXekZkTG5Oc2FXTmxLREFzSUMweEtWeHVJQ0FnSUNBZ0lDQWdJRG9nWTJGd1d6RmRYRzRnSUNBZ0lDQjlLVHRjYmlBZ0lDQWdJR052Ym5ScGJuVmxPMXh1SUNBZ0lIMWNibHh1SUNBZ0lDOHZJSFJsZUhSY2JpQWdJQ0JwWmlBb1kyRndJRDBnZEdocGN5NXlkV3hsY3k1MFpYaDBMbVY0WldNb2MzSmpLU2tnZTF4dUlDQWdJQ0FnTHk4Z1ZHOXdMV3hsZG1Wc0lITm9iM1ZzWkNCdVpYWmxjaUJ5WldGamFDQm9aWEpsTGx4dUlDQWdJQ0FnYzNKaklEMGdjM0pqTG5OMVluTjBjbWx1WnloallYQmJNRjB1YkdWdVozUm9LVHRjYmlBZ0lDQWdJSFJvYVhNdWRHOXJaVzV6TG5CMWMyZ29lMXh1SUNBZ0lDQWdJQ0IwZVhCbE9pQW5kR1Y0ZENjc1hHNGdJQ0FnSUNBZ0lIUmxlSFE2SUdOaGNGc3dYVnh1SUNBZ0lDQWdmU2s3WEc0Z0lDQWdJQ0JqYjI1MGFXNTFaVHRjYmlBZ0lDQjlYRzVjYmlBZ0lDQnBaaUFvYzNKaktTQjdYRzRnSUNBZ0lDQjBhSEp2ZHlCdVpYZGNiaUFnSUNBZ0lDQWdSWEp5YjNJb0owbHVabWx1YVhSbElHeHZiM0FnYjI0Z1lubDBaVG9nSnlBcklITnlZeTVqYUdGeVEyOWtaVUYwS0RBcEtUdGNiaUFnSUNCOVhHNGdJSDFjYmx4dUlDQnlaWFIxY200Z2RHaHBjeTUwYjJ0bGJuTTdYRzU5TzF4dVhHNHZLaXBjYmlBcUlFbHViR2x1WlMxTVpYWmxiQ0JIY21GdGJXRnlYRzRnS2k5Y2JseHVkbUZ5SUdsdWJHbHVaU0E5SUh0Y2JpQWdaWE5qWVhCbE9pQXZYbHhjWEZ3b1cxeGNYRnhnS250OVhGeGJYRnhkS0NraksxeGNMUzRoWHo1ZEtTOHNYRzRnSUdGMWRHOXNhVzVyT2lBdlhqd29XMTRnUGwwcktFQjhPbHhjTHlsYlhpQStYU3NwUGk4c1hHNGdJSFZ5YkRvZ2JtOXZjQ3hjYmlBZ2RHRm5PaUF2WGp3aExTMWJYRnh6WEZ4VFhTby9MUzArZkY0OFhGd3ZQMXhjZHlzb1B6cGNJbHRlWENKZEtsd2lmQ2RiWGlkZEtpZDhXMTRuWENJK1hTa3FQejR2TEZ4dUlDQnNhVzVyT2lBdlhpRS9YRnhiS0dsdWMybGtaU2xjWEYxY1hDaG9jbVZtWEZ3cEx5eGNiaUFnY21WbWJHbHVhem9nTDE0aFAxeGNXeWhwYm5OcFpHVXBYRnhkWEZ4ektseGNXeWhiWGx4Y1hWMHFLVnhjWFM4c1hHNGdJRzV2YkdsdWF6b2dMMTRoUDF4Y1d5Z29QenBjWEZ0YlhseGNYVjBxWEZ4ZGZGdGVYRnhiWEZ4ZFhTa3FLVnhjWFM4c1hHNGdJSE4wY205dVp6b2dMMTVmWHloYlhGeHpYRnhUWFNzL0tWOWZLRDhoWHlsOFhseGNLbHhjS2loYlhGeHpYRnhUWFNzL0tWeGNLbHhjS2lnL0lWeGNLaWt2TEZ4dUlDQmxiVG9nTDE1Y1hHSmZLQ2cvT2x0ZVgxMThYMThwS3o4cFgxeGNZbnhlWEZ3cUtDZy9PbHhjS2x4Y0tueGJYRnh6WEZ4VFhTa3JQeWxjWENvb1B5RmNYQ29wTHl4Y2JpQWdZMjlrWlRvZ0wxNG9ZQ3NwWEZ4ektpaGJYRnh6WEZ4VFhTby9XMTVnWFNsY1hITXFYRnd4S0Q4aFlDa3ZMRnh1SUNCaWNqb2dMMTRnZXpJc2ZWeGNiaWcvSVZ4Y2N5b2tLUzhzWEc0Z0lHUmxiRG9nYm05dmNDeGNiaUFnZEdWNGREb2dMMTViWEZ4elhGeFRYU3MvS0Q4OVcxeGNYRnc4SVZ4Y1cxOHFZRjE4SUhzeUxIMWNYRzU4SkNrdlhHNTlPMXh1WEc1cGJteHBibVV1WDJsdWMybGtaU0E5SUM4b1B6cGNYRnRiWGx4Y1hWMHFYRnhkZkZ0ZVhGeGJYRnhkWFh4Y1hGMG9QejFiWGx4Y1cxMHFYRnhkS1NrcUx6dGNibWx1YkdsdVpTNWZhSEpsWmlBOUlDOWNYSE1xUEQ4b1cxeGNjMXhjVTEwcVB5aytQeWcvT2x4Y2N5dGJKMXdpWFNoYlhGeHpYRnhUWFNvL0tWc25YQ0pkS1Q5Y1hITXFMenRjYmx4dWFXNXNhVzVsTG14cGJtc2dQU0J5WlhCc1lXTmxLR2x1YkdsdVpTNXNhVzVyS1Z4dUlDQW9KMmx1YzJsa1pTY3NJR2x1YkdsdVpTNWZhVzV6YVdSbEtWeHVJQ0FvSjJoeVpXWW5MQ0JwYm14cGJtVXVYMmh5WldZcFhHNGdJQ2dwTzF4dVhHNXBibXhwYm1VdWNtVm1iR2x1YXlBOUlISmxjR3hoWTJVb2FXNXNhVzVsTG5KbFpteHBibXNwWEc0Z0lDZ25hVzV6YVdSbEp5d2dhVzVzYVc1bExsOXBibk5wWkdVcFhHNGdJQ2dwTzF4dVhHNHZLaXBjYmlBcUlFNXZjbTFoYkNCSmJteHBibVVnUjNKaGJXMWhjbHh1SUNvdlhHNWNibWx1YkdsdVpTNXViM0p0WVd3Z1BTQnRaWEpuWlNoN2ZTd2dhVzVzYVc1bEtUdGNibHh1THlvcVhHNGdLaUJRWldSaGJuUnBZeUJKYm14cGJtVWdSM0poYlcxaGNseHVJQ292WEc1Y2JtbHViR2x1WlM1d1pXUmhiblJwWXlBOUlHMWxjbWRsS0h0OUxDQnBibXhwYm1VdWJtOXliV0ZzTENCN1hHNGdJSE4wY205dVp6b2dMMTVmWHlnL1BWeGNVeWtvVzF4Y2MxeGNVMTBxUDF4Y1V5bGZYeWcvSVY4cGZGNWNYQ3BjWENvb1B6MWNYRk1wS0Z0Y1hITmNYRk5kS2o5Y1hGTXBYRndxWEZ3cUtEOGhYRndxS1M4c1hHNGdJR1Z0T2lBdlhsOG9QejFjWEZNcEtGdGNYSE5jWEZOZEtqOWNYRk1wWHlnL0lWOHBmRjVjWENvb1B6MWNYRk1wS0Z0Y1hITmNYRk5kS2o5Y1hGTXBYRndxS0Q4aFhGd3FLUzljYm4wcE8xeHVYRzR2S2lwY2JpQXFJRWRHVFNCSmJteHBibVVnUjNKaGJXMWhjbHh1SUNvdlhHNWNibWx1YkdsdVpTNW5abTBnUFNCdFpYSm5aU2g3ZlN3Z2FXNXNhVzVsTG01dmNtMWhiQ3dnZTF4dUlDQmxjMk5oY0dVNklISmxjR3hoWTJVb2FXNXNhVzVsTG1WelkyRndaU2tvSjEwcEp5d2dKMzU4WFNrbktTZ3BMRnh1SUNCMWNtdzZJQzllS0doMGRIQnpQenBjWEM5Y1hDOWJYbHhjY3p4ZEsxdGVQQzRzT2p0Y0lpY3BYRnhkWEZ4elhTa3ZMRnh1SUNCa1pXdzZJQzllZm40b1B6MWNYRk1wS0Z0Y1hITmNYRk5kS2o5Y1hGTXBmbjR2TEZ4dUlDQjBaWGgwT2lCeVpYQnNZV05sS0dsdWJHbHVaUzUwWlhoMEtWeHVJQ0FnSUNnblhYd25MQ0FuZmwxOEp5bGNiaUFnSUNBb0ozd25MQ0FuZkdoMGRIQnpQem92TDN3bktWeHVJQ0FnSUNncFhHNTlLVHRjYmx4dUx5b3FYRzRnS2lCSFJrMGdLeUJNYVc1bElFSnlaV0ZyY3lCSmJteHBibVVnUjNKaGJXMWhjbHh1SUNvdlhHNWNibWx1YkdsdVpTNWljbVZoYTNNZ1BTQnRaWEpuWlNoN2ZTd2dhVzVzYVc1bExtZG1iU3dnZTF4dUlDQmljam9nY21Wd2JHRmpaU2hwYm14cGJtVXVZbklwS0NkN01peDlKeXdnSnlvbktTZ3BMRnh1SUNCMFpYaDBPaUJ5WlhCc1lXTmxLR2x1YkdsdVpTNW5abTB1ZEdWNGRDa29KM3N5TEgwbkxDQW5LaWNwS0NsY2JuMHBPMXh1WEc0dktpcGNiaUFxSUVsdWJHbHVaU0JNWlhobGNpQW1JRU52YlhCcGJHVnlYRzRnS2k5Y2JseHVablZ1WTNScGIyNGdTVzVzYVc1bFRHVjRaWElvYkdsdWEzTXNJRzl3ZEdsdmJuTXBJSHRjYmlBZ2RHaHBjeTV2Y0hScGIyNXpJRDBnYjNCMGFXOXVjeUI4ZkNCdFlYSnJaV1F1WkdWbVlYVnNkSE03WEc0Z0lIUm9hWE11YkdsdWEzTWdQU0JzYVc1cmN6dGNiaUFnZEdocGN5NXlkV3hsY3lBOUlHbHViR2x1WlM1dWIzSnRZV3c3WEc0Z0lIUm9hWE11Y21WdVpHVnlaWElnUFNCMGFHbHpMbTl3ZEdsdmJuTXVjbVZ1WkdWeVpYSWdmSHdnYm1WM0lGSmxibVJsY21WeU8xeHVJQ0IwYUdsekxuSmxibVJsY21WeUxtOXdkR2x2Ym5NZ1BTQjBhR2x6TG05d2RHbHZibk03WEc1Y2JpQWdhV1lnS0NGMGFHbHpMbXhwYm10ektTQjdYRzRnSUNBZ2RHaHliM2NnYm1WM1hHNGdJQ0FnSUNCRmNuSnZjaWduVkc5clpXNXpJR0Z5Y21GNUlISmxjWFZwY21WeklHRWdZR3hwYm10ellDQndjbTl3WlhKMGVTNG5LVHRjYmlBZ2ZWeHVYRzRnSUdsbUlDaDBhR2x6TG05d2RHbHZibk11WjJadEtTQjdYRzRnSUNBZ2FXWWdLSFJvYVhNdWIzQjBhVzl1Y3k1aWNtVmhhM01wSUh0Y2JpQWdJQ0FnSUhSb2FYTXVjblZzWlhNZ1BTQnBibXhwYm1VdVluSmxZV3R6TzF4dUlDQWdJSDBnWld4elpTQjdYRzRnSUNBZ0lDQjBhR2x6TG5KMWJHVnpJRDBnYVc1c2FXNWxMbWRtYlR0Y2JpQWdJQ0I5WEc0Z0lIMGdaV3h6WlNCcFppQW9kR2hwY3k1dmNIUnBiMjV6TG5CbFpHRnVkR2xqS1NCN1hHNGdJQ0FnZEdocGN5NXlkV3hsY3lBOUlHbHViR2x1WlM1d1pXUmhiblJwWXp0Y2JpQWdmVnh1ZlZ4dVhHNHZLaXBjYmlBcUlFVjRjRzl6WlNCSmJteHBibVVnVW5Wc1pYTmNiaUFxTDF4dVhHNUpibXhwYm1WTVpYaGxjaTV5ZFd4bGN5QTlJR2x1YkdsdVpUdGNibHh1THlvcVhHNGdLaUJUZEdGMGFXTWdUR1Y0YVc1bkwwTnZiWEJwYkdsdVp5Qk5aWFJvYjJSY2JpQXFMMXh1WEc1SmJteHBibVZNWlhobGNpNXZkWFJ3ZFhRZ1BTQm1kVzVqZEdsdmJpaHpjbU1zSUd4cGJtdHpMQ0J2Y0hScGIyNXpLU0I3WEc0Z0lIWmhjaUJwYm14cGJtVWdQU0J1WlhjZ1NXNXNhVzVsVEdWNFpYSW9iR2x1YTNNc0lHOXdkR2x2Ym5NcE8xeHVJQ0J5WlhSMWNtNGdhVzVzYVc1bExtOTFkSEIxZENoemNtTXBPMXh1ZlR0Y2JseHVMeW9xWEc0Z0tpQk1aWGhwYm1jdlEyOXRjR2xzYVc1blhHNGdLaTljYmx4dVNXNXNhVzVsVEdWNFpYSXVjSEp2ZEc5MGVYQmxMbTkxZEhCMWRDQTlJR1oxYm1OMGFXOXVLSE55WXlrZ2UxeHVJQ0IyWVhJZ2IzVjBJRDBnSnlkY2JpQWdJQ0FzSUd4cGJtdGNiaUFnSUNBc0lIUmxlSFJjYmlBZ0lDQXNJR2h5WldaY2JpQWdJQ0FzSUdOaGNEdGNibHh1SUNCM2FHbHNaU0FvYzNKaktTQjdYRzRnSUNBZ0x5OGdaWE5qWVhCbFhHNGdJQ0FnYVdZZ0tHTmhjQ0E5SUhSb2FYTXVjblZzWlhNdVpYTmpZWEJsTG1WNFpXTW9jM0pqS1NrZ2UxeHVJQ0FnSUNBZ2MzSmpJRDBnYzNKakxuTjFZbk4wY21sdVp5aGpZWEJiTUYwdWJHVnVaM1JvS1R0Y2JpQWdJQ0FnSUc5MWRDQXJQU0JqWVhCYk1WMDdYRzRnSUNBZ0lDQmpiMjUwYVc1MVpUdGNiaUFnSUNCOVhHNWNiaUFnSUNBdkx5QmhkWFJ2YkdsdWExeHVJQ0FnSUdsbUlDaGpZWEFnUFNCMGFHbHpMbkoxYkdWekxtRjFkRzlzYVc1ckxtVjRaV01vYzNKaktTa2dlMXh1SUNBZ0lDQWdjM0pqSUQwZ2MzSmpMbk4xWW5OMGNtbHVaeWhqWVhCYk1GMHViR1Z1WjNSb0tUdGNiaUFnSUNBZ0lHbG1JQ2hqWVhCYk1sMGdQVDA5SUNkQUp5a2dlMXh1SUNBZ0lDQWdJQ0IwWlhoMElEMGdZMkZ3V3pGZExtTm9ZWEpCZENnMktTQTlQVDBnSnpvblhHNGdJQ0FnSUNBZ0lDQWdQeUIwYUdsekxtMWhibWRzWlNoallYQmJNVjB1YzNWaWMzUnlhVzVuS0RjcEtWeHVJQ0FnSUNBZ0lDQWdJRG9nZEdocGN5NXRZVzVuYkdVb1kyRndXekZkS1R0Y2JpQWdJQ0FnSUNBZ2FISmxaaUE5SUhSb2FYTXViV0Z1WjJ4bEtDZHRZV2xzZEc4Nkp5a2dLeUIwWlhoME8xeHVJQ0FnSUNBZ2ZTQmxiSE5sSUh0Y2JpQWdJQ0FnSUNBZ2RHVjRkQ0E5SUdWelkyRndaU2hqWVhCYk1WMHBPMXh1SUNBZ0lDQWdJQ0JvY21WbUlEMGdkR1Y0ZER0Y2JpQWdJQ0FnSUgxY2JpQWdJQ0FnSUc5MWRDQXJQU0IwYUdsekxuSmxibVJsY21WeUxteHBibXNvYUhKbFppd2diblZzYkN3Z2RHVjRkQ2s3WEc0Z0lDQWdJQ0JqYjI1MGFXNTFaVHRjYmlBZ0lDQjlYRzVjYmlBZ0lDQXZMeUIxY213Z0tHZG1iU2xjYmlBZ0lDQnBaaUFvSVhSb2FYTXVhVzVNYVc1cklDWW1JQ2hqWVhBZ1BTQjBhR2x6TG5KMWJHVnpMblZ5YkM1bGVHVmpLSE55WXlrcEtTQjdYRzRnSUNBZ0lDQnpjbU1nUFNCemNtTXVjM1ZpYzNSeWFXNW5LR05oY0Zzd1hTNXNaVzVuZEdncE8xeHVJQ0FnSUNBZ2RHVjRkQ0E5SUdWelkyRndaU2hqWVhCYk1WMHBPMXh1SUNBZ0lDQWdhSEpsWmlBOUlIUmxlSFE3WEc0Z0lDQWdJQ0J2ZFhRZ0t6MGdkR2hwY3k1eVpXNWtaWEpsY2k1c2FXNXJLR2h5WldZc0lHNTFiR3dzSUhSbGVIUXBPMXh1SUNBZ0lDQWdZMjl1ZEdsdWRXVTdYRzRnSUNBZ2ZWeHVYRzRnSUNBZ0x5OGdkR0ZuWEc0Z0lDQWdhV1lnS0dOaGNDQTlJSFJvYVhNdWNuVnNaWE11ZEdGbkxtVjRaV01vYzNKaktTa2dlMXh1SUNBZ0lDQWdhV1lnS0NGMGFHbHpMbWx1VEdsdWF5QW1KaUF2WGp4aElDOXBMblJsYzNRb1kyRndXekJkS1NrZ2UxeHVJQ0FnSUNBZ0lDQjBhR2x6TG1sdVRHbHVheUE5SUhSeWRXVTdYRzRnSUNBZ0lDQjlJR1ZzYzJVZ2FXWWdLSFJvYVhNdWFXNU1hVzVySUNZbUlDOWVQRnhjTDJFK0wya3VkR1Z6ZENoallYQmJNRjBwS1NCN1hHNGdJQ0FnSUNBZ0lIUm9hWE11YVc1TWFXNXJJRDBnWm1Gc2MyVTdYRzRnSUNBZ0lDQjlYRzRnSUNBZ0lDQnpjbU1nUFNCemNtTXVjM1ZpYzNSeWFXNW5LR05oY0Zzd1hTNXNaVzVuZEdncE8xeHVJQ0FnSUNBZ2IzVjBJQ3M5SUhSb2FYTXViM0IwYVc5dWN5NXpZVzVwZEdsNlpWeHVJQ0FnSUNBZ0lDQS9JSFJvYVhNdWIzQjBhVzl1Y3k1ellXNXBkR2w2WlhKY2JpQWdJQ0FnSUNBZ0lDQS9JSFJvYVhNdWIzQjBhVzl1Y3k1ellXNXBkR2w2WlhJb1kyRndXekJkS1Z4dUlDQWdJQ0FnSUNBZ0lEb2daWE5qWVhCbEtHTmhjRnN3WFNsY2JpQWdJQ0FnSUNBZ09pQmpZWEJiTUYxY2JpQWdJQ0FnSUdOdmJuUnBiblZsTzF4dUlDQWdJSDFjYmx4dUlDQWdJQzh2SUd4cGJtdGNiaUFnSUNCcFppQW9ZMkZ3SUQwZ2RHaHBjeTV5ZFd4bGN5NXNhVzVyTG1WNFpXTW9jM0pqS1NrZ2UxeHVJQ0FnSUNBZ2MzSmpJRDBnYzNKakxuTjFZbk4wY21sdVp5aGpZWEJiTUYwdWJHVnVaM1JvS1R0Y2JpQWdJQ0FnSUhSb2FYTXVhVzVNYVc1cklEMGdkSEoxWlR0Y2JpQWdJQ0FnSUc5MWRDQXJQU0IwYUdsekxtOTFkSEIxZEV4cGJtc29ZMkZ3TENCN1hHNGdJQ0FnSUNBZ0lHaHlaV1k2SUdOaGNGc3lYU3hjYmlBZ0lDQWdJQ0FnZEdsMGJHVTZJR05oY0ZzelhWeHVJQ0FnSUNBZ2ZTazdYRzRnSUNBZ0lDQjBhR2x6TG1sdVRHbHVheUE5SUdaaGJITmxPMXh1SUNBZ0lDQWdZMjl1ZEdsdWRXVTdYRzRnSUNBZ2ZWeHVYRzRnSUNBZ0x5OGdjbVZtYkdsdWF5d2dibTlzYVc1clhHNGdJQ0FnYVdZZ0tDaGpZWEFnUFNCMGFHbHpMbkoxYkdWekxuSmxabXhwYm1zdVpYaGxZeWh6Y21NcEtWeHVJQ0FnSUNBZ0lDQjhmQ0FvWTJGd0lEMGdkR2hwY3k1eWRXeGxjeTV1YjJ4cGJtc3VaWGhsWXloemNtTXBLU2tnZTF4dUlDQWdJQ0FnYzNKaklEMGdjM0pqTG5OMVluTjBjbWx1WnloallYQmJNRjB1YkdWdVozUm9LVHRjYmlBZ0lDQWdJR3hwYm1zZ1BTQW9ZMkZ3V3pKZElIeDhJR05oY0ZzeFhTa3VjbVZ3YkdGalpTZ3ZYRnh6S3k5bkxDQW5JQ2NwTzF4dUlDQWdJQ0FnYkdsdWF5QTlJSFJvYVhNdWJHbHVhM05iYkdsdWF5NTBiMHh2ZDJWeVEyRnpaU2dwWFR0Y2JpQWdJQ0FnSUdsbUlDZ2hiR2x1YXlCOGZDQWhiR2x1YXk1b2NtVm1LU0I3WEc0Z0lDQWdJQ0FnSUc5MWRDQXJQU0JqWVhCYk1GMHVZMmhoY2tGMEtEQXBPMXh1SUNBZ0lDQWdJQ0J6Y21NZ1BTQmpZWEJiTUYwdWMzVmljM1J5YVc1bktERXBJQ3NnYzNKak8xeHVJQ0FnSUNBZ0lDQmpiMjUwYVc1MVpUdGNiaUFnSUNBZ0lIMWNiaUFnSUNBZ0lIUm9hWE11YVc1TWFXNXJJRDBnZEhKMVpUdGNiaUFnSUNBZ0lHOTFkQ0FyUFNCMGFHbHpMbTkxZEhCMWRFeHBibXNvWTJGd0xDQnNhVzVyS1R0Y2JpQWdJQ0FnSUhSb2FYTXVhVzVNYVc1cklEMGdabUZzYzJVN1hHNGdJQ0FnSUNCamIyNTBhVzUxWlR0Y2JpQWdJQ0I5WEc1Y2JpQWdJQ0F2THlCemRISnZibWRjYmlBZ0lDQnBaaUFvWTJGd0lEMGdkR2hwY3k1eWRXeGxjeTV6ZEhKdmJtY3VaWGhsWXloemNtTXBLU0I3WEc0Z0lDQWdJQ0J6Y21NZ1BTQnpjbU11YzNWaWMzUnlhVzVuS0dOaGNGc3dYUzVzWlc1bmRHZ3BPMXh1SUNBZ0lDQWdiM1YwSUNzOUlIUm9hWE11Y21WdVpHVnlaWEl1YzNSeWIyNW5LSFJvYVhNdWIzVjBjSFYwS0dOaGNGc3lYU0I4ZkNCallYQmJNVjBwS1R0Y2JpQWdJQ0FnSUdOdmJuUnBiblZsTzF4dUlDQWdJSDFjYmx4dUlDQWdJQzh2SUdWdFhHNGdJQ0FnYVdZZ0tHTmhjQ0E5SUhSb2FYTXVjblZzWlhNdVpXMHVaWGhsWXloemNtTXBLU0I3WEc0Z0lDQWdJQ0J6Y21NZ1BTQnpjbU11YzNWaWMzUnlhVzVuS0dOaGNGc3dYUzVzWlc1bmRHZ3BPMXh1SUNBZ0lDQWdiM1YwSUNzOUlIUm9hWE11Y21WdVpHVnlaWEl1Wlcwb2RHaHBjeTV2ZFhSd2RYUW9ZMkZ3V3pKZElIeDhJR05oY0ZzeFhTa3BPMXh1SUNBZ0lDQWdZMjl1ZEdsdWRXVTdYRzRnSUNBZ2ZWeHVYRzRnSUNBZ0x5OGdZMjlrWlZ4dUlDQWdJR2xtSUNoallYQWdQU0IwYUdsekxuSjFiR1Z6TG1OdlpHVXVaWGhsWXloemNtTXBLU0I3WEc0Z0lDQWdJQ0J6Y21NZ1BTQnpjbU11YzNWaWMzUnlhVzVuS0dOaGNGc3dYUzVzWlc1bmRHZ3BPMXh1SUNBZ0lDQWdiM1YwSUNzOUlIUm9hWE11Y21WdVpHVnlaWEl1WTI5a1pYTndZVzRvWlhOallYQmxLR05oY0ZzeVhTd2dkSEoxWlNrcE8xeHVJQ0FnSUNBZ1kyOXVkR2x1ZFdVN1hHNGdJQ0FnZlZ4dVhHNGdJQ0FnTHk4Z1luSmNiaUFnSUNCcFppQW9ZMkZ3SUQwZ2RHaHBjeTV5ZFd4bGN5NWljaTVsZUdWaktITnlZeWtwSUh0Y2JpQWdJQ0FnSUhOeVl5QTlJSE55WXk1emRXSnpkSEpwYm1jb1kyRndXekJkTG14bGJtZDBhQ2s3WEc0Z0lDQWdJQ0J2ZFhRZ0t6MGdkR2hwY3k1eVpXNWtaWEpsY2k1aWNpZ3BPMXh1SUNBZ0lDQWdZMjl1ZEdsdWRXVTdYRzRnSUNBZ2ZWeHVYRzRnSUNBZ0x5OGdaR1ZzSUNoblptMHBYRzRnSUNBZ2FXWWdLR05oY0NBOUlIUm9hWE11Y25Wc1pYTXVaR1ZzTG1WNFpXTW9jM0pqS1NrZ2UxeHVJQ0FnSUNBZ2MzSmpJRDBnYzNKakxuTjFZbk4wY21sdVp5aGpZWEJiTUYwdWJHVnVaM1JvS1R0Y2JpQWdJQ0FnSUc5MWRDQXJQU0IwYUdsekxuSmxibVJsY21WeUxtUmxiQ2gwYUdsekxtOTFkSEIxZENoallYQmJNVjBwS1R0Y2JpQWdJQ0FnSUdOdmJuUnBiblZsTzF4dUlDQWdJSDFjYmx4dUlDQWdJQzh2SUhSbGVIUmNiaUFnSUNCcFppQW9ZMkZ3SUQwZ2RHaHBjeTV5ZFd4bGN5NTBaWGgwTG1WNFpXTW9jM0pqS1NrZ2UxeHVJQ0FnSUNBZ2MzSmpJRDBnYzNKakxuTjFZbk4wY21sdVp5aGpZWEJiTUYwdWJHVnVaM1JvS1R0Y2JpQWdJQ0FnSUc5MWRDQXJQU0IwYUdsekxuSmxibVJsY21WeUxuUmxlSFFvWlhOallYQmxLSFJvYVhNdWMyMWhjblI1Y0dGdWRITW9ZMkZ3V3pCZEtTa3BPMXh1SUNBZ0lDQWdZMjl1ZEdsdWRXVTdYRzRnSUNBZ2ZWeHVYRzRnSUNBZ2FXWWdLSE55WXlrZ2UxeHVJQ0FnSUNBZ2RHaHliM2NnYm1WM1hHNGdJQ0FnSUNBZ0lFVnljbTl5S0NkSmJtWnBibWwwWlNCc2IyOXdJRzl1SUdKNWRHVTZJQ2NnS3lCemNtTXVZMmhoY2tOdlpHVkJkQ2d3S1NrN1hHNGdJQ0FnZlZ4dUlDQjlYRzVjYmlBZ2NtVjBkWEp1SUc5MWREdGNibjA3WEc1Y2JpOHFLbHh1SUNvZ1EyOXRjR2xzWlNCTWFXNXJYRzRnS2k5Y2JseHVTVzVzYVc1bFRHVjRaWEl1Y0hKdmRHOTBlWEJsTG05MWRIQjFkRXhwYm1zZ1BTQm1kVzVqZEdsdmJpaGpZWEFzSUd4cGJtc3BJSHRjYmlBZ2RtRnlJR2h5WldZZ1BTQmxjMk5oY0dVb2JHbHVheTVvY21WbUtWeHVJQ0FnSUN3Z2RHbDBiR1VnUFNCc2FXNXJMblJwZEd4bElEOGdaWE5qWVhCbEtHeHBibXN1ZEdsMGJHVXBJRG9nYm5Wc2JEdGNibHh1SUNCeVpYUjFjbTRnWTJGd1d6QmRMbU5vWVhKQmRDZ3dLU0FoUFQwZ0p5RW5YRzRnSUNBZ1B5QjBhR2x6TG5KbGJtUmxjbVZ5TG14cGJtc29hSEpsWml3Z2RHbDBiR1VzSUhSb2FYTXViM1YwY0hWMEtHTmhjRnN4WFNrcFhHNGdJQ0FnT2lCMGFHbHpMbkpsYm1SbGNtVnlMbWx0WVdkbEtHaHlaV1lzSUhScGRHeGxMQ0JsYzJOaGNHVW9ZMkZ3V3pGZEtTazdYRzU5TzF4dVhHNHZLaXBjYmlBcUlGTnRZWEowZVhCaGJuUnpJRlJ5WVc1elptOXliV0YwYVc5dWMxeHVJQ292WEc1Y2JrbHViR2x1WlV4bGVHVnlMbkJ5YjNSdmRIbHdaUzV6YldGeWRIbHdZVzUwY3lBOUlHWjFibU4wYVc5dUtIUmxlSFFwSUh0Y2JpQWdhV1lnS0NGMGFHbHpMbTl3ZEdsdmJuTXVjMjFoY25SNWNHRnVkSE1wSUhKbGRIVnliaUIwWlhoME8xeHVJQ0J5WlhSMWNtNGdkR1Y0ZEZ4dUlDQWdJQzh2SUdWdExXUmhjMmhsYzF4dUlDQWdJQzV5WlhCc1lXTmxLQzh0TFMwdlp5d2dKMXhjZFRJd01UUW5LVnh1SUNBZ0lDOHZJR1Z1TFdSaGMyaGxjMXh1SUNBZ0lDNXlaWEJzWVdObEtDOHRMUzluTENBblhGeDFNakF4TXljcFhHNGdJQ0FnTHk4Z2IzQmxibWx1WnlCemFXNW5iR1Z6WEc0Z0lDQWdMbkpsY0d4aFkyVW9MeWhlZkZzdFhGeDFNakF4TkM4b1hGeGJlMXdpWEZ4elhTa25MMmNzSUNja01WeGNkVEl3TVRnbktWeHVJQ0FnSUM4dklHTnNiM05wYm1jZ2MybHVaMnhsY3lBbUlHRndiM04wY205d2FHVnpYRzRnSUNBZ0xuSmxjR3hoWTJVb0x5Y3ZaeXdnSjF4Y2RUSXdNVGtuS1Z4dUlDQWdJQzh2SUc5d1pXNXBibWNnWkc5MVlteGxjMXh1SUNBZ0lDNXlaWEJzWVdObEtDOG9YbnhiTFZ4Y2RUSXdNVFF2S0Z4Y1czdGNYSFV5TURFNFhGeHpYU2xjSWk5bkxDQW5KREZjWEhVeU1ERmpKeWxjYmlBZ0lDQXZMeUJqYkc5emFXNW5JR1J2ZFdKc1pYTmNiaUFnSUNBdWNtVndiR0ZqWlNndlhDSXZaeXdnSjF4Y2RUSXdNV1FuS1Z4dUlDQWdJQzh2SUdWc2JHbHdjMlZ6WEc0Z0lDQWdMbkpsY0d4aFkyVW9MMXhjTG5zemZTOW5MQ0FuWEZ4MU1qQXlOaWNwTzF4dWZUdGNibHh1THlvcVhHNGdLaUJOWVc1bmJHVWdUR2x1YTNOY2JpQXFMMXh1WEc1SmJteHBibVZNWlhobGNpNXdjbTkwYjNSNWNHVXViV0Z1WjJ4bElEMGdablZ1WTNScGIyNG9kR1Y0ZENrZ2UxeHVJQ0JwWmlBb0lYUm9hWE11YjNCMGFXOXVjeTV0WVc1bmJHVXBJSEpsZEhWeWJpQjBaWGgwTzF4dUlDQjJZWElnYjNWMElEMGdKeWRjYmlBZ0lDQXNJR3dnUFNCMFpYaDBMbXhsYm1kMGFGeHVJQ0FnSUN3Z2FTQTlJREJjYmlBZ0lDQXNJR05vTzF4dVhHNGdJR1p2Y2lBb095QnBJRHdnYkRzZ2FTc3JLU0I3WEc0Z0lDQWdZMmdnUFNCMFpYaDBMbU5vWVhKRGIyUmxRWFFvYVNrN1hHNGdJQ0FnYVdZZ0tFMWhkR2d1Y21GdVpHOXRLQ2tnUGlBd0xqVXBJSHRjYmlBZ0lDQWdJR05vSUQwZ0ozZ25JQ3NnWTJndWRHOVRkSEpwYm1jb01UWXBPMXh1SUNBZ0lIMWNiaUFnSUNCdmRYUWdLejBnSnlZakp5QXJJR05vSUNzZ0p6c25PMXh1SUNCOVhHNWNiaUFnY21WMGRYSnVJRzkxZER0Y2JuMDdYRzVjYmk4cUtseHVJQ29nVW1WdVpHVnlaWEpjYmlBcUwxeHVYRzVtZFc1amRHbHZiaUJTWlc1a1pYSmxjaWh2Y0hScGIyNXpLU0I3WEc0Z0lIUm9hWE11YjNCMGFXOXVjeUE5SUc5d2RHbHZibk1nZkh3Z2UzMDdYRzU5WEc1Y2JsSmxibVJsY21WeUxuQnliM1J2ZEhsd1pTNWpiMlJsSUQwZ1puVnVZM1JwYjI0b1kyOWtaU3dnYkdGdVp5d2daWE5qWVhCbFpDa2dlMXh1SUNCcFppQW9kR2hwY3k1dmNIUnBiMjV6TG1ocFoyaHNhV2RvZENrZ2UxeHVJQ0FnSUhaaGNpQnZkWFFnUFNCMGFHbHpMbTl3ZEdsdmJuTXVhR2xuYUd4cFoyaDBLR052WkdVc0lHeGhibWNwTzF4dUlDQWdJR2xtSUNodmRYUWdJVDBnYm5Wc2JDQW1KaUJ2ZFhRZ0lUMDlJR052WkdVcElIdGNiaUFnSUNBZ0lHVnpZMkZ3WldRZ1BTQjBjblZsTzF4dUlDQWdJQ0FnWTI5a1pTQTlJRzkxZER0Y2JpQWdJQ0I5WEc0Z0lIMWNibHh1SUNCcFppQW9JV3hoYm1jcElIdGNiaUFnSUNCeVpYUjFjbTRnSnp4d2NtVStQR052WkdVK0oxeHVJQ0FnSUNBZ0t5QW9aWE5qWVhCbFpDQS9JR052WkdVZ09pQmxjMk5oY0dVb1kyOWtaU3dnZEhKMVpTa3BYRzRnSUNBZ0lDQXJJQ2RjWEc0OEwyTnZaR1UrUEM5d2NtVStKenRjYmlBZ2ZWeHVYRzRnSUhKbGRIVnliaUFuUEhCeVpUNDhZMjlrWlNCamJHRnpjejFjSWlkY2JpQWdJQ0FySUhSb2FYTXViM0IwYVc5dWN5NXNZVzVuVUhKbFptbDRYRzRnSUNBZ0t5QmxjMk5oY0dVb2JHRnVaeXdnZEhKMVpTbGNiaUFnSUNBcklDZGNJajRuWEc0Z0lDQWdLeUFvWlhOallYQmxaQ0EvSUdOdlpHVWdPaUJsYzJOaGNHVW9ZMjlrWlN3Z2RISjFaU2twWEc0Z0lDQWdLeUFuWEZ4dVBDOWpiMlJsUGp3dmNISmxQbHhjYmljN1hHNTlPMXh1WEc1U1pXNWtaWEpsY2k1d2NtOTBiM1I1Y0dVdVlteHZZMnR4ZFc5MFpTQTlJR1oxYm1OMGFXOXVLSEYxYjNSbEtTQjdYRzRnSUhKbGRIVnliaUFuUEdKc2IyTnJjWFZ2ZEdVK1hGeHVKeUFySUhGMWIzUmxJQ3NnSnp3dllteHZZMnR4ZFc5MFpUNWNYRzRuTzF4dWZUdGNibHh1VW1WdVpHVnlaWEl1Y0hKdmRHOTBlWEJsTG1oMGJXd2dQU0JtZFc1amRHbHZiaWhvZEcxc0tTQjdYRzRnSUhKbGRIVnliaUJvZEcxc08xeHVmVHRjYmx4dVVtVnVaR1Z5WlhJdWNISnZkRzkwZVhCbExtaGxZV1JwYm1jZ1BTQm1kVzVqZEdsdmJpaDBaWGgwTENCc1pYWmxiQ3dnY21GM0tTQjdYRzRnSUhKbGRIVnliaUFuUEdnblhHNGdJQ0FnS3lCc1pYWmxiRnh1SUNBZ0lDc2dKeUJwWkQxY0lpZGNiaUFnSUNBcklIUm9hWE11YjNCMGFXOXVjeTVvWldGa1pYSlFjbVZtYVhoY2JpQWdJQ0FySUhKaGR5NTBiMHh2ZDJWeVEyRnpaU2dwTG5KbGNHeGhZMlVvTDF0ZVhGeDNYU3N2Wnl3Z0p5MG5LVnh1SUNBZ0lDc2dKMXdpUGlkY2JpQWdJQ0FySUhSbGVIUmNiaUFnSUNBcklDYzhMMmduWEc0Z0lDQWdLeUJzWlhabGJGeHVJQ0FnSUNzZ0p6NWNYRzRuTzF4dWZUdGNibHh1VW1WdVpHVnlaWEl1Y0hKdmRHOTBlWEJsTG1oeUlEMGdablZ1WTNScGIyNG9LU0I3WEc0Z0lISmxkSFZ5YmlCMGFHbHpMbTl3ZEdsdmJuTXVlR2gwYld3Z1B5QW5QR2h5THo1Y1hHNG5JRG9nSnp4b2NqNWNYRzRuTzF4dWZUdGNibHh1VW1WdVpHVnlaWEl1Y0hKdmRHOTBlWEJsTG14cGMzUWdQU0JtZFc1amRHbHZiaWhpYjJSNUxDQnZjbVJsY21Wa0tTQjdYRzRnSUhaaGNpQjBlWEJsSUQwZ2IzSmtaWEpsWkNBL0lDZHZiQ2NnT2lBbmRXd25PMXh1SUNCeVpYUjFjbTRnSnp3bklDc2dkSGx3WlNBcklDYytYRnh1SnlBcklHSnZaSGtnS3lBblBDOG5JQ3NnZEhsd1pTQXJJQ2MrWEZ4dUp6dGNibjA3WEc1Y2JsSmxibVJsY21WeUxuQnliM1J2ZEhsd1pTNXNhWE4wYVhSbGJTQTlJR1oxYm1OMGFXOXVLSFJsZUhRcElIdGNiaUFnY21WMGRYSnVJQ2M4YkdrK0p5QXJJSFJsZUhRZ0t5QW5QQzlzYVQ1Y1hHNG5PMXh1ZlR0Y2JseHVVbVZ1WkdWeVpYSXVjSEp2ZEc5MGVYQmxMbkJoY21GbmNtRndhQ0E5SUdaMWJtTjBhVzl1S0hSbGVIUXBJSHRjYmlBZ2NtVjBkWEp1SUNjOGNENG5JQ3NnZEdWNGRDQXJJQ2M4TDNBK1hGeHVKenRjYm4wN1hHNWNibEpsYm1SbGNtVnlMbkJ5YjNSdmRIbHdaUzUwWVdKc1pTQTlJR1oxYm1OMGFXOXVLR2hsWVdSbGNpd2dZbTlrZVNrZ2UxeHVJQ0J5WlhSMWNtNGdKengwWVdKc1pUNWNYRzRuWEc0Z0lDQWdLeUFuUEhSb1pXRmtQbHhjYmlkY2JpQWdJQ0FySUdobFlXUmxjbHh1SUNBZ0lDc2dKend2ZEdobFlXUStYRnh1SjF4dUlDQWdJQ3NnSnp4MFltOWtlVDVjWEc0blhHNGdJQ0FnS3lCaWIyUjVYRzRnSUNBZ0t5QW5QQzkwWW05a2VUNWNYRzRuWEc0Z0lDQWdLeUFuUEM5MFlXSnNaVDVjWEc0bk8xeHVmVHRjYmx4dVVtVnVaR1Z5WlhJdWNISnZkRzkwZVhCbExuUmhZbXhsY205M0lEMGdablZ1WTNScGIyNG9ZMjl1ZEdWdWRDa2dlMXh1SUNCeVpYUjFjbTRnSnp4MGNqNWNYRzRuSUNzZ1kyOXVkR1Z1ZENBcklDYzhMM1J5UGx4Y2JpYzdYRzU5TzF4dVhHNVNaVzVrWlhKbGNpNXdjbTkwYjNSNWNHVXVkR0ZpYkdWalpXeHNJRDBnWm5WdVkzUnBiMjRvWTI5dWRHVnVkQ3dnWm14aFozTXBJSHRjYmlBZ2RtRnlJSFI1Y0dVZ1BTQm1iR0ZuY3k1b1pXRmtaWElnUHlBbmRHZ25JRG9nSjNSa0p6dGNiaUFnZG1GeUlIUmhaeUE5SUdac1lXZHpMbUZzYVdkdVhHNGdJQ0FnUHlBblBDY2dLeUIwZVhCbElDc2dKeUJ6ZEhsc1pUMWNJblJsZUhRdFlXeHBaMjQ2SnlBcklHWnNZV2R6TG1Gc2FXZHVJQ3NnSjF3aVBpZGNiaUFnSUNBNklDYzhKeUFySUhSNWNHVWdLeUFuUGljN1hHNGdJSEpsZEhWeWJpQjBZV2NnS3lCamIyNTBaVzUwSUNzZ0p6d3ZKeUFySUhSNWNHVWdLeUFuUGx4Y2JpYzdYRzU5TzF4dVhHNHZMeUJ6Y0dGdUlHeGxkbVZzSUhKbGJtUmxjbVZ5WEc1U1pXNWtaWEpsY2k1d2NtOTBiM1I1Y0dVdWMzUnliMjVuSUQwZ1puVnVZM1JwYjI0b2RHVjRkQ2tnZTF4dUlDQnlaWFIxY200Z0p6eHpkSEp2Ym1jK0p5QXJJSFJsZUhRZ0t5QW5QQzl6ZEhKdmJtYytKenRjYm4wN1hHNWNibEpsYm1SbGNtVnlMbkJ5YjNSdmRIbHdaUzVsYlNBOUlHWjFibU4wYVc5dUtIUmxlSFFwSUh0Y2JpQWdjbVYwZFhKdUlDYzhaVzArSnlBcklIUmxlSFFnS3lBblBDOWxiVDRuTzF4dWZUdGNibHh1VW1WdVpHVnlaWEl1Y0hKdmRHOTBlWEJsTG1OdlpHVnpjR0Z1SUQwZ1puVnVZM1JwYjI0b2RHVjRkQ2tnZTF4dUlDQnlaWFIxY200Z0p6eGpiMlJsUGljZ0t5QjBaWGgwSUNzZ0p6d3ZZMjlrWlQ0bk8xeHVmVHRjYmx4dVVtVnVaR1Z5WlhJdWNISnZkRzkwZVhCbExtSnlJRDBnWm5WdVkzUnBiMjRvS1NCN1hHNGdJSEpsZEhWeWJpQjBhR2x6TG05d2RHbHZibk11ZUdoMGJXd2dQeUFuUEdKeUx6NG5JRG9nSnp4aWNqNG5PMXh1ZlR0Y2JseHVVbVZ1WkdWeVpYSXVjSEp2ZEc5MGVYQmxMbVJsYkNBOUlHWjFibU4wYVc5dUtIUmxlSFFwSUh0Y2JpQWdjbVYwZFhKdUlDYzhaR1ZzUGljZ0t5QjBaWGgwSUNzZ0p6d3ZaR1ZzUGljN1hHNTlPMXh1WEc1U1pXNWtaWEpsY2k1d2NtOTBiM1I1Y0dVdWJHbHVheUE5SUdaMWJtTjBhVzl1S0doeVpXWXNJSFJwZEd4bExDQjBaWGgwS1NCN1hHNGdJR2xtSUNoMGFHbHpMbTl3ZEdsdmJuTXVjMkZ1YVhScGVtVXBJSHRjYmlBZ0lDQjBjbmtnZTF4dUlDQWdJQ0FnZG1GeUlIQnliM1FnUFNCa1pXTnZaR1ZWVWtsRGIyMXdiMjVsYm5Rb2RXNWxjMk5oY0dVb2FISmxaaWtwWEc0Z0lDQWdJQ0FnSUM1eVpYQnNZV05sS0M5YlhseGNkenBkTDJjc0lDY25LVnh1SUNBZ0lDQWdJQ0F1ZEc5TWIzZGxja05oYzJVb0tUdGNiaUFnSUNCOUlHTmhkR05vSUNobEtTQjdYRzRnSUNBZ0lDQnlaWFIxY200Z0p5YzdYRzRnSUNBZ2ZWeHVJQ0FnSUdsbUlDaHdjbTkwTG1sdVpHVjRUMllvSjJwaGRtRnpZM0pwY0hRNkp5a2dQVDA5SURBZ2ZId2djSEp2ZEM1cGJtUmxlRTltS0NkMlluTmpjbWx3ZERvbktTQTlQVDBnTUNrZ2UxeHVJQ0FnSUNBZ2NtVjBkWEp1SUNjbk8xeHVJQ0FnSUgxY2JpQWdmVnh1SUNCMllYSWdiM1YwSUQwZ0p6eGhJR2h5WldZOVhDSW5JQ3NnYUhKbFppQXJJQ2RjSWljN1hHNGdJR2xtSUNoMGFYUnNaU2tnZTF4dUlDQWdJRzkxZENBclBTQW5JSFJwZEd4bFBWd2lKeUFySUhScGRHeGxJQ3NnSjF3aUp6dGNiaUFnZlZ4dUlDQnZkWFFnS3owZ0p6NG5JQ3NnZEdWNGRDQXJJQ2M4TDJFK0p6dGNiaUFnY21WMGRYSnVJRzkxZER0Y2JuMDdYRzVjYmxKbGJtUmxjbVZ5TG5CeWIzUnZkSGx3WlM1cGJXRm5aU0E5SUdaMWJtTjBhVzl1S0doeVpXWXNJSFJwZEd4bExDQjBaWGgwS1NCN1hHNGdJSFpoY2lCdmRYUWdQU0FuUEdsdFp5QnpjbU05WENJbklDc2dhSEpsWmlBcklDZGNJaUJoYkhROVhDSW5JQ3NnZEdWNGRDQXJJQ2RjSWljN1hHNGdJR2xtSUNoMGFYUnNaU2tnZTF4dUlDQWdJRzkxZENBclBTQW5JSFJwZEd4bFBWd2lKeUFySUhScGRHeGxJQ3NnSjF3aUp6dGNiaUFnZlZ4dUlDQnZkWFFnS3owZ2RHaHBjeTV2Y0hScGIyNXpMbmhvZEcxc0lEOGdKeTgrSnlBNklDYytKenRjYmlBZ2NtVjBkWEp1SUc5MWREdGNibjA3WEc1Y2JsSmxibVJsY21WeUxuQnliM1J2ZEhsd1pTNTBaWGgwSUQwZ1puVnVZM1JwYjI0b2RHVjRkQ2tnZTF4dUlDQnlaWFIxY200Z2RHVjRkRHRjYm4wN1hHNWNiaThxS2x4dUlDb2dVR0Z5YzJsdVp5QW1JRU52YlhCcGJHbHVaMXh1SUNvdlhHNWNibVoxYm1OMGFXOXVJRkJoY25ObGNpaHZjSFJwYjI1ektTQjdYRzRnSUhSb2FYTXVkRzlyWlc1eklEMGdXMTA3WEc0Z0lIUm9hWE11ZEc5clpXNGdQU0J1ZFd4c08xeHVJQ0IwYUdsekxtOXdkR2x2Ym5NZ1BTQnZjSFJwYjI1eklIeDhJRzFoY210bFpDNWtaV1poZFd4MGN6dGNiaUFnZEdocGN5NXZjSFJwYjI1ekxuSmxibVJsY21WeUlEMGdkR2hwY3k1dmNIUnBiMjV6TG5KbGJtUmxjbVZ5SUh4OElHNWxkeUJTWlc1a1pYSmxjanRjYmlBZ2RHaHBjeTV5Wlc1a1pYSmxjaUE5SUhSb2FYTXViM0IwYVc5dWN5NXlaVzVrWlhKbGNqdGNiaUFnZEdocGN5NXlaVzVrWlhKbGNpNXZjSFJwYjI1eklEMGdkR2hwY3k1dmNIUnBiMjV6TzF4dWZWeHVYRzR2S2lwY2JpQXFJRk4wWVhScFl5QlFZWEp6WlNCTlpYUm9iMlJjYmlBcUwxeHVYRzVRWVhKelpYSXVjR0Z5YzJVZ1BTQm1kVzVqZEdsdmJpaHpjbU1zSUc5d2RHbHZibk1zSUhKbGJtUmxjbVZ5S1NCN1hHNGdJSFpoY2lCd1lYSnpaWElnUFNCdVpYY2dVR0Z5YzJWeUtHOXdkR2x2Ym5Nc0lISmxibVJsY21WeUtUdGNiaUFnY21WMGRYSnVJSEJoY25ObGNpNXdZWEp6WlNoemNtTXBPMXh1ZlR0Y2JseHVMeW9xWEc0Z0tpQlFZWEp6WlNCTWIyOXdYRzRnS2k5Y2JseHVVR0Z5YzJWeUxuQnliM1J2ZEhsd1pTNXdZWEp6WlNBOUlHWjFibU4wYVc5dUtITnlZeWtnZTF4dUlDQjBhR2x6TG1sdWJHbHVaU0E5SUc1bGR5QkpibXhwYm1WTVpYaGxjaWh6Y21NdWJHbHVhM01zSUhSb2FYTXViM0IwYVc5dWN5d2dkR2hwY3k1eVpXNWtaWEpsY2lrN1hHNGdJSFJvYVhNdWRHOXJaVzV6SUQwZ2MzSmpMbkpsZG1WeWMyVW9LVHRjYmx4dUlDQjJZWElnYjNWMElEMGdKeWM3WEc0Z0lIZG9hV3hsSUNoMGFHbHpMbTVsZUhRb0tTa2dlMXh1SUNBZ0lHOTFkQ0FyUFNCMGFHbHpMblJ2YXlncE8xeHVJQ0I5WEc1Y2JpQWdjbVYwZFhKdUlHOTFkRHRjYm4wN1hHNWNiaThxS2x4dUlDb2dUbVY0ZENCVWIydGxibHh1SUNvdlhHNWNibEJoY25ObGNpNXdjbTkwYjNSNWNHVXVibVY0ZENBOUlHWjFibU4wYVc5dUtDa2dlMXh1SUNCeVpYUjFjbTRnZEdocGN5NTBiMnRsYmlBOUlIUm9hWE11ZEc5clpXNXpMbkJ2Y0NncE8xeHVmVHRjYmx4dUx5b3FYRzRnS2lCUWNtVjJhV1YzSUU1bGVIUWdWRzlyWlc1Y2JpQXFMMXh1WEc1UVlYSnpaWEl1Y0hKdmRHOTBlWEJsTG5CbFpXc2dQU0JtZFc1amRHbHZiaWdwSUh0Y2JpQWdjbVYwZFhKdUlIUm9hWE11ZEc5clpXNXpXM1JvYVhNdWRHOXJaVzV6TG14bGJtZDBhQ0F0SURGZElIeDhJREE3WEc1OU8xeHVYRzR2S2lwY2JpQXFJRkJoY25ObElGUmxlSFFnVkc5clpXNXpYRzRnS2k5Y2JseHVVR0Z5YzJWeUxuQnliM1J2ZEhsd1pTNXdZWEp6WlZSbGVIUWdQU0JtZFc1amRHbHZiaWdwSUh0Y2JpQWdkbUZ5SUdKdlpIa2dQU0IwYUdsekxuUnZhMlZ1TG5SbGVIUTdYRzVjYmlBZ2QyaHBiR1VnS0hSb2FYTXVjR1ZsYXlncExuUjVjR1VnUFQwOUlDZDBaWGgwSnlrZ2UxeHVJQ0FnSUdKdlpIa2dLejBnSjF4Y2JpY2dLeUIwYUdsekxtNWxlSFFvS1M1MFpYaDBPMXh1SUNCOVhHNWNiaUFnY21WMGRYSnVJSFJvYVhNdWFXNXNhVzVsTG05MWRIQjFkQ2hpYjJSNUtUdGNibjA3WEc1Y2JpOHFLbHh1SUNvZ1VHRnljMlVnUTNWeWNtVnVkQ0JVYjJ0bGJseHVJQ292WEc1Y2JsQmhjbk5sY2k1d2NtOTBiM1I1Y0dVdWRHOXJJRDBnWm5WdVkzUnBiMjRvS1NCN1hHNGdJSE4zYVhSamFDQW9kR2hwY3k1MGIydGxiaTUwZVhCbEtTQjdYRzRnSUNBZ1kyRnpaU0FuYzNCaFkyVW5PaUI3WEc0Z0lDQWdJQ0J5WlhSMWNtNGdKeWM3WEc0Z0lDQWdmVnh1SUNBZ0lHTmhjMlVnSjJoeUp6b2dlMXh1SUNBZ0lDQWdjbVYwZFhKdUlIUm9hWE11Y21WdVpHVnlaWEl1YUhJb0tUdGNiaUFnSUNCOVhHNGdJQ0FnWTJGelpTQW5hR1ZoWkdsdVp5YzZJSHRjYmlBZ0lDQWdJSEpsZEhWeWJpQjBhR2x6TG5KbGJtUmxjbVZ5TG1obFlXUnBibWNvWEc0Z0lDQWdJQ0FnSUhSb2FYTXVhVzVzYVc1bExtOTFkSEIxZENoMGFHbHpMblJ2YTJWdUxuUmxlSFFwTEZ4dUlDQWdJQ0FnSUNCMGFHbHpMblJ2YTJWdUxtUmxjSFJvTEZ4dUlDQWdJQ0FnSUNCMGFHbHpMblJ2YTJWdUxuUmxlSFFwTzF4dUlDQWdJSDFjYmlBZ0lDQmpZWE5sSUNkamIyUmxKem9nZTF4dUlDQWdJQ0FnY21WMGRYSnVJSFJvYVhNdWNtVnVaR1Z5WlhJdVkyOWtaU2gwYUdsekxuUnZhMlZ1TG5SbGVIUXNYRzRnSUNBZ0lDQWdJSFJvYVhNdWRHOXJaVzR1YkdGdVp5eGNiaUFnSUNBZ0lDQWdkR2hwY3k1MGIydGxiaTVsYzJOaGNHVmtLVHRjYmlBZ0lDQjlYRzRnSUNBZ1kyRnpaU0FuZEdGaWJHVW5PaUI3WEc0Z0lDQWdJQ0IyWVhJZ2FHVmhaR1Z5SUQwZ0p5ZGNiaUFnSUNBZ0lDQWdMQ0JpYjJSNUlEMGdKeWRjYmlBZ0lDQWdJQ0FnTENCcFhHNGdJQ0FnSUNBZ0lDd2djbTkzWEc0Z0lDQWdJQ0FnSUN3Z1kyVnNiRnh1SUNBZ0lDQWdJQ0FzSUdac1lXZHpYRzRnSUNBZ0lDQWdJQ3dnYWp0Y2JseHVJQ0FnSUNBZ0x5OGdhR1ZoWkdWeVhHNGdJQ0FnSUNCalpXeHNJRDBnSnljN1hHNGdJQ0FnSUNCbWIzSWdLR2tnUFNBd095QnBJRHdnZEdocGN5NTBiMnRsYmk1b1pXRmtaWEl1YkdWdVozUm9PeUJwS3lzcElIdGNiaUFnSUNBZ0lDQWdabXhoWjNNZ1BTQjdJR2hsWVdSbGNqb2dkSEoxWlN3Z1lXeHBaMjQ2SUhSb2FYTXVkRzlyWlc0dVlXeHBaMjViYVYwZ2ZUdGNiaUFnSUNBZ0lDQWdZMlZzYkNBclBTQjBhR2x6TG5KbGJtUmxjbVZ5TG5SaFlteGxZMlZzYkNoY2JpQWdJQ0FnSUNBZ0lDQjBhR2x6TG1sdWJHbHVaUzV2ZFhSd2RYUW9kR2hwY3k1MGIydGxiaTVvWldGa1pYSmJhVjBwTEZ4dUlDQWdJQ0FnSUNBZ0lIc2dhR1ZoWkdWeU9pQjBjblZsTENCaGJHbG5iam9nZEdocGN5NTBiMnRsYmk1aGJHbG5ibHRwWFNCOVhHNGdJQ0FnSUNBZ0lDazdYRzRnSUNBZ0lDQjlYRzRnSUNBZ0lDQm9aV0ZrWlhJZ0t6MGdkR2hwY3k1eVpXNWtaWEpsY2k1MFlXSnNaWEp2ZHloalpXeHNLVHRjYmx4dUlDQWdJQ0FnWm05eUlDaHBJRDBnTURzZ2FTQThJSFJvYVhNdWRHOXJaVzR1WTJWc2JITXViR1Z1WjNSb095QnBLeXNwSUh0Y2JpQWdJQ0FnSUNBZ2NtOTNJRDBnZEdocGN5NTBiMnRsYmk1alpXeHNjMXRwWFR0Y2JseHVJQ0FnSUNBZ0lDQmpaV3hzSUQwZ0p5YzdYRzRnSUNBZ0lDQWdJR1p2Y2lBb2FpQTlJREE3SUdvZ1BDQnliM2N1YkdWdVozUm9PeUJxS3lzcElIdGNiaUFnSUNBZ0lDQWdJQ0JqWld4c0lDczlJSFJvYVhNdWNtVnVaR1Z5WlhJdWRHRmliR1ZqWld4c0tGeHVJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NXBibXhwYm1VdWIzVjBjSFYwS0hKdmQxdHFYU2tzWEc0Z0lDQWdJQ0FnSUNBZ0lDQjdJR2hsWVdSbGNqb2dabUZzYzJVc0lHRnNhV2R1T2lCMGFHbHpMblJ2YTJWdUxtRnNhV2R1VzJwZElIMWNiaUFnSUNBZ0lDQWdJQ0FwTzF4dUlDQWdJQ0FnSUNCOVhHNWNiaUFnSUNBZ0lDQWdZbTlrZVNBclBTQjBhR2x6TG5KbGJtUmxjbVZ5TG5SaFlteGxjbTkzS0dObGJHd3BPMXh1SUNBZ0lDQWdmVnh1SUNBZ0lDQWdjbVYwZFhKdUlIUm9hWE11Y21WdVpHVnlaWEl1ZEdGaWJHVW9hR1ZoWkdWeUxDQmliMlI1S1R0Y2JpQWdJQ0I5WEc0Z0lDQWdZMkZ6WlNBbllteHZZMnR4ZFc5MFpWOXpkR0Z5ZENjNklIdGNiaUFnSUNBZ0lIWmhjaUJpYjJSNUlEMGdKeWM3WEc1Y2JpQWdJQ0FnSUhkb2FXeGxJQ2gwYUdsekxtNWxlSFFvS1M1MGVYQmxJQ0U5UFNBbllteHZZMnR4ZFc5MFpWOWxibVFuS1NCN1hHNGdJQ0FnSUNBZ0lHSnZaSGtnS3owZ2RHaHBjeTUwYjJzb0tUdGNiaUFnSUNBZ0lIMWNibHh1SUNBZ0lDQWdjbVYwZFhKdUlIUm9hWE11Y21WdVpHVnlaWEl1WW14dlkydHhkVzkwWlNoaWIyUjVLVHRjYmlBZ0lDQjlYRzRnSUNBZ1kyRnpaU0FuYkdsemRGOXpkR0Z5ZENjNklIdGNiaUFnSUNBZ0lIWmhjaUJpYjJSNUlEMGdKeWRjYmlBZ0lDQWdJQ0FnTENCdmNtUmxjbVZrSUQwZ2RHaHBjeTUwYjJ0bGJpNXZjbVJsY21Wa08xeHVYRzRnSUNBZ0lDQjNhR2xzWlNBb2RHaHBjeTV1WlhoMEtDa3VkSGx3WlNBaFBUMGdKMnhwYzNSZlpXNWtKeWtnZTF4dUlDQWdJQ0FnSUNCaWIyUjVJQ3M5SUhSb2FYTXVkRzlyS0NrN1hHNGdJQ0FnSUNCOVhHNWNiaUFnSUNBZ0lISmxkSFZ5YmlCMGFHbHpMbkpsYm1SbGNtVnlMbXhwYzNRb1ltOWtlU3dnYjNKa1pYSmxaQ2s3WEc0Z0lDQWdmVnh1SUNBZ0lHTmhjMlVnSjJ4cGMzUmZhWFJsYlY5emRHRnlkQ2M2SUh0Y2JpQWdJQ0FnSUhaaGNpQmliMlI1SUQwZ0p5YzdYRzVjYmlBZ0lDQWdJSGRvYVd4bElDaDBhR2x6TG01bGVIUW9LUzUwZVhCbElDRTlQU0FuYkdsemRGOXBkR1Z0WDJWdVpDY3BJSHRjYmlBZ0lDQWdJQ0FnWW05a2VTQXJQU0IwYUdsekxuUnZhMlZ1TG5SNWNHVWdQVDA5SUNkMFpYaDBKMXh1SUNBZ0lDQWdJQ0FnSUQ4Z2RHaHBjeTV3WVhKelpWUmxlSFFvS1Z4dUlDQWdJQ0FnSUNBZ0lEb2dkR2hwY3k1MGIyc29LVHRjYmlBZ0lDQWdJSDFjYmx4dUlDQWdJQ0FnY21WMGRYSnVJSFJvYVhNdWNtVnVaR1Z5WlhJdWJHbHpkR2wwWlcwb1ltOWtlU2s3WEc0Z0lDQWdmVnh1SUNBZ0lHTmhjMlVnSjJ4dmIzTmxYMmwwWlcxZmMzUmhjblFuT2lCN1hHNGdJQ0FnSUNCMllYSWdZbTlrZVNBOUlDY25PMXh1WEc0Z0lDQWdJQ0IzYUdsc1pTQW9kR2hwY3k1dVpYaDBLQ2t1ZEhsd1pTQWhQVDBnSjJ4cGMzUmZhWFJsYlY5bGJtUW5LU0I3WEc0Z0lDQWdJQ0FnSUdKdlpIa2dLejBnZEdocGN5NTBiMnNvS1R0Y2JpQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ2NtVjBkWEp1SUhSb2FYTXVjbVZ1WkdWeVpYSXViR2x6ZEdsMFpXMG9ZbTlrZVNrN1hHNGdJQ0FnZlZ4dUlDQWdJR05oYzJVZ0oyaDBiV3duT2lCN1hHNGdJQ0FnSUNCMllYSWdhSFJ0YkNBOUlDRjBhR2x6TG5SdmEyVnVMbkJ5WlNBbUppQWhkR2hwY3k1dmNIUnBiMjV6TG5CbFpHRnVkR2xqWEc0Z0lDQWdJQ0FnSUQ4Z2RHaHBjeTVwYm14cGJtVXViM1YwY0hWMEtIUm9hWE11ZEc5clpXNHVkR1Y0ZENsY2JpQWdJQ0FnSUNBZ09pQjBhR2x6TG5SdmEyVnVMblJsZUhRN1hHNGdJQ0FnSUNCeVpYUjFjbTRnZEdocGN5NXlaVzVrWlhKbGNpNW9kRzFzS0doMGJXd3BPMXh1SUNBZ0lIMWNiaUFnSUNCallYTmxJQ2R3WVhKaFozSmhjR2duT2lCN1hHNGdJQ0FnSUNCeVpYUjFjbTRnZEdocGN5NXlaVzVrWlhKbGNpNXdZWEpoWjNKaGNHZ29kR2hwY3k1cGJteHBibVV1YjNWMGNIVjBLSFJvYVhNdWRHOXJaVzR1ZEdWNGRDa3BPMXh1SUNBZ0lIMWNiaUFnSUNCallYTmxJQ2QwWlhoMEp6b2dlMXh1SUNBZ0lDQWdjbVYwZFhKdUlIUm9hWE11Y21WdVpHVnlaWEl1Y0dGeVlXZHlZWEJvS0hSb2FYTXVjR0Z5YzJWVVpYaDBLQ2twTzF4dUlDQWdJSDFjYmlBZ2ZWeHVmVHRjYmx4dUx5b3FYRzRnS2lCSVpXeHdaWEp6WEc0Z0tpOWNibHh1Wm5WdVkzUnBiMjRnWlhOallYQmxLR2gwYld3c0lHVnVZMjlrWlNrZ2UxeHVJQ0J5WlhSMWNtNGdhSFJ0YkZ4dUlDQWdJQzV5WlhCc1lXTmxLQ0ZsYm1OdlpHVWdQeUF2SmlnL0lTTS9YRngzS3pzcEwyY2dPaUF2Smk5bkxDQW5KbUZ0Y0RzbktWeHVJQ0FnSUM1eVpYQnNZV05sS0M4OEwyY3NJQ2NtYkhRN0p5bGNiaUFnSUNBdWNtVndiR0ZqWlNndlBpOW5MQ0FuSm1kME95Y3BYRzRnSUNBZ0xuSmxjR3hoWTJVb0wxd2lMMmNzSUNjbWNYVnZkRHNuS1Z4dUlDQWdJQzV5WlhCc1lXTmxLQzhuTDJjc0lDY21Jek01T3ljcE8xeHVmVnh1WEc1bWRXNWpkR2x2YmlCMWJtVnpZMkZ3WlNob2RHMXNLU0I3WEc0Z0lISmxkSFZ5YmlCb2RHMXNMbkpsY0d4aFkyVW9MeVlvV3lOY1hIZGRLeWs3TDJjc0lHWjFibU4wYVc5dUtGOHNJRzRwSUh0Y2JpQWdJQ0J1SUQwZ2JpNTBiMHh2ZDJWeVEyRnpaU2dwTzF4dUlDQWdJR2xtSUNodUlEMDlQU0FuWTI5c2IyNG5LU0J5WlhSMWNtNGdKem9uTzF4dUlDQWdJR2xtSUNodUxtTm9ZWEpCZENnd0tTQTlQVDBnSnlNbktTQjdYRzRnSUNBZ0lDQnlaWFIxY200Z2JpNWphR0Z5UVhRb01Ta2dQVDA5SUNkNEoxeHVJQ0FnSUNBZ0lDQS9JRk4wY21sdVp5NW1jbTl0UTJoaGNrTnZaR1VvY0dGeWMyVkpiblFvYmk1emRXSnpkSEpwYm1jb01pa3NJREUyS1NsY2JpQWdJQ0FnSUNBZ09pQlRkSEpwYm1jdVpuSnZiVU5vWVhKRGIyUmxLQ3R1TG5OMVluTjBjbWx1WnlneEtTazdYRzRnSUNBZ2ZWeHVJQ0FnSUhKbGRIVnliaUFuSnp0Y2JpQWdmU2s3WEc1OVhHNWNibVoxYm1OMGFXOXVJSEpsY0d4aFkyVW9jbVZuWlhnc0lHOXdkQ2tnZTF4dUlDQnlaV2RsZUNBOUlISmxaMlY0TG5OdmRYSmpaVHRjYmlBZ2IzQjBJRDBnYjNCMElIeDhJQ2NuTzF4dUlDQnlaWFIxY200Z1puVnVZM1JwYjI0Z2MyVnNaaWh1WVcxbExDQjJZV3dwSUh0Y2JpQWdJQ0JwWmlBb0lXNWhiV1VwSUhKbGRIVnliaUJ1WlhjZ1VtVm5SWGh3S0hKbFoyVjRMQ0J2Y0hRcE8xeHVJQ0FnSUhaaGJDQTlJSFpoYkM1emIzVnlZMlVnZkh3Z2RtRnNPMXh1SUNBZ0lIWmhiQ0E5SUhaaGJDNXlaWEJzWVdObEtDOG9YbnhiWGx4Y1cxMHBYRnhlTDJjc0lDY2tNU2NwTzF4dUlDQWdJSEpsWjJWNElEMGdjbVZuWlhndWNtVndiR0ZqWlNodVlXMWxMQ0IyWVd3cE8xeHVJQ0FnSUhKbGRIVnliaUJ6Wld4bU8xeHVJQ0I5TzF4dWZWeHVYRzVtZFc1amRHbHZiaUJ1YjI5d0tDa2dlMzFjYm01dmIzQXVaWGhsWXlBOUlHNXZiM0E3WEc1Y2JtWjFibU4wYVc5dUlHMWxjbWRsS0c5aWFpa2dlMXh1SUNCMllYSWdhU0E5SURGY2JpQWdJQ0FzSUhSaGNtZGxkRnh1SUNBZ0lDd2dhMlY1TzF4dVhHNGdJR1p2Y2lBb095QnBJRHdnWVhKbmRXMWxiblJ6TG14bGJtZDBhRHNnYVNzcktTQjdYRzRnSUNBZ2RHRnlaMlYwSUQwZ1lYSm5kVzFsYm5SelcybGRPMXh1SUNBZ0lHWnZjaUFvYTJWNUlHbHVJSFJoY21kbGRDa2dlMXh1SUNBZ0lDQWdhV1lnS0U5aWFtVmpkQzV3Y205MGIzUjVjR1V1YUdGelQzZHVVSEp2Y0dWeWRIa3VZMkZzYkNoMFlYSm5aWFFzSUd0bGVTa3BJSHRjYmlBZ0lDQWdJQ0FnYjJKcVcydGxlVjBnUFNCMFlYSm5aWFJiYTJWNVhUdGNiaUFnSUNBZ0lIMWNiaUFnSUNCOVhHNGdJSDFjYmx4dUlDQnlaWFIxY200Z2IySnFPMXh1ZlZ4dVhHNWNiaThxS2x4dUlDb2dUV0Z5YTJWa1hHNGdLaTljYmx4dVpuVnVZM1JwYjI0Z2JXRnlhMlZrS0hOeVl5d2diM0IwTENCallXeHNZbUZqYXlrZ2UxeHVJQ0JwWmlBb1kyRnNiR0poWTJzZ2ZId2dkSGx3Wlc5bUlHOXdkQ0E5UFQwZ0oyWjFibU4wYVc5dUp5a2dlMXh1SUNBZ0lHbG1JQ2doWTJGc2JHSmhZMnNwSUh0Y2JpQWdJQ0FnSUdOaGJHeGlZV05ySUQwZ2IzQjBPMXh1SUNBZ0lDQWdiM0IwSUQwZ2JuVnNiRHRjYmlBZ0lDQjlYRzVjYmlBZ0lDQnZjSFFnUFNCdFpYSm5aU2g3ZlN3Z2JXRnlhMlZrTG1SbFptRjFiSFJ6TENCdmNIUWdmSHdnZTMwcE8xeHVYRzRnSUNBZ2RtRnlJR2hwWjJoc2FXZG9kQ0E5SUc5d2RDNW9hV2RvYkdsbmFIUmNiaUFnSUNBZ0lDd2dkRzlyWlc1elhHNGdJQ0FnSUNBc0lIQmxibVJwYm1kY2JpQWdJQ0FnSUN3Z2FTQTlJREE3WEc1Y2JpQWdJQ0IwY25rZ2UxeHVJQ0FnSUNBZ2RHOXJaVzV6SUQwZ1RHVjRaWEl1YkdWNEtITnlZeXdnYjNCMEtWeHVJQ0FnSUgwZ1kyRjBZMmdnS0dVcElIdGNiaUFnSUNBZ0lISmxkSFZ5YmlCallXeHNZbUZqYXlobEtUdGNiaUFnSUNCOVhHNWNiaUFnSUNCd1pXNWthVzVuSUQwZ2RHOXJaVzV6TG14bGJtZDBhRHRjYmx4dUlDQWdJSFpoY2lCa2IyNWxJRDBnWm5WdVkzUnBiMjRvWlhKeUtTQjdYRzRnSUNBZ0lDQnBaaUFvWlhKeUtTQjdYRzRnSUNBZ0lDQWdJRzl3ZEM1b2FXZG9iR2xuYUhRZ1BTQm9hV2RvYkdsbmFIUTdYRzRnSUNBZ0lDQWdJSEpsZEhWeWJpQmpZV3hzWW1GamF5aGxjbklwTzF4dUlDQWdJQ0FnZlZ4dVhHNGdJQ0FnSUNCMllYSWdiM1YwTzF4dVhHNGdJQ0FnSUNCMGNua2dlMXh1SUNBZ0lDQWdJQ0J2ZFhRZ1BTQlFZWEp6WlhJdWNHRnljMlVvZEc5clpXNXpMQ0J2Y0hRcE8xeHVJQ0FnSUNBZ2ZTQmpZWFJqYUNBb1pTa2dlMXh1SUNBZ0lDQWdJQ0JsY25JZ1BTQmxPMXh1SUNBZ0lDQWdmVnh1WEc0Z0lDQWdJQ0J2Y0hRdWFHbG5hR3hwWjJoMElEMGdhR2xuYUd4cFoyaDBPMXh1WEc0Z0lDQWdJQ0J5WlhSMWNtNGdaWEp5WEc0Z0lDQWdJQ0FnSUQ4Z1kyRnNiR0poWTJzb1pYSnlLVnh1SUNBZ0lDQWdJQ0E2SUdOaGJHeGlZV05yS0c1MWJHd3NJRzkxZENrN1hHNGdJQ0FnZlR0Y2JseHVJQ0FnSUdsbUlDZ2hhR2xuYUd4cFoyaDBJSHg4SUdocFoyaHNhV2RvZEM1c1pXNW5kR2dnUENBektTQjdYRzRnSUNBZ0lDQnlaWFIxY200Z1pHOXVaU2dwTzF4dUlDQWdJSDFjYmx4dUlDQWdJR1JsYkdWMFpTQnZjSFF1YUdsbmFHeHBaMmgwTzF4dVhHNGdJQ0FnYVdZZ0tDRndaVzVrYVc1bktTQnlaWFIxY200Z1pHOXVaU2dwTzF4dVhHNGdJQ0FnWm05eUlDZzdJR2tnUENCMGIydGxibk11YkdWdVozUm9PeUJwS3lzcElIdGNiaUFnSUNBZ0lDaG1kVzVqZEdsdmJpaDBiMnRsYmlrZ2UxeHVJQ0FnSUNBZ0lDQnBaaUFvZEc5clpXNHVkSGx3WlNBaFBUMGdKMk52WkdVbktTQjdYRzRnSUNBZ0lDQWdJQ0FnY21WMGRYSnVJQzB0Y0dWdVpHbHVaeUI4ZkNCa2IyNWxLQ2s3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ2NtVjBkWEp1SUdocFoyaHNhV2RvZENoMGIydGxiaTUwWlhoMExDQjBiMnRsYmk1c1lXNW5MQ0JtZFc1amRHbHZiaWhsY25Jc0lHTnZaR1VwSUh0Y2JpQWdJQ0FnSUNBZ0lDQnBaaUFvWlhKeUtTQnlaWFIxY200Z1pHOXVaU2hsY25JcE8xeHVJQ0FnSUNBZ0lDQWdJR2xtSUNoamIyUmxJRDA5SUc1MWJHd2dmSHdnWTI5a1pTQTlQVDBnZEc5clpXNHVkR1Y0ZENrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnY21WMGRYSnVJQzB0Y0dWdVpHbHVaeUI4ZkNCa2IyNWxLQ2s3WEc0Z0lDQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ0lDQWdJSFJ2YTJWdUxuUmxlSFFnUFNCamIyUmxPMXh1SUNBZ0lDQWdJQ0FnSUhSdmEyVnVMbVZ6WTJGd1pXUWdQU0IwY25WbE8xeHVJQ0FnSUNBZ0lDQWdJQzB0Y0dWdVpHbHVaeUI4ZkNCa2IyNWxLQ2s3WEc0Z0lDQWdJQ0FnSUgwcE8xeHVJQ0FnSUNBZ2ZTa29kRzlyWlc1elcybGRLVHRjYmlBZ0lDQjlYRzVjYmlBZ0lDQnlaWFIxY200N1hHNGdJSDFjYmlBZ2RISjVJSHRjYmlBZ0lDQnBaaUFvYjNCMEtTQnZjSFFnUFNCdFpYSm5aU2g3ZlN3Z2JXRnlhMlZrTG1SbFptRjFiSFJ6TENCdmNIUXBPMXh1SUNBZ0lISmxkSFZ5YmlCUVlYSnpaWEl1Y0dGeWMyVW9UR1Y0WlhJdWJHVjRLSE55WXl3Z2IzQjBLU3dnYjNCMEtUdGNiaUFnZlNCallYUmphQ0FvWlNrZ2UxeHVJQ0FnSUdVdWJXVnpjMkZuWlNBclBTQW5YRnh1VUd4bFlYTmxJSEpsY0c5eWRDQjBhR2x6SUhSdklHaDBkSEJ6T2k4dloybDBhSFZpTG1OdmJTOWphR3BxTDIxaGNtdGxaQzRuTzF4dUlDQWdJR2xtSUNnb2IzQjBJSHg4SUcxaGNtdGxaQzVrWldaaGRXeDBjeWt1YzJsc1pXNTBLU0I3WEc0Z0lDQWdJQ0J5WlhSMWNtNGdKenh3UGtGdUlHVnljbTl5SUc5alkzVnlaV1E2UEM5d1BqeHdjbVUrSjF4dUlDQWdJQ0FnSUNBcklHVnpZMkZ3WlNobExtMWxjM05oWjJVZ0t5QW5KeXdnZEhKMVpTbGNiaUFnSUNBZ0lDQWdLeUFuUEM5d2NtVStKenRjYmlBZ0lDQjlYRzRnSUNBZ2RHaHliM2NnWlR0Y2JpQWdmVnh1ZlZ4dVhHNHZLaXBjYmlBcUlFOXdkR2x2Ym5OY2JpQXFMMXh1WEc1dFlYSnJaV1F1YjNCMGFXOXVjeUE5WEc1dFlYSnJaV1F1YzJWMFQzQjBhVzl1Y3lBOUlHWjFibU4wYVc5dUtHOXdkQ2tnZTF4dUlDQnRaWEpuWlNodFlYSnJaV1F1WkdWbVlYVnNkSE1zSUc5d2RDazdYRzRnSUhKbGRIVnliaUJ0WVhKclpXUTdYRzU5TzF4dVhHNXRZWEpyWldRdVpHVm1ZWFZzZEhNZ1BTQjdYRzRnSUdkbWJUb2dkSEoxWlN4Y2JpQWdkR0ZpYkdWek9pQjBjblZsTEZ4dUlDQmljbVZoYTNNNklHWmhiSE5sTEZ4dUlDQndaV1JoYm5ScFl6b2dabUZzYzJVc1hHNGdJSE5oYm1sMGFYcGxPaUJtWVd4elpTeGNiaUFnYzJGdWFYUnBlbVZ5T2lCdWRXeHNMRnh1SUNCdFlXNW5iR1U2SUhSeWRXVXNYRzRnSUhOdFlYSjBUR2x6ZEhNNklHWmhiSE5sTEZ4dUlDQnphV3hsYm5RNklHWmhiSE5sTEZ4dUlDQm9hV2RvYkdsbmFIUTZJRzUxYkd3c1hHNGdJR3hoYm1kUWNtVm1hWGc2SUNkc1lXNW5MU2NzWEc0Z0lITnRZWEowZVhCaGJuUnpPaUJtWVd4elpTeGNiaUFnYUdWaFpHVnlVSEpsWm1sNE9pQW5KeXhjYmlBZ2NtVnVaR1Z5WlhJNklHNWxkeUJTWlc1a1pYSmxjaXhjYmlBZ2VHaDBiV3c2SUdaaGJITmxYRzU5TzF4dVhHNHZLaXBjYmlBcUlFVjRjRzl6WlZ4dUlDb3ZYRzVjYm0xaGNtdGxaQzVRWVhKelpYSWdQU0JRWVhKelpYSTdYRzV0WVhKclpXUXVjR0Z5YzJWeUlEMGdVR0Z5YzJWeUxuQmhjbk5sTzF4dVhHNXRZWEpyWldRdVVtVnVaR1Z5WlhJZ1BTQlNaVzVrWlhKbGNqdGNibHh1YldGeWEyVmtMa3hsZUdWeUlEMGdUR1Y0WlhJN1hHNXRZWEpyWldRdWJHVjRaWElnUFNCTVpYaGxjaTVzWlhnN1hHNWNibTFoY210bFpDNUpibXhwYm1WTVpYaGxjaUE5SUVsdWJHbHVaVXhsZUdWeU8xeHViV0Z5YTJWa0xtbHViR2x1WlV4bGVHVnlJRDBnU1c1c2FXNWxUR1Y0WlhJdWIzVjBjSFYwTzF4dVhHNXRZWEpyWldRdWNHRnljMlVnUFNCdFlYSnJaV1E3WEc1Y2JtbG1JQ2gwZVhCbGIyWWdiVzlrZFd4bElDRTlQU0FuZFc1a1pXWnBibVZrSnlBbUppQjBlWEJsYjJZZ1pYaHdiM0owY3lBOVBUMGdKMjlpYW1WamRDY3BJSHRjYmlBZ2JXOWtkV3hsTG1WNGNHOXlkSE1nUFNCdFlYSnJaV1E3WEc1OUlHVnNjMlVnYVdZZ0tIUjVjR1Z2WmlCa1pXWnBibVVnUFQwOUlDZG1kVzVqZEdsdmJpY2dKaVlnWkdWbWFXNWxMbUZ0WkNrZ2UxeHVJQ0JrWldacGJtVW9ablZ1WTNScGIyNG9LU0I3SUhKbGRIVnliaUJ0WVhKclpXUTdJSDBwTzF4dWZTQmxiSE5sSUh0Y2JpQWdkR2hwY3k1dFlYSnJaV1FnUFNCdFlYSnJaV1E3WEc1OVhHNWNibjBwTG1OaGJHd29ablZ1WTNScGIyNG9LU0I3WEc0Z0lISmxkSFZ5YmlCMGFHbHpJSHg4SUNoMGVYQmxiMllnZDJsdVpHOTNJQ0U5UFNBbmRXNWtaV1pwYm1Wa0p5QS9JSGRwYm1SdmR5QTZJR2RzYjJKaGJDazdYRzU5S0NrcE8xeHVJbDE5IiwiXG52YXIgZW52ID0gcmVxdWlyZSgnLi9lbnYuanMnKTtcbnZhciBMZXhlciA9IHJlcXVpcmUoXCIuL3BhcnNlci9MZXhlci5qc1wiKTtcbnZhciBQYXJzZXIgPSByZXF1aXJlKFwiLi9wYXJzZXIvUGFyc2VyLmpzXCIpO1xudmFyIGNvbmZpZyA9IHJlcXVpcmUoXCIuL2NvbmZpZy5qc1wiKTtcbnZhciBfID0gcmVxdWlyZSgnLi91dGlsJyk7XG52YXIgZXh0ZW5kID0gcmVxdWlyZSgnLi9oZWxwZXIvZXh0ZW5kLmpzJyk7XG5pZihlbnYuYnJvd3Nlcil7XG4gIHZhciBjb21iaW5lID0gcmVxdWlyZSgnLi9oZWxwZXIvY29tYmluZS5qcycpO1xuICB2YXIgZG9tID0gcmVxdWlyZShcIi4vZG9tLmpzXCIpO1xuICB2YXIgd2Fsa2VycyA9IHJlcXVpcmUoJy4vd2Fsa2Vycy5qcycpO1xuICB2YXIgR3JvdXAgPSByZXF1aXJlKCcuL2dyb3VwLmpzJyk7XG59XG52YXIgZXZlbnRzID0gcmVxdWlyZSgnLi9oZWxwZXIvZXZlbnQuanMnKTtcbnZhciBXYXRjaGVyID0gcmVxdWlyZSgnLi9oZWxwZXIvd2F0Y2hlci5qcycpO1xudmFyIHBhcnNlID0gcmVxdWlyZSgnLi9oZWxwZXIvcGFyc2UuanMnKTtcbnZhciBmaWx0ZXIgPSByZXF1aXJlKCcuL2hlbHBlci9maWx0ZXIuanMnKTtcbnZhciBkb2MgPSBkb20uZG9jO1xuXG5cbi8qKlxuKiBgUmVndWxhcmAgaXMgcmVndWxhcmpzJ3MgTmFtZVNwYWNlIGFuZCBCYXNlQ2xhc3MuIEV2ZXJ5IENvbXBvbmVudCBpcyBpbmhlcml0ZWQgZnJvbSBpdFxuKiBcbiogQGNsYXNzIFJlZ3VsYXJcbiogQG1vZHVsZSBSZWd1bGFyXG4qIEBjb25zdHJ1Y3RvclxuKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjb21wb25lbnRcbiovXG52YXIgUmVndWxhciA9IGZ1bmN0aW9uKGRlZmluaXRpb24sIG9wdGlvbnMpe1xuICB2YXIgcHJldlJ1bm5pbmcgPSBlbnYuaXNSdW5uaW5nO1xuICBlbnYuaXNSdW5uaW5nID0gdHJ1ZTtcbiAgdmFyIG5vZGUsIHRlbXBsYXRlO1xuXG4gIGRlZmluaXRpb24gPSBkZWZpbml0aW9uIHx8IHt9O1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBkZWZpbml0aW9uLmRhdGEgPSBkZWZpbml0aW9uLmRhdGEgfHwge307XG4gIGRlZmluaXRpb24uY29tcHV0ZWQgPSBkZWZpbml0aW9uLmNvbXB1dGVkIHx8IHt9O1xuICBkZWZpbml0aW9uLmV2ZW50cyA9IGRlZmluaXRpb24uZXZlbnRzIHx8IHt9O1xuICBpZih0aGlzLmRhdGEpIF8uZXh0ZW5kKGRlZmluaXRpb24uZGF0YSwgdGhpcy5kYXRhKTtcbiAgaWYodGhpcy5jb21wdXRlZCkgXy5leHRlbmQoZGVmaW5pdGlvbi5jb21wdXRlZCwgdGhpcy5jb21wdXRlZCk7XG4gIGlmKHRoaXMuZXZlbnRzKSBfLmV4dGVuZChkZWZpbml0aW9uLmV2ZW50cywgdGhpcy5ldmVudHMpO1xuXG4gIF8uZXh0ZW5kKHRoaXMsIGRlZmluaXRpb24sIHRydWUpO1xuICBpZih0aGlzLiRwYXJlbnQpe1xuICAgICB0aGlzLiRwYXJlbnQuX2FwcGVuZCh0aGlzKTtcbiAgfVxuICB0aGlzLl9jaGlsZHJlbiA9IFtdO1xuICB0aGlzLiRyZWZzID0ge307XG5cbiAgdGVtcGxhdGUgPSB0aGlzLnRlbXBsYXRlO1xuXG4gIC8vIHRlbXBsYXRlIGlzIGEgc3RyaW5nIChsZW4gPCAxNikuIHdlIHdpbGwgZmluZCBpdCBjb250YWluZXIgZmlyc3RcbiAgaWYoKHR5cGVvZiB0ZW1wbGF0ZSA9PT0gJ3N0cmluZycgJiYgdGVtcGxhdGUubGVuZ3RoIDwgMTYpICYmIChub2RlID0gZG9tLmZpbmQodGVtcGxhdGUpKSkge1xuICAgIHRlbXBsYXRlID0gbm9kZS5pbm5lckhUTUw7XG4gIH1cbiAgLy8gaWYgdGVtcGxhdGUgaXMgYSB4bWxcbiAgaWYodGVtcGxhdGUgJiYgdGVtcGxhdGUubm9kZVR5cGUpIHRlbXBsYXRlID0gdGVtcGxhdGUuaW5uZXJIVE1MO1xuICBpZih0eXBlb2YgdGVtcGxhdGUgPT09ICdzdHJpbmcnKSB0aGlzLnRlbXBsYXRlID0gbmV3IFBhcnNlcih0ZW1wbGF0ZSkucGFyc2UoKTtcblxuICB0aGlzLmNvbXB1dGVkID0gaGFuZGxlQ29tcHV0ZWQodGhpcy5jb21wdXRlZCk7XG4gIHRoaXMuJHJvb3QgPSB0aGlzLiRyb290IHx8IHRoaXM7XG4gIC8vIGlmIGhhdmUgZXZlbnRzXG4gIGlmKHRoaXMuZXZlbnRzKXtcbiAgICB0aGlzLiRvbih0aGlzLmV2ZW50cyk7XG4gIH1cbiAgdGhpcy4kZW1pdChcIiRjb25maWdcIik7XG4gIHRoaXMuY29uZmlnICYmIHRoaXMuY29uZmlnKHRoaXMuZGF0YSk7XG4gIGlmKHRoaXMuX2JvZHkgJiYgdGhpcy5fYm9keS5sZW5ndGgpe1xuICAgIHRoaXMuJGJvZHkgPSBfLmdldENvbXBpbGVGbih0aGlzLl9ib2R5LCB0aGlzLiRwYXJlbnQsIHtcbiAgICAgIG91dGVyOiB0aGlzLFxuICAgICAgbmFtZXNwYWNlOiBvcHRpb25zLm5hbWVzcGFjZSxcbiAgICAgIGV4dHJhOiBvcHRpb25zLmV4dHJhLFxuICAgICAgcmVjb3JkOiB0cnVlXG4gICAgfSlcbiAgICB0aGlzLl9ib2R5ID0gbnVsbDtcbiAgfVxuICAvLyBoYW5kbGUgY29tcHV0ZWRcbiAgaWYodGVtcGxhdGUpe1xuICAgIHRoaXMuZ3JvdXAgPSB0aGlzLiRjb21waWxlKHRoaXMudGVtcGxhdGUsIHtuYW1lc3BhY2U6IG9wdGlvbnMubmFtZXNwYWNlfSk7XG4gICAgY29tYmluZS5ub2RlKHRoaXMpO1xuICB9XG5cblxuICBpZighdGhpcy4kcGFyZW50KSB0aGlzLiR1cGRhdGUoKTtcbiAgdGhpcy4kcmVhZHkgPSB0cnVlO1xuICB0aGlzLiRlbWl0KFwiJGluaXRcIik7XG4gIGlmKCB0aGlzLmluaXQgKSB0aGlzLmluaXQodGhpcy5kYXRhKTtcblxuICAvLyBAVE9ETzogcmVtb3ZlLCBtYXliZSAsIHRoZXJlIGlzIG5vIG5lZWQgdG8gdXBkYXRlIGFmdGVyIGluaXQ7IFxuICAvLyBpZih0aGlzLiRyb290ID09PSB0aGlzKSB0aGlzLiR1cGRhdGUoKTtcbiAgZW52LmlzUnVubmluZyA9IHByZXZSdW5uaW5nO1xuXG4gIC8vIGNoaWxkcmVuIGlzIG5vdCByZXF1aXJlZDtcbn1cblxuXG53YWxrZXJzICYmICh3YWxrZXJzLlJlZ3VsYXIgPSBSZWd1bGFyKTtcblxuXG4vLyBkZXNjcmlwdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gMS4gUmVndWxhciBhbmQgZGVyaXZlZCBDbGFzcyB1c2Ugc2FtZSBmaWx0ZXJcbl8uZXh0ZW5kKFJlZ3VsYXIsIHtcbiAgLy8gcHJpdmF0ZSBkYXRhIHN0dWZmXG4gIF9kaXJlY3RpdmVzOiB7IF9fcmVnZXhwX186W10gfSxcbiAgX3BsdWdpbnM6IHt9LFxuICBfcHJvdG9Jbmhlcml0Q2FjaGU6IFsgJ2RpcmVjdGl2ZScsICd1c2UnXSAsXG4gIF9fYWZ0ZXJfXzogZnVuY3Rpb24oc3Vwciwgbykge1xuXG4gICAgdmFyIHRlbXBsYXRlO1xuICAgIHRoaXMuX19hZnRlcl9fID0gc3Vwci5fX2FmdGVyX187XG5cbiAgICAvLyB1c2UgbmFtZSBtYWtlIHRoZSBjb21wb25lbnQgZ2xvYmFsLlxuICAgIGlmKG8ubmFtZSkgUmVndWxhci5jb21wb25lbnQoby5uYW1lLCB0aGlzKTtcbiAgICAvLyB0aGlzLnByb3RvdHlwZS50ZW1wbGF0ZSA9IGRvbS5pbml0VGVtcGxhdGUobylcbiAgICBpZih0ZW1wbGF0ZSA9IG8udGVtcGxhdGUpe1xuICAgICAgdmFyIG5vZGUsIG5hbWU7XG4gICAgICBpZiggdHlwZW9mIHRlbXBsYXRlID09PSAnc3RyaW5nJyAmJiB0ZW1wbGF0ZS5sZW5ndGggPCAxNiAmJiAoIG5vZGUgPSBkb20uZmluZCggdGVtcGxhdGUgKSkgKXtcbiAgICAgICAgdGVtcGxhdGUgPSBub2RlLmlubmVySFRNTDtcbiAgICAgICAgaWYobmFtZSA9IGRvbS5hdHRyKG5vZGUsICduYW1lJykpIFJlZ3VsYXIuY29tcG9uZW50KG5hbWUsIHRoaXMpO1xuICAgICAgfVxuXG4gICAgICBpZih0ZW1wbGF0ZS5ub2RlVHlwZSkgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5pbm5lckhUTUw7XG5cbiAgICAgIGlmKHR5cGVvZiB0ZW1wbGF0ZSA9PT0gJ3N0cmluZycpe1xuICAgICAgICB0aGlzLnByb3RvdHlwZS50ZW1wbGF0ZSA9IG5ldyBQYXJzZXIodGVtcGxhdGUpLnBhcnNlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYoby5jb21wdXRlZCkgdGhpcy5wcm90b3R5cGUuY29tcHV0ZWQgPSBoYW5kbGVDb21wdXRlZChvLmNvbXB1dGVkKTtcbiAgICAvLyBpbmhlcml0IGRpcmVjdGl2ZSBhbmQgb3RoZXIgY29uZmlnIGZyb20gc3VwclxuICAgIFJlZ3VsYXIuX2luaGVyaXRDb25maWcodGhpcywgc3Vwcik7XG5cbiAgfSxcbiAgLyoqXG4gICAqIERlZmluZSBhIGRpcmVjdGl2ZVxuICAgKlxuICAgKiBAbWV0aG9kIGRpcmVjdGl2ZVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IENvcHkgb2YgLi4uXG4gICAqLyAgXG4gIGRpcmVjdGl2ZTogZnVuY3Rpb24obmFtZSwgY2ZnKXtcblxuICAgIGlmKF8udHlwZU9mKG5hbWUpID09PSBcIm9iamVjdFwiKXtcbiAgICAgIGZvcih2YXIgayBpbiBuYW1lKXtcbiAgICAgICAgaWYobmFtZS5oYXNPd25Qcm9wZXJ0eShrKSkgdGhpcy5kaXJlY3RpdmUoaywgbmFtZVtrXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdmFyIHR5cGUgPSBfLnR5cGVPZihuYW1lKTtcbiAgICB2YXIgZGlyZWN0aXZlcyA9IHRoaXMuX2RpcmVjdGl2ZXMsIGRpcmVjdGl2ZTtcbiAgICBpZihjZmcgPT0gbnVsbCl7XG4gICAgICBpZiggdHlwZSA9PT0gXCJzdHJpbmdcIiAmJiAoZGlyZWN0aXZlID0gZGlyZWN0aXZlc1tuYW1lXSkgKSByZXR1cm4gZGlyZWN0aXZlO1xuICAgICAgZWxzZXtcbiAgICAgICAgdmFyIHJlZ2V4cCA9IGRpcmVjdGl2ZXMuX19yZWdleHBfXztcbiAgICAgICAgZm9yKHZhciBpID0gMCwgbGVuID0gcmVnZXhwLmxlbmd0aDsgaSA8IGxlbiA7IGkrKyl7XG4gICAgICAgICAgZGlyZWN0aXZlID0gcmVnZXhwW2ldO1xuICAgICAgICAgIHZhciB0ZXN0ID0gZGlyZWN0aXZlLnJlZ2V4cC50ZXN0KG5hbWUpO1xuICAgICAgICAgIGlmKHRlc3QpIHJldHVybiBkaXJlY3RpdmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmKHR5cGVvZiBjZmcgPT09ICdmdW5jdGlvbicpIGNmZyA9IHsgbGluazogY2ZnIH0gXG4gICAgaWYodHlwZSA9PT0gJ3N0cmluZycpIGRpcmVjdGl2ZXNbbmFtZV0gPSBjZmc7XG4gICAgZWxzZSBpZih0eXBlID09PSAncmVnZXhwJyl7XG4gICAgICBjZmcucmVnZXhwID0gbmFtZTtcbiAgICAgIGRpcmVjdGl2ZXMuX19yZWdleHBfXy5wdXNoKGNmZylcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfSxcbiAgcGx1Z2luOiBmdW5jdGlvbihuYW1lLCBmbil7XG4gICAgdmFyIHBsdWdpbnMgPSB0aGlzLl9wbHVnaW5zO1xuICAgIGlmKGZuID09IG51bGwpIHJldHVybiBwbHVnaW5zW25hbWVdO1xuICAgIHBsdWdpbnNbbmFtZV0gPSBmbjtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgdXNlOiBmdW5jdGlvbihmbil7XG4gICAgaWYodHlwZW9mIGZuID09PSBcInN0cmluZ1wiKSBmbiA9IFJlZ3VsYXIucGx1Z2luKGZuKTtcbiAgICBpZih0eXBlb2YgZm4gIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRoaXM7XG4gICAgZm4odGhpcywgUmVndWxhcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIC8vIGNvbmZpZyB0aGUgUmVndWxhcmpzJ3MgZ2xvYmFsXG4gIGNvbmZpZzogZnVuY3Rpb24obmFtZSwgdmFsdWUpe1xuICAgIHZhciBuZWVkR2VuTGV4ZXIgPSBmYWxzZTtcbiAgICBpZih0eXBlb2YgbmFtZSA9PT0gXCJvYmplY3RcIil7XG4gICAgICBmb3IodmFyIGkgaW4gbmFtZSl7XG4gICAgICAgIC8vIGlmIHlvdSBjb25maWdcbiAgICAgICAgaWYoIGkgPT09XCJFTkRcIiB8fCBpPT09J0JFR0lOJyApICBuZWVkR2VuTGV4ZXIgPSB0cnVlO1xuICAgICAgICBjb25maWdbaV0gPSBuYW1lW2ldO1xuICAgICAgfVxuICAgIH1cbiAgICBpZihuZWVkR2VuTGV4ZXIpIExleGVyLnNldHVwKCk7XG4gIH0sXG4gIGV4cHJlc3Npb246IHBhcnNlLmV4cHJlc3Npb24sXG4gIFBhcnNlcjogUGFyc2VyLFxuICBMZXhlcjogTGV4ZXIsXG4gIF9hZGRQcm90b0luaGVyaXRDYWNoZTogZnVuY3Rpb24obmFtZSwgdHJhbnNmb3JtKXtcbiAgICBpZiggQXJyYXkuaXNBcnJheSggbmFtZSApICl7XG4gICAgICByZXR1cm4gbmFtZS5mb3JFYWNoKFJlZ3VsYXIuX2FkZFByb3RvSW5oZXJpdENhY2hlKTtcbiAgICB9XG4gICAgdmFyIGNhY2hlS2V5ID0gXCJfXCIgKyBuYW1lICsgXCJzXCJcbiAgICBSZWd1bGFyLl9wcm90b0luaGVyaXRDYWNoZS5wdXNoKG5hbWUpXG4gICAgUmVndWxhcltjYWNoZUtleV0gPSB7fTtcbiAgICBpZihSZWd1bGFyW25hbWVdKSByZXR1cm47XG4gICAgUmVndWxhcltuYW1lXSA9IGZ1bmN0aW9uKGtleSwgY2ZnKXtcbiAgICAgIHZhciBjYWNoZSA9IHRoaXNbY2FjaGVLZXldO1xuXG4gICAgICBpZih0eXBlb2Yga2V5ID09PSBcIm9iamVjdFwiKXtcbiAgICAgICAgZm9yKHZhciBpIGluIGtleSl7XG4gICAgICAgICAgaWYoa2V5Lmhhc093blByb3BlcnR5KGkpKSB0aGlzW25hbWVdKGksIGtleVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZihjZmcgPT0gbnVsbCkgcmV0dXJuIGNhY2hlW2tleV07XG4gICAgICBjYWNoZVtrZXldID0gdHJhbnNmb3JtPyB0cmFuc2Zvcm0oY2ZnKSA6IGNmZztcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSxcbiAgX2luaGVyaXRDb25maWc6IGZ1bmN0aW9uKHNlbGYsIHN1cHIpe1xuXG4gICAgLy8gcHJvdG90eXBlIGluaGVyaXQgc29tZSBSZWd1bGFyIHByb3BlcnR5XG4gICAgLy8gc28gZXZlcnkgQ29tcG9uZW50IHdpbGwgaGF2ZSBvd24gY29udGFpbmVyIHRvIHNlcnZlIGRpcmVjdGl2ZSwgZmlsdGVyIGV0Yy4uXG4gICAgdmFyIGRlZnMgPSBSZWd1bGFyLl9wcm90b0luaGVyaXRDYWNoZTtcbiAgICB2YXIga2V5cyA9IF8uc2xpY2UoZGVmcyk7XG4gICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7XG4gICAgICBzZWxmW2tleV0gPSBzdXByW2tleV07XG4gICAgICB2YXIgY2FjaGVLZXkgPSAnXycgKyBrZXkgKyAncyc7XG4gICAgICBpZihzdXByW2NhY2hlS2V5XSkgc2VsZltjYWNoZUtleV0gPSBfLmNyZWF0ZU9iamVjdChzdXByW2NhY2hlS2V5XSk7XG4gICAgfSlcbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuXG59KTtcblxuZXh0ZW5kKFJlZ3VsYXIpO1xuXG5SZWd1bGFyLl9hZGRQcm90b0luaGVyaXRDYWNoZShcImNvbXBvbmVudFwiKVxuXG5SZWd1bGFyLl9hZGRQcm90b0luaGVyaXRDYWNoZShcImZpbHRlclwiLCBmdW5jdGlvbihjZmcpe1xuICByZXR1cm4gdHlwZW9mIGNmZyA9PT0gXCJmdW5jdGlvblwiPyB7Z2V0OiBjZmd9OiBjZmc7XG59KVxuXG5cbmV2ZW50cy5taXhUbyhSZWd1bGFyKTtcbldhdGNoZXIubWl4VG8oUmVndWxhcik7XG5cblJlZ3VsYXIuaW1wbGVtZW50KHtcbiAgaW5pdDogZnVuY3Rpb24oKXt9LFxuICBjb25maWc6IGZ1bmN0aW9uKCl7fSxcbiAgZGVzdHJveTogZnVuY3Rpb24oKXtcbiAgICAvLyBkZXN0cm95IGV2ZW50IHdvbnQgcHJvcGdhdGlvbjtcbiAgICB0aGlzLiRlbWl0KFwiJGRlc3Ryb3lcIik7XG4gICAgdGhpcy5ncm91cCAmJiB0aGlzLmdyb3VwLmRlc3Ryb3kodHJ1ZSk7XG4gICAgdGhpcy5ncm91cCA9IG51bGw7XG4gICAgdGhpcy5wYXJlbnROb2RlID0gbnVsbDtcbiAgICB0aGlzLl93YXRjaGVycyA9IG51bGw7XG4gICAgdGhpcy5fY2hpbGRyZW4gPSBbXTtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy4kcGFyZW50O1xuICAgIGlmKHBhcmVudCl7XG4gICAgICB2YXIgaW5kZXggPSBwYXJlbnQuX2NoaWxkcmVuLmluZGV4T2YodGhpcyk7XG4gICAgICBwYXJlbnQuX2NoaWxkcmVuLnNwbGljZShpbmRleCwxKTtcbiAgICB9XG4gICAgdGhpcy4kcGFyZW50ID0gbnVsbDtcbiAgICB0aGlzLiRyb290ID0gbnVsbDtcbiAgICB0aGlzLl9oYW5kbGVzID0gbnVsbDtcbiAgICB0aGlzLiRyZWZzID0gbnVsbDtcbiAgfSxcblxuICAvKipcbiAgICogY29tcGlsZSBhIGJsb2NrIGFzdCA7IHJldHVybiBhIGdyb3VwO1xuICAgKiBAcGFyYW0gIHtBcnJheX0gcGFyc2VkIGFzdFxuICAgKiBAcGFyYW0gIHtbdHlwZV19IHJlY29yZFxuICAgKiBAcmV0dXJuIHtbdHlwZV19XG4gICAqL1xuICAkY29tcGlsZTogZnVuY3Rpb24oYXN0LCBvcHRpb25zKXtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBpZih0eXBlb2YgYXN0ID09PSAnc3RyaW5nJyl7XG4gICAgICBhc3QgPSBuZXcgUGFyc2VyKGFzdCkucGFyc2UoKVxuICAgIH1cbiAgICB2YXIgcHJlRXh0ID0gdGhpcy5fX2V4dF9fLFxuICAgICAgcmVjb3JkID0gb3B0aW9ucy5yZWNvcmQsIFxuICAgICAgcmVjb3JkcztcblxuICAgIGlmKG9wdGlvbnMuZXh0cmEpIHRoaXMuX19leHRfXyA9IG9wdGlvbnMuZXh0cmE7XG5cbiAgICBpZihyZWNvcmQpIHRoaXMuX3JlY29yZCgpO1xuICAgIHZhciBncm91cCA9IHRoaXMuX3dhbGsoYXN0LCBvcHRpb25zKTtcbiAgICBpZihyZWNvcmQpe1xuICAgICAgcmVjb3JkcyA9IHRoaXMuX3JlbGVhc2UoKTtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIGlmKHJlY29yZHMubGVuZ3RoKXtcbiAgICAgICAgLy8gYXV0byBkZXN0cm95IGFsbCB3YXRoZXI7XG4gICAgICAgIGdyb3VwLm9uZGVzdHJveSA9IGZ1bmN0aW9uKCl7IHNlbGYuJHVud2F0Y2gocmVjb3Jkcyk7IH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYob3B0aW9ucy5leHRyYSkgdGhpcy5fX2V4dF9fID0gcHJlRXh0O1xuICAgIHJldHVybiBncm91cDtcbiAgfSxcblxuXG4gIC8qKlxuICAgKiBjcmVhdGUgdHdvLXdheSBiaW5kaW5nIHdpdGggYW5vdGhlciBjb21wb25lbnQ7XG4gICAqICp3YXJuKjogXG4gICAqICAgZXhwcjEgYW5kIGV4cHIyIG11c3QgY2FuIG9wZXJhdGUgc2V0JmdldCwgZm9yIGV4YW1wbGU6IHRoZSAnYS5iJyBvciAnYVtiICsgMV0nIGlzIHNldC1hYmxlLCBidXQgJ2EuYiArIDEnIGlzIG5vdCwgXG4gICAqICAgYmVhY3VzZSBSZWd1bGFyIGRvbnQga25vdyBob3cgdG8gaW52ZXJzZSBzZXQgdGhyb3VnaCB0aGUgZXhwcmVzc2lvbjtcbiAgICogICBcbiAgICogICBpZiBiZWZvcmUgJGJpbmQsIHR3byBjb21wb25lbnQncyBzdGF0ZSBpcyBub3Qgc3luYywgdGhlIGNvbXBvbmVudChwYXNzZWQgcGFyYW0pIHdpbGwgc3luYyB3aXRoIHRoZSBjYWxsZWQgY29tcG9uZW50O1xuICAgKlxuICAgKiAqZXhhbXBsZTogKlxuICAgKlxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIC8vIGluIHRoaXMgZXhhbXBsZSwgd2UgbmVlZCB0byBsaW5rIHR3byBwYWdlciBjb21wb25lbnRcbiAgICogdmFyIHBhZ2VyID0gbmV3IFBhZ2VyKHt9KSAvLyBwYWdlciBjb21wb2VubnRcbiAgICogdmFyIHBhZ2VyMiA9IG5ldyBQYWdlcih7fSkgLy8gYW5vdGhlciBwYWdlciBjb21wb25lbnRcbiAgICogcGFnZXIuJGJpbmQocGFnZXIyLCAnY3VycmVudCcpOyAvLyB0d28gd2F5IGJpbmQgdGhyb3cgdHdvIGNvbXBvbmVudFxuICAgKiBwYWdlci4kYmluZChwYWdlcjIsICd0b3RhbCcpOyAgIC8vIFxuICAgKiAvLyBvciBqdXN0XG4gICAqIHBhZ2VyLiRiaW5kKHBhZ2VyMiwge1wiY3VycmVudFwiOiBcImN1cnJlbnRcIiwgXCJ0b3RhbFwiOiBcInRvdGFsXCJ9KSBcbiAgICogYGBgXG4gICAqIFxuICAgKiBAcGFyYW0gIHtSZWd1bGFyfSBjb21wb25lbnQgdGhlXG4gICAqIEBwYXJhbSAge1N0cmluZ3xFeHByZXNzaW9ufSBleHByMSAgICAgcmVxdWlyZWQsIHNlbGYgZXhwcjEgdG8gb3BlcmF0ZSBiaW5kaW5nXG4gICAqIEBwYXJhbSAge1N0cmluZ3xFeHByZXNzaW9ufSBleHByMiAgICAgb3B0aW9uYWwsIG90aGVyIGNvbXBvbmVudCdzIGV4cHIgdG8gYmluZCB3aXRoLCBpZiBub3QgcGFzc2VkLCB0aGUgZXhwcjIgd2lsbCB1c2UgdGhlIGV4cHIxO1xuICAgKiBAcmV0dXJuICAgICAgICAgIHRoaXM7XG4gICAqL1xuICAkYmluZDogZnVuY3Rpb24oY29tcG9uZW50LCBleHByMSwgZXhwcjIpe1xuICAgIHZhciB0eXBlID0gXy50eXBlT2YoZXhwcjEpO1xuICAgIGlmKCBleHByMS50eXBlID09PSAnZXhwcmVzc2lvbicgfHwgdHlwZSA9PT0gJ3N0cmluZycgKXtcbiAgICAgIHRoaXMuX2JpbmQoY29tcG9uZW50LCBleHByMSwgZXhwcjIpXG4gICAgfWVsc2UgaWYoIHR5cGUgPT09IFwiYXJyYXlcIiApeyAvLyBtdWx0aXBseSBzYW1lIHBhdGggYmluZGluZyB0aHJvdWdoIGFycmF5XG4gICAgICBmb3IodmFyIGkgPSAwLCBsZW4gPSBleHByMS5sZW5ndGg7IGkgPCBsZW47IGkrKyl7XG4gICAgICAgIHRoaXMuX2JpbmQoY29tcG9uZW50LCBleHByMVtpXSk7XG4gICAgICB9XG4gICAgfWVsc2UgaWYodHlwZSA9PT0gXCJvYmplY3RcIil7XG4gICAgICBmb3IodmFyIGkgaW4gZXhwcjEpIGlmKGV4cHIxLmhhc093blByb3BlcnR5KGkpKXtcbiAgICAgICAgdGhpcy5fYmluZChjb21wb25lbnQsIGksIGV4cHIxW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gZGlnZXN0XG4gICAgY29tcG9uZW50LiR1cGRhdGUoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgLyoqXG4gICAqIHVuYmluZCBvbmUgY29tcG9uZW50KCBzZWUgJGJpbmQgYWxzbylcbiAgICpcbiAgICogdW5iaW5kIHdpbGwgdW5iaW5kIGFsbCByZWxhdGlvbiBiZXR3ZWVuIHR3byBjb21wb25lbnRcbiAgICogXG4gICAqIEBwYXJhbSAge1JlZ3VsYXJ9IGNvbXBvbmVudCBbZGVzY3JpcHRpb25lZ3VsYXJcbiAgICogQHJldHVybiB7VGhpc30gICAgdGhpc1xuICAgKi9cbiAgJHVuYmluZDogZnVuY3Rpb24oKXtcbiAgICAvLyB0b2RvXG4gIH0sXG4gICRpbmplY3Q6IGNvbWJpbmUuaW5qZWN0LFxuICAkbXV0ZTogZnVuY3Rpb24oaXNNdXRlKXtcblxuICAgIGlzTXV0ZSA9ICEhaXNNdXRlO1xuXG4gICAgdmFyIG5lZWR1cGRhdGUgPSBpc011dGUgPT09IGZhbHNlICYmIHRoaXMuX211dGU7XG5cbiAgICB0aGlzLl9tdXRlID0gISFpc011dGU7XG5cbiAgICBpZihuZWVkdXBkYXRlKSB0aGlzLiR1cGRhdGUoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgLy8gcHJpdmF0ZSBiaW5kIGxvZ2ljXG4gIF9iaW5kOiBmdW5jdGlvbihjb21wb25lbnQsIGV4cHIxLCBleHByMil7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgLy8gYmFzaWMgYmluZGluZ1xuXG4gICAgaWYoIWNvbXBvbmVudCB8fCAhKGNvbXBvbmVudCBpbnN0YW5jZW9mIFJlZ3VsYXIpKSB0aHJvdyBcIiRiaW5kKCkgc2hvdWxkIHBhc3MgUmVndWxhciBjb21wb25lbnQgYXMgZmlyc3QgYXJndW1lbnRcIjtcbiAgICBpZighZXhwcjEpIHRocm93IFwiJGJpbmQoKSBzaG91bGQgIHBhc3MgYXMgbGVhc3Qgb25lIGV4cHJlc3Npb24gdG8gYmluZFwiO1xuXG4gICAgaWYoIWV4cHIyKSBleHByMiA9IGV4cHIxO1xuXG4gICAgZXhwcjEgPSBwYXJzZS5leHByZXNzaW9uKCBleHByMSApO1xuICAgIGV4cHIyID0gcGFyc2UuZXhwcmVzc2lvbiggZXhwcjIgKTtcblxuICAgIC8vIHNldCBpcyBuZWVkIHRvIG9wZXJhdGUgc2V0dGluZyA7XG4gICAgaWYoZXhwcjIuc2V0KXtcbiAgICAgIHZhciB3aWQxID0gdGhpcy4kd2F0Y2goIGV4cHIxLCBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgIGNvbXBvbmVudC4kdXBkYXRlKGV4cHIyLCB2YWx1ZSlcbiAgICAgIH0pO1xuICAgICAgY29tcG9uZW50LiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpe1xuICAgICAgICBzZWxmLiR1bndhdGNoKHdpZDEpXG4gICAgICB9KVxuICAgIH1cbiAgICBpZihleHByMS5zZXQpe1xuICAgICAgdmFyIHdpZDIgPSBjb21wb25lbnQuJHdhdGNoKGV4cHIyLCBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgIHNlbGYuJHVwZGF0ZShleHByMSwgdmFsdWUpXG4gICAgICB9KTtcbiAgICAgIC8vIHdoZW4gYnJvdGhlciBkZXN0cm95LCB3ZSB1bmxpbmsgdGhpcyB3YXRjaGVyXG4gICAgICB0aGlzLiRvbignJGRlc3Ryb3knLCBjb21wb25lbnQuJHVud2F0Y2guYmluZChjb21wb25lbnQsd2lkMikpXG4gICAgfVxuICAgIC8vIHN5bmMgdGhlIGNvbXBvbmVudCdzIHN0YXRlIHRvIGNhbGxlZCdzIHN0YXRlXG4gICAgZXhwcjIuc2V0KGNvbXBvbmVudCwgZXhwcjEuZ2V0KHRoaXMpKTtcbiAgfSxcbiAgX3dhbGs6IGZ1bmN0aW9uKGFzdCwgYXJnMSl7XG4gICAgaWYoIF8udHlwZU9mKGFzdCkgPT09ICdhcnJheScgKXtcbiAgICAgIHZhciByZXMgPSBbXTtcblxuICAgICAgZm9yKHZhciBpID0gMCwgbGVuID0gYXN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKXtcbiAgICAgICAgcmVzLnB1c2goIHRoaXMuX3dhbGsoYXN0W2ldLCBhcmcxKSApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEdyb3VwKHJlcyk7XG4gICAgfVxuICAgIGlmKHR5cGVvZiBhc3QgPT09ICdzdHJpbmcnKSByZXR1cm4gZG9jLmNyZWF0ZVRleHROb2RlKGFzdClcbiAgICByZXR1cm4gd2Fsa2Vyc1thc3QudHlwZSB8fCBcImRlZmF1bHRcIl0uY2FsbCh0aGlzLCBhc3QsIGFyZzEpO1xuICB9LFxuICBfYXBwZW5kOiBmdW5jdGlvbihjb21wb25lbnQpe1xuICAgIHRoaXMuX2NoaWxkcmVuLnB1c2goY29tcG9uZW50KTtcbiAgICBjb21wb25lbnQuJHBhcmVudCA9IHRoaXM7XG4gIH0sXG4gIF9oYW5kbGVFdmVudDogZnVuY3Rpb24oZWxlbSwgdHlwZSwgdmFsdWUsIGF0dHJzKXtcbiAgICB2YXIgQ29tcG9uZW50ID0gdGhpcy5jb25zdHJ1Y3RvcixcbiAgICAgIGZpcmUgPSB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIj8gXy5oYW5kbGVFdmVudC5jYWxsKCB0aGlzLCB2YWx1ZSwgdHlwZSApIDogdmFsdWUsXG4gICAgICBoYW5kbGVyID0gQ29tcG9uZW50LmV2ZW50KHR5cGUpLCBkZXN0cm95O1xuXG4gICAgaWYgKCBoYW5kbGVyICkge1xuICAgICAgZGVzdHJveSA9IGhhbmRsZXIuY2FsbCh0aGlzLCBlbGVtLCBmaXJlLCBhdHRycyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvbS5vbihlbGVtLCB0eXBlLCBmaXJlKTtcbiAgICB9XG4gICAgcmV0dXJuIGhhbmRsZXIgPyBkZXN0cm95IDogZnVuY3Rpb24oKSB7XG4gICAgICBkb20ub2ZmKGVsZW0sIHR5cGUsIGZpcmUpO1xuICAgIH1cbiAgfSxcbiAgLy8gMS4g55So5p2l5aSE55CGZXhwckJvZHkgLT4gRnVuY3Rpb25cbiAgLy8gMi4gbGlzdOmHjOeahOW+queOr1xuICBfdG91Y2hFeHByOiBmdW5jdGlvbihleHByKXtcbiAgICB2YXIgIHJhd2dldCwgZXh0ID0gdGhpcy5fX2V4dF9fLCB0b3VjaGVkID0ge307XG4gICAgaWYoZXhwci50eXBlICE9PSAnZXhwcmVzc2lvbicgfHwgZXhwci50b3VjaGVkKSByZXR1cm4gZXhwcjtcbiAgICByYXdnZXQgPSBleHByLmdldCB8fCAoZXhwci5nZXQgPSBuZXcgRnVuY3Rpb24oXy5jdHhOYW1lLCBfLmV4dE5hbWUgLCBfLnByZWZpeCsgXCJyZXR1cm4gKFwiICsgZXhwci5ib2R5ICsgXCIpXCIpKTtcbiAgICB0b3VjaGVkLmdldCA9ICFleHQ/IHJhd2dldDogZnVuY3Rpb24oY29udGV4dCl7XG4gICAgICByZXR1cm4gcmF3Z2V0KGNvbnRleHQsIGV4dClcbiAgICB9XG5cbiAgICBpZihleHByLnNldGJvZHkgJiYgIWV4cHIuc2V0KXtcbiAgICAgIHZhciBzZXRib2R5ID0gZXhwci5zZXRib2R5O1xuICAgICAgZXhwci5zZXQgPSBmdW5jdGlvbihjdHgsIHZhbHVlLCBleHQpe1xuICAgICAgICBleHByLnNldCA9IG5ldyBGdW5jdGlvbihfLmN0eE5hbWUsIF8uc2V0TmFtZSAsIF8uZXh0TmFtZSwgXy5wcmVmaXggKyBzZXRib2R5KTsgICAgICAgICAgXG4gICAgICAgIHJldHVybiBleHByLnNldChjdHgsIHZhbHVlLCBleHQpO1xuICAgICAgfVxuICAgICAgZXhwci5zZXRib2R5ID0gbnVsbDtcbiAgICB9XG4gICAgaWYoZXhwci5zZXQpe1xuICAgICAgdG91Y2hlZC5zZXQgPSAhZXh0PyBleHByLnNldCA6IGZ1bmN0aW9uKGN0eCwgdmFsdWUpe1xuICAgICAgICByZXR1cm4gZXhwci5zZXQoY3R4LCB2YWx1ZSwgZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXy5leHRlbmQodG91Y2hlZCwge1xuICAgICAgdHlwZTogJ2V4cHJlc3Npb24nLFxuICAgICAgdG91Y2hlZDogdHJ1ZSxcbiAgICAgIG9uY2U6IGV4cHIub25jZSB8fCBleHByLmNvbnN0YW50XG4gICAgfSlcbiAgICByZXR1cm4gdG91Y2hlZFxuICB9LFxuICAvLyBmaW5kIGZpbHRlclxuICBfZl86IGZ1bmN0aW9uKG5hbWUpe1xuICAgIHZhciBDb21wb25lbnQgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgIHZhciBmaWx0ZXIgPSBDb21wb25lbnQuZmlsdGVyKG5hbWUpO1xuICAgIGlmKCFmaWx0ZXIpIHRocm93IEVycm9yKCdmaWx0ZXIgJyArIG5hbWUgKyAnIGlzIHVuZGVmaW5lZCcpO1xuICAgIHJldHVybiBmaWx0ZXI7XG4gIH0sXG4gIC8vIHNpbXBsZSBhY2Nlc3NvciBnZXRcbiAgX3NnXzpmdW5jdGlvbihwYXRoLCBkZWZhdWx0cywgZXh0KXtcbiAgICBpZih0eXBlb2YgZXh0ICE9PSAndW5kZWZpbmVkJyl7XG4gICAgICAvLyBpZihwYXRoID09PSBcImRlbW9zXCIpICBkZWJ1Z2dlclxuICAgICAgdmFyIGNvbXB1dGVkID0gdGhpcy5jb21wdXRlZCxcbiAgICAgICAgY29tcHV0ZWRQcm9wZXJ0eSA9IGNvbXB1dGVkW3BhdGhdO1xuICAgICAgaWYoY29tcHV0ZWRQcm9wZXJ0eSl7XG4gICAgICAgIGlmKGNvbXB1dGVkUHJvcGVydHkudHlwZT09PSdleHByZXNzaW9uJyAmJiAhY29tcHV0ZWRQcm9wZXJ0eS5nZXQpIHRoaXMuX3RvdWNoRXhwcihjb21wdXRlZFByb3BlcnR5KTtcbiAgICAgICAgaWYoY29tcHV0ZWRQcm9wZXJ0eS5nZXQpICByZXR1cm4gY29tcHV0ZWRQcm9wZXJ0eS5nZXQodGhpcyk7XG4gICAgICAgIGVsc2UgXy5sb2coXCJ0aGUgY29tcHV0ZWQgJ1wiICsgcGF0aCArIFwiJyBkb24ndCBkZWZpbmUgdGhlIGdldCBmdW5jdGlvbiwgIGdldCBkYXRhLlwiK3BhdGggKyBcIiBhbHRuYXRlbHlcIiwgXCJlcnJvclwiKVxuICAgICAgfVxuICB9XG4gICAgaWYodHlwZW9mIGRlZmF1bHRzID09PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBwYXRoID09IFwidW5kZWZpbmVkXCIgKXtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiAoZXh0ICYmIHR5cGVvZiBleHRbcGF0aF0gIT09ICd1bmRlZmluZWQnKT8gZXh0W3BhdGhdOiBkZWZhdWx0c1twYXRoXTtcblxuICB9LFxuICAvLyBzaW1wbGUgYWNjZXNzb3Igc2V0XG4gIF9zc186ZnVuY3Rpb24ocGF0aCwgdmFsdWUsIGRhdGEgLCBvcCwgY29tcHV0ZWQpe1xuICAgIHZhciBjb21wdXRlZCA9IHRoaXMuY29tcHV0ZWQsXG4gICAgICBvcCA9IG9wIHx8IFwiPVwiLCBwcmV2LCBcbiAgICAgIGNvbXB1dGVkUHJvcGVydHkgPSBjb21wdXRlZD8gY29tcHV0ZWRbcGF0aF06bnVsbDtcblxuICAgIGlmKG9wICE9PSAnPScpe1xuICAgICAgcHJldiA9IGNvbXB1dGVkUHJvcGVydHk/IGNvbXB1dGVkUHJvcGVydHkuZ2V0KHRoaXMpOiBkYXRhW3BhdGhdO1xuICAgICAgc3dpdGNoKG9wKXtcbiAgICAgICAgY2FzZSBcIis9XCI6XG4gICAgICAgICAgdmFsdWUgPSBwcmV2ICsgdmFsdWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCItPVwiOlxuICAgICAgICAgIHZhbHVlID0gcHJldiAtIHZhbHVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiKj1cIjpcbiAgICAgICAgICB2YWx1ZSA9IHByZXYgKiB2YWx1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIi89XCI6XG4gICAgICAgICAgdmFsdWUgPSBwcmV2IC8gdmFsdWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCIlPVwiOlxuICAgICAgICAgIHZhbHVlID0gcHJldiAlIHZhbHVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZihjb21wdXRlZFByb3BlcnR5KSB7XG4gICAgICBpZihjb21wdXRlZFByb3BlcnR5LnNldCkgcmV0dXJuIGNvbXB1dGVkUHJvcGVydHkuc2V0KHRoaXMsIHZhbHVlKTtcbiAgICAgIGVsc2UgXy5sb2coXCJ0aGUgY29tcHV0ZWQgJ1wiICsgcGF0aCArIFwiJyBkb24ndCBkZWZpbmUgdGhlIHNldCBmdW5jdGlvbiwgIGFzc2lnbiBkYXRhLlwiK3BhdGggKyBcIiBhbHRuYXRlbHlcIiwgXCJlcnJvclwiIClcbiAgICB9XG4gICAgZGF0YVtwYXRoXSA9IHZhbHVlO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufSk7XG5cblJlZ3VsYXIucHJvdG90eXBlLmluamVjdCA9IGZ1bmN0aW9uKCl7XG4gIF8ubG9nKFwidXNlICRpbmplY3QgaW5zdGVhZCBvZiBpbmplY3RcIiwgXCJlcnJvclwiKTtcbiAgcmV0dXJuIHRoaXMuJGluamVjdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5cbi8vIG9ubHkgb25lIGJ1aWx0aW4gZmlsdGVyXG5cblJlZ3VsYXIuZmlsdGVyKGZpbHRlcik7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVndWxhcjtcblxuXG5cbnZhciBoYW5kbGVDb21wdXRlZCA9IChmdW5jdGlvbigpe1xuICAvLyB3cmFwIHRoZSBjb21wdXRlZCBnZXR0ZXI7XG4gIGZ1bmN0aW9uIHdyYXBHZXQoZ2V0KXtcbiAgICByZXR1cm4gZnVuY3Rpb24oY29udGV4dCl7XG4gICAgICByZXR1cm4gZ2V0LmNhbGwoY29udGV4dCwgY29udGV4dC5kYXRhICk7XG4gICAgfVxuICB9XG4gIC8vIHdyYXAgdGhlIGNvbXB1dGVkIHNldHRlcjtcbiAgZnVuY3Rpb24gd3JhcFNldChzZXQpe1xuICAgIHJldHVybiBmdW5jdGlvbihjb250ZXh0LCB2YWx1ZSl7XG4gICAgICBzZXQuY2FsbCggY29udGV4dCwgdmFsdWUsIGNvbnRleHQuZGF0YSApO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbihjb21wdXRlZCl7XG4gICAgaWYoIWNvbXB1dGVkKSByZXR1cm47XG4gICAgdmFyIHBhcnNlZENvbXB1dGVkID0ge30sIGhhbmRsZSwgcGFpciwgdHlwZTtcbiAgICBmb3IodmFyIGkgaW4gY29tcHV0ZWQpe1xuICAgICAgaGFuZGxlID0gY29tcHV0ZWRbaV1cbiAgICAgIHR5cGUgPSB0eXBlb2YgaGFuZGxlO1xuXG4gICAgICBpZihoYW5kbGUudHlwZSA9PT0gJ2V4cHJlc3Npb24nKXtcbiAgICAgICAgcGFyc2VkQ29tcHV0ZWRbaV0gPSBoYW5kbGU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYoIHR5cGUgPT09IFwic3RyaW5nXCIgKXtcbiAgICAgICAgcGFyc2VkQ29tcHV0ZWRbaV0gPSBwYXJzZS5leHByZXNzaW9uKGhhbmRsZSlcbiAgICAgIH1lbHNle1xuICAgICAgICBwYWlyID0gcGFyc2VkQ29tcHV0ZWRbaV0gPSB7dHlwZTogJ2V4cHJlc3Npb24nfTtcbiAgICAgICAgaWYodHlwZSA9PT0gXCJmdW5jdGlvblwiICl7XG4gICAgICAgICAgcGFpci5nZXQgPSB3cmFwR2V0KGhhbmRsZSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGlmKGhhbmRsZS5nZXQpIHBhaXIuZ2V0ID0gd3JhcEdldChoYW5kbGUuZ2V0KTtcbiAgICAgICAgICBpZihoYW5kbGUuc2V0KSBwYWlyLnNldCA9IHdyYXBTZXQoaGFuZGxlLnNldCk7XG4gICAgICAgIH1cbiAgICAgIH0gXG4gICAgfVxuICAgIHJldHVybiBwYXJzZWRDb21wdXRlZDtcbiAgfVxufSkoKTtcbiIsIlxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICdCRUdJTic6ICd7JyxcbiAgJ0VORCc6ICd9J1xufSIsIm1vZHVsZS5leHBvcnRzID0ge1xuICAnQ09NUE9ORU5UX1RZUEUnOiAxLFxuICAnRUxFTUVOVF9UWVBFJzogMlxufSIsInZhciAvLyBwYWNrYWdlc1xuICBfID0gcmVxdWlyZShcIi4uL3V0aWwuanNcIiksXG4gYW5pbWF0ZSA9IHJlcXVpcmUoXCIuLi9oZWxwZXIvYW5pbWF0ZS5qc1wiKSxcbiBkb20gPSByZXF1aXJlKFwiLi4vZG9tLmpzXCIpLFxuIFJlZ3VsYXIgPSByZXF1aXJlKFwiLi4vUmVndWxhci5qc1wiKTtcblxuXG52YXIgLy8gdmFyaWFibGVzXG4gIHJDbGFzc05hbWUgPSAvXlstXFx3XSsoXFxzWy1cXHddKykqJC8sXG4gIHJDb21tYVNlcCA9IC9bXFxyXFxuXFxmIF0qLFtcXHJcXG5cXGYgXSooPz1cXHcrXFw6KS8sIC8vICBkb250IHNwbGl0IGNvbW1hIGluICBFeHByZXNzaW9uXG4gIHJTdHlsZXMgPSAvXlxcey4qXFx9JC8sIC8vICBmb3IgU2ltcGlsZnlcbiAgclNwYWNlID0gL1xccysvLCAvLyAgZm9yIFNpbXBpbGZ5XG4gIFdIRU5fQ09NTUFORCA9IFwid2hlblwiLFxuICBFVkVOVF9DT01NQU5EID0gXCJvblwiLFxuICBUSEVOX0NPTU1BTkQgPSBcInRoZW5cIjtcblxuLyoqXG4gKiBBbmltYXRpb24gUGx1Z2luXG4gKiBAcGFyYW0ge0NvbXBvbmVudH0gQ29tcG9uZW50IFxuICovXG5cblxuZnVuY3Rpb24gY3JlYXRlU2VlZCh0eXBlKXtcblxuICB2YXIgc3RlcHMgPSBbXSwgY3VycmVudCA9IDAsIGNhbGxiYWNrID0gXy5ub29wO1xuICB2YXIga2V5O1xuXG4gIHZhciBvdXQgPSB7XG4gICAgdHlwZTogdHlwZSxcbiAgICBzdGFydDogZnVuY3Rpb24oY2Ipe1xuICAgICAga2V5ID0gXy51aWQoKTtcbiAgICAgIGlmKHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSBjYWxsYmFjayA9IGNiO1xuICAgICAgaWYoY3VycmVudD4gMCApe1xuICAgICAgICBjdXJyZW50ID0gMCA7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgb3V0LnN0ZXAoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvdXQuY29tcGVsZXRlO1xuICAgIH0sXG4gICAgY29tcGVsZXRlOiBmdW5jdGlvbigpe1xuICAgICAga2V5ID0gbnVsbDtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgICBjYWxsYmFjayA9IF8ubm9vcDtcbiAgICAgIGN1cnJlbnQgPSAwO1xuICAgIH0sXG4gICAgc3RlcDogZnVuY3Rpb24oKXtcbiAgICAgIGlmKHN0ZXBzW2N1cnJlbnRdKSBzdGVwc1tjdXJyZW50IF0oIG91dC5kb25lLmJpbmQob3V0LCBrZXkpICk7XG4gICAgfSxcbiAgICBkb25lOiBmdW5jdGlvbihwa2V5KXtcbiAgICAgIGlmKHBrZXkgIT09IGtleSkgcmV0dXJuOyAvLyBtZWFucyB0aGUgbG9vcCBpcyBkb3duXG4gICAgICBpZiggY3VycmVudCA8IHN0ZXBzLmxlbmd0aCAtIDEgKSB7XG4gICAgICAgIGN1cnJlbnQrKztcbiAgICAgICAgb3V0LnN0ZXAoKTtcbiAgICAgIH1lbHNle1xuICAgICAgICBvdXQuY29tcGVsZXRlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBwdXNoOiBmdW5jdGlvbihzdGVwKXtcbiAgICAgIHN0ZXBzLnB1c2goc3RlcClcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuXG5SZWd1bGFyLl9hZGRQcm90b0luaGVyaXRDYWNoZShcImFuaW1hdGlvblwiKVxuXG5cbi8vIGJ1aWx0aW4gYW5pbWF0aW9uXG5SZWd1bGFyLmFuaW1hdGlvbih7XG4gIFwid2FpdFwiOiBmdW5jdGlvbiggc3RlcCApe1xuICAgIHZhciB0aW1lb3V0ID0gcGFyc2VJbnQoIHN0ZXAucGFyYW0gKSB8fCAwXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGRvbmUpe1xuICAgICAgLy8gXy5sb2coXCJkZWxheSBcIiArIHRpbWVvdXQpXG4gICAgICBzZXRUaW1lb3V0KCBkb25lLCB0aW1lb3V0ICk7XG4gICAgfVxuICB9LFxuICBcImNsYXNzXCI6IGZ1bmN0aW9uKHN0ZXApe1xuICAgIHZhciB0bXAgPSBzdGVwLnBhcmFtLnNwbGl0KFwiLFwiKSxcbiAgICAgIGNsYXNzTmFtZSA9IHRtcFswXSB8fCBcIlwiLFxuICAgICAgbW9kZSA9IHBhcnNlSW50KHRtcFsxXSkgfHwgMTtcblxuICAgIHJldHVybiBmdW5jdGlvbihkb25lKXtcbiAgICAgIC8vIF8ubG9nKGNsYXNzTmFtZSlcbiAgICAgIGFuaW1hdGUuc3RhcnRDbGFzc0FuaW1hdGUoIHN0ZXAuZWxlbWVudCwgY2xhc3NOYW1lICwgZG9uZSwgbW9kZSApO1xuICAgIH1cbiAgfSxcbiAgXCJjYWxsXCI6IGZ1bmN0aW9uKHN0ZXApe1xuICAgIHZhciBmbiA9IHRoaXMuJGV4cHJlc3Npb24oc3RlcC5wYXJhbSkuZ2V0LCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gZnVuY3Rpb24oZG9uZSl7XG4gICAgICAvLyBfLmxvZyhzdGVwLnBhcmFtLCAnY2FsbCcpXG4gICAgICBmbihzZWxmKTtcbiAgICAgIHNlbGYuJHVwZGF0ZSgpO1xuICAgICAgZG9uZSgpXG4gICAgfVxuICB9LFxuICBcImVtaXRcIjogZnVuY3Rpb24oc3RlcCl7XG4gICAgdmFyIHBhcmFtID0gc3RlcC5wYXJhbTtcbiAgICB2YXIgdG1wID0gcGFyYW0uc3BsaXQoXCIsXCIpLFxuICAgICAgZXZ0ID0gdG1wWzBdIHx8IFwiXCIsXG4gICAgICBhcmdzID0gdG1wWzFdPyB0aGlzLiRleHByZXNzaW9uKHRtcFsxXSkuZ2V0OiBudWxsO1xuXG4gICAgaWYoIWV2dCkgdGhyb3cgRXJyb3IoXCJ5b3Ugc2hvdWQgc3BlY2lmaWVkIGEgZXZlbnRuYW1lIGluIGVtaXQgY29tbWFuZFwiKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gZnVuY3Rpb24oZG9uZSl7XG4gICAgICBzZWxmLiRlbWl0KGV2dCwgYXJncz8gYXJncyhzZWxmKSA6IHVuZGVmaW5lZCk7XG4gICAgICBkb25lKCk7XG4gICAgfVxuICB9LFxuICAvLyBzdHlsZTogbGVmdCB7MTB9cHgsXG4gIHN0eWxlOiBmdW5jdGlvbihzdGVwKXtcbiAgICB2YXIgc3R5bGVzID0ge30sIFxuICAgICAgcGFyYW0gPSBzdGVwLnBhcmFtLFxuICAgICAgcGFpcnMgPSBwYXJhbS5zcGxpdChcIixcIiksIHZhbGlkO1xuICAgIHBhaXJzLmZvckVhY2goZnVuY3Rpb24ocGFpcil7XG4gICAgICBwYWlyID0gcGFpci50cmltKCk7XG4gICAgICBpZihwYWlyKXtcbiAgICAgICAgdmFyIHRtcCA9IHBhaXIuc3BsaXQoIHJTcGFjZSApLFxuICAgICAgICAgIG5hbWUgPSB0bXAuc2hpZnQoKSxcbiAgICAgICAgICB2YWx1ZSA9IHRtcC5qb2luKFwiIFwiKTtcblxuICAgICAgICBpZiggIW5hbWUgfHwgIXZhbHVlICkgdGhyb3cgRXJyb3IoXCJpbnZhbGlkIHN0eWxlIGluIGNvbW1hbmQ6IHN0eWxlXCIpO1xuICAgICAgICBzdHlsZXNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgdmFsaWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gZnVuY3Rpb24oZG9uZSl7XG4gICAgICBpZih2YWxpZCl7XG4gICAgICAgIGFuaW1hdGUuc3RhcnRTdHlsZUFuaW1hdGUoc3RlcC5lbGVtZW50LCBzdHlsZXMsIGRvbmUpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pXG5cblxuXG4vLyBoYW5jZGxlIHRoZSByLWFuaW1hdGlvbiBkaXJlY3RpdmVcbi8vIGVsIDogdGhlIGVsZW1lbnQgdG8gcHJvY2Vzc1xuLy8gdmFsdWU6IHRoZSBkaXJlY3RpdmUgdmFsdWVcbmZ1bmN0aW9uIHByb2Nlc3NBbmltYXRlKCBlbGVtZW50LCB2YWx1ZSApe1xuICB2YXIgQ29tcG9uZW50ID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgdmFsdWUgPSB2YWx1ZS50cmltKCk7XG5cbiAgdmFyIGNvbXBvc2l0ZXMgPSB2YWx1ZS5zcGxpdChcIjtcIiksIFxuICAgIGNvbXBvc2l0ZSwgY29udGV4dCA9IHRoaXMsIHNlZWRzID0gW10sIHNlZWQsIGRlc3Ryb2llcyA9IFtdLCBkZXN0cm95LFxuICAgIGNvbW1hbmQsIHBhcmFtICwgY3VycmVudCA9IDAsIHRtcCwgYW5pbWF0b3IsIHNlbGYgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIHJlc2V0KCB0eXBlICl7XG4gICAgc2VlZCAmJiBzZWVkcy5wdXNoKCBzZWVkIClcbiAgICBzZWVkID0gY3JlYXRlU2VlZCggdHlwZSApO1xuICB9XG5cbiAgZnVuY3Rpb24gd2hlbkNhbGxiYWNrKHN0YXJ0LCB2YWx1ZSl7XG4gICAgaWYoICEhdmFsdWUgKSBzdGFydCgpXG4gIH1cblxuICBmdW5jdGlvbiBhbmltYXRpb25EZXN0cm95KGVsZW1lbnQpe1xuICAgIHJldHVybiBmdW5jdGlvbigpe1xuICAgICAgZGVsZXRlIGVsZW1lbnQub25lbnRlcjtcbiAgICAgIGRlbGV0ZSBlbGVtZW50Lm9ubGVhdmU7XG4gICAgfSBcbiAgfVxuXG4gIGZvciggdmFyIGkgPSAwLCBsZW4gPSBjb21wb3NpdGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrICl7XG5cbiAgICBjb21wb3NpdGUgPSBjb21wb3NpdGVzW2ldO1xuICAgIHRtcCA9IGNvbXBvc2l0ZS5zcGxpdChcIjpcIik7XG4gICAgY29tbWFuZCA9IHRtcFswXSAmJiB0bXBbMF0udHJpbSgpO1xuICAgIHBhcmFtID0gdG1wWzFdICYmIHRtcFsxXS50cmltKCk7XG5cbiAgICBpZiggIWNvbW1hbmQgKSBjb250aW51ZTtcblxuICAgIGlmKCBjb21tYW5kID09PSBXSEVOX0NPTU1BTkQgKXtcbiAgICAgIHJlc2V0KFwid2hlblwiKTtcbiAgICAgIHRoaXMuJHdhdGNoKHBhcmFtLCB3aGVuQ2FsbGJhY2suYmluZCggdGhpcywgc2VlZC5zdGFydCApICk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiggY29tbWFuZCA9PT0gRVZFTlRfQ09NTUFORCl7XG4gICAgICByZXNldChwYXJhbSk7XG4gICAgICBpZiggcGFyYW0gPT09IFwibGVhdmVcIiApe1xuICAgICAgICBlbGVtZW50Lm9ubGVhdmUgPSBzZWVkLnN0YXJ0O1xuICAgICAgICBkZXN0cm9pZXMucHVzaCggYW5pbWF0aW9uRGVzdHJveShlbGVtZW50KSApO1xuICAgICAgfWVsc2UgaWYoIHBhcmFtID09PSBcImVudGVyXCIgKXtcbiAgICAgICAgZWxlbWVudC5vbmVudGVyID0gc2VlZC5zdGFydDtcbiAgICAgICAgZGVzdHJvaWVzLnB1c2goIGFuaW1hdGlvbkRlc3Ryb3koZWxlbWVudCkgKTtcbiAgICAgIH1lbHNle1xuICAgICAgICBpZiggKFwib25cIiArIHBhcmFtKSBpbiBlbGVtZW50KXsgLy8gaWYgZG9tIGhhdmUgdGhlIGV2ZW50ICwgd2UgdXNlIGRvbSBldmVudFxuICAgICAgICAgIGRlc3Ryb2llcy5wdXNoKHRoaXMuX2hhbmRsZUV2ZW50KCBlbGVtZW50LCBwYXJhbSwgc2VlZC5zdGFydCApKTtcbiAgICAgICAgfWVsc2V7IC8vIG90aGVyd2lzZSwgd2UgdXNlIGNvbXBvbmVudCBldmVudFxuICAgICAgICAgIHRoaXMuJG9uKHBhcmFtLCBzZWVkLnN0YXJ0KTtcbiAgICAgICAgICBkZXN0cm9pZXMucHVzaCh0aGlzLiRvZmYuYmluZCh0aGlzLCBwYXJhbSwgc2VlZC5zdGFydCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIHZhciBhbmltYXRvciA9ICBDb21wb25lbnQuYW5pbWF0aW9uKGNvbW1hbmQpIFxuICAgIGlmKCBhbmltYXRvciAmJiBzZWVkICl7XG4gICAgICBzZWVkLnB1c2goXG4gICAgICAgIGFuaW1hdG9yLmNhbGwodGhpcyx7XG4gICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICBkb25lOiBzZWVkLmRvbmUsXG4gICAgICAgICAgcGFyYW06IHBhcmFtIFxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH1lbHNle1xuICAgICAgdGhyb3cgRXJyb3IoIGFuaW1hdG9yPyBcInlvdSBzaG91bGQgc3RhcnQgd2l0aCBgb25gIG9yIGBldmVudGAgaW4gYW5pbWF0aW9uXCIgOiAoXCJ1bmRlZmluZWQgYW5pbWF0b3Ig44CQXCIgKyBjb21tYW5kICtcIuOAkVwiICkpO1xuICAgIH1cbiAgfVxuXG4gIGlmKGRlc3Ryb2llcy5sZW5ndGgpe1xuICAgIHJldHVybiBmdW5jdGlvbigpe1xuICAgICAgZGVzdHJvaWVzLmZvckVhY2goZnVuY3Rpb24oZGVzdHJveSl7XG4gICAgICAgIGRlc3Ryb3koKTtcbiAgICAgIH0pXG4gICAgfVxuICB9XG59XG5cblxuUmVndWxhci5kaXJlY3RpdmUoIFwici1hbmltYXRpb25cIiwgcHJvY2Vzc0FuaW1hdGUpXG5SZWd1bGFyLmRpcmVjdGl2ZSggXCJyLWFuaW1cIiwgcHJvY2Vzc0FuaW1hdGUpXG5cbiIsIi8vIFJlZ3VsYXJcbnZhciBfID0gcmVxdWlyZShcIi4uL3V0aWwuanNcIik7XG52YXIgZG9tID0gcmVxdWlyZShcIi4uL2RvbS5qc1wiKTtcbnZhciBhbmltYXRlID0gcmVxdWlyZShcIi4uL2hlbHBlci9hbmltYXRlLmpzXCIpO1xudmFyIFJlZ3VsYXIgPSByZXF1aXJlKFwiLi4vUmVndWxhci5qc1wiKTtcbnZhciBjb25zdHMgPSByZXF1aXJlKFwiLi4vY29uc3RcIik7XG5cblxuXG5yZXF1aXJlKFwiLi9ldmVudC5qc1wiKTtcbnJlcXVpcmUoXCIuL2Zvcm0uanNcIik7XG5cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4vLyAqKndhcm4qKjogY2xhc3MgaW50ZXBsYXRpb24gd2lsbCBvdmVycmlkZSB0aGlzIGRpcmVjdGl2ZSBcbiAgJ3ItY2xhc3MnOiBmdW5jdGlvbihlbGVtLCB2YWx1ZSl7XG4gICAgaWYodHlwZW9mIHZhbHVlPT09ICdzdHJpbmcnKXtcbiAgICAgIHZhbHVlID0gXy5maXhPYmpTdHIodmFsdWUpXG4gICAgfVxuICAgIHRoaXMuJHdhdGNoKHZhbHVlLCBmdW5jdGlvbihudmFsdWUpe1xuICAgICAgdmFyIGNsYXNzTmFtZSA9ICcgJysgZWxlbS5jbGFzc05hbWUucmVwbGFjZSgvXFxzKy9nLCAnICcpICsnICc7XG4gICAgICBmb3IodmFyIGkgaW4gbnZhbHVlKSBpZihudmFsdWUuaGFzT3duUHJvcGVydHkoaSkpe1xuICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUucmVwbGFjZSgnICcgKyBpICsgJyAnLCcgJyk7XG4gICAgICAgIGlmKG52YWx1ZVtpXSA9PT0gdHJ1ZSl7XG4gICAgICAgICAgY2xhc3NOYW1lICs9IGkrJyAnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbGVtLmNsYXNzTmFtZSA9IGNsYXNzTmFtZS50cmltKCk7XG4gICAgfSx0cnVlKTtcbiAgfSxcbiAgLy8gKip3YXJuKio6IHN0eWxlIGludGVwbGF0aW9uIHdpbGwgb3ZlcnJpZGUgdGhpcyBkaXJlY3RpdmUgXG4gICdyLXN0eWxlJzogZnVuY3Rpb24oZWxlbSwgdmFsdWUpe1xuICAgIGlmKHR5cGVvZiB2YWx1ZT09PSAnc3RyaW5nJyl7XG4gICAgICB2YWx1ZSA9IF8uZml4T2JqU3RyKHZhbHVlKVxuICAgIH1cbiAgICB0aGlzLiR3YXRjaCh2YWx1ZSwgZnVuY3Rpb24obnZhbHVlKXtcbiAgICAgIGZvcih2YXIgaSBpbiBudmFsdWUpIGlmKG52YWx1ZS5oYXNPd25Qcm9wZXJ0eShpKSl7XG4gICAgICAgIGRvbS5jc3MoZWxlbSwgaSwgbnZhbHVlW2ldKTtcbiAgICAgIH1cbiAgICB9LHRydWUpO1xuICB9LFxuICAvLyB3aGVuIGV4cHJlc3Npb24gaXMgZXZhbHVhdGUgdG8gdHJ1ZSwgdGhlIGVsZW0gd2lsbCBhZGQgZGlzcGxheTpub25lXG4gIC8vIEV4YW1wbGU6IDxkaXYgci1oaWRlPXt7aXRlbXMubGVuZ3RoID4gMH19PjwvZGl2PlxuICAnci1oaWRlJzogZnVuY3Rpb24oZWxlbSwgdmFsdWUpe1xuICAgIHZhciBwcmVCb29sID0gbnVsbCwgY29tcGVsZXRlO1xuICAgIHRoaXMuJHdhdGNoKHZhbHVlLCBmdW5jdGlvbihudmFsdWUpe1xuICAgICAgdmFyIGJvb2wgPSAhIW52YWx1ZTtcbiAgICAgIGlmKGJvb2wgPT09IHByZUJvb2wpIHJldHVybjsgXG4gICAgICBwcmVCb29sID0gYm9vbDtcbiAgICAgIGlmKGJvb2wpe1xuICAgICAgICBpZihlbGVtLm9ubGVhdmUpe1xuICAgICAgICAgIGNvbXBlbGV0ZSA9IGVsZW0ub25sZWF2ZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcbiAgICAgICAgICAgIGNvbXBlbGV0ZSA9IG51bGw7XG4gICAgICAgICAgfSlcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgIH1lbHNle1xuICAgICAgICBpZihjb21wZWxldGUpIGNvbXBlbGV0ZSgpO1xuICAgICAgICBlbGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICBpZihlbGVtLm9uZW50ZXIpe1xuICAgICAgICAgIGVsZW0ub25lbnRlcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICdyLWh0bWwnOiBmdW5jdGlvbihlbGVtLCB2YWx1ZSl7XG4gICAgdGhpcy4kd2F0Y2godmFsdWUsIGZ1bmN0aW9uKG52YWx1ZSl7XG4gICAgICBudmFsdWUgPSBudmFsdWUgfHwgXCJcIjtcbiAgICAgIGRvbS5odG1sKGVsZW0sIG52YWx1ZSlcbiAgICB9LCB7Zm9yY2U6IHRydWV9KTtcbiAgfSxcbiAgJ3JlZic6IHtcbiAgICBhY2NlcHQ6IGNvbnN0cy5DT01QT05FTlRfVFlQRSArIGNvbnN0cy5FTEVNRU5UX1RZUEUsXG4gICAgbGluazogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICl7XG4gICAgICB2YXIgcmVmcyA9IHRoaXMuJHJlZnMgfHwgKHRoaXMuJHJlZnMgPSB7fSk7XG4gICAgICB2YXIgY3ZhbDtcbiAgICAgIGlmKF8uaXNFeHByKHZhbHVlKSl7XG4gICAgICAgIHRoaXMuJHdhdGNoKHZhbHVlLCBmdW5jdGlvbihudmFsLCBvdmFsKXtcbiAgICAgICAgICBjdmFsID0gbnZhbDtcbiAgICAgICAgICBpZihyZWZzW292YWxdID09PSBlbGVtKSByZWZzW292YWxdID0gbnVsbDtcbiAgICAgICAgICBpZihjdmFsKSByZWZzW2N2YWxdID0gZWxlbTtcbiAgICAgICAgfSlcbiAgICAgIH1lbHNle1xuICAgICAgICByZWZzW2N2YWwgPSB2YWx1ZV0gPSBlbGVtO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgICAgIHJlZnNbY3ZhbF0gPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5SZWd1bGFyLmRpcmVjdGl2ZShtb2R1bGUuZXhwb3J0cyk7XG5cblxuXG5cblxuXG5cblxuXG5cbiIsIi8qKlxuICogZXZlbnQgZGlyZWN0aXZlICBidW5kbGVcbiAqXG4gKi9cbnZhciBfID0gcmVxdWlyZShcIi4uL3V0aWwuanNcIik7XG52YXIgZG9tID0gcmVxdWlyZShcIi4uL2RvbS5qc1wiKTtcbnZhciBSZWd1bGFyID0gcmVxdWlyZShcIi4uL1JlZ3VsYXIuanNcIik7XG5cblJlZ3VsYXIuX2FkZFByb3RvSW5oZXJpdENhY2hlKFwiZXZlbnRcIik7XG5cblJlZ3VsYXIuZGlyZWN0aXZlKCAvXm9uLVxcdyskLywgZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICwgYXR0cnMpIHtcbiAgaWYgKCAhbmFtZSB8fCAhdmFsdWUgKSByZXR1cm47XG4gIHZhciB0eXBlID0gbmFtZS5zcGxpdChcIi1cIilbMV07XG4gIHJldHVybiB0aGlzLl9oYW5kbGVFdmVudCggZWxlbSwgdHlwZSwgdmFsdWUsIGF0dHJzICk7XG59KTtcbi8vIFRPRE8uXG4vKipcbi0gJCgnZHgnKS5kZWxlZ2F0ZSgpXG4qL1xuUmVndWxhci5kaXJlY3RpdmUoIC9eKGRlbGVnYXRlfGRlKS1cXHcrJC8sIGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgbmFtZSApIHtcbiAgdmFyIHJvb3QgPSB0aGlzLiRyb290O1xuICB2YXIgX2RlbGVnYXRlcyA9IHJvb3QuX2RlbGVnYXRlcyB8fCAoIHJvb3QuX2RlbGVnYXRlcyA9IHt9ICk7XG4gIGlmICggIW5hbWUgfHwgIXZhbHVlICkgcmV0dXJuO1xuICB2YXIgdHlwZSA9IG5hbWUuc3BsaXQoXCItXCIpWzFdO1xuICB2YXIgZmlyZSA9IF8uaGFuZGxlRXZlbnQuY2FsbCh0aGlzLCB2YWx1ZSwgdHlwZSk7XG5cbiAgZnVuY3Rpb24gZGVsZWdhdGVFdmVudChldil7XG4gICAgbWF0Y2hQYXJlbnQoZXYsIF9kZWxlZ2F0ZXNbdHlwZV0sIHJvb3QucGFyZW50Tm9kZSk7XG4gIH1cblxuICBpZiggIV9kZWxlZ2F0ZXNbdHlwZV0gKXtcbiAgICBfZGVsZWdhdGVzW3R5cGVdID0gW107XG5cbiAgICBpZihyb290LnBhcmVudE5vZGUpe1xuICAgICAgZG9tLm9uKHJvb3QucGFyZW50Tm9kZSwgdHlwZSwgZGVsZWdhdGVFdmVudCk7XG4gICAgfWVsc2V7XG4gICAgICByb290LiRvbiggXCIkaW5qZWN0XCIsIGZ1bmN0aW9uKCBuZXdQYXJlbnQgKXtcbiAgICAgICAgdmFyIHByZVBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcbiAgICAgICAgaWYoIHByZVBhcmVudCApe1xuICAgICAgICAgIGRvbS5vZmYocHJlUGFyZW50LCB0eXBlLCBkZWxlZ2F0ZUV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBkb20ub24obmV3UGFyZW50LCB0eXBlLCBkZWxlZ2F0ZUV2ZW50KTtcbiAgICAgIH0pXG4gICAgfVxuICAgIHJvb3QuJG9uKFwiJGRlc3Ryb3lcIiwgZnVuY3Rpb24oKXtcbiAgICAgIGlmKHJvb3QucGFyZW50Tm9kZSkgZG9tLm9mZihyb290LnBhcmVudE5vZGUsIHR5cGUsIGRlbGVnYXRlRXZlbnQpXG4gICAgICBfZGVsZWdhdGVzW3R5cGVdID0gbnVsbDtcbiAgICB9KVxuICB9XG4gIHZhciBkZWxlZ2F0ZSA9IHtcbiAgICBlbGVtZW50OiBlbGVtLFxuICAgIGZpcmU6IGZpcmVcbiAgfVxuICBfZGVsZWdhdGVzW3R5cGVdLnB1c2goIGRlbGVnYXRlICk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgdmFyIGRlbGVnYXRlcyA9IF9kZWxlZ2F0ZXNbdHlwZV07XG4gICAgaWYoIWRlbGVnYXRlcyB8fCAhZGVsZWdhdGVzLmxlbmd0aCkgcmV0dXJuO1xuICAgIGZvciggdmFyIGkgPSAwLCBsZW4gPSBkZWxlZ2F0ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKysgKXtcbiAgICAgIGlmKCBkZWxlZ2F0ZXNbaV0gPT09IGRlbGVnYXRlICkgZGVsZWdhdGVzLnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH1cblxufSk7XG5cblxuZnVuY3Rpb24gbWF0Y2hQYXJlbnQoZXYgLCBkZWxlZ2F0ZXMsIHN0b3Ape1xuICBpZighc3RvcCkgcmV0dXJuO1xuICB2YXIgdGFyZ2V0ID0gZXYudGFyZ2V0LCBwYWlyO1xuICB3aGlsZSh0YXJnZXQgJiYgdGFyZ2V0ICE9PSBzdG9wKXtcbiAgICBmb3IoIHZhciBpID0gMCwgbGVuID0gZGVsZWdhdGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrICl7XG4gICAgICBwYWlyID0gZGVsZWdhdGVzW2ldO1xuICAgICAgaWYocGFpciAmJiBwYWlyLmVsZW1lbnQgPT09IHRhcmdldCl7XG4gICAgICAgIHBhaXIuZmlyZShldilcbiAgICAgIH1cbiAgICB9XG4gICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7XG4gIH1cbn0iLCIvLyBSZWd1bGFyXG52YXIgXyA9IHJlcXVpcmUoXCIuLi91dGlsLmpzXCIpO1xudmFyIGRvbSA9IHJlcXVpcmUoXCIuLi9kb20uanNcIik7XG52YXIgUmVndWxhciA9IHJlcXVpcmUoXCIuLi9SZWd1bGFyLmpzXCIpO1xuXG52YXIgbW9kZWxIYW5kbGVycyA9IHtcbiAgXCJ0ZXh0XCI6IGluaXRUZXh0LFxuICBcInNlbGVjdFwiOiBpbml0U2VsZWN0LFxuICBcImNoZWNrYm94XCI6IGluaXRDaGVja0JveCxcbiAgXCJyYWRpb1wiOiBpbml0UmFkaW9cbn1cblxuXG4vLyBAVE9ET1xuXG5cbi8vIHR3by13YXkgYmluZGluZyB3aXRoIHItbW9kZWxcbi8vIHdvcmtzIG9uIGlucHV0LCB0ZXh0YXJlYSwgY2hlY2tib3gsIHJhZGlvLCBzZWxlY3RcblxuUmVndWxhci5kaXJlY3RpdmUoXCJyLW1vZGVsXCIsIGZ1bmN0aW9uKGVsZW0sIHZhbHVlKXtcbiAgdmFyIHRhZyA9IGVsZW0udGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICB2YXIgc2lnbiA9IHRhZztcbiAgaWYoc2lnbiA9PT0gXCJpbnB1dFwiKSBzaWduID0gZWxlbS50eXBlIHx8IFwidGV4dFwiO1xuICBlbHNlIGlmKHNpZ24gPT09IFwidGV4dGFyZWFcIikgc2lnbiA9IFwidGV4dFwiO1xuICBpZih0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHZhbHVlID0gdGhpcy4kZXhwcmVzc2lvbih2YWx1ZSk7XG5cbiAgaWYoIG1vZGVsSGFuZGxlcnNbc2lnbl0gKSByZXR1cm4gbW9kZWxIYW5kbGVyc1tzaWduXS5jYWxsKHRoaXMsIGVsZW0sIHZhbHVlKTtcbiAgZWxzZSBpZih0YWcgPT09IFwiaW5wdXRcIil7XG4gICAgcmV0dXJuIG1vZGVsSGFuZGxlcnMudGV4dC5jYWxsKHRoaXMsIGVsZW0sIHZhbHVlKTtcbiAgfVxufSk7XG5cblxuXG4vLyBiaW5kaW5nIDxzZWxlY3Q+XG5cbmZ1bmN0aW9uIGluaXRTZWxlY3QoIGVsZW0sIHBhcnNlZCl7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIHdjID10aGlzLiR3YXRjaChwYXJzZWQsIGZ1bmN0aW9uKG5ld1ZhbHVlKXtcbiAgICB2YXIgY2hpbGRyZW4gPSBfLnNsaWNlKGVsZW0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ29wdGlvbicpKVxuICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24obm9kZSwgaW5kZXgpe1xuICAgICAgaWYobm9kZS52YWx1ZSA9PSBuZXdWYWx1ZSl7XG4gICAgICAgIGVsZW0uc2VsZWN0ZWRJbmRleCA9IGluZGV4O1xuICAgICAgfVxuICAgIH0pXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZXIoKXtcbiAgICBwYXJzZWQuc2V0KHNlbGYsIHRoaXMudmFsdWUpO1xuICAgIHdjLmxhc3QgPSB0aGlzLnZhbHVlO1xuICAgIHNlbGYuJHVwZGF0ZSgpO1xuICB9XG5cbiAgZG9tLm9uKGVsZW0sIFwiY2hhbmdlXCIsIGhhbmRsZXIpO1xuICBcbiAgaWYocGFyc2VkLmdldChzZWxmKSA9PT0gdW5kZWZpbmVkICYmIGVsZW0udmFsdWUpe1xuICAgICBwYXJzZWQuc2V0KHNlbGYsIGVsZW0udmFsdWUpO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiBkZXN0cm95KCl7XG4gICAgZG9tLm9mZihlbGVtLCBcImNoYW5nZVwiLCBoYW5kbGVyKTtcbiAgfVxufVxuXG4vLyBpbnB1dCx0ZXh0YXJlYSBiaW5kaW5nXG5cbmZ1bmN0aW9uIGluaXRUZXh0KGVsZW0sIHBhcnNlZCl7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIHdjID0gdGhpcy4kd2F0Y2gocGFyc2VkLCBmdW5jdGlvbihuZXdWYWx1ZSl7XG4gICAgaWYoZWxlbS52YWx1ZSAhPT0gbmV3VmFsdWUpIGVsZW0udmFsdWUgPSBuZXdWYWx1ZSA9PSBudWxsPyBcIlwiOiBcIlwiICsgbmV3VmFsdWU7XG4gIH0pO1xuXG4gIC8vIEBUT0RPIHRvIGZpeGVkIGV2ZW50XG4gIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gKGV2KXtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgaWYoZXYudHlwZT09PSdjdXQnIHx8IGV2LnR5cGU9PT0ncGFzdGUnKXtcbiAgICAgIF8ubmV4dFRpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhhdC52YWx1ZVxuICAgICAgICBwYXJzZWQuc2V0KHNlbGYsIHZhbHVlKTtcbiAgICAgICAgd2MubGFzdCA9IHZhbHVlO1xuICAgICAgICBzZWxmLiR1cGRhdGUoKTtcbiAgICAgIH0pXG4gICAgfWVsc2V7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoYXQudmFsdWVcbiAgICAgICAgcGFyc2VkLnNldChzZWxmLCB2YWx1ZSk7XG4gICAgICAgIHdjLmxhc3QgPSB2YWx1ZTtcbiAgICAgICAgc2VsZi4kdXBkYXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIGlmKGRvbS5tc2llICE9PSA5ICYmIFwib25pbnB1dFwiIGluIGRvbS50Tm9kZSApe1xuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGhhbmRsZXIgKTtcbiAgfWVsc2V7XG4gICAgZG9tLm9uKGVsZW0sIFwicGFzdGVcIiwgaGFuZGxlcilcbiAgICBkb20ub24oZWxlbSwgXCJrZXl1cFwiLCBoYW5kbGVyKVxuICAgIGRvbS5vbihlbGVtLCBcImN1dFwiLCBoYW5kbGVyKVxuICAgIGRvbS5vbihlbGVtLCBcImNoYW5nZVwiLCBoYW5kbGVyKVxuICB9XG4gIGlmKHBhcnNlZC5nZXQoc2VsZikgPT09IHVuZGVmaW5lZCAmJiBlbGVtLnZhbHVlKXtcbiAgICAgcGFyc2VkLnNldChzZWxmLCBlbGVtLnZhbHVlKTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gKCl7XG4gICAgaWYoZG9tLm1zaWUgIT09IDkgJiYgXCJvbmlucHV0XCIgaW4gZG9tLnROb2RlICl7XG4gICAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBoYW5kbGVyICk7XG4gICAgfWVsc2V7XG4gICAgICBkb20ub2ZmKGVsZW0sIFwicGFzdGVcIiwgaGFuZGxlcilcbiAgICAgIGRvbS5vZmYoZWxlbSwgXCJrZXl1cFwiLCBoYW5kbGVyKVxuICAgICAgZG9tLm9mZihlbGVtLCBcImN1dFwiLCBoYW5kbGVyKVxuICAgICAgZG9tLm9mZihlbGVtLCBcImNoYW5nZVwiLCBoYW5kbGVyKVxuICAgIH1cbiAgfVxufVxuXG5cbi8vIGlucHV0OmNoZWNrYm94ICBiaW5kaW5nXG5cbmZ1bmN0aW9uIGluaXRDaGVja0JveChlbGVtLCBwYXJzZWQpe1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciB3YXRjaGVyID0gdGhpcy4kd2F0Y2gocGFyc2VkLCBmdW5jdGlvbihuZXdWYWx1ZSl7XG4gICAgZG9tLmF0dHIoZWxlbSwgJ2NoZWNrZWQnLCAhIW5ld1ZhbHVlKTtcbiAgfSk7XG5cbiAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiBoYW5kbGVyKCl7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5jaGVja2VkO1xuICAgIHBhcnNlZC5zZXQoc2VsZiwgdmFsdWUpO1xuICAgIHdhdGNoZXIubGFzdCA9IHZhbHVlO1xuICAgIHNlbGYuJHVwZGF0ZSgpO1xuICB9XG4gIGlmKHBhcnNlZC5zZXQpIGRvbS5vbihlbGVtLCBcImNoYW5nZVwiLCBoYW5kbGVyKVxuXG4gIGlmKHBhcnNlZC5nZXQoc2VsZikgPT09IHVuZGVmaW5lZCl7XG4gICAgcGFyc2VkLnNldChzZWxmLCAhIWVsZW0uY2hlY2tlZCk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gZGVzdHJveSgpe1xuICAgIGlmKHBhcnNlZC5zZXQpIGRvbS5vZmYoZWxlbSwgXCJjaGFuZ2VcIiwgaGFuZGxlcilcbiAgfVxufVxuXG5cbi8vIGlucHV0OnJhZGlvIGJpbmRpbmdcblxuZnVuY3Rpb24gaW5pdFJhZGlvKGVsZW0sIHBhcnNlZCl7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIHdjID0gdGhpcy4kd2F0Y2gocGFyc2VkLCBmdW5jdGlvbiggbmV3VmFsdWUgKXtcbiAgICBpZihuZXdWYWx1ZSA9PSBlbGVtLnZhbHVlKSBlbGVtLmNoZWNrZWQgPSB0cnVlO1xuICAgIGVsc2UgZWxlbS5jaGVja2VkID0gZmFsc2U7XG4gIH0pO1xuXG5cbiAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiBoYW5kbGVyKCl7XG4gICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICBwYXJzZWQuc2V0KHNlbGYsIHZhbHVlKTtcbiAgICBzZWxmLiR1cGRhdGUoKTtcbiAgfVxuICBpZihwYXJzZWQuc2V0KSBkb20ub24oZWxlbSwgXCJjaGFuZ2VcIiwgaGFuZGxlcilcbiAgLy8gYmVhY3VzZSBvbmx5IGFmdGVyIGNvbXBpbGUoaW5pdCksIHRoZSBkb20gc3RydWN0cnVlIGlzIGV4c2l0LiBcbiAgaWYocGFyc2VkLmdldChzZWxmKSA9PT0gdW5kZWZpbmVkKXtcbiAgICBpZihlbGVtLmNoZWNrZWQpIHtcbiAgICAgIHBhcnNlZC5zZXQoc2VsZiwgZWxlbS52YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGRlc3Ryb3koKXtcbiAgICBpZihwYXJzZWQuc2V0KSBkb20ub2ZmKGVsZW0sIFwiY2hhbmdlXCIsIGhhbmRsZXIpXG4gIH1cbn1cbiIsIlxuLy8gdGhhbmtzIGZvciBhbmd1bGFyICYmIG1vb3Rvb2xzIGZvciBzb21lIGNvbmNpc2UmY3Jvc3MtcGxhdGZvcm0gIGltcGxlbWVudGlvblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyBUaGUgTUlUIExpY2Vuc2Vcbi8vIENvcHlyaWdodCAoYykgMjAxMC0yMDE0IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xuXG4vLyAtLS1cbi8vIGxpY2Vuc2U6IE1JVC1zdHlsZSBsaWNlbnNlLiBodHRwOi8vbW9vdG9vbHMubmV0XG5cblxudmFyIGRvbSA9IG1vZHVsZS5leHBvcnRzO1xudmFyIGVudiA9IHJlcXVpcmUoXCIuL2Vudi5qc1wiKTtcbnZhciBfID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbnZhciB0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG52YXIgYWRkRXZlbnQsIHJlbW92ZUV2ZW50O1xudmFyIG5vb3AgPSBmdW5jdGlvbigpe31cblxudmFyIG5hbWVzcGFjZXMgPSB7XG4gIGh0bWw6IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLFxuICBzdmc6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxufVxuXG5kb20uYm9keSA9IGRvY3VtZW50LmJvZHk7XG5cbmRvbS5kb2MgPSBkb2N1bWVudDtcblxuLy8gY2FtZWxDYXNlXG5mdW5jdGlvbiBjYW1lbENhc2Uoc3RyKXtcbiAgcmV0dXJuIChcIlwiICsgc3RyKS5yZXBsYWNlKC8tXFxEL2csIGZ1bmN0aW9uKG1hdGNoKXtcbiAgICByZXR1cm4gbWF0Y2guY2hhckF0KDEpLnRvVXBwZXJDYXNlKCk7XG4gIH0pO1xufVxuXG5cbmRvbS50Tm9kZSA9IHROb2RlO1xuXG5pZih0Tm9kZS5hZGRFdmVudExpc3RlbmVyKXtcbiAgYWRkRXZlbnQgPSBmdW5jdGlvbihub2RlLCB0eXBlLCBmbikge1xuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmbiwgZmFsc2UpO1xuICB9XG4gIHJlbW92ZUV2ZW50ID0gZnVuY3Rpb24obm9kZSwgdHlwZSwgZm4pIHtcbiAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZm4sIGZhbHNlKSBcbiAgfVxufWVsc2V7XG4gIGFkZEV2ZW50ID0gZnVuY3Rpb24obm9kZSwgdHlwZSwgZm4pIHtcbiAgICBub2RlLmF0dGFjaEV2ZW50KCdvbicgKyB0eXBlLCBmbik7XG4gIH1cbiAgcmVtb3ZlRXZlbnQgPSBmdW5jdGlvbihub2RlLCB0eXBlLCBmbikge1xuICAgIG5vZGUuZGV0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGZuKTsgXG4gIH1cbn1cblxuXG5kb20ubXNpZSA9IHBhcnNlSW50KCgvbXNpZSAoXFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKSB8fCBbXSlbMV0pO1xuaWYgKGlzTmFOKGRvbS5tc2llKSkge1xuICBkb20ubXNpZSA9IHBhcnNlSW50KCgvdHJpZGVudFxcLy4qOyBydjooXFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKSB8fCBbXSlbMV0pO1xufVxuXG5kb20uZmluZCA9IGZ1bmN0aW9uKHNsKXtcbiAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcikge1xuICAgIHRyeXtcbiAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNsKTtcbiAgICB9Y2F0Y2goZSl7XG5cbiAgICB9XG4gIH1cbiAgaWYoc2wuaW5kZXhPZignIycpIT09LTEpIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggc2wuc2xpY2UoMSkgKTtcbn1cblxuZG9tLmluamVjdCA9IGZ1bmN0aW9uKG5vZGUsIHJlZmVyLCBwb3NpdGlvbil7XG5cbiAgcG9zaXRpb24gPSBwb3NpdGlvbiB8fCAnYm90dG9tJztcbiAgaWYoIW5vZGUpIHJldHVybiA7XG4gIGlmKEFycmF5LmlzQXJyYXkobm9kZSkpe1xuICAgIHZhciB0bXAgPSBub2RlO1xuICAgIG5vZGUgPSBkb20uZnJhZ21lbnQoKTtcbiAgICBmb3IodmFyIGkgPSAwLGxlbiA9IHRtcC5sZW5ndGg7IGkgPCBsZW4gO2krKyl7XG4gICAgICBub2RlLmFwcGVuZENoaWxkKHRtcFtpXSlcbiAgICB9XG4gIH1cblxuICB2YXIgZmlyc3RDaGlsZCwgbmV4dDtcbiAgc3dpdGNoKHBvc2l0aW9uKXtcbiAgICBjYXNlICdib3R0b20nOlxuICAgICAgcmVmZXIuYXBwZW5kQ2hpbGQoIG5vZGUgKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgICBpZiggZmlyc3RDaGlsZCA9IHJlZmVyLmZpcnN0Q2hpbGQgKXtcbiAgICAgICAgcmVmZXIuaW5zZXJ0QmVmb3JlKCBub2RlLCByZWZlci5maXJzdENoaWxkICk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmVmZXIuYXBwZW5kQ2hpbGQoIG5vZGUgKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2FmdGVyJzpcbiAgICAgIGlmKCBuZXh0ID0gcmVmZXIubmV4dFNpYmxpbmcgKXtcbiAgICAgICAgbmV4dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggbm9kZSwgbmV4dCApO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJlZmVyLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoIG5vZGUgKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2JlZm9yZSc6XG4gICAgICByZWZlci5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggbm9kZSwgcmVmZXIgKTtcbiAgfVxufVxuXG5cbmRvbS5pZCA9IGZ1bmN0aW9uKGlkKXtcbiAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbn1cblxuLy8gY3JlYXRlRWxlbWVudCBcbmRvbS5jcmVhdGUgPSBmdW5jdGlvbih0eXBlLCBucywgYXR0cnMpe1xuICBpZihucyA9PT0gJ3N2Zycpe1xuICAgIGlmKCFlbnYuc3ZnKSB0aHJvdyBFcnJvcigndGhlIGVudiBuZWVkIHN2ZyBzdXBwb3J0JylcbiAgICBucyA9IG5hbWVzcGFjZXMuc3ZnO1xuICB9XG4gIHJldHVybiAhbnM/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgdHlwZSk7XG59XG5cbi8vIGRvY3VtZW50RnJhZ21lbnRcbmRvbS5mcmFnbWVudCA9IGZ1bmN0aW9uKCl7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG59XG5cblxuXG52YXIgc3BlY2lhbEF0dHIgPSB7XG4gICdjbGFzcyc6IGZ1bmN0aW9uKG5vZGUsIHZhbHVlKXtcbiAgICAoJ2NsYXNzTmFtZScgaW4gbm9kZSAmJiAobm9kZS5uYW1lc3BhY2VVUkkgPT09IG5hbWVzcGFjZXMuaHRtbCB8fCAhbm9kZS5uYW1lc3BhY2VVUkkpKSA/XG4gICAgICBub2RlLmNsYXNzTmFtZSA9ICh2YWx1ZSB8fCAnJykgOiBub2RlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB2YWx1ZSk7XG4gIH0sXG4gICdmb3InOiBmdW5jdGlvbihub2RlLCB2YWx1ZSl7XG4gICAgKCdodG1sRm9yJyBpbiBub2RlKSA/IG5vZGUuaHRtbEZvciA9IHZhbHVlIDogbm9kZS5zZXRBdHRyaWJ1dGUoJ2ZvcicsIHZhbHVlKTtcbiAgfSxcbiAgJ3N0eWxlJzogZnVuY3Rpb24obm9kZSwgdmFsdWUpe1xuICAgIChub2RlLnN0eWxlKSA/IG5vZGUuc3R5bGUuY3NzVGV4dCA9IHZhbHVlIDogbm9kZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgdmFsdWUpO1xuICB9LFxuICAndmFsdWUnOiBmdW5jdGlvbihub2RlLCB2YWx1ZSl7XG4gICAgbm9kZS52YWx1ZSA9ICh2YWx1ZSAhPSBudWxsKSA/IHZhbHVlIDogJyc7XG4gIH1cbn1cblxuXG4vLyBhdHRyaWJ1dGUgU2V0dGVyICYgR2V0dGVyXG5kb20uYXR0ciA9IGZ1bmN0aW9uKG5vZGUsIG5hbWUsIHZhbHVlKXtcbiAgaWYgKF8uaXNCb29sZWFuQXR0cihuYW1lKSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoISF2YWx1ZSkge1xuICAgICAgICBub2RlW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgbmFtZSk7XG4gICAgICAgIC8vIGx0IGllNyAuIHRoZSBqYXZhc2NyaXB0IGNoZWNrZWQgc2V0dGluZyBpcyBpbiB2YWxpZFxuICAgICAgICAvL2h0dHA6Ly9ieXRlcy5jb20vdG9waWMvamF2YXNjcmlwdC9pbnNpZ2h0cy83OTkxNjctYnJvd3Nlci1xdWlyay1keW5hbWljYWxseS1hcHBlbmRlZC1jaGVja2VkLWNoZWNrYm94LWRvZXMtbm90LWFwcGVhci1jaGVja2VkLWllXG4gICAgICAgIGlmKGRvbS5tc2llICYmIGRvbS5tc2llIDw9NyApIG5vZGUuZGVmYXVsdENoZWNrZWQgPSB0cnVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlW25hbWVdID0gZmFsc2U7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKG5vZGVbbmFtZV0gfHxcbiAgICAgICAgICAgICAgIChub2RlLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKG5hbWUpfHwgbm9vcCkuc3BlY2lmaWVkKSA/IG5hbWUgOiB1bmRlZmluZWQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiAodmFsdWUpICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIGlmIGluIHNwZWNpYWxBdHRyO1xuICAgIGlmKHNwZWNpYWxBdHRyW25hbWVdKSBzcGVjaWFsQXR0cltuYW1lXShub2RlLCB2YWx1ZSk7XG4gICAgZWxzZSBpZih2YWx1ZSA9PT0gbnVsbCkgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSlcbiAgICBlbHNlIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgfSBlbHNlIGlmIChub2RlLmdldEF0dHJpYnV0ZSkge1xuICAgIC8vIHRoZSBleHRyYSBhcmd1bWVudCBcIjJcIiBpcyB0byBnZXQgdGhlIHJpZ2h0IHRoaW5nIGZvciBhLmhyZWYgaW4gSUUsIHNlZSBqUXVlcnkgY29kZVxuICAgIC8vIHNvbWUgZWxlbWVudHMgKGUuZy4gRG9jdW1lbnQpIGRvbid0IGhhdmUgZ2V0IGF0dHJpYnV0ZSwgc28gcmV0dXJuIHVuZGVmaW5lZFxuICAgIHZhciByZXQgPSBub2RlLmdldEF0dHJpYnV0ZShuYW1lLCAyKTtcbiAgICAvLyBub3JtYWxpemUgbm9uLWV4aXN0aW5nIGF0dHJpYnV0ZXMgdG8gdW5kZWZpbmVkIChhcyBqUXVlcnkpXG4gICAgcmV0dXJuIHJldCA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcbiAgfVxufVxuXG5cbmRvbS5vbiA9IGZ1bmN0aW9uKG5vZGUsIHR5cGUsIGhhbmRsZXIpe1xuICB2YXIgdHlwZXMgPSB0eXBlLnNwbGl0KCcgJyk7XG4gIGhhbmRsZXIucmVhbCA9IGZ1bmN0aW9uKGV2KXtcbiAgICB2YXIgJGV2ZW50ID0gbmV3IEV2ZW50KGV2KTtcbiAgICAkZXZlbnQub3JpZ2luID0gbm9kZTtcbiAgICBoYW5kbGVyLmNhbGwobm9kZSwgJGV2ZW50KTtcbiAgfVxuICB0eXBlcy5mb3JFYWNoKGZ1bmN0aW9uKHR5cGUpe1xuICAgIHR5cGUgPSBmaXhFdmVudE5hbWUobm9kZSwgdHlwZSk7XG4gICAgYWRkRXZlbnQobm9kZSwgdHlwZSwgaGFuZGxlci5yZWFsKTtcbiAgfSk7XG59XG5kb20ub2ZmID0gZnVuY3Rpb24obm9kZSwgdHlwZSwgaGFuZGxlcil7XG4gIHZhciB0eXBlcyA9IHR5cGUuc3BsaXQoJyAnKTtcbiAgaGFuZGxlciA9IGhhbmRsZXIucmVhbCB8fCBoYW5kbGVyO1xuICB0eXBlcy5mb3JFYWNoKGZ1bmN0aW9uKHR5cGUpe1xuICAgIHR5cGUgPSBmaXhFdmVudE5hbWUobm9kZSwgdHlwZSk7XG4gICAgcmVtb3ZlRXZlbnQobm9kZSwgdHlwZSwgaGFuZGxlcik7XG4gIH0pXG59XG5cblxuZG9tLnRleHQgPSAoZnVuY3Rpb24gKCl7XG4gIHZhciBtYXAgPSB7fTtcbiAgaWYgKGRvbS5tc2llICYmIGRvbS5tc2llIDwgOSkge1xuICAgIG1hcFsxXSA9ICdpbm5lclRleHQnOyAgICBcbiAgICBtYXBbM10gPSAnbm9kZVZhbHVlJzsgICAgXG4gIH0gZWxzZSB7XG4gICAgbWFwWzFdID0gbWFwWzNdID0gJ3RleHRDb250ZW50JztcbiAgfVxuICBcbiAgcmV0dXJuIGZ1bmN0aW9uIChub2RlLCB2YWx1ZSkge1xuICAgIHZhciB0ZXh0UHJvcCA9IG1hcFtub2RlLm5vZGVUeXBlXTtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRleHRQcm9wID8gbm9kZVt0ZXh0UHJvcF0gOiAnJztcbiAgICB9XG4gICAgbm9kZVt0ZXh0UHJvcF0gPSB2YWx1ZTtcbiAgfVxufSkoKTtcblxuXG5kb20uaHRtbCA9IGZ1bmN0aW9uKCBub2RlLCBodG1sICl7XG4gIGlmKHR5cGVvZiBodG1sID09PSBcInVuZGVmaW5lZFwiKXtcbiAgICByZXR1cm4gbm9kZS5pbm5lckhUTUw7XG4gIH1lbHNle1xuICAgIG5vZGUuaW5uZXJIVE1MID0gaHRtbDtcbiAgfVxufVxuXG5kb20ucmVwbGFjZSA9IGZ1bmN0aW9uKG5vZGUsIHJlcGxhY2VkKXtcbiAgaWYocmVwbGFjZWQucGFyZW50Tm9kZSkgcmVwbGFjZWQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobm9kZSwgcmVwbGFjZWQpO1xufVxuXG5kb20ucmVtb3ZlID0gZnVuY3Rpb24obm9kZSl7XG4gIGlmKG5vZGUucGFyZW50Tm9kZSkgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xufVxuXG4vLyBjc3MgU2V0dGxlICYgR2V0dGVyIGZyb20gYW5ndWxhclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBpdCBpc250IGNvbXB1dGVkIHN0eWxlIFxuZG9tLmNzcyA9IGZ1bmN0aW9uKG5vZGUsIG5hbWUsIHZhbHVlKXtcbiAgaWYoIF8udHlwZU9mKG5hbWUpID09PSBcIm9iamVjdFwiICl7XG4gICAgZm9yKHZhciBpIGluIG5hbWUpe1xuICAgICAgaWYoIG5hbWUuaGFzT3duUHJvcGVydHkoaSkgKXtcbiAgICAgICAgZG9tLmNzcyggbm9kZSwgaSwgbmFtZVtpXSApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCB0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cbiAgICBuYW1lID0gY2FtZWxDYXNlKG5hbWUpO1xuICAgIGlmKG5hbWUpIG5vZGUuc3R5bGVbbmFtZV0gPSB2YWx1ZTtcblxuICB9IGVsc2Uge1xuXG4gICAgdmFyIHZhbDtcbiAgICBpZiAoZG9tLm1zaWUgPD0gOCkge1xuICAgICAgLy8gdGhpcyBpcyBzb21lIElFIHNwZWNpZmljIHdlaXJkbmVzcyB0aGF0IGpRdWVyeSAxLjYuNCBkb2VzIG5vdCBzdXJlIHdoeVxuICAgICAgdmFsID0gbm9kZS5jdXJyZW50U3R5bGUgJiYgbm9kZS5jdXJyZW50U3R5bGVbbmFtZV07XG4gICAgICBpZiAodmFsID09PSAnJykgdmFsID0gJ2F1dG8nO1xuICAgIH1cbiAgICB2YWwgPSB2YWwgfHwgbm9kZS5zdHlsZVtuYW1lXTtcbiAgICBpZiAoZG9tLm1zaWUgPD0gOCkge1xuICAgICAgdmFsID0gdmFsID09PSAnJyA/IHVuZGVmaW5lZCA6IHZhbDtcbiAgICB9XG4gICAgcmV0dXJuICB2YWw7XG4gIH1cbn1cblxuZG9tLmFkZENsYXNzID0gZnVuY3Rpb24obm9kZSwgY2xhc3NOYW1lKXtcbiAgdmFyIGN1cnJlbnQgPSBub2RlLmNsYXNzTmFtZSB8fCBcIlwiO1xuICBpZiAoKFwiIFwiICsgY3VycmVudCArIFwiIFwiKS5pbmRleE9mKFwiIFwiICsgY2xhc3NOYW1lICsgXCIgXCIpID09PSAtMSkge1xuICAgIG5vZGUuY2xhc3NOYW1lID0gY3VycmVudD8gKCBjdXJyZW50ICsgXCIgXCIgKyBjbGFzc05hbWUgKSA6IGNsYXNzTmFtZTtcbiAgfVxufVxuXG5kb20uZGVsQ2xhc3MgPSBmdW5jdGlvbihub2RlLCBjbGFzc05hbWUpe1xuICB2YXIgY3VycmVudCA9IG5vZGUuY2xhc3NOYW1lIHx8IFwiXCI7XG4gIG5vZGUuY2xhc3NOYW1lID0gKFwiIFwiICsgY3VycmVudCArIFwiIFwiKS5yZXBsYWNlKFwiIFwiICsgY2xhc3NOYW1lICsgXCIgXCIsIFwiIFwiKS50cmltKCk7XG59XG5cbmRvbS5oYXNDbGFzcyA9IGZ1bmN0aW9uKG5vZGUsIGNsYXNzTmFtZSl7XG4gIHZhciBjdXJyZW50ID0gbm9kZS5jbGFzc05hbWUgfHwgXCJcIjtcbiAgcmV0dXJuIChcIiBcIiArIGN1cnJlbnQgKyBcIiBcIikuaW5kZXhPZihcIiBcIiArIGNsYXNzTmFtZSArIFwiIFwiKSAhPT0gLTE7XG59XG5cblxuXG4vLyBzaW1wbGUgRXZlbnQgd3JhcFxuXG4vL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTEwNjgxOTYvaWU4LWllNy1vbmNoYW5nZS1ldmVudC1pcy1lbWl0ZWQtb25seS1hZnRlci1yZXBlYXRlZC1zZWxlY3Rpb25cbmZ1bmN0aW9uIGZpeEV2ZW50TmFtZShlbGVtLCBuYW1lKXtcbiAgcmV0dXJuIChuYW1lID09PSAnY2hhbmdlJyAgJiYgIGRvbS5tc2llIDwgOSAmJiBcbiAgICAgIChlbGVtICYmIGVsZW0udGFnTmFtZSAmJiBlbGVtLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PSdpbnB1dCcgJiYgXG4gICAgICAgIChlbGVtLnR5cGUgPT09ICdjaGVja2JveCcgfHwgZWxlbS50eXBlID09PSAncmFkaW8nKVxuICAgICAgKVxuICAgICk/ICdjbGljayc6IG5hbWU7XG59XG5cbnZhciByTW91c2VFdmVudCA9IC9eKD86Y2xpY2t8ZGJsY2xpY2t8Y29udGV4dG1lbnV8RE9NTW91c2VTY3JvbGx8bW91c2UoPzpcXHcrKSkkL1xudmFyIGRvYyA9IGRvY3VtZW50O1xuZG9jID0gKCFkb2MuY29tcGF0TW9kZSB8fCBkb2MuY29tcGF0TW9kZSA9PT0gJ0NTUzFDb21wYXQnKSA/IGRvYy5kb2N1bWVudEVsZW1lbnQgOiBkb2MuYm9keTtcbmZ1bmN0aW9uIEV2ZW50KGV2KXtcbiAgZXYgPSBldiB8fCB3aW5kb3cuZXZlbnQ7XG4gIGlmKGV2Ll9maXhlZCkgcmV0dXJuIGV2O1xuICB0aGlzLmV2ZW50ID0gZXY7XG4gIHRoaXMudGFyZ2V0ID0gZXYudGFyZ2V0IHx8IGV2LnNyY0VsZW1lbnQ7XG5cbiAgdmFyIHR5cGUgPSB0aGlzLnR5cGUgPSBldi50eXBlO1xuICB2YXIgYnV0dG9uID0gdGhpcy5idXR0b24gPSBldi5idXR0b247XG5cbiAgLy8gaWYgaXMgbW91c2UgZXZlbnQgcGF0Y2ggcGFnZVhcbiAgaWYock1vdXNlRXZlbnQudGVzdCh0eXBlKSl7IC8vZml4IHBhZ2VYXG4gICAgdGhpcy5wYWdlWCA9IChldi5wYWdlWCAhPSBudWxsKSA/IGV2LnBhZ2VYIDogZXYuY2xpZW50WCArIGRvYy5zY3JvbGxMZWZ0O1xuICAgIHRoaXMucGFnZVkgPSAoZXYucGFnZVggIT0gbnVsbCkgPyBldi5wYWdlWSA6IGV2LmNsaWVudFkgKyBkb2Muc2Nyb2xsVG9wO1xuICAgIGlmICh0eXBlID09PSAnbW91c2VvdmVyJyB8fCB0eXBlID09PSAnbW91c2VvdXQnKXsvLyBmaXggcmVsYXRlZFRhcmdldFxuICAgICAgdmFyIHJlbGF0ZWQgPSBldi5yZWxhdGVkVGFyZ2V0IHx8IGV2Wyh0eXBlID09PSAnbW91c2VvdmVyJyA/ICdmcm9tJyA6ICd0bycpICsgJ0VsZW1lbnQnXTtcbiAgICAgIHdoaWxlIChyZWxhdGVkICYmIHJlbGF0ZWQubm9kZVR5cGUgPT09IDMpIHJlbGF0ZWQgPSByZWxhdGVkLnBhcmVudE5vZGU7XG4gICAgICB0aGlzLnJlbGF0ZWRUYXJnZXQgPSByZWxhdGVkO1xuICAgIH1cbiAgfVxuICAvLyBpZiBpcyBtb3VzZXNjcm9sbFxuICBpZiAodHlwZSA9PT0gJ0RPTU1vdXNlU2Nyb2xsJyB8fCB0eXBlID09PSAnbW91c2V3aGVlbCcpe1xuICAgIC8vIGZmIGV2LmRldGFpbDogMyAgICBvdGhlciBldi53aGVlbERlbHRhOiAtMTIwXG4gICAgdGhpcy53aGVlbERlbHRhID0gKGV2LndoZWVsRGVsdGEpID8gZXYud2hlZWxEZWx0YSAvIDEyMCA6IC0oZXYuZGV0YWlsIHx8IDApIC8gMztcbiAgfVxuICBcbiAgLy8gZml4IHdoaWNoXG4gIHRoaXMud2hpY2ggPSBldi53aGljaCB8fCBldi5rZXlDb2RlO1xuICBpZiggIXRoaXMud2hpY2ggJiYgYnV0dG9uICE9PSB1bmRlZmluZWQpe1xuICAgIC8vIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9ldmVudC53aGljaC8gdXNlIHdoaWNoXG4gICAgdGhpcy53aGljaCA9ICggYnV0dG9uICYgMSA/IDEgOiAoIGJ1dHRvbiAmIDIgPyAzIDogKCBidXR0b24gJiA0ID8gMiA6IDAgKSApICk7XG4gIH1cbiAgdGhpcy5fZml4ZWQgPSB0cnVlO1xufVxuXG5fLmV4dGVuZChFdmVudC5wcm90b3R5cGUsIHtcbiAgaW1tZWRpYXRlU3RvcDogXy5pc0ZhbHNlLFxuICBzdG9wOiBmdW5jdGlvbigpe1xuICAgIHRoaXMucHJldmVudERlZmF1bHQoKS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSxcbiAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCl7XG4gICAgaWYgKHRoaXMuZXZlbnQucHJldmVudERlZmF1bHQpIHRoaXMuZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBlbHNlIHRoaXMuZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpe1xuICAgIGlmICh0aGlzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbikgdGhpcy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlbHNlIHRoaXMuZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbigpe1xuICAgIGlmKHRoaXMuZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKSB0aGlzLmV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICB9XG59KVxuXG5cbmRvbS5uZXh0RnJhbWUgPSAoZnVuY3Rpb24oKXtcbiAgICB2YXIgcmVxdWVzdCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCBcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGNhbGxiYWNrKXtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChjYWxsYmFjaywgMTYpXG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICB2YXIgY2FuY2VsID0gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgIHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICB3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgd2luZG93LndlYmtpdENhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICBmdW5jdGlvbih0aWQpe1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGlkKVxuICAgICAgICAgICAgICAgICB9XG4gIFxuICByZXR1cm4gZnVuY3Rpb24oY2FsbGJhY2spe1xuICAgIHZhciBpZCA9IHJlcXVlc3QoY2FsbGJhY2spO1xuICAgIHJldHVybiBmdW5jdGlvbigpeyBjYW5jZWwoaWQpOyB9XG4gIH1cbn0pKCk7XG5cbi8vIDNrcyBmb3IgYW5ndWxhcidzIHJhZiAgc2VydmljZVxudmFyIGs7XG5kb20ubmV4dFJlZmxvdyA9IGRvbS5tc2llPyBmdW5jdGlvbihjYWxsYmFjayl7XG4gIHJldHVybiBkb20ubmV4dEZyYW1lKGZ1bmN0aW9uKCl7XG4gICAgayA9IGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGg7XG4gICAgY2FsbGJhY2soKTtcbiAgfSlcbn06IGRvbS5uZXh0RnJhbWU7XG5cblxuXG4iLCIvLyBzb21lIGZpeHR1cmUgdGVzdDtcbi8vIC0tLS0tLS0tLS0tLS0tLVxudmFyIF8gPSByZXF1aXJlKCcuL3V0aWwnKTtcbmV4cG9ydHMuc3ZnID0gKGZ1bmN0aW9uKCl7XG4gIHJldHVybiB0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSggXCJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0Jhc2ljU3RydWN0dXJlXCIsIFwiMS4xXCIgKTtcbn0pKCk7XG5cblxuZXhwb3J0cy5icm93c2VyID0gdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50Lm5vZGVUeXBlO1xuLy8gd2hldGhlciBoYXZlIGNvbXBvbmVudCBpbiBpbml0aWFsaXppbmdcbmV4cG9ydHMuZXhwckNhY2hlID0gXy5jYWNoZSgxMDAwKTtcbmV4cG9ydHMuaXNSdW5uaW5nID0gZmFsc2U7XG4iLCJ2YXIgXyA9IHJlcXVpcmUoJy4vdXRpbCcpO1xudmFyIGNvbWJpbmUgPSByZXF1aXJlKCcuL2hlbHBlci9jb21iaW5lJylcblxuZnVuY3Rpb24gR3JvdXAobGlzdCl7XG4gIHRoaXMuY2hpbGRyZW4gPSBsaXN0IHx8IFtdO1xufVxuXG5cbnZhciBvID0gXy5leHRlbmQoR3JvdXAucHJvdG90eXBlLCB7XG4gIGRlc3Ryb3k6IGZ1bmN0aW9uKGZpcnN0KXtcbiAgICBjb21iaW5lLmRlc3Ryb3kodGhpcy5jaGlsZHJlbiwgZmlyc3QpO1xuICAgIGlmKHRoaXMub25kZXN0cm95KSB0aGlzLm9uZGVzdHJveSgpO1xuICAgIHRoaXMuY2hpbGRyZW4gPSBudWxsO1xuICB9LFxuICBnZXQ6IGZ1bmN0aW9uKGkpe1xuICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2ldXG4gIH0sXG4gIHB1c2g6IGZ1bmN0aW9uKGl0ZW0pe1xuICAgIHRoaXMuY2hpbGRyZW4ucHVzaCggaXRlbSApO1xuICB9XG59KVxuby5pbmplY3QgPSBvLiRpbmplY3QgPSBjb21iaW5lLmluamVjdFxuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBHcm91cDtcblxuXG4iLCJ2YXIgXyA9IHJlcXVpcmUoXCIuLi91dGlsXCIpO1xudmFyIGRvbSAgPSByZXF1aXJlKFwiLi4vZG9tLmpzXCIpO1xudmFyIGFuaW1hdGUgPSB7fTtcbnZhciBlbnYgPSByZXF1aXJlKFwiLi4vZW52LmpzXCIpO1xuXG5cbnZhciBcbiAgdHJhbnNpdGlvbkVuZCA9ICd0cmFuc2l0aW9uZW5kJywgXG4gIGFuaW1hdGlvbkVuZCA9ICdhbmltYXRpb25lbmQnLCBcbiAgdHJhbnNpdGlvblByb3BlcnR5ID0gJ3RyYW5zaXRpb24nLCBcbiAgYW5pbWF0aW9uUHJvcGVydHkgPSAnYW5pbWF0aW9uJztcblxuaWYoISgnb250cmFuc2l0aW9uZW5kJyBpbiB3aW5kb3cpKXtcbiAgaWYoJ29ud2Via2l0dHJhbnNpdGlvbmVuZCcgaW4gd2luZG93KSB7XG4gICAgXG4gICAgLy8gQ2hyb21lL1NhZiAoKyBNb2JpbGUgU2FmKS9BbmRyb2lkXG4gICAgdHJhbnNpdGlvbkVuZCArPSAnIHdlYmtpdFRyYW5zaXRpb25FbmQnO1xuICAgIHRyYW5zaXRpb25Qcm9wZXJ0eSA9ICd3ZWJraXRUcmFuc2l0aW9uJ1xuICB9IGVsc2UgaWYoJ29ub3RyYW5zaXRpb25lbmQnIGluIGRvbS50Tm9kZSB8fCBuYXZpZ2F0b3IuYXBwTmFtZSA9PT0gJ09wZXJhJykge1xuXG4gICAgLy8gT3BlcmFcbiAgICB0cmFuc2l0aW9uRW5kICs9ICcgb1RyYW5zaXRpb25FbmQnO1xuICAgIHRyYW5zaXRpb25Qcm9wZXJ0eSA9ICdvVHJhbnNpdGlvbic7XG4gIH1cbn1cbmlmKCEoJ29uYW5pbWF0aW9uZW5kJyBpbiB3aW5kb3cpKXtcbiAgaWYgKCdvbndlYmtpdGFuaW1hdGlvbmVuZCcgaW4gd2luZG93KXtcbiAgICAvLyBDaHJvbWUvU2FmICgrIE1vYmlsZSBTYWYpL0FuZHJvaWRcbiAgICBhbmltYXRpb25FbmQgKz0gJyB3ZWJraXRBbmltYXRpb25FbmQnO1xuICAgIGFuaW1hdGlvblByb3BlcnR5ID0gJ3dlYmtpdEFuaW1hdGlvbic7XG5cbiAgfWVsc2UgaWYgKCdvbm9hbmltYXRpb25lbmQnIGluIGRvbS50Tm9kZSl7XG4gICAgLy8gT3BlcmFcbiAgICBhbmltYXRpb25FbmQgKz0gJyBvQW5pbWF0aW9uRW5kJztcbiAgICBhbmltYXRpb25Qcm9wZXJ0eSA9ICdvQW5pbWF0aW9uJztcbiAgfVxufVxuXG4vKipcbiAqIGluamVjdCBub2RlIHdpdGggYW5pbWF0aW9uXG4gKiBAcGFyYW0gIHtbdHlwZV19IG5vZGUgICAgICBbZGVzY3JpcHRpb25dXG4gKiBAcGFyYW0gIHtbdHlwZV19IHJlZmVyICAgICBbZGVzY3JpcHRpb25dXG4gKiBAcGFyYW0gIHtbdHlwZV19IGRpcmVjdGlvbiBbZGVzY3JpcHRpb25dXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICBbZGVzY3JpcHRpb25dXG4gKi9cbmFuaW1hdGUuaW5qZWN0ID0gZnVuY3Rpb24oIG5vZGUsIHJlZmVyICxkaXJlY3Rpb24sIGNhbGxiYWNrICl7XG4gIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgXy5ub29wO1xuICBpZiggQXJyYXkuaXNBcnJheShub2RlKSApe1xuICAgIHZhciBmcmFnbWVudCA9IGRvbS5mcmFnbWVudCgpO1xuICAgIHZhciBjb3VudD0wO1xuXG4gICAgZm9yKHZhciBpID0gMCxsZW4gPSBub2RlLmxlbmd0aDtpIDwgbGVuOyBpKysgKXtcbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKG5vZGVbaV0pOyBcbiAgICB9XG4gICAgZG9tLmluamVjdChmcmFnbWVudCwgcmVmZXIsIGRpcmVjdGlvbik7XG5cbiAgICAvLyBpZiBhbGwgbm9kZXMgaXMgZG9uZSwgd2UgY2FsbCB0aGUgY2FsbGJhY2tcbiAgICB2YXIgZW50ZXJDYWxsYmFjayA9IGZ1bmN0aW9uICgpe1xuICAgICAgY291bnQrKztcbiAgICAgIGlmKCBjb3VudCA9PT0gbGVuICkgY2FsbGJhY2soKTtcbiAgICB9XG4gICAgaWYobGVuID09PSBjb3VudCkgY2FsbGJhY2soKTtcbiAgICBmb3IoIGkgPSAwOyBpIDwgbGVuOyBpKysgKXtcbiAgICAgIGlmKG5vZGVbaV0ub25lbnRlcil7XG4gICAgICAgIG5vZGVbaV0ub25lbnRlcihlbnRlckNhbGxiYWNrKTtcbiAgICAgIH1lbHNle1xuICAgICAgICBlbnRlckNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9ZWxzZXtcbiAgICBkb20uaW5qZWN0KCBub2RlLCByZWZlciwgZGlyZWN0aW9uICk7XG4gICAgaWYobm9kZS5vbmVudGVyKXtcbiAgICAgIG5vZGUub25lbnRlcihjYWxsYmFjaylcbiAgICB9ZWxzZXtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogcmVtb3ZlIG5vZGUgd2l0aCBhbmltYXRpb25cbiAqIEBwYXJhbSAge1t0eXBlXX0gICBub2RlICAgICBbZGVzY3JpcHRpb25dXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sgW2Rlc2NyaXB0aW9uXVxuICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAqL1xuYW5pbWF0ZS5yZW1vdmUgPSBmdW5jdGlvbihub2RlLCBjYWxsYmFjayl7XG4gIGlmKCFub2RlKSB0aHJvdyBuZXcgRXJyb3IoJ25vZGUgdG8gYmUgcmVtb3ZlZCBpcyB1bmRlZmluZWQnKVxuICB2YXIgY291bnQgPSAwO1xuICBmdW5jdGlvbiBsb29wKCl7XG4gICAgY291bnQrKztcbiAgICBpZihjb3VudCA9PT0gbGVuKSBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gIH1cbiAgaWYoQXJyYXkuaXNBcnJheShub2RlKSl7XG4gICAgZm9yKHZhciBpID0gMCwgbGVuID0gbm9kZS5sZW5ndGg7IGkgPCBsZW4gOyBpKyspe1xuICAgICAgYW5pbWF0ZS5yZW1vdmUobm9kZVtpXSwgbG9vcClcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgaWYobm9kZS5vbmxlYXZlKXtcbiAgICBub2RlLm9ubGVhdmUoZnVuY3Rpb24oKXtcbiAgICAgIHJlbW92ZURvbmUobm9kZSwgY2FsbGJhY2spXG4gICAgfSlcbiAgfWVsc2V7XG4gICAgcmVtb3ZlRG9uZShub2RlLCBjYWxsYmFjaylcbiAgfVxufVxuXG52YXIgcmVtb3ZlRG9uZSA9IGZ1bmN0aW9uIChub2RlLCBjYWxsYmFjayl7XG4gICAgZG9tLnJlbW92ZShub2RlKTtcbiAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xufVxuXG5cblxuYW5pbWF0ZS5zdGFydENsYXNzQW5pbWF0ZSA9IGZ1bmN0aW9uICggbm9kZSwgY2xhc3NOYW1lLCAgY2FsbGJhY2ssIG1vZGUgKXtcbiAgdmFyIGFjdGl2ZUNsYXNzTmFtZSwgdGltZW91dCwgdGlkLCBvbmNlQW5pbTtcbiAgaWYoICghYW5pbWF0aW9uRW5kICYmICF0cmFuc2l0aW9uRW5kKSB8fCBlbnYuaXNSdW5uaW5nICl7XG4gICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gIH1cblxuICBpZihtb2RlICE9PSA0KXtcbiAgICBvbmNlQW5pbSA9IF8ub25jZShmdW5jdGlvbiBvbkFuaW1hdGVFbmQoKXtcbiAgICAgIGlmKHRpZCkgY2xlYXJUaW1lb3V0KHRpZCk7XG5cbiAgICAgIGlmKG1vZGUgPT09IDIpIHtcbiAgICAgICAgZG9tLmRlbENsYXNzKG5vZGUsIGFjdGl2ZUNsYXNzTmFtZSk7XG4gICAgICB9XG4gICAgICBpZihtb2RlICE9PSAzKXsgLy8gbW9kZSBob2xkIHRoZSBjbGFzc1xuICAgICAgICBkb20uZGVsQ2xhc3Mobm9kZSwgY2xhc3NOYW1lKTtcbiAgICAgIH1cbiAgICAgIGRvbS5vZmYobm9kZSwgYW5pbWF0aW9uRW5kLCBvbmNlQW5pbSlcbiAgICAgIGRvbS5vZmYobm9kZSwgdHJhbnNpdGlvbkVuZCwgb25jZUFuaW0pXG5cbiAgICAgIGNhbGxiYWNrKCk7XG5cbiAgICB9KTtcbiAgfWVsc2V7XG4gICAgb25jZUFuaW0gPSBfLm9uY2UoZnVuY3Rpb24gb25BbmltYXRlRW5kKCl7XG4gICAgICBpZih0aWQpIGNsZWFyVGltZW91dCh0aWQpO1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9KTtcbiAgfVxuICBpZihtb2RlID09PSAyKXsgLy8gYXV0byByZW1vdmVkXG4gICAgZG9tLmFkZENsYXNzKCBub2RlLCBjbGFzc05hbWUgKTtcblxuICAgIGFjdGl2ZUNsYXNzTmFtZSA9IGNsYXNzTmFtZS5zcGxpdCgvXFxzKy8pLm1hcChmdW5jdGlvbihuYW1lKXtcbiAgICAgICByZXR1cm4gbmFtZSArICctYWN0aXZlJztcbiAgICB9KS5qb2luKFwiIFwiKTtcblxuICAgIGRvbS5uZXh0UmVmbG93KGZ1bmN0aW9uKCl7XG4gICAgICBkb20uYWRkQ2xhc3MoIG5vZGUsIGFjdGl2ZUNsYXNzTmFtZSApO1xuICAgICAgdGltZW91dCA9IGdldE1heFRpbWVvdXQoIG5vZGUgKTtcbiAgICAgIHRpZCA9IHNldFRpbWVvdXQoIG9uY2VBbmltLCB0aW1lb3V0ICk7XG4gICAgfSk7XG5cbiAgfWVsc2UgaWYobW9kZT09PTQpe1xuICAgIGRvbS5uZXh0UmVmbG93KGZ1bmN0aW9uKCl7XG4gICAgICBkb20uZGVsQ2xhc3MoIG5vZGUsIGNsYXNzTmFtZSApO1xuICAgICAgdGltZW91dCA9IGdldE1heFRpbWVvdXQoIG5vZGUgKTtcbiAgICAgIHRpZCA9IHNldFRpbWVvdXQoIG9uY2VBbmltLCB0aW1lb3V0ICk7XG4gICAgfSk7XG5cbiAgfWVsc2V7XG4gICAgZG9tLm5leHRSZWZsb3coZnVuY3Rpb24oKXtcbiAgICAgIGRvbS5hZGRDbGFzcyggbm9kZSwgY2xhc3NOYW1lICk7XG4gICAgICB0aW1lb3V0ID0gZ2V0TWF4VGltZW91dCggbm9kZSApO1xuICAgICAgdGlkID0gc2V0VGltZW91dCggb25jZUFuaW0sIHRpbWVvdXQgKTtcbiAgICB9KTtcbiAgfVxuXG5cblxuICBkb20ub24oIG5vZGUsIGFuaW1hdGlvbkVuZCwgb25jZUFuaW0gKVxuICBkb20ub24oIG5vZGUsIHRyYW5zaXRpb25FbmQsIG9uY2VBbmltIClcbiAgcmV0dXJuIG9uY2VBbmltO1xufVxuXG5cbmFuaW1hdGUuc3RhcnRTdHlsZUFuaW1hdGUgPSBmdW5jdGlvbihub2RlLCBzdHlsZXMsIGNhbGxiYWNrKXtcbiAgdmFyIHRpbWVvdXQsIG9uY2VBbmltLCB0aWQ7XG5cbiAgZG9tLm5leHRSZWZsb3coZnVuY3Rpb24oKXtcbiAgICBkb20uY3NzKCBub2RlLCBzdHlsZXMgKTtcbiAgICB0aW1lb3V0ID0gZ2V0TWF4VGltZW91dCggbm9kZSApO1xuICAgIHRpZCA9IHNldFRpbWVvdXQoIG9uY2VBbmltLCB0aW1lb3V0ICk7XG4gIH0pO1xuXG5cbiAgb25jZUFuaW0gPSBfLm9uY2UoZnVuY3Rpb24gb25BbmltYXRlRW5kKCl7XG4gICAgaWYodGlkKSBjbGVhclRpbWVvdXQodGlkKTtcblxuICAgIGRvbS5vZmYobm9kZSwgYW5pbWF0aW9uRW5kLCBvbmNlQW5pbSlcbiAgICBkb20ub2ZmKG5vZGUsIHRyYW5zaXRpb25FbmQsIG9uY2VBbmltKVxuXG4gICAgY2FsbGJhY2soKTtcblxuICB9KTtcblxuICBkb20ub24oIG5vZGUsIGFuaW1hdGlvbkVuZCwgb25jZUFuaW0gKVxuICBkb20ub24oIG5vZGUsIHRyYW5zaXRpb25FbmQsIG9uY2VBbmltIClcblxuICByZXR1cm4gb25jZUFuaW07XG59XG5cblxuLyoqXG4gKiBnZXQgbWF4dGltZW91dFxuICogQHBhcmFtICB7Tm9kZX0gbm9kZSBcbiAqIEByZXR1cm4ge1t0eXBlXX0gICBbZGVzY3JpcHRpb25dXG4gKi9cbmZ1bmN0aW9uIGdldE1heFRpbWVvdXQobm9kZSl7XG4gIHZhciB0aW1lb3V0ID0gMCxcbiAgICB0RHVyYXRpb24gPSAwLFxuICAgIHREZWxheSA9IDAsXG4gICAgYUR1cmF0aW9uID0gMCxcbiAgICBhRGVsYXkgPSAwLFxuICAgIHJhdGlvID0gNSAvIDMsXG4gICAgc3R5bGVzIDtcblxuICBpZih3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSl7XG5cbiAgICBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKSxcbiAgICB0RHVyYXRpb24gPSBnZXRNYXhUaW1lKCBzdHlsZXNbdHJhbnNpdGlvblByb3BlcnR5ICsgJ0R1cmF0aW9uJ10pIHx8IHREdXJhdGlvbjtcbiAgICB0RGVsYXkgPSBnZXRNYXhUaW1lKCBzdHlsZXNbdHJhbnNpdGlvblByb3BlcnR5ICsgJ0RlbGF5J10pIHx8IHREZWxheTtcbiAgICBhRHVyYXRpb24gPSBnZXRNYXhUaW1lKCBzdHlsZXNbYW5pbWF0aW9uUHJvcGVydHkgKyAnRHVyYXRpb24nXSkgfHwgYUR1cmF0aW9uO1xuICAgIGFEZWxheSA9IGdldE1heFRpbWUoIHN0eWxlc1thbmltYXRpb25Qcm9wZXJ0eSArICdEZWxheSddKSB8fCBhRGVsYXk7XG4gICAgdGltZW91dCA9IE1hdGgubWF4KCB0RHVyYXRpb24rdERlbGF5LCBhRHVyYXRpb24gKyBhRGVsYXkgKTtcblxuICB9XG4gIHJldHVybiB0aW1lb3V0ICogMTAwMCAqIHJhdGlvO1xufVxuXG5mdW5jdGlvbiBnZXRNYXhUaW1lKHN0cil7XG5cbiAgdmFyIG1heFRpbWVvdXQgPSAwLCB0aW1lO1xuXG4gIGlmKCFzdHIpIHJldHVybiAwO1xuXG4gIHN0ci5zcGxpdChcIixcIikuZm9yRWFjaChmdW5jdGlvbihzdHIpe1xuXG4gICAgdGltZSA9IHBhcnNlRmxvYXQoc3RyKTtcbiAgICBpZiggdGltZSA+IG1heFRpbWVvdXQgKSBtYXhUaW1lb3V0ID0gdGltZTtcblxuICB9KTtcblxuICByZXR1cm4gbWF4VGltZW91dDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhbmltYXRlOyIsIlxuZnVuY3Rpb24gc2ltcGxlRGlmZihub3csIG9sZCl7XG4gIHZhciBubGVuID0gbm93Lmxlbmd0aDtcbiAgdmFyIG9sZW4gPSBvbGQubGVuZ3RoO1xuICBpZihubGVuICE9PSBvbGVuKXtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmb3IodmFyIGkgPSAwOyBpIDwgbmxlbiA7IGkrKyl7XG4gICAgaWYobm93W2ldICE9PSBvbGRbaV0pIHJldHVybiAgdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2VcblxufVxuXG5mdW5jdGlvbiBlcXVhbHMoYSxiKXtcbiAgcmV0dXJuIGEgPT09IGI7XG59XG5mdW5jdGlvbiBsZChhcnJheTEsIGFycmF5Mil7XG4gIHZhciBuID0gYXJyYXkxLmxlbmd0aDtcbiAgdmFyIG0gPSBhcnJheTIubGVuZ3RoO1xuICB2YXIgbWF0cml4ID0gW107XG4gIGZvcih2YXIgaSA9IDA7IGkgPD0gbjsgaSsrKXtcbiAgICBtYXRyaXgucHVzaChbaV0pO1xuICB9XG4gIGZvcih2YXIgaj0xO2o8PW07aisrKXtcbiAgICBtYXRyaXhbMF1bal09ajtcbiAgfVxuICBmb3IodmFyIGkgPSAxOyBpIDw9IG47IGkrKyl7XG4gICAgZm9yKHZhciBqID0gMTsgaiA8PSBtOyBqKyspe1xuICAgICAgaWYoZXF1YWxzKGFycmF5MVtpLTFdLCBhcnJheTJbai0xXSkpe1xuICAgICAgICBtYXRyaXhbaV1bal0gPSBtYXRyaXhbaS0xXVtqLTFdO1xuICAgICAgfWVsc2V7XG4gICAgICAgIG1hdHJpeFtpXVtqXSA9IE1hdGgubWluKFxuICAgICAgICAgIG1hdHJpeFtpLTFdW2pdKzEsIC8vZGVsZXRlXG4gICAgICAgICAgbWF0cml4W2ldW2otMV0rMS8vYWRkXG4gICAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWF0cml4O1xufVxuZnVuY3Rpb24gd2hvbGUoYXJyMiwgYXJyMSwgaW5kZXhUcmFjaykge1xuICBpZihpbmRleFRyYWNrKSByZXR1cm4gc2ltcGxlRGlmZihhcnIyLCBhcnIxKTtcbiAgdmFyIG1hdHJpeCA9IGxkKGFycjEsIGFycjIpXG4gIHZhciBuID0gYXJyMS5sZW5ndGg7XG4gIHZhciBpID0gbjtcbiAgdmFyIG0gPSBhcnIyLmxlbmd0aDtcbiAgdmFyIGogPSBtO1xuICB2YXIgZWRpdHMgPSBbXTtcbiAgdmFyIGN1cnJlbnQgPSBtYXRyaXhbaV1bal07XG4gIHdoaWxlKGk+MCB8fCBqPjApe1xuICAvLyB0aGUgbGFzdCBsaW5lXG4gICAgaWYgKGkgPT09IDApIHtcbiAgICAgIGVkaXRzLnVuc2hpZnQoMyk7XG4gICAgICBqLS07XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgLy8gdGhlIGxhc3QgY29sXG4gICAgaWYgKGogPT09IDApIHtcbiAgICAgIGVkaXRzLnVuc2hpZnQoMik7XG4gICAgICBpLS07XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIG5vcnRoV2VzdCA9IG1hdHJpeFtpIC0gMV1baiAtIDFdO1xuICAgIHZhciB3ZXN0ID0gbWF0cml4W2kgLSAxXVtqXTtcbiAgICB2YXIgbm9ydGggPSBtYXRyaXhbaV1baiAtIDFdO1xuXG4gICAgdmFyIG1pbiA9IE1hdGgubWluKG5vcnRoLCB3ZXN0LCBub3J0aFdlc3QpO1xuXG4gICAgaWYgKG1pbiA9PT0gd2VzdCkge1xuICAgICAgZWRpdHMudW5zaGlmdCgyKTsgLy9kZWxldGVcbiAgICAgIGktLTtcbiAgICAgIGN1cnJlbnQgPSB3ZXN0O1xuICAgIH0gZWxzZSBpZiAobWluID09PSBub3J0aFdlc3QgKSB7XG4gICAgICBpZiAobm9ydGhXZXN0ID09PSBjdXJyZW50KSB7XG4gICAgICAgIGVkaXRzLnVuc2hpZnQoMCk7IC8vbm8gY2hhbmdlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlZGl0cy51bnNoaWZ0KDEpOyAvL3VwZGF0ZVxuICAgICAgICBjdXJyZW50ID0gbm9ydGhXZXN0O1xuICAgICAgfVxuICAgICAgaS0tO1xuICAgICAgai0tO1xuICAgIH0gZWxzZSB7XG4gICAgICBlZGl0cy51bnNoaWZ0KDMpOyAvL2FkZFxuICAgICAgai0tO1xuICAgICAgY3VycmVudCA9IG5vcnRoO1xuICAgIH1cbiAgfVxuICB2YXIgTEVBVkUgPSAwO1xuICB2YXIgQUREID0gMztcbiAgdmFyIERFTEVMRSA9IDI7XG4gIHZhciBVUERBVEUgPSAxO1xuICB2YXIgbiA9IDA7bT0wO1xuICB2YXIgc3RlcHMgPSBbXTtcbiAgdmFyIHN0ZXAgPSB7aW5kZXg6IG51bGwsIGFkZDowLCByZW1vdmVkOltdfTtcblxuICBmb3IodmFyIGk9MDtpPGVkaXRzLmxlbmd0aDtpKyspe1xuICAgIGlmKGVkaXRzW2ldID4gMCApeyAvLyBOT1QgTEVBVkVcbiAgICAgIGlmKHN0ZXAuaW5kZXggPT09IG51bGwpe1xuICAgICAgICBzdGVwLmluZGV4ID0gbTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvL0xFQVZFXG4gICAgICBpZihzdGVwLmluZGV4ICE9IG51bGwpe1xuICAgICAgICBzdGVwcy5wdXNoKHN0ZXApXG4gICAgICAgIHN0ZXAgPSB7aW5kZXg6IG51bGwsIGFkZDowLCByZW1vdmVkOltdfTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoKGVkaXRzW2ldKXtcbiAgICAgIGNhc2UgTEVBVkU6XG4gICAgICAgIG4rKztcbiAgICAgICAgbSsrO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQUREOlxuICAgICAgICBzdGVwLmFkZCsrO1xuICAgICAgICBtKys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBERUxFTEU6XG4gICAgICAgIHN0ZXAucmVtb3ZlZC5wdXNoKGFycjFbbl0pXG4gICAgICAgIG4rKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFVQREFURTpcbiAgICAgICAgc3RlcC5hZGQrKztcbiAgICAgICAgc3RlcC5yZW1vdmVkLnB1c2goYXJyMVtuXSlcbiAgICAgICAgbisrO1xuICAgICAgICBtKys7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZihzdGVwLmluZGV4ICE9IG51bGwpe1xuICAgIHN0ZXBzLnB1c2goc3RlcClcbiAgfVxuICByZXR1cm4gc3RlcHNcbn1cbm1vZHVsZS5leHBvcnRzID0gd2hvbGU7IiwiLy8gc29tZSBuZXN0ZWQgIG9wZXJhdGlvbiBpbiBhc3QgXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG52YXIgZG9tID0gcmVxdWlyZShcIi4uL2RvbS5qc1wiKTtcbnZhciBhbmltYXRlID0gcmVxdWlyZShcIi4vYW5pbWF0ZS5qc1wiKTtcblxudmFyIGNvbWJpbmUgPSBtb2R1bGUuZXhwb3J0cyA9IHtcblxuICAvLyBnZXQgdGhlIGluaXRpYWwgZG9tIGluIG9iamVjdFxuICBub2RlOiBmdW5jdGlvbihpdGVtKXtcbiAgICB2YXIgY2hpbGRyZW4sbm9kZSwgbm9kZXM7XG4gICAgaWYoIWl0ZW0pIHJldHVybjtcbiAgICBpZihpdGVtLmVsZW1lbnQpIHJldHVybiBpdGVtLmVsZW1lbnQ7XG4gICAgaWYodHlwZW9mIGl0ZW0ubm9kZSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gaXRlbS5ub2RlKCk7XG4gICAgaWYodHlwZW9mIGl0ZW0ubm9kZVR5cGUgPT09IFwibnVtYmVyXCIpIHJldHVybiBpdGVtO1xuICAgIGlmKGl0ZW0uZ3JvdXApIHJldHVybiBjb21iaW5lLm5vZGUoaXRlbS5ncm91cClcbiAgICBpZihjaGlsZHJlbiA9IGl0ZW0uY2hpbGRyZW4pe1xuICAgICAgaWYoY2hpbGRyZW4ubGVuZ3RoID09PSAxKXtcbiAgICAgICAgcmV0dXJuIGNvbWJpbmUubm9kZShjaGlsZHJlblswXSk7XG4gICAgICB9XG4gICAgICBub2RlcyA9IFtdO1xuICAgICAgZm9yKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKysgKXtcbiAgICAgICAgbm9kZSA9IGNvbWJpbmUubm9kZShjaGlsZHJlbltpXSk7XG4gICAgICAgIGlmKEFycmF5LmlzQXJyYXkobm9kZSkpe1xuICAgICAgICAgIG5vZGVzLnB1c2guYXBwbHkobm9kZXMsIG5vZGUpXG4gICAgICAgIH1lbHNlIGlmKG5vZGUpIHtcbiAgICAgICAgICBub2Rlcy5wdXNoKG5vZGUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlcztcbiAgICB9XG4gIH0sXG4gIC8vIEBUT0RPIHJlbW92ZSBfZ3JhZ0NvbnRhaW5lclxuICBpbmplY3Q6IGZ1bmN0aW9uKG5vZGUsIHBvcyApe1xuICAgIHZhciBncm91cCA9IHRoaXM7XG4gICAgdmFyIGZyYWdtZW50ID0gY29tYmluZS5ub2RlKGdyb3VwLmdyb3VwIHx8IGdyb3VwKTtcbiAgICBpZihub2RlID09PSBmYWxzZSkge1xuICAgICAgYW5pbWF0ZS5yZW1vdmUoZnJhZ21lbnQpXG4gICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfWVsc2V7XG4gICAgICBpZighZnJhZ21lbnQpIHJldHVybiBncm91cDtcbiAgICAgIGlmKHR5cGVvZiBub2RlID09PSAnc3RyaW5nJykgbm9kZSA9IGRvbS5maW5kKG5vZGUpO1xuICAgICAgaWYoIW5vZGUpIHRocm93IEVycm9yKCdpbmplY3RlZCBub2RlIGlzIG5vdCBmb3VuZCcpO1xuICAgICAgLy8gdXNlIGFuaW1hdGUgdG8gYW5pbWF0ZSBmaXJzdGNoaWxkcmVuXG4gICAgICBhbmltYXRlLmluamVjdChmcmFnbWVudCwgbm9kZSwgcG9zKTtcbiAgICB9XG4gICAgLy8gaWYgaXQgaXMgYSBjb21wb25lbnRcbiAgICBpZihncm91cC4kZW1pdCkge1xuICAgICAgZ3JvdXAuJGVtaXQoXCIkaW5qZWN0XCIsIG5vZGUsIHBvcyk7XG4gICAgICBncm91cC5wYXJlbnROb2RlID0gKHBvcyA9PT0nYWZ0ZXInIHx8IHBvcyA9PT0gJ2JlZm9yZScpPyBub2RlLnBhcmVudE5vZGUgOiBub2RlO1xuICAgIH1cbiAgICByZXR1cm4gZ3JvdXA7XG4gIH0sXG5cbiAgLy8gZ2V0IHRoZSBsYXN0IGRvbSBpbiBvYmplY3QoZm9yIGluc2VydGlvbiBvcGVyYXRpb24pXG4gIGxhc3Q6IGZ1bmN0aW9uKGl0ZW0pe1xuICAgIHZhciBjaGlsZHJlbiA9IGl0ZW0uY2hpbGRyZW47XG5cbiAgICBpZih0eXBlb2YgaXRlbS5sYXN0ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBpdGVtLmxhc3QoKTtcbiAgICBpZih0eXBlb2YgaXRlbS5ub2RlVHlwZSA9PT0gXCJudW1iZXJcIikgcmV0dXJuIGl0ZW07XG5cbiAgICBpZihjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGgpIHJldHVybiBjb21iaW5lLmxhc3QoY2hpbGRyZW5bY2hpbGRyZW4ubGVuZ3RoIC0gMV0pO1xuICAgIGlmKGl0ZW0uZ3JvdXApIHJldHVybiBjb21iaW5lLmxhc3QoaXRlbS5ncm91cCk7XG5cbiAgfSxcblxuICBkZXN0cm95OiBmdW5jdGlvbihpdGVtLCBmaXJzdCl7XG4gICAgaWYoIWl0ZW0pIHJldHVybjtcbiAgICBpZihBcnJheS5pc0FycmF5KGl0ZW0pKXtcbiAgICAgIGZvcih2YXIgaSA9IDAsIGxlbiA9IGl0ZW0ubGVuZ3RoOyBpIDwgbGVuOyBpKysgKXtcbiAgICAgICAgY29tYmluZS5kZXN0cm95KGl0ZW1baV0sIGZpcnN0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNoaWxkcmVuID0gaXRlbS5jaGlsZHJlbjtcbiAgICBpZih0eXBlb2YgaXRlbS5kZXN0cm95ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBpdGVtLmRlc3Ryb3koZmlyc3QpO1xuICAgIGlmKHR5cGVvZiBpdGVtLm5vZGVUeXBlID09PSBcIm51bWJlclwiICYmIGZpcnN0KSAgZG9tLnJlbW92ZShpdGVtKTtcbiAgICBpZihjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGgpe1xuICAgICAgY29tYmluZS5kZXN0cm95KGNoaWxkcmVuLCB0cnVlKTtcbiAgICAgIGl0ZW0uY2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgfVxuXG59IiwiLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMzU0MDY0L2hvdy10by1jb252ZXJ0LWNoYXJhY3RlcnMtdG8taHRtbC1lbnRpdGllcy11c2luZy1wbGFpbi1qYXZhc2NyaXB0XG52YXIgZW50aXRpZXMgPSB7XG4gICdxdW90JzozNCwgXG4gICdhbXAnOjM4LCBcbiAgJ2Fwb3MnOjM5LCBcbiAgJ2x0Jzo2MCwgXG4gICdndCc6NjIsIFxuICAnbmJzcCc6MTYwLCBcbiAgJ2lleGNsJzoxNjEsIFxuICAnY2VudCc6MTYyLCBcbiAgJ3BvdW5kJzoxNjMsIFxuICAnY3VycmVuJzoxNjQsIFxuICAneWVuJzoxNjUsIFxuICAnYnJ2YmFyJzoxNjYsIFxuICAnc2VjdCc6MTY3LCBcbiAgJ3VtbCc6MTY4LCBcbiAgJ2NvcHknOjE2OSwgXG4gICdvcmRmJzoxNzAsIFxuICAnbGFxdW8nOjE3MSwgXG4gICdub3QnOjE3MiwgXG4gICdzaHknOjE3MywgXG4gICdyZWcnOjE3NCwgXG4gICdtYWNyJzoxNzUsIFxuICAnZGVnJzoxNzYsIFxuICAncGx1c21uJzoxNzcsIFxuICAnc3VwMic6MTc4LCBcbiAgJ3N1cDMnOjE3OSwgXG4gICdhY3V0ZSc6MTgwLCBcbiAgJ21pY3JvJzoxODEsIFxuICAncGFyYSc6MTgyLCBcbiAgJ21pZGRvdCc6MTgzLCBcbiAgJ2NlZGlsJzoxODQsIFxuICAnc3VwMSc6MTg1LCBcbiAgJ29yZG0nOjE4NiwgXG4gICdyYXF1byc6MTg3LCBcbiAgJ2ZyYWMxNCc6MTg4LCBcbiAgJ2ZyYWMxMic6MTg5LCBcbiAgJ2ZyYWMzNCc6MTkwLCBcbiAgJ2lxdWVzdCc6MTkxLCBcbiAgJ0FncmF2ZSc6MTkyLCBcbiAgJ0FhY3V0ZSc6MTkzLCBcbiAgJ0FjaXJjJzoxOTQsIFxuICAnQXRpbGRlJzoxOTUsIFxuICAnQXVtbCc6MTk2LCBcbiAgJ0FyaW5nJzoxOTcsIFxuICAnQUVsaWcnOjE5OCwgXG4gICdDY2VkaWwnOjE5OSwgXG4gICdFZ3JhdmUnOjIwMCwgXG4gICdFYWN1dGUnOjIwMSwgXG4gICdFY2lyYyc6MjAyLCBcbiAgJ0V1bWwnOjIwMywgXG4gICdJZ3JhdmUnOjIwNCwgXG4gICdJYWN1dGUnOjIwNSwgXG4gICdJY2lyYyc6MjA2LCBcbiAgJ0l1bWwnOjIwNywgXG4gICdFVEgnOjIwOCwgXG4gICdOdGlsZGUnOjIwOSwgXG4gICdPZ3JhdmUnOjIxMCwgXG4gICdPYWN1dGUnOjIxMSwgXG4gICdPY2lyYyc6MjEyLCBcbiAgJ090aWxkZSc6MjEzLCBcbiAgJ091bWwnOjIxNCwgXG4gICd0aW1lcyc6MjE1LCBcbiAgJ09zbGFzaCc6MjE2LCBcbiAgJ1VncmF2ZSc6MjE3LCBcbiAgJ1VhY3V0ZSc6MjE4LCBcbiAgJ1VjaXJjJzoyMTksIFxuICAnVXVtbCc6MjIwLCBcbiAgJ1lhY3V0ZSc6MjIxLCBcbiAgJ1RIT1JOJzoyMjIsIFxuICAnc3psaWcnOjIyMywgXG4gICdhZ3JhdmUnOjIyNCwgXG4gICdhYWN1dGUnOjIyNSwgXG4gICdhY2lyYyc6MjI2LCBcbiAgJ2F0aWxkZSc6MjI3LCBcbiAgJ2F1bWwnOjIyOCwgXG4gICdhcmluZyc6MjI5LCBcbiAgJ2FlbGlnJzoyMzAsIFxuICAnY2NlZGlsJzoyMzEsIFxuICAnZWdyYXZlJzoyMzIsIFxuICAnZWFjdXRlJzoyMzMsIFxuICAnZWNpcmMnOjIzNCwgXG4gICdldW1sJzoyMzUsIFxuICAnaWdyYXZlJzoyMzYsIFxuICAnaWFjdXRlJzoyMzcsIFxuICAnaWNpcmMnOjIzOCwgXG4gICdpdW1sJzoyMzksIFxuICAnZXRoJzoyNDAsIFxuICAnbnRpbGRlJzoyNDEsIFxuICAnb2dyYXZlJzoyNDIsIFxuICAnb2FjdXRlJzoyNDMsIFxuICAnb2NpcmMnOjI0NCwgXG4gICdvdGlsZGUnOjI0NSwgXG4gICdvdW1sJzoyNDYsIFxuICAnZGl2aWRlJzoyNDcsIFxuICAnb3NsYXNoJzoyNDgsIFxuICAndWdyYXZlJzoyNDksIFxuICAndWFjdXRlJzoyNTAsIFxuICAndWNpcmMnOjI1MSwgXG4gICd1dW1sJzoyNTIsIFxuICAneWFjdXRlJzoyNTMsIFxuICAndGhvcm4nOjI1NCwgXG4gICd5dW1sJzoyNTUsIFxuICAnZm5vZic6NDAyLCBcbiAgJ0FscGhhJzo5MTMsIFxuICAnQmV0YSc6OTE0LCBcbiAgJ0dhbW1hJzo5MTUsIFxuICAnRGVsdGEnOjkxNiwgXG4gICdFcHNpbG9uJzo5MTcsIFxuICAnWmV0YSc6OTE4LCBcbiAgJ0V0YSc6OTE5LCBcbiAgJ1RoZXRhJzo5MjAsIFxuICAnSW90YSc6OTIxLCBcbiAgJ0thcHBhJzo5MjIsIFxuICAnTGFtYmRhJzo5MjMsIFxuICAnTXUnOjkyNCwgXG4gICdOdSc6OTI1LCBcbiAgJ1hpJzo5MjYsIFxuICAnT21pY3Jvbic6OTI3LCBcbiAgJ1BpJzo5MjgsIFxuICAnUmhvJzo5MjksIFxuICAnU2lnbWEnOjkzMSwgXG4gICdUYXUnOjkzMiwgXG4gICdVcHNpbG9uJzo5MzMsIFxuICAnUGhpJzo5MzQsIFxuICAnQ2hpJzo5MzUsIFxuICAnUHNpJzo5MzYsIFxuICAnT21lZ2EnOjkzNywgXG4gICdhbHBoYSc6OTQ1LCBcbiAgJ2JldGEnOjk0NiwgXG4gICdnYW1tYSc6OTQ3LCBcbiAgJ2RlbHRhJzo5NDgsIFxuICAnZXBzaWxvbic6OTQ5LCBcbiAgJ3pldGEnOjk1MCwgXG4gICdldGEnOjk1MSwgXG4gICd0aGV0YSc6OTUyLCBcbiAgJ2lvdGEnOjk1MywgXG4gICdrYXBwYSc6OTU0LCBcbiAgJ2xhbWJkYSc6OTU1LCBcbiAgJ211Jzo5NTYsIFxuICAnbnUnOjk1NywgXG4gICd4aSc6OTU4LCBcbiAgJ29taWNyb24nOjk1OSwgXG4gICdwaSc6OTYwLCBcbiAgJ3Jobyc6OTYxLCBcbiAgJ3NpZ21hZic6OTYyLCBcbiAgJ3NpZ21hJzo5NjMsIFxuICAndGF1Jzo5NjQsIFxuICAndXBzaWxvbic6OTY1LCBcbiAgJ3BoaSc6OTY2LCBcbiAgJ2NoaSc6OTY3LCBcbiAgJ3BzaSc6OTY4LCBcbiAgJ29tZWdhJzo5NjksIFxuICAndGhldGFzeW0nOjk3NywgXG4gICd1cHNpaCc6OTc4LCBcbiAgJ3Bpdic6OTgyLCBcbiAgJ2J1bGwnOjgyMjYsIFxuICAnaGVsbGlwJzo4MjMwLCBcbiAgJ3ByaW1lJzo4MjQyLCBcbiAgJ1ByaW1lJzo4MjQzLCBcbiAgJ29saW5lJzo4MjU0LCBcbiAgJ2ZyYXNsJzo4MjYwLCBcbiAgJ3dlaWVycCc6ODQ3MiwgXG4gICdpbWFnZSc6ODQ2NSwgXG4gICdyZWFsJzo4NDc2LCBcbiAgJ3RyYWRlJzo4NDgyLCBcbiAgJ2FsZWZzeW0nOjg1MDEsIFxuICAnbGFycic6ODU5MiwgXG4gICd1YXJyJzo4NTkzLCBcbiAgJ3JhcnInOjg1OTQsIFxuICAnZGFycic6ODU5NSwgXG4gICdoYXJyJzo4NTk2LCBcbiAgJ2NyYXJyJzo4NjI5LCBcbiAgJ2xBcnInOjg2NTYsIFxuICAndUFycic6ODY1NywgXG4gICdyQXJyJzo4NjU4LCBcbiAgJ2RBcnInOjg2NTksIFxuICAnaEFycic6ODY2MCwgXG4gICdmb3JhbGwnOjg3MDQsIFxuICAncGFydCc6ODcwNiwgXG4gICdleGlzdCc6ODcwNywgXG4gICdlbXB0eSc6ODcwOSwgXG4gICduYWJsYSc6ODcxMSwgXG4gICdpc2luJzo4NzEyLCBcbiAgJ25vdGluJzo4NzEzLCBcbiAgJ25pJzo4NzE1LCBcbiAgJ3Byb2QnOjg3MTksIFxuICAnc3VtJzo4NzIxLCBcbiAgJ21pbnVzJzo4NzIyLCBcbiAgJ2xvd2FzdCc6ODcyNywgXG4gICdyYWRpYyc6ODczMCwgXG4gICdwcm9wJzo4NzMzLCBcbiAgJ2luZmluJzo4NzM0LCBcbiAgJ2FuZyc6ODczNiwgXG4gICdhbmQnOjg3NDMsIFxuICAnb3InOjg3NDQsIFxuICAnY2FwJzo4NzQ1LCBcbiAgJ2N1cCc6ODc0NiwgXG4gICdpbnQnOjg3NDcsIFxuICAndGhlcmU0Jzo4NzU2LCBcbiAgJ3NpbSc6ODc2NCwgXG4gICdjb25nJzo4NzczLCBcbiAgJ2FzeW1wJzo4Nzc2LCBcbiAgJ25lJzo4ODAwLCBcbiAgJ2VxdWl2Jzo4ODAxLCBcbiAgJ2xlJzo4ODA0LCBcbiAgJ2dlJzo4ODA1LCBcbiAgJ3N1Yic6ODgzNCwgXG4gICdzdXAnOjg4MzUsIFxuICAnbnN1Yic6ODgzNiwgXG4gICdzdWJlJzo4ODM4LCBcbiAgJ3N1cGUnOjg4MzksIFxuICAnb3BsdXMnOjg4NTMsIFxuICAnb3RpbWVzJzo4ODU1LCBcbiAgJ3BlcnAnOjg4NjksIFxuICAnc2RvdCc6ODkwMSwgXG4gICdsY2VpbCc6ODk2OCwgXG4gICdyY2VpbCc6ODk2OSwgXG4gICdsZmxvb3InOjg5NzAsIFxuICAncmZsb29yJzo4OTcxLCBcbiAgJ2xhbmcnOjkwMDEsIFxuICAncmFuZyc6OTAwMiwgXG4gICdsb3onOjk2NzQsIFxuICAnc3BhZGVzJzo5ODI0LCBcbiAgJ2NsdWJzJzo5ODI3LCBcbiAgJ2hlYXJ0cyc6OTgyOSwgXG4gICdkaWFtcyc6OTgzMCwgXG4gICdPRWxpZyc6MzM4LCBcbiAgJ29lbGlnJzozMzksIFxuICAnU2Nhcm9uJzozNTIsIFxuICAnc2Nhcm9uJzozNTMsIFxuICAnWXVtbCc6Mzc2LCBcbiAgJ2NpcmMnOjcxMCwgXG4gICd0aWxkZSc6NzMyLCBcbiAgJ2Vuc3AnOjgxOTQsIFxuICAnZW1zcCc6ODE5NSwgXG4gICd0aGluc3AnOjgyMDEsIFxuICAnenduaic6ODIwNCwgXG4gICd6d2onOjgyMDUsIFxuICAnbHJtJzo4MjA2LCBcbiAgJ3JsbSc6ODIwNywgXG4gICduZGFzaCc6ODIxMSwgXG4gICdtZGFzaCc6ODIxMiwgXG4gICdsc3F1byc6ODIxNiwgXG4gICdyc3F1byc6ODIxNywgXG4gICdzYnF1byc6ODIxOCwgXG4gICdsZHF1byc6ODIyMCwgXG4gICdyZHF1byc6ODIyMSwgXG4gICdiZHF1byc6ODIyMiwgXG4gICdkYWdnZXInOjgyMjQsIFxuICAnRGFnZ2VyJzo4MjI1LCBcbiAgJ3Blcm1pbCc6ODI0MCwgXG4gICdsc2FxdW8nOjgyNDksIFxuICAncnNhcXVvJzo4MjUwLCBcbiAgJ2V1cm8nOjgzNjRcbn1cblxuXG5cbm1vZHVsZS5leHBvcnRzICA9IGVudGl0aWVzOyIsIi8vIHNpbXBsZXN0IGV2ZW50IGVtaXR0ZXIgNjAgbGluZXNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbnZhciBzbGljZSA9IFtdLnNsaWNlLCBfID0gcmVxdWlyZShcIi4uL3V0aWwuanNcIik7XG52YXIgQVBJID0ge1xuICAkb246IGZ1bmN0aW9uKGV2ZW50LCBmbikge1xuICAgIGlmKHR5cGVvZiBldmVudCA9PT0gXCJvYmplY3RcIil7XG4gICAgICBmb3IgKHZhciBpIGluIGV2ZW50KSB7XG4gICAgICAgIHRoaXMuJG9uKGksIGV2ZW50W2ldKTtcbiAgICAgIH1cbiAgICB9ZWxzZXtcbiAgICAgIC8vIEBwYXRjaDogZm9yIGxpc3RcbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIHZhciBoYW5kbGVzID0gY29udGV4dC5faGFuZGxlcyB8fCAoY29udGV4dC5faGFuZGxlcyA9IHt9KSxcbiAgICAgICAgY2FsbHMgPSBoYW5kbGVzW2V2ZW50XSB8fCAoaGFuZGxlc1tldmVudF0gPSBbXSk7XG4gICAgICBjYWxscy5wdXNoKGZuKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gICRvZmY6IGZ1bmN0aW9uKGV2ZW50LCBmbikge1xuICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICBpZighY29udGV4dC5faGFuZGxlcykgcmV0dXJuO1xuICAgIGlmKCFldmVudCkgdGhpcy5faGFuZGxlcyA9IHt9O1xuICAgIHZhciBoYW5kbGVzID0gY29udGV4dC5faGFuZGxlcyxcbiAgICAgIGNhbGxzO1xuXG4gICAgaWYgKGNhbGxzID0gaGFuZGxlc1tldmVudF0pIHtcbiAgICAgIGlmICghZm4pIHtcbiAgICAgICAgaGFuZGxlc1tldmVudF0gPSBbXTtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2FsbHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKGZuID09PSBjYWxsc1tpXSkge1xuICAgICAgICAgIGNhbGxzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29udGV4dDtcbiAgfSxcbiAgLy8gYnViYmxlIGV2ZW50XG4gICRlbWl0OiBmdW5jdGlvbihldmVudCl7XG4gICAgLy8gQHBhdGNoOiBmb3IgbGlzdFxuICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICB2YXIgaGFuZGxlcyA9IGNvbnRleHQuX2hhbmRsZXMsIGNhbGxzLCBhcmdzLCB0eXBlO1xuICAgIGlmKCFldmVudCkgcmV0dXJuO1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHZhciB0eXBlID0gZXZlbnQ7XG5cbiAgICBpZighaGFuZGxlcykgcmV0dXJuIGNvbnRleHQ7XG4gICAgaWYoY2FsbHMgPSBoYW5kbGVzW3R5cGUuc2xpY2UoMSldKXtcbiAgICAgIGZvciAodmFyIGogPSAwLCBsZW4gPSBjYWxscy5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICBjYWxsc1tqXS5hcHBseShjb250ZXh0LCBhcmdzKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIShjYWxscyA9IGhhbmRsZXNbdHlwZV0pKSByZXR1cm4gY29udGV4dDtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2FsbHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNhbGxzW2ldLmFwcGx5KGNvbnRleHQsIGFyZ3MpXG4gICAgfVxuICAgIC8vIGlmKGNhbGxzLmxlbmd0aCkgY29udGV4dC4kdXBkYXRlKCk7XG4gICAgcmV0dXJuIGNvbnRleHQ7XG4gIH0sXG4gIC8vIGNhcHR1cmUgIGV2ZW50XG4gICRvbmU6IGZ1bmN0aW9uKCl7XG4gICAgXG59XG59XG4vLyBjb250YWluZXIgY2xhc3NcbmZ1bmN0aW9uIEV2ZW50KCkge31cbl8uZXh0ZW5kKEV2ZW50LnByb3RvdHlwZSwgQVBJKVxuXG5FdmVudC5taXhUbyA9IGZ1bmN0aW9uKG9iail7XG4gIG9iaiA9IHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIiA/IG9iai5wcm90b3R5cGUgOiBvYmo7XG4gIF8uZXh0ZW5kKG9iaiwgQVBJKVxufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudDsiLCIvLyAoYykgMjAxMC0yMDE0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4vLyBCYWNrYm9uZSBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbi8vIEZvciBhbGwgZGV0YWlscyBhbmQgZG9jdW1lbnRhdGlvbjpcbi8vIGh0dHA6Ly9iYWNrYm9uZWpzLm9yZ1xuXG4vLyBrbGFzczogYSBjbGFzc2ljYWwgSlMgT09QIGZhw6dhZGVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kZWQva2xhc3Ncbi8vIExpY2Vuc2UgTUlUIChjKSBEdXN0aW4gRGlheiAyMDE0XG4gIFxuLy8gaW5zcGlyZWQgYnkgYmFja2JvbmUncyBleHRlbmQgYW5kIGtsYXNzXG52YXIgXyA9IHJlcXVpcmUoXCIuLi91dGlsLmpzXCIpLFxuICBmblRlc3QgPSAveHkvLnRlc3QoZnVuY3Rpb24oKXtcInh5XCI7fSkgPyAvXFxic3VwclxcYi86Ly4qLyxcbiAgaXNGbiA9IGZ1bmN0aW9uKG8pe3JldHVybiB0eXBlb2YgbyA9PT0gXCJmdW5jdGlvblwifTtcblxuXG5mdW5jdGlvbiB3cmFwKGssIGZuLCBzdXBybykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAgPSB0aGlzLnN1cHI7XG4gICAgdGhpcy5zdXByID0gc3Vwcm9ba107XG4gICAgdmFyIHJldCA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgdGhpcy5zdXByID0gdG1wO1xuICAgIHJldHVybiByZXQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzcyggd2hhdCwgbywgc3Vwcm8gKSB7XG4gIGZvciAoIHZhciBrIGluIG8gKSB7XG4gICAgaWYgKG8uaGFzT3duUHJvcGVydHkoaykpIHtcblxuICAgICAgd2hhdFtrXSA9IGlzRm4oIG9ba10gKSAmJiBpc0ZuKCBzdXByb1trXSApICYmIFxuICAgICAgICBmblRlc3QudGVzdCggb1trXSApID8gd3JhcChrLCBvW2tdLCBzdXBybykgOiBvW2tdO1xuICAgIH1cbiAgfVxufVxuXG4vLyBpZiB0aGUgcHJvcGVydHkgaXMgW1wiZXZlbnRzXCIsIFwiZGF0YVwiLCBcImNvbXB1dGVkXCJdICwgd2Ugc2hvdWxkIG1lcmdlIHRoZW1cbnZhciBtZXJnZWQgPSBbXCJldmVudHNcIiwgXCJkYXRhXCIsIFwiY29tcHV0ZWRcIl0sIG1sZW4gPSBtZXJnZWQubGVuZ3RoO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBleHRlbmQobyl7XG4gIG8gPSBvIHx8IHt9O1xuICB2YXIgc3VwciA9IHRoaXMsIHByb3RvLFxuICAgIHN1cHJvID0gc3VwciAmJiBzdXByLnByb3RvdHlwZSB8fCB7fTtcblxuICBpZih0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJyl7XG4gICAgcHJvdG8gPSBvLnByb3RvdHlwZTtcbiAgICBvLmltcGxlbWVudCA9IGltcGxlbWVudDtcbiAgICBvLmV4dGVuZCA9IGV4dGVuZDtcbiAgICByZXR1cm4gbztcbiAgfSBcbiAgXG4gIGZ1bmN0aW9uIGZuKCkge1xuICAgIHN1cHIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHByb3RvID0gXy5jcmVhdGVQcm90byhmbiwgc3Vwcm8pO1xuXG4gIGZ1bmN0aW9uIGltcGxlbWVudChvKXtcbiAgICAvLyB3ZSBuZWVkIG1lcmdlIHRoZSBtZXJnZWQgcHJvcGVydHlcbiAgICB2YXIgbGVuID0gbWxlbjtcbiAgICBmb3IoO2xlbi0tOyl7XG4gICAgICB2YXIgcHJvcCA9IG1lcmdlZFtsZW5dO1xuICAgICAgaWYoby5oYXNPd25Qcm9wZXJ0eShwcm9wKSAmJiBwcm90by5oYXNPd25Qcm9wZXJ0eShwcm9wKSl7XG4gICAgICAgIF8uZXh0ZW5kKHByb3RvW3Byb3BdLCBvW3Byb3BdLCB0cnVlKSBcbiAgICAgICAgZGVsZXRlIG9bcHJvcF07XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBwcm9jZXNzKHByb3RvLCBvLCBzdXBybyk7IFxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cblxuXG4gIGZuLmltcGxlbWVudCA9IGltcGxlbWVudFxuICBmbi5pbXBsZW1lbnQobylcbiAgaWYoc3Vwci5fX2FmdGVyX18pIHN1cHIuX19hZnRlcl9fLmNhbGwoZm4sIHN1cHIsIG8pO1xuICBmbi5leHRlbmQgPSBleHRlbmQ7XG4gIHJldHVybiBmbjtcbn1cblxuIiwiXG52YXIgZiA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGpzb246ICB0d28gd2F5IFxuLy8gIC0gZ2V0OiBKU09OLnN0cmluZ2lmeVxuLy8gIC0gc2V0OiBKU09OLnBhcnNlXG4vLyAgLSBleGFtcGxlOiBgeyB0aXRsZXxqc29uIH1gXG5mLmpzb24gPSB7XG4gIGdldDogZnVuY3Rpb24oIHZhbHVlICl7XG4gICAgcmV0dXJuIHR5cGVvZiBKU09OICE9PSAndW5kZWZpbmVkJz8gSlNPTi5zdHJpbmdpZnkodmFsdWUpOiB2YWx1ZTtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbiggdmFsdWUgKXtcbiAgICByZXR1cm4gdHlwZW9mIEpTT04gIT09ICd1bmRlZmluZWQnPyBKU09OLnBhcnNlKHZhbHVlKSA6IHZhbHVlO1xuICB9XG59XG5cbi8vIGxhc3Q6IG9uZS13YXlcbi8vICAtIGdldDogcmV0dXJuIHRoZSBsYXN0IGl0ZW0gaW4gbGlzdFxuLy8gIC0gZXhhbXBsZTogYHsgbGlzdHxsYXN0IH1gXG5mLmxhc3QgPSBmdW5jdGlvbihhcnIpe1xuICByZXR1cm4gYXJyICYmIGFyclthcnIubGVuZ3RoIC0gMV07XG59XG5cbi8vIGF2ZXJhZ2U6IG9uZS13YXlcbi8vICAtIGdldDogY29wdXRlIHRoZSBhdmVyYWdlIG9mIHRoZSBsaXN0XG4vLyAgLSBleGFtcGxlOiBgeyBsaXN0fCBhdmVyYWdlOiBcInNjb3JlXCIgfWBcbmYuYXZlcmFnZSA9IGZ1bmN0aW9uKGFycmF5LCBrZXkpe1xuICBhcnJheSA9IGFycmF5IHx8IFtdO1xuICByZXR1cm4gYXJyYXkubGVuZ3RoPyBmLnRvdGFsKGFycmF5LCBrZXkpLyBhcnJheS5sZW5ndGggOiAwO1xufVxuXG5cbi8vIHRvdGFsOiBvbmUtd2F5XG4vLyAgLSBnZXQ6IGNvcHV0ZSB0aGUgdG90YWwgb2YgdGhlIGxpc3Rcbi8vICAtIGV4YW1wbGU6IGB7IGxpc3R8IGF2ZXJhZ2U6IFwic2NvcmVcIiB9YFxuZi50b3RhbCA9IGZ1bmN0aW9uKGFycmF5LCBrZXkpe1xuICB2YXIgdG90YWwgPSAwO1xuICBpZighYXJyYXkpIHJldHVybjtcbiAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbiggaXRlbSApe1xuICAgIHRvdGFsICs9IGtleT8gaXRlbVtrZXldIDogaXRlbTtcbiAgfSlcbiAgcmV0dXJuIHRvdGFsO1xufVxuXG4vLyB2YXIgYmFzaWNTb3J0Rm4gPSBmdW5jdGlvbihhLCBiKXtyZXR1cm4gYiAtIGF9XG5cbi8vIGYuc29ydCA9IGZ1bmN0aW9uKGFycmF5LCBrZXksIHJldmVyc2Upe1xuLy8gICB2YXIgdHlwZSA9IHR5cGVvZiBrZXksIHNvcnRGbjsgXG4vLyAgIHN3aXRjaCh0eXBlKXtcbi8vICAgICBjYXNlICdmdW5jdGlvbic6IHNvcnRGbiA9IGtleTsgYnJlYWs7XG4vLyAgICAgY2FzZSAnc3RyaW5nJzogc29ydEZuID0gZnVuY3Rpb24oYSwgYil7fTticmVhaztcbi8vICAgICBkZWZhdWx0OlxuLy8gICAgICAgc29ydEZuID0gYmFzaWNTb3J0Rm47XG4vLyAgIH1cbi8vICAgLy8gbmVlZCBvdGhlciByZWZlcm5jZS5cbi8vICAgcmV0dXJuIGFycmF5LnNsaWNlKCkuc29ydChmdW5jdGlvbihhLGIpe1xuLy8gICAgIHJldHVybiByZXZlcnNlPyAtc29ydEZuKGEsIGIpOiBzb3J0Rm4oYSwgYik7XG4vLyAgIH0pXG4vLyAgIHJldHVybiBhcnJheVxuLy8gfVxuXG5cbiIsInZhciBleHByQ2FjaGUgPSByZXF1aXJlKCcuLi9lbnYnKS5leHByQ2FjaGU7XG52YXIgXyA9IHJlcXVpcmUoXCIuLi91dGlsXCIpO1xudmFyIFBhcnNlciA9IHJlcXVpcmUoXCIuLi9wYXJzZXIvUGFyc2VyLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGV4cHJlc3Npb246IGZ1bmN0aW9uKGV4cHIsIHNpbXBsZSl7XG4gICAgLy8gQFRPRE8gY2FjaGVcbiAgICBpZiggdHlwZW9mIGV4cHIgPT09ICdzdHJpbmcnICYmICggZXhwciA9IGV4cHIudHJpbSgpICkgKXtcbiAgICAgIGV4cHIgPSBleHByQ2FjaGUuZ2V0KCBleHByICkgfHwgZXhwckNhY2hlLnNldCggZXhwciwgbmV3IFBhcnNlciggZXhwciwgeyBtb2RlOiAyLCBleHByZXNzaW9uOiB0cnVlIH0gKS5leHByZXNzaW9uKCkgKVxuICAgIH1cbiAgICBpZihleHByKSByZXR1cm4gZXhwcjtcbiAgfSxcbiAgcGFyc2U6IGZ1bmN0aW9uKHRlbXBsYXRlKXtcbiAgICByZXR1cm4gbmV3IFBhcnNlcih0ZW1wbGF0ZSkucGFyc2UoKTtcbiAgfVxufVxuXG4iLCIvLyBzaGltIGZvciBlczVcbnZhciBzbGljZSA9IFtdLnNsaWNlO1xudmFyIHRzdHIgPSAoe30pLnRvU3RyaW5nO1xuXG5mdW5jdGlvbiBleHRlbmQobzEsIG8yICl7XG4gIGZvcih2YXIgaSBpbiBvMikgaWYoIG8xW2ldID09PSB1bmRlZmluZWQpe1xuICAgIG8xW2ldID0gbzJbaV1cbiAgfVxuICByZXR1cm4gbzI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXtcbiAgLy8gU3RyaW5nIHByb3RvIDtcbiAgZXh0ZW5kKFN0cmluZy5wcm90b3R5cGUsIHtcbiAgICB0cmltOiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICAgIH1cbiAgfSk7XG5cblxuICAvLyBBcnJheSBwcm90bztcbiAgZXh0ZW5kKEFycmF5LnByb3RvdHlwZSwge1xuICAgIGluZGV4T2Y6IGZ1bmN0aW9uKG9iaiwgZnJvbSl7XG4gICAgICBmcm9tID0gZnJvbSB8fCAwO1xuICAgICAgZm9yICh2YXIgaSA9IGZyb20sIGxlbiA9IHRoaXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXNbaV0gPT09IG9iaikgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfSxcbiAgICBmb3JFYWNoOiBmdW5jdGlvbihjYWxsYmFjaywgY29udGV4dCl7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjYWxsYmFjay5jYWxsKGNvbnRleHQsIHRoaXNbaV0sIGksIHRoaXMpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZmlsdGVyOiBmdW5jdGlvbihjYWxsYmFjaywgY29udGV4dCl7XG4gICAgICB2YXIgcmVzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gdGhpcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGFzcyA9IGNhbGxiYWNrLmNhbGwoY29udGV4dCwgdGhpc1tpXSwgaSwgdGhpcyk7XG4gICAgICAgIGlmKHBhc3MpIHJlcy5wdXNoKHRoaXNbaV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9LFxuICAgIG1hcDogZnVuY3Rpb24oY2FsbGJhY2ssIGNvbnRleHQpe1xuICAgICAgdmFyIHJlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHRoaXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzLnB1c2goY2FsbGJhY2suY2FsbChjb250ZXh0LCB0aGlzW2ldLCBpLCB0aGlzKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gRnVuY3Rpb24gcHJvdG87XG4gIGV4dGVuZChGdW5jdGlvbi5wcm90b3R5cGUsIHtcbiAgICBiaW5kOiBmdW5jdGlvbihjb250ZXh0KXtcbiAgICAgIHZhciBmbiA9IHRoaXM7XG4gICAgICB2YXIgcHJlQXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgYXJncyA9IHByZUFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pXG4gIFxuICAvLyBBcnJheVxuICBleHRlbmQoQXJyYXksIHtcbiAgICBpc0FycmF5OiBmdW5jdGlvbihhcnIpe1xuICAgICAgcmV0dXJuIHRzdHIuY2FsbChhcnIpID09PSBcIltvYmplY3QgQXJyYXldXCI7XG4gICAgfVxuICB9KVxufVxuXG4iLCJ2YXIgXyA9IHJlcXVpcmUoJy4uL3V0aWwuanMnKTtcbnZhciBwYXJzZUV4cHJlc3Npb24gPSByZXF1aXJlKCcuL3BhcnNlLmpzJykuZXhwcmVzc2lvbjtcbnZhciBkaWZmQXJyYXkgPSByZXF1aXJlKCcuL2FycmF5RGlmZi5qcycpO1xuXG5mdW5jdGlvbiBXYXRjaGVyKCl7fVxuXG52YXIgbWV0aG9kcyA9IHtcbiAgJHdhdGNoOiBmdW5jdGlvbihleHByLCBmbiwgb3B0aW9ucyl7XG4gICAgdmFyIGdldCwgb25jZSwgdGVzdCwgcmxlbiwgZXh0cmEgPSB0aGlzLl9fZXh0X187IC8vcmVjb3JkcyBsZW5ndGhcbiAgICBpZighdGhpcy5fd2F0Y2hlcnMpIHRoaXMuX3dhdGNoZXJzID0gW107XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBpZihvcHRpb25zID09PSB0cnVlKXtcbiAgICAgICBvcHRpb25zID0geyBkZWVwOiB0cnVlIH1cbiAgICB9XG4gICAgdmFyIHVpZCA9IF8udWlkKCd3XycpO1xuICAgIGlmKEFycmF5LmlzQXJyYXkoZXhwcikpe1xuICAgICAgdmFyIHRlc3RzID0gW107XG4gICAgICBmb3IodmFyIGkgPSAwLGxlbiA9IGV4cHIubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICAgIHRlc3RzLnB1c2godGhpcy4kZXhwcmVzc2lvbihleHByW2ldKS5nZXQpXG4gICAgICB9XG4gICAgICB2YXIgcHJldiA9IFtdO1xuICAgICAgdGVzdCA9IGZ1bmN0aW9uKGNvbnRleHQpe1xuICAgICAgICB2YXIgZXF1YWwgPSB0cnVlO1xuICAgICAgICBmb3IodmFyIGkgPTAsIGxlbiA9IHRlc3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKXtcbiAgICAgICAgICB2YXIgc3BsaWNlID0gdGVzdHNbaV0oY29udGV4dCwgZXh0cmEpO1xuICAgICAgICAgIGlmKCFfLmVxdWFscyhzcGxpY2UsIHByZXZbaV0pKXtcbiAgICAgICAgICAgICBlcXVhbCA9IGZhbHNlO1xuICAgICAgICAgICAgIHByZXZbaV0gPSBfLmNsb25lKHNwbGljZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcXVhbD8gZmFsc2U6IHByZXY7XG4gICAgICB9XG4gICAgfWVsc2V7XG4gICAgICBpZih0eXBlb2YgZXhwciA9PT0gJ2Z1bmN0aW9uJyl7XG4gICAgICAgIGdldCA9IGV4cHIuYmluZCh0aGlzKTsgICAgICBcbiAgICAgIH1lbHNle1xuICAgICAgICBleHByID0gdGhpcy5fdG91Y2hFeHByKCBwYXJzZUV4cHJlc3Npb24oZXhwcikgKTtcbiAgICAgICAgZ2V0ID0gZXhwci5nZXQ7XG4gICAgICAgIG9uY2UgPSBleHByLm9uY2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHdhdGNoZXIgPSB7XG4gICAgICBpZDogdWlkLCBcbiAgICAgIGdldDogZ2V0LCBcbiAgICAgIGZuOiBmbiwgXG4gICAgICBvbmNlOiBvbmNlLCBcbiAgICAgIGZvcmNlOiBvcHRpb25zLmZvcmNlLFxuICAgICAgLy8gZG9uJ3QgdXNlIGxkIHRvIHJlc29sdmUgYXJyYXkgZGlmZlxuICAgICAgbm90bGQ6IG9wdGlvbnMuaW5kZXhUcmFjayxcbiAgICAgIHRlc3Q6IHRlc3QsXG4gICAgICBkZWVwOiBvcHRpb25zLmRlZXAsXG4gICAgICBsYXN0OiBvcHRpb25zLnN5bmM/IGdldCh0aGlzKTogb3B0aW9ucy5sYXN0XG4gICAgfVxuICAgIFxuICAgIHRoaXMuX3dhdGNoZXJzLnB1c2goIHdhdGNoZXIgKTtcblxuICAgIHJsZW4gPSB0aGlzLl9yZWNvcmRzICYmIHRoaXMuX3JlY29yZHMubGVuZ3RoO1xuICAgIGlmKHJsZW4pIHRoaXMuX3JlY29yZHNbcmxlbi0xXS5wdXNoKHVpZClcbiAgICAvLyBpbml0IHN0YXRlLlxuICAgIGlmKG9wdGlvbnMuaW5pdCA9PT0gdHJ1ZSl7XG4gICAgICB2YXIgcHJlcGhhc2UgPSB0aGlzLiRwaGFzZTtcbiAgICAgIHRoaXMuJHBoYXNlID0gJ2RpZ2VzdCc7XG4gICAgICB0aGlzLl9jaGVja1NpbmdsZVdhdGNoKCB3YXRjaGVyLCB0aGlzLl93YXRjaGVycy5sZW5ndGgtMSApO1xuICAgICAgdGhpcy4kcGhhc2UgPSBwcmVwaGFzZTtcbiAgICB9XG4gICAgcmV0dXJuIHdhdGNoZXI7XG4gIH0sXG4gICR1bndhdGNoOiBmdW5jdGlvbih1aWQpe1xuICAgIHVpZCA9IHVpZC51aWQgfHwgdWlkO1xuICAgIGlmKCF0aGlzLl93YXRjaGVycykgdGhpcy5fd2F0Y2hlcnMgPSBbXTtcbiAgICBpZihBcnJheS5pc0FycmF5KHVpZCkpe1xuICAgICAgZm9yKHZhciBpID0wLCBsZW4gPSB1aWQubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICB0aGlzLiR1bndhdGNoKHVpZFtpXSk7XG4gICAgICB9XG4gICAgfWVsc2V7XG4gICAgICB2YXIgd2F0Y2hlcnMgPSB0aGlzLl93YXRjaGVycywgd2F0Y2hlciwgd2xlbjtcbiAgICAgIGlmKCF1aWQgfHwgIXdhdGNoZXJzIHx8ICEod2xlbiA9IHdhdGNoZXJzLmxlbmd0aCkpIHJldHVybjtcbiAgICAgIGZvcig7d2xlbi0tOyl7XG4gICAgICAgIHdhdGNoZXIgPSB3YXRjaGVyc1t3bGVuXTtcbiAgICAgICAgaWYod2F0Y2hlciAmJiB3YXRjaGVyLmlkID09PSB1aWQgKXtcbiAgICAgICAgICB3YXRjaGVycy5zcGxpY2Uod2xlbiwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gICRleHByZXNzaW9uOiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgcmV0dXJuIHRoaXMuX3RvdWNoRXhwcihwYXJzZUV4cHJlc3Npb24odmFsdWUpKVxuICB9LFxuICAvKipcbiAgICogdGhlIHdob2xlIGRpZ2VzdCBsb29wICxqdXN0IGxpa2UgYW5ndWxhciwgaXQganVzdCBhIGRpcnR5LWNoZWNrIGxvb3A7XG4gICAqIEBwYXJhbSAge1N0cmluZ30gcGF0aCAgbm93IHJlZ3VsYXIgcHJvY2VzcyBhIHB1cmUgZGlydHktY2hlY2sgbG9vcCwgYnV0IGluIHBhcnNlIHBoYXNlLCBcbiAgICogICAgICAgICAgICAgICAgICBSZWd1bGFyJ3MgcGFyc2VyIGV4dHJhY3QgdGhlIGRlcGVuZGVuY2llcywgaW4gZnV0dXJlIG1heWJlIGl0IHdpbGwgY2hhbmdlIHRvIGRpcnR5LWNoZWNrIGNvbWJpbmUgd2l0aCBwYXRoLWF3YXJlIHVwZGF0ZTtcbiAgICogQHJldHVybiB7Vm9pZH0gICBcbiAgICovXG5cbiAgJGRpZ2VzdDogZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLiRwaGFzZSA9PT0gJ2RpZ2VzdCcgfHwgdGhpcy5fbXV0ZSkgcmV0dXJuO1xuICAgIHRoaXMuJHBoYXNlID0gJ2RpZ2VzdCc7XG4gICAgdmFyIGRpcnR5ID0gZmFsc2UsIG4gPTA7XG4gICAgd2hpbGUoZGlydHkgPSB0aGlzLl9kaWdlc3QoKSl7XG5cbiAgICAgIGlmKCgrK24pID4gMjApeyAvLyBtYXggbG9vcFxuICAgICAgICB0aHJvdyBFcnJvcigndGhlcmUgbWF5IGEgY2lyY3VsYXIgZGVwZW5kZW5jaWVzIHJlYWNoZXMnKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiggbiA+IDAgJiYgdGhpcy4kZW1pdCkgdGhpcy4kZW1pdChcIiR1cGRhdGVcIik7XG4gICAgdGhpcy4kcGhhc2UgPSBudWxsO1xuICB9LFxuICAvLyBwcml2YXRlIGRpZ2VzdCBsb2dpY1xuICBfZGlnZXN0OiBmdW5jdGlvbigpe1xuICAgIC8vIGlmKHRoaXMuY29udGV4dCkgcmV0dXJuIHRoaXMuY29udGV4dC4kZGlnZXN0KCk7XG4gICAgLy8gaWYodGhpcy4kZW1pdCkgdGhpcy4kZW1pdCgnZGlnZXN0Jyk7XG4gICAgdmFyIHdhdGNoZXJzID0gdGhpcy5fd2F0Y2hlcnM7XG4gICAgdmFyIGRpcnR5ID0gZmFsc2UsIGNoaWxkcmVuLCB3YXRjaGVyLCB3YXRjaGVyRGlydHk7XG4gICAgaWYod2F0Y2hlcnMgJiYgd2F0Y2hlcnMubGVuZ3RoKXtcbiAgICAgIGZvcih2YXIgaSA9IDAsIGxlbiA9IHdhdGNoZXJzLmxlbmd0aDtpIDwgbGVuOyBpKyspe1xuICAgICAgICB3YXRjaGVyID0gd2F0Y2hlcnNbaV07XG4gICAgICAgIHdhdGNoZXJEaXJ0eSA9IHRoaXMuX2NoZWNrU2luZ2xlV2F0Y2god2F0Y2hlciwgaSk7XG4gICAgICAgIGlmKHdhdGNoZXJEaXJ0eSkgZGlydHkgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBjaGVjayBjaGlsZHJlbidzIGRpcnR5LlxuICAgIGNoaWxkcmVuID0gdGhpcy5fY2hpbGRyZW47XG4gICAgaWYoY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoKXtcbiAgICAgIGZvcih2YXIgbSA9IDAsIG1sZW4gPSBjaGlsZHJlbi5sZW5ndGg7IG0gPCBtbGVuOyBtKyspe1xuICAgICAgICBpZihjaGlsZHJlblttXSAmJiBjaGlsZHJlblttXS5fZGlnZXN0KCkpIGRpcnR5ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRpcnR5O1xuICB9LFxuICAvLyBjaGVjayBhIHNpbmdsZSBvbmUgd2F0Y2hlciBcbiAgX2NoZWNrU2luZ2xlV2F0Y2g6IGZ1bmN0aW9uKHdhdGNoZXIsIGkpe1xuICAgIHZhciBkaXJ0eSA9IGZhbHNlO1xuICAgIGlmKCF3YXRjaGVyKSByZXR1cm47XG5cbiAgICB2YXIgbm93LCBsYXN0LCB0bGFzdCwgdG5vdywgIGVxLCBkaWZmO1xuXG4gICAgaWYoIXdhdGNoZXIudGVzdCl7XG5cbiAgICAgIG5vdyA9IHdhdGNoZXIuZ2V0KHRoaXMpO1xuICAgICAgbGFzdCA9IHdhdGNoZXIubGFzdDtcbiAgICAgIHRsYXN0ID0gXy50eXBlT2YobGFzdCk7XG4gICAgICB0bm93ID0gXy50eXBlT2Yobm93KTtcbiAgICAgIGVxID0gdHJ1ZSwgZGlmZjtcblxuICAgICAgLy8gIU9iamVjdFxuICAgICAgaWYoICEodG5vdyA9PT0gJ29iamVjdCcgJiYgdGxhc3Q9PT0nb2JqZWN0JyAmJiB3YXRjaGVyLmRlZXApICl7XG4gICAgICAgIC8vIEFycmF5XG4gICAgICAgIGlmKCB0bm93ID09PSAnYXJyYXknICYmICggdGxhc3Q9PSd1bmRlZmluZWQnIHx8IHRsYXN0ID09PSAnYXJyYXknKSApe1xuICAgICAgICAgIGRpZmYgPSBkaWZmQXJyYXkobm93LCB3YXRjaGVyLmxhc3QgfHwgW10sIHdhdGNoZXIubm90bGQpXG4gICAgICAgICAgaWYoIHRsYXN0ICE9PSAnYXJyYXknIHx8IGRpZmYgPT09IHRydWUgfHwgZGlmZi5sZW5ndGggKSBkaXJ0eSA9IHRydWU7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGVxID0gXy5lcXVhbHMoIG5vdywgbGFzdCApO1xuICAgICAgICAgIGlmKCAhZXEgfHwgd2F0Y2hlci5mb3JjZSApe1xuICAgICAgICAgICAgd2F0Y2hlci5mb3JjZSA9IG51bGw7XG4gICAgICAgICAgICBkaXJ0eSA9IHRydWU7IFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgIGZvcih2YXIgaiBpbiBub3cpe1xuICAgICAgICAgIGlmKGxhc3Rbal0gIT09IG5vd1tqXSl7XG4gICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZGlydHkgIT09IHRydWUpe1xuICAgICAgICAgIGZvcih2YXIgbiBpbiBsYXN0KXtcbiAgICAgICAgICAgIGlmKGxhc3Rbbl0gIT09IG5vd1tuXSl7XG4gICAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNle1xuICAgICAgLy8gQFRPRE8g5piv5ZCm5oqK5aSa6YeN5pS55o6JXG4gICAgICB2YXIgcmVzdWx0ID0gd2F0Y2hlci50ZXN0KHRoaXMpO1xuICAgICAgaWYocmVzdWx0KXtcbiAgICAgICAgZGlydHkgPSB0cnVlO1xuICAgICAgICB3YXRjaGVyLmZuLmFwcGx5KHRoaXMsIHJlc3VsdClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYoZGlydHkgJiYgIXdhdGNoZXIudGVzdCl7XG4gICAgICBpZih0bm93ID09PSAnb2JqZWN0JyAmJiB3YXRjaGVyLmRlZXAgfHwgdG5vdyA9PT0gJ2FycmF5Jyl7XG4gICAgICAgIHdhdGNoZXIubGFzdCA9IF8uY2xvbmUobm93KTtcbiAgICAgIH1lbHNle1xuICAgICAgICB3YXRjaGVyLmxhc3QgPSBub3c7XG4gICAgICB9XG4gICAgICB3YXRjaGVyLmZuLmNhbGwodGhpcywgbm93LCBsYXN0LCBkaWZmKVxuICAgICAgaWYod2F0Y2hlci5vbmNlKSB0aGlzLl93YXRjaGVycy5zcGxpY2UoaSwgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpcnR5O1xuICB9LFxuXG4gIC8qKlxuICAgKiAqKnRpcHMqKjogd2hhdGV2ZXIgcGFyYW0geW91IHBhc3NlZCBpbiAkdXBkYXRlLCBhZnRlciB0aGUgZnVuY3Rpb24gY2FsbGVkLCBkaXJ0eS1jaGVjayhkaWdlc3QpIHBoYXNlIHdpbGwgZW50ZXI7XG4gICAqIFxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbnxTdHJpbmd8RXhwcmVzc2lvbn0gcGF0aCAgXG4gICAqIEBwYXJhbSAge1doYXRldmVyfSB2YWx1ZSBvcHRpb25hbCwgd2hlbiBwYXRoIGlzIEZ1bmN0aW9uLCB0aGUgdmFsdWUgaXMgaWdub3JlZFxuICAgKiBAcmV0dXJuIHt0aGlzfSAgICAgdGhpcyBcbiAgICovXG4gICRzZXQ6IGZ1bmN0aW9uKHBhdGgsIHZhbHVlKXtcbiAgICBpZihwYXRoICE9IG51bGwpe1xuICAgICAgdmFyIHR5cGUgPSBfLnR5cGVPZihwYXRoKTtcbiAgICAgIGlmKCB0eXBlID09PSAnc3RyaW5nJyB8fCBwYXRoLnR5cGUgPT09ICdleHByZXNzaW9uJyApe1xuICAgICAgICBwYXRoID0gdGhpcy4kZXhwcmVzc2lvbihwYXRoKTtcbiAgICAgICAgcGF0aC5zZXQodGhpcywgdmFsdWUpO1xuICAgICAgfWVsc2UgaWYodHlwZSA9PT0gJ2Z1bmN0aW9uJyl7XG4gICAgICAgIHBhdGguY2FsbCh0aGlzLCB0aGlzLmRhdGEpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGZvcih2YXIgaSBpbiBwYXRoKSB7XG4gICAgICAgICAgdGhpcy4kc2V0KGksIHBhdGhbaV0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIC8vIDEuIGV4cHIgY2FuYmUgc3RyaW5nIG9yIGEgRXhwcmVzc2lvblxuICAvLyAyLiBkZXRlY3Q6IGlmIHRydWUsIGlmIGV4cHIgaXMgYSBzdHJpbmcgd2lsbCBkaXJlY3RseSByZXR1cm47XG4gICRnZXQ6IGZ1bmN0aW9uKGV4cHIsIGRldGVjdCkgIHtcbiAgICBpZihkZXRlY3QgJiYgdHlwZW9mIGV4cHIgPT09ICdzdHJpbmcnKSByZXR1cm4gZXhwcjtcbiAgICByZXR1cm4gdGhpcy4kZXhwcmVzc2lvbihleHByKS5nZXQodGhpcyk7XG4gIH0sXG4gICR1cGRhdGU6IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy4kc2V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgdmFyIHJvb3RQYXJlbnQgPSB0aGlzO1xuXG4gICAgZG97XG4gICAgICBpZihyb290UGFyZW50LmRhdGEuaXNvbGF0ZSB8fCAhcm9vdFBhcmVudC4kcGFyZW50KSBicmVhaztcbiAgICAgIHJvb3RQYXJlbnQgPSByb290UGFyZW50LiRwYXJlbnQ7XG4gICAgfSB3aGlsZShyb290UGFyZW50KVxuXG4gICAgcm9vdFBhcmVudC4kZGlnZXN0KCk7XG4gIH0sXG4gIC8vIGF1dG8gY29sbGVjdCB3YXRjaGVycyBmb3IgbG9naWMtY29udHJvbC5cbiAgX3JlY29yZDogZnVuY3Rpb24oKXtcbiAgICBpZighdGhpcy5fcmVjb3JkcykgdGhpcy5fcmVjb3JkcyA9IFtdO1xuICAgIHRoaXMuX3JlY29yZHMucHVzaChbXSk7XG4gIH0sXG4gIF9yZWxlYXNlOiBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLl9yZWNvcmRzLnBvcCgpO1xuICB9XG59XG5cblxuXy5leHRlbmQoV2F0Y2hlci5wcm90b3R5cGUsIG1ldGhvZHMpXG5cblxuV2F0Y2hlci5taXhUbyA9IGZ1bmN0aW9uKG9iail7XG4gIG9iaiA9IHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIiA/IG9iai5wcm90b3R5cGUgOiBvYmo7XG4gIHJldHVybiBfLmV4dGVuZChvYmosIG1ldGhvZHMpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gV2F0Y2hlcjsiLCJ2YXIgZW52ID0gIHJlcXVpcmUoXCIuL2Vudi5qc1wiKTtcbnZhciBjb25maWcgPSByZXF1aXJlKFwiLi9jb25maWdcIik7IFxudmFyIFJlZ3VsYXIgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL1JlZ3VsYXIuanNcIik7XG52YXIgUGFyc2VyID0gUmVndWxhci5QYXJzZXI7XG52YXIgTGV4ZXIgPSBSZWd1bGFyLkxleGVyO1xuXG5pZihlbnYuYnJvd3Nlcil7XG4gICAgcmVxdWlyZShcIi4vZGlyZWN0aXZlL2Jhc2UuanNcIik7XG4gICAgcmVxdWlyZShcIi4vZGlyZWN0aXZlL2FuaW1hdGlvbi5qc1wiKTtcbiAgICByZXF1aXJlKFwiLi9tb2R1bGUvdGltZW91dC5qc1wiKTtcbiAgICBSZWd1bGFyLmRvbSA9IHJlcXVpcmUoXCIuL2RvbS5qc1wiKTtcbn1cblJlZ3VsYXIuZW52ID0gZW52O1xuUmVndWxhci51dGlsID0gcmVxdWlyZShcIi4vdXRpbC5qc1wiKTtcblJlZ3VsYXIucGFyc2UgPSBmdW5jdGlvbihzdHIsIG9wdGlvbnMpe1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBpZihvcHRpb25zLkJFR0lOIHx8IG9wdGlvbnMuRU5EKXtcbiAgICBpZihvcHRpb25zLkJFR0lOKSBjb25maWcuQkVHSU4gPSBvcHRpb25zLkJFR0lOO1xuICAgIGlmKG9wdGlvbnMuRU5EKSBjb25maWcuRU5EID0gb3B0aW9ucy5FTkQ7XG4gICAgTGV4ZXIuc2V0dXAoKTtcbiAgfVxuICB2YXIgYXN0ID0gbmV3IFBhcnNlcihzdHIpLnBhcnNlKCk7XG4gIHJldHVybiAhb3B0aW9ucy5zdHJpbmdpZnk/IGFzdCA6IEpTT04uc3RyaW5naWZ5KGFzdCk7XG59XG5cbiIsInZhciBSZWd1bGFyID0gcmVxdWlyZShcIi4uL1JlZ3VsYXIuanNcIik7XG5cbi8qKlxuICogVGltZW91dCBNb2R1bGVcbiAqIEBwYXJhbSB7Q29tcG9uZW50fSBDb21wb25lbnQgXG4gKi9cbmZ1bmN0aW9uIFRpbWVvdXRNb2R1bGUoQ29tcG9uZW50KXtcblxuICBDb21wb25lbnQuaW1wbGVtZW50KHtcbiAgICAvKipcbiAgICAgKiBqdXN0IGxpa2Ugc2V0VGltZW91dCwgYnV0IHdpbGwgZW50ZXIgZGlnZXN0IGF1dG9tYXRlbHlcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm4gICAgXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGRlbGF5IFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gICB0aW1lb3V0aWRcbiAgICAgKi9cbiAgICAkdGltZW91dDogZnVuY3Rpb24oZm4sIGRlbGF5KXtcbiAgICAgIGRlbGF5ID0gZGVsYXkgfHwgMDtcbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgIGZuLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuJHVwZGF0ZSgpOyAvL2VudGVyIGRpZ2VzdFxuICAgICAgfS5iaW5kKHRoaXMpLCBkZWxheSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBqdXN0IGxpa2Ugc2V0SW50ZXJ2YWwsIGJ1dCB3aWxsIGVudGVyIGRpZ2VzdCBhdXRvbWF0ZWx5XG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIFxuICAgICAqIEBwYXJhbSAge051bWJlcn0gICBpbnRlcnZhbCBcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9ICAgaW50ZXJ2YWxpZFxuICAgICAqL1xuICAgICRpbnRlcnZhbDogZnVuY3Rpb24oZm4sIGludGVydmFsKXtcbiAgICAgIGludGVydmFsID0gaW50ZXJ2YWwgfHwgMTAwMC82MDtcbiAgICAgIHJldHVybiBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuICAgICAgICBmbi5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLiR1cGRhdGUoKTsgLy9lbnRlciBkaWdlc3RcbiAgICAgIH0uYmluZCh0aGlzKSwgaW50ZXJ2YWwpO1xuICAgIH1cbiAgfSk7XG59XG5cblxuUmVndWxhci5wbHVnaW4oJ3RpbWVvdXQnLCBUaW1lb3V0TW9kdWxlKTtcblJlZ3VsYXIucGx1Z2luKCckdGltZW91dCcsIFRpbWVvdXRNb2R1bGUpOyIsInZhciBfID0gcmVxdWlyZShcIi4uL3V0aWwuanNcIik7XG52YXIgY29uZmlnID0gcmVxdWlyZShcIi4uL2NvbmZpZy5qc1wiKTtcblxuLy8gc29tZSBjdXN0b20gdGFnICB3aWxsIGNvbmZsaWN0IHdpdGggdGhlIExleGVyIHByb2dyZXNzXG52YXIgY29uZmxpY3RUYWcgPSB7XCJ9XCI6IFwie1wiLCBcIl1cIjogXCJbXCJ9LCBtYXAxLCBtYXAyO1xuLy8gc29tZSBtYWNybyBmb3IgbGV4ZXJcbnZhciBtYWNybyA9IHtcbiAgJ05BTUUnOiAvKD86WzpfQS1aYS16XVstXFwuOl8wLTlBLVphLXpdKikvLFxuICAnSURFTlQnOiAvW1xcJF9BLVphLXpdW18wLTlBLVphLXpcXCRdKi8sXG4gICdTUEFDRSc6IC9bXFxyXFxuXFxmIF0vXG59XG5cblxudmFyIHRlc3QgPSAvYXwoYikvLmV4ZWMoXCJhXCIpO1xudmFyIHRlc3RTdWJDYXB1cmUgPSB0ZXN0ICYmIHRlc3RbMV0gPT09IHVuZGVmaW5lZD8gXG4gIGZ1bmN0aW9uKHN0cil7IHJldHVybiBzdHIgIT09IHVuZGVmaW5lZCB9XG4gIDpmdW5jdGlvbihzdHIpe3JldHVybiAhIXN0cn07XG5cbmZ1bmN0aW9uIHdyYXBIYW5kZXIoaGFuZGxlcil7XG4gIHJldHVybiBmdW5jdGlvbihhbGwpe1xuICAgIHJldHVybiB7dHlwZTogaGFuZGxlciwgdmFsdWU6IGFsbCB9XG4gIH1cbn1cblxuZnVuY3Rpb24gTGV4ZXIoaW5wdXQsIG9wdHMpe1xuICBpZihjb25mbGljdFRhZ1tjb25maWcuRU5EXSl7XG4gICAgdGhpcy5tYXJrU3RhcnQgPSBjb25mbGljdFRhZ1tjb25maWcuRU5EXTtcbiAgICB0aGlzLm1hcmtFbmQgPSBjb25maWcuRU5EO1xuICB9XG5cbiAgdGhpcy5pbnB1dCA9IChpbnB1dHx8XCJcIikudHJpbSgpO1xuICB0aGlzLm9wdHMgPSBvcHRzIHx8IHt9O1xuICB0aGlzLm1hcCA9IHRoaXMub3B0cy5tb2RlICE9PSAyPyAgbWFwMTogbWFwMjtcbiAgdGhpcy5zdGF0ZXMgPSBbXCJJTklUXCJdO1xuICBpZihvcHRzICYmIG9wdHMuZXhwcmVzc2lvbil7XG4gICAgIHRoaXMuc3RhdGVzLnB1c2goXCJKU1RcIik7XG4gICAgIHRoaXMuZXhwcmVzc2lvbiA9IHRydWU7XG4gIH1cbn1cblxudmFyIGxvID0gTGV4ZXIucHJvdG90eXBlXG5cblxubG8ubGV4ID0gZnVuY3Rpb24oc3RyKXtcbiAgc3RyID0gKHN0ciB8fCB0aGlzLmlucHV0KS50cmltKCk7XG4gIHZhciB0b2tlbnMgPSBbXSwgc3BsaXQsIHRlc3QsbWxlbiwgdG9rZW4sIHN0YXRlO1xuICB0aGlzLmlucHV0ID0gc3RyLCBcbiAgdGhpcy5tYXJrcyA9IDA7XG4gIC8vIGluaXQgdGhlIHBvcyBpbmRleFxuICB0aGlzLmluZGV4PTA7XG4gIHZhciBpID0gMDtcbiAgd2hpbGUoc3RyKXtcbiAgICBpKytcbiAgICBzdGF0ZSA9IHRoaXMuc3RhdGUoKTtcbiAgICBzcGxpdCA9IHRoaXMubWFwW3N0YXRlXSBcbiAgICB0ZXN0ID0gc3BsaXQuVFJVTksuZXhlYyhzdHIpO1xuICAgIGlmKCF0ZXN0KXtcbiAgICAgIHRoaXMuZXJyb3IoJ1VucmVjb2dpbml6ZWQgVG9rZW4nKTtcbiAgICB9XG4gICAgbWxlbiA9IHRlc3RbMF0ubGVuZ3RoO1xuICAgIHN0ciA9IHN0ci5zbGljZShtbGVuKVxuICAgIHRva2VuID0gdGhpcy5fcHJvY2Vzcy5jYWxsKHRoaXMsIHRlc3QsIHNwbGl0LCBzdHIpXG4gICAgaWYodG9rZW4pIHRva2Vucy5wdXNoKHRva2VuKVxuICAgIHRoaXMuaW5kZXggKz0gbWxlbjtcbiAgICAvLyBpZihzdGF0ZSA9PSAnVEFHJyB8fCBzdGF0ZSA9PSAnSlNUJykgc3RyID0gdGhpcy5za2lwc3BhY2Uoc3RyKTtcbiAgfVxuXG4gIHRva2Vucy5wdXNoKHt0eXBlOiAnRU9GJ30pO1xuXG4gIHJldHVybiB0b2tlbnM7XG59XG5cbmxvLmVycm9yID0gZnVuY3Rpb24obXNnKXtcbiAgdGhyb3cgIEVycm9yKFwiUGFyc2UgRXJyb3I6IFwiICsgbXNnICsgICc6XFxuJyArIF8udHJhY2tFcnJvclBvcyh0aGlzLmlucHV0LCB0aGlzLmluZGV4KSk7XG59XG5cbmxvLl9wcm9jZXNzID0gZnVuY3Rpb24oYXJncywgc3BsaXQsc3RyKXtcbiAgLy8gY29uc29sZS5sb2coYXJncy5qb2luKFwiLFwiKSwgdGhpcy5zdGF0ZSgpKVxuICB2YXIgbGlua3MgPSBzcGxpdC5saW5rcywgbWFyY2hlZCA9IGZhbHNlLCB0b2tlbjtcblxuICBmb3IodmFyIGxlbiA9IGxpbmtzLmxlbmd0aCwgaT0wO2k8bGVuIDtpKyspe1xuICAgIHZhciBsaW5rID0gbGlua3NbaV0sXG4gICAgICBoYW5kbGVyID0gbGlua1syXSxcbiAgICAgIGluZGV4ID0gbGlua1swXTtcbiAgICAvLyBpZihhcmdzWzZdID09PSAnPicgJiYgaW5kZXggPT09IDYpIGNvbnNvbGUubG9nKCdoYWhhJylcbiAgICBpZih0ZXN0U3ViQ2FwdXJlKGFyZ3NbaW5kZXhdKSkge1xuICAgICAgbWFyY2hlZCA9IHRydWU7XG4gICAgICBpZihoYW5kbGVyKXtcbiAgICAgICAgdG9rZW4gPSBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3Muc2xpY2UoaW5kZXgsIGluZGV4ICsgbGlua1sxXSkpXG4gICAgICAgIGlmKHRva2VuKSAgdG9rZW4ucG9zID0gdGhpcy5pbmRleDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZighbWFyY2hlZCl7IC8vIGluIGllIGx0OCAuIHN1YiBjYXB0dXJlIGlzIFwiXCIgYnV0IG9udCBcbiAgICBzd2l0Y2goc3RyLmNoYXJBdCgwKSl7XG4gICAgICBjYXNlIFwiPFwiOlxuICAgICAgICB0aGlzLmVudGVyKFwiVEFHXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMuZW50ZXIoXCJKU1RcIik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdG9rZW47XG59XG5sby5lbnRlciA9IGZ1bmN0aW9uKHN0YXRlKXtcbiAgdGhpcy5zdGF0ZXMucHVzaChzdGF0ZSlcbiAgcmV0dXJuIHRoaXM7XG59XG5cbmxvLnN0YXRlID0gZnVuY3Rpb24oKXtcbiAgdmFyIHN0YXRlcyA9IHRoaXMuc3RhdGVzO1xuICByZXR1cm4gc3RhdGVzW3N0YXRlcy5sZW5ndGgtMV07XG59XG5cbmxvLmxlYXZlID0gZnVuY3Rpb24oc3RhdGUpe1xuICB2YXIgc3RhdGVzID0gdGhpcy5zdGF0ZXM7XG4gIGlmKCFzdGF0ZSB8fCBzdGF0ZXNbc3RhdGVzLmxlbmd0aC0xXSA9PT0gc3RhdGUpIHN0YXRlcy5wb3AoKVxufVxuXG5cbkxleGVyLnNldHVwID0gZnVuY3Rpb24oKXtcbiAgbWFjcm8uRU5EID0gY29uZmlnLkVORDtcbiAgbWFjcm8uQkVHSU4gPSBjb25maWcuQkVHSU47XG4gIC8vXG4gIG1hcDEgPSBnZW5NYXAoW1xuICAgIC8vIElOSVRcbiAgICBydWxlcy5FTlRFUl9KU1QsXG4gICAgcnVsZXMuRU5URVJfVEFHLFxuICAgIHJ1bGVzLlRFWFQsXG5cbiAgICAvL1RBR1xuICAgIHJ1bGVzLlRBR19OQU1FLFxuICAgIHJ1bGVzLlRBR19PUEVOLFxuICAgIHJ1bGVzLlRBR19DTE9TRSxcbiAgICBydWxlcy5UQUdfUFVOQ0hPUixcbiAgICBydWxlcy5UQUdfRU5URVJfSlNULFxuICAgIHJ1bGVzLlRBR19VTlFfVkFMVUUsXG4gICAgcnVsZXMuVEFHX1NUUklORyxcbiAgICBydWxlcy5UQUdfU1BBQ0UsXG4gICAgcnVsZXMuVEFHX0NPTU1FTlQsXG5cbiAgICAvLyBKU1RcbiAgICBydWxlcy5KU1RfT1BFTixcbiAgICBydWxlcy5KU1RfQ0xPU0UsXG4gICAgcnVsZXMuSlNUX0NPTU1FTlQsXG4gICAgcnVsZXMuSlNUX0VYUFJfT1BFTixcbiAgICBydWxlcy5KU1RfSURFTlQsXG4gICAgcnVsZXMuSlNUX1NQQUNFLFxuICAgIHJ1bGVzLkpTVF9MRUFWRSxcbiAgICBydWxlcy5KU1RfTlVNQkVSLFxuICAgIHJ1bGVzLkpTVF9QVU5DSE9SLFxuICAgIHJ1bGVzLkpTVF9TVFJJTkcsXG4gICAgcnVsZXMuSlNUX0NPTU1FTlRcbiAgICBdKVxuXG4gIC8vIGlnbm9yZWQgdGhlIHRhZy1yZWxhdGl2ZSB0b2tlblxuICBtYXAyID0gZ2VuTWFwKFtcbiAgICAvLyBJTklUIG5vIDwgcmVzdHJpY3RcbiAgICBydWxlcy5FTlRFUl9KU1QyLFxuICAgIHJ1bGVzLlRFWFQsXG4gICAgLy8gSlNUXG4gICAgcnVsZXMuSlNUX0NPTU1FTlQsXG4gICAgcnVsZXMuSlNUX09QRU4sXG4gICAgcnVsZXMuSlNUX0NMT1NFLFxuICAgIHJ1bGVzLkpTVF9FWFBSX09QRU4sXG4gICAgcnVsZXMuSlNUX0lERU5ULFxuICAgIHJ1bGVzLkpTVF9TUEFDRSxcbiAgICBydWxlcy5KU1RfTEVBVkUsXG4gICAgcnVsZXMuSlNUX05VTUJFUixcbiAgICBydWxlcy5KU1RfUFVOQ0hPUixcbiAgICBydWxlcy5KU1RfU1RSSU5HLFxuICAgIHJ1bGVzLkpTVF9DT01NRU5UXG4gICAgXSlcbn1cblxuXG5mdW5jdGlvbiBnZW5NYXAocnVsZXMpe1xuICB2YXIgcnVsZSwgbWFwID0ge30sIHNpZ247XG4gIGZvcih2YXIgaSA9IDAsIGxlbiA9IHJ1bGVzLmxlbmd0aDsgaSA8IGxlbiA7IGkrKyl7XG4gICAgcnVsZSA9IHJ1bGVzW2ldO1xuICAgIHNpZ24gPSBydWxlWzJdIHx8ICdJTklUJztcbiAgICAoIG1hcFtzaWduXSB8fCAobWFwW3NpZ25dID0ge3J1bGVzOltdLCBsaW5rczpbXX0pICkucnVsZXMucHVzaChydWxlKTtcbiAgfVxuICByZXR1cm4gc2V0dXAobWFwKTtcbn1cblxuZnVuY3Rpb24gc2V0dXAobWFwKXtcbiAgdmFyIHNwbGl0LCBydWxlcywgdHJ1bmtzLCBoYW5kbGVyLCByZWcsIHJldGFpbiwgcnVsZTtcbiAgZnVuY3Rpb24gcmVwbGFjZUZuKGFsbCwgb25lKXtcbiAgICByZXR1cm4gdHlwZW9mIG1hY3JvW29uZV0gPT09ICdzdHJpbmcnPyBcbiAgICAgIF8uZXNjYXBlUmVnRXhwKG1hY3JvW29uZV0pIFxuICAgICAgOiBTdHJpbmcobWFjcm9bb25lXSkuc2xpY2UoMSwtMSk7XG4gIH1cblxuICBmb3IodmFyIGkgaW4gbWFwKXtcblxuICAgIHNwbGl0ID0gbWFwW2ldO1xuICAgIHNwbGl0LmN1ckluZGV4ID0gMTtcbiAgICBydWxlcyA9IHNwbGl0LnJ1bGVzO1xuICAgIHRydW5rcyA9IFtdO1xuXG4gICAgZm9yKHZhciBqID0gMCxsZW4gPSBydWxlcy5sZW5ndGg7IGo8bGVuOyBqKyspe1xuICAgICAgcnVsZSA9IHJ1bGVzW2pdOyBcbiAgICAgIHJlZyA9IHJ1bGVbMF07XG4gICAgICBoYW5kbGVyID0gcnVsZVsxXTtcblxuICAgICAgaWYodHlwZW9mIGhhbmRsZXIgPT09ICdzdHJpbmcnKXtcbiAgICAgICAgaGFuZGxlciA9IHdyYXBIYW5kZXIoaGFuZGxlcik7XG4gICAgICB9XG4gICAgICBpZihfLnR5cGVPZihyZWcpID09PSAncmVnZXhwJykgcmVnID0gcmVnLnRvU3RyaW5nKCkuc2xpY2UoMSwgLTEpO1xuXG4gICAgICByZWcgPSByZWcucmVwbGFjZSgvXFx7KFxcdyspXFx9L2csIHJlcGxhY2VGbilcbiAgICAgIHJldGFpbiA9IF8uZmluZFN1YkNhcHR1cmUocmVnKSArIDE7IFxuICAgICAgc3BsaXQubGlua3MucHVzaChbc3BsaXQuY3VySW5kZXgsIHJldGFpbiwgaGFuZGxlcl0pOyBcbiAgICAgIHNwbGl0LmN1ckluZGV4ICs9IHJldGFpbjtcbiAgICAgIHRydW5rcy5wdXNoKHJlZyk7XG4gICAgfVxuICAgIHNwbGl0LlRSVU5LID0gbmV3IFJlZ0V4cChcIl4oPzooXCIgKyB0cnVua3Muam9pbihcIil8KFwiKSArIFwiKSlcIilcbiAgfVxuICByZXR1cm4gbWFwO1xufVxuXG52YXIgcnVsZXMgPSB7XG5cbiAgLy8gMS4gSU5JVFxuICAvLyAtLS0tLS0tLS0tLS0tLS1cblxuICAvLyBtb2RlMSdzIEpTVCBFTlRFUiBSVUxFXG4gIEVOVEVSX0pTVDogWy9bXlxceDAwPF0qPyg/PXtCRUdJTn0pLywgZnVuY3Rpb24oYWxsKXtcbiAgICB0aGlzLmVudGVyKCdKU1QnKTtcbiAgICBpZihhbGwpIHJldHVybiB7dHlwZTogJ1RFWFQnLCB2YWx1ZTogYWxsfVxuICB9XSxcblxuICAvLyBtb2RlMidzIEpTVCBFTlRFUiBSVUxFXG4gIEVOVEVSX0pTVDI6IFsvW15cXHgwMF0qPyg/PXtCRUdJTn0pLywgZnVuY3Rpb24oYWxsKXtcbiAgICB0aGlzLmVudGVyKCdKU1QnKTtcbiAgICBpZihhbGwpIHJldHVybiB7dHlwZTogJ1RFWFQnLCB2YWx1ZTogYWxsfVxuICB9XSxcblxuICBFTlRFUl9UQUc6IFsvW15cXHgwMDw+XSo/KD89PCkvLCBmdW5jdGlvbihhbGwpeyBcbiAgICB0aGlzLmVudGVyKCdUQUcnKTtcbiAgICBpZihhbGwpIHJldHVybiB7dHlwZTogJ1RFWFQnLCB2YWx1ZTogYWxsfVxuICB9XSxcblxuICBURVhUOiBbL1teXFx4MDBdKy8sICdURVhUJ10sXG5cbiAgLy8gMi4gVEFHXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIFRBR19OQU1FOiBbL3tOQU1FfS8sICdOQU1FJywgJ1RBRyddLFxuICBUQUdfVU5RX1ZBTFVFOiBbL1teXFx7fSZcIic9PjxgXFxyXFxuXFxmIF0rLywgJ1VOUScsICdUQUcnXSxcblxuICBUQUdfT1BFTjogWy88KHtOQU1FfSlcXHMqLywgZnVuY3Rpb24oYWxsLCBvbmUpeyAvL1wiXG4gICAgcmV0dXJuIHt0eXBlOiAnVEFHX09QRU4nLCB2YWx1ZTogb25lfVxuICB9LCAnVEFHJ10sXG4gIFRBR19DTE9TRTogWy88XFwvKHtOQU1FfSlbXFxyXFxuXFxmIF0qPi8sIGZ1bmN0aW9uKGFsbCwgb25lKXtcbiAgICB0aGlzLmxlYXZlKCk7XG4gICAgcmV0dXJuIHt0eXBlOiAnVEFHX0NMT1NFJywgdmFsdWU6IG9uZSB9XG4gIH0sICdUQUcnXSxcblxuICAgIC8vIG1vZGUyJ3MgSlNUIEVOVEVSIFJVTEVcbiAgVEFHX0VOVEVSX0pTVDogWy8oPz17QkVHSU59KS8sIGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5lbnRlcignSlNUJyk7XG4gIH0sICdUQUcnXSxcblxuXG4gIFRBR19QVU5DSE9SOiBbL1tcXD5cXC89Jl0vLCBmdW5jdGlvbihhbGwpe1xuICAgIGlmKGFsbCA9PT0gJz4nKSB0aGlzLmxlYXZlKCk7XG4gICAgcmV0dXJuIHt0eXBlOiBhbGwsIHZhbHVlOiBhbGwgfVxuICB9LCAnVEFHJ10sXG4gIFRBR19TVFJJTkc6ICBbIC8nKFteJ10qKSd8XCIoW15cIl0qKVxcXCIvLCAvKicqLyAgZnVuY3Rpb24oYWxsLCBvbmUsIHR3byl7IFxuICAgIHZhciB2YWx1ZSA9IG9uZSB8fCB0d28gfHwgXCJcIjtcblxuICAgIHJldHVybiB7dHlwZTogJ1NUUklORycsIHZhbHVlOiB2YWx1ZX1cbiAgfSwgJ1RBRyddLFxuXG4gIFRBR19TUEFDRTogWy97U1BBQ0V9Ky8sIG51bGwsICdUQUcnXSxcbiAgVEFHX0NPTU1FTlQ6IFsvPFxcIS0tKFteXFx4MDBdKj8pLS1cXD4vLCBmdW5jdGlvbihhbGwpe1xuICAgIHRoaXMubGVhdmUoKVxuICAgIC8vIHRoaXMubGVhdmUoJ1RBRycpXG4gIH0gLCdUQUcnXSxcblxuICAvLyAzLiBKU1RcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIEpTVF9PUEVOOiBbJ3tCRUdJTn0je1NQQUNFfSooe0lERU5UfSknLCBmdW5jdGlvbihhbGwsIG5hbWUpe1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnT1BFTicsXG4gICAgICB2YWx1ZTogbmFtZVxuICAgIH1cbiAgfSwgJ0pTVCddLFxuICBKU1RfTEVBVkU6IFsve0VORH0vLCBmdW5jdGlvbihhbGwpe1xuICAgIGlmKHRoaXMubWFya0VuZCA9PT0gYWxsICYmIHRoaXMuZXhwcmVzc2lvbikgcmV0dXJuIHt0eXBlOiB0aGlzLm1hcmtFbmQsIHZhbHVlOiB0aGlzLm1hcmtFbmR9O1xuICAgIGlmKCF0aGlzLm1hcmtFbmQgfHwgIXRoaXMubWFya3MgKXtcbiAgICAgIHRoaXMuZmlyc3RFbnRlclN0YXJ0ID0gZmFsc2U7XG4gICAgICB0aGlzLmxlYXZlKCdKU1QnKTtcbiAgICAgIHJldHVybiB7dHlwZTogJ0VORCd9XG4gICAgfWVsc2V7XG4gICAgICB0aGlzLm1hcmtzLS07XG4gICAgICByZXR1cm4ge3R5cGU6IHRoaXMubWFya0VuZCwgdmFsdWU6IHRoaXMubWFya0VuZH1cbiAgICB9XG4gIH0sICdKU1QnXSxcbiAgSlNUX0NMT1NFOiBbL3tCRUdJTn1cXHMqXFwvKHtJREVOVH0pXFxzKntFTkR9LywgZnVuY3Rpb24oYWxsLCBvbmUpe1xuICAgIHRoaXMubGVhdmUoJ0pTVCcpO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnQ0xPU0UnLFxuICAgICAgdmFsdWU6IG9uZVxuICAgIH1cbiAgfSwgJ0pTVCddLFxuICBKU1RfQ09NTUVOVDogWy97QkVHSU59XFwhKFteXFx4MDBdKj8pXFwhe0VORH0vLCBmdW5jdGlvbigpe1xuICAgIHRoaXMubGVhdmUoKTtcbiAgfSwgJ0pTVCddLFxuICBKU1RfRVhQUl9PUEVOOiBbJ3tCRUdJTn0nLGZ1bmN0aW9uKGFsbCwgb25lKXtcbiAgICBpZihhbGwgPT09IHRoaXMubWFya1N0YXJ0KXtcbiAgICAgIGlmKHRoaXMuZXhwcmVzc2lvbikgcmV0dXJuIHsgdHlwZTogdGhpcy5tYXJrU3RhcnQsIHZhbHVlOiB0aGlzLm1hcmtTdGFydCB9O1xuICAgICAgaWYodGhpcy5maXJzdEVudGVyU3RhcnQgfHwgdGhpcy5tYXJrcyl7XG4gICAgICAgIHRoaXMubWFya3MrK1xuICAgICAgICB0aGlzLmZpcnN0RW50ZXJTdGFydCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4geyB0eXBlOiB0aGlzLm1hcmtTdGFydCwgdmFsdWU6IHRoaXMubWFya1N0YXJ0IH07XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdGhpcy5maXJzdEVudGVyU3RhcnQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ0VYUFJfT1BFTicsXG4gICAgICBlc2NhcGU6IGZhbHNlXG4gICAgfVxuXG4gIH0sICdKU1QnXSxcbiAgSlNUX0lERU5UOiBbJ3tJREVOVH0nLCAnSURFTlQnLCAnSlNUJ10sXG4gIEpTVF9TUEFDRTogWy9bIFxcclxcblxcZl0rLywgbnVsbCwgJ0pTVCddLFxuICBKU1RfUFVOQ0hPUjogWy9bPSFdPz09fFstPT48KypcXC8lXFwhXT9cXD18XFx8XFx8fCYmfFxcQFxcKHxcXC5cXC58WzxcXD5cXFtcXF1cXChcXClcXC1cXHxcXHt9XFwrXFwqXFwvJT86XFwuISxdLywgZnVuY3Rpb24oYWxsKXtcbiAgICByZXR1cm4geyB0eXBlOiBhbGwsIHZhbHVlOiBhbGwgfVxuICB9LCdKU1QnXSxcblxuICBKU1RfU1RSSU5HOiAgWyAvJyhbXiddKiknfFwiKFteXCJdKilcIi8sIGZ1bmN0aW9uKGFsbCwgb25lLCB0d28peyAvL1wiJ1xuICAgIHJldHVybiB7dHlwZTogJ1NUUklORycsIHZhbHVlOiBvbmUgfHwgdHdvIHx8IFwiXCJ9XG4gIH0sICdKU1QnXSxcbiAgSlNUX05VTUJFUjogWy8oPzpbMC05XSpcXC5bMC05XSt8WzAtOV0rKShlXFxkKyk/LywgZnVuY3Rpb24oYWxsKXtcbiAgICByZXR1cm4ge3R5cGU6ICdOVU1CRVInLCB2YWx1ZTogcGFyc2VGbG9hdChhbGwsIDEwKX07XG4gIH0sICdKU1QnXVxufVxuXG5cbi8vIHNldHVwIHdoZW4gZmlyc3QgY29uZmlnXG5MZXhlci5zZXR1cCgpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBMZXhlcjtcbiIsInZhciBfID0gcmVxdWlyZShcIi4uL3V0aWwuanNcIik7XG5cbnZhciBjb25maWcgPSByZXF1aXJlKFwiLi4vY29uZmlnLmpzXCIpO1xudmFyIG5vZGUgPSByZXF1aXJlKFwiLi9ub2RlLmpzXCIpO1xudmFyIExleGVyID0gcmVxdWlyZShcIi4vTGV4ZXIuanNcIik7XG52YXIgdmFyTmFtZSA9IF8udmFyTmFtZTtcbnZhciBjdHhOYW1lID0gXy5jdHhOYW1lO1xudmFyIGV4dE5hbWUgPSBfLmV4dE5hbWU7XG52YXIgaXNQYXRoID0gXy5tYWtlUHJlZGljYXRlKFwiU1RSSU5HIElERU5UIE5VTUJFUlwiKTtcbnZhciBpc0tleVdvcmQgPSBfLm1ha2VQcmVkaWNhdGUoXCJ0cnVlIGZhbHNlIHVuZGVmaW5lZCBudWxsIHRoaXMgQXJyYXkgRGF0ZSBKU09OIE1hdGggTmFOIFJlZ0V4cCBkZWNvZGVVUkkgZGVjb2RlVVJJQ29tcG9uZW50IGVuY29kZVVSSSBlbmNvZGVVUklDb21wb25lbnQgcGFyc2VGbG9hdCBwYXJzZUludCBPYmplY3RcIik7XG5cblxuXG5cbmZ1bmN0aW9uIFBhcnNlcihpbnB1dCwgb3B0cyl7XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgdGhpcy50b2tlbnMgPSBuZXcgTGV4ZXIoaW5wdXQsIG9wdHMpLmxleCgpO1xuICB0aGlzLnBvcyA9IDA7XG4gIHRoaXMubGVuZ3RoID0gdGhpcy50b2tlbnMubGVuZ3RoO1xufVxuXG5cbnZhciBvcCA9IFBhcnNlci5wcm90b3R5cGU7XG5cblxub3AucGFyc2UgPSBmdW5jdGlvbigpe1xuICB0aGlzLnBvcyA9IDA7XG4gIHZhciByZXM9IHRoaXMucHJvZ3JhbSgpO1xuICBpZih0aGlzLmxsKCkudHlwZSA9PT0gJ1RBR19DTE9TRScpe1xuICAgIHRoaXMuZXJyb3IoXCJZb3UgbWF5IGdvdCBhIHVuY2xvc2VkIFRhZ1wiKVxuICB9XG4gIHJldHVybiByZXM7XG59XG5cbm9wLmxsID0gIGZ1bmN0aW9uKGspe1xuICBrID0gayB8fCAxO1xuICBpZihrIDwgMCkgayA9IGsgKyAxO1xuICB2YXIgcG9zID0gdGhpcy5wb3MgKyBrIC0gMTtcbiAgaWYocG9zID4gdGhpcy5sZW5ndGggLSAxKXtcbiAgICAgIHJldHVybiB0aGlzLnRva2Vuc1t0aGlzLmxlbmd0aC0xXTtcbiAgfVxuICByZXR1cm4gdGhpcy50b2tlbnNbcG9zXTtcbn1cbiAgLy8gbG9va2FoZWFkXG5vcC5sYSA9IGZ1bmN0aW9uKGspe1xuICByZXR1cm4gKHRoaXMubGwoaykgfHwgJycpLnR5cGU7XG59XG5cbm9wLm1hdGNoID0gZnVuY3Rpb24odHlwZSwgdmFsdWUpe1xuICB2YXIgbGw7XG4gIGlmKCEobGwgPSB0aGlzLmVhdCh0eXBlLCB2YWx1ZSkpKXtcbiAgICBsbCAgPSB0aGlzLmxsKCk7XG4gICAgdGhpcy5lcnJvcignZXhwZWN0IFsnICsgdHlwZSArICh2YWx1ZSA9PSBudWxsPyAnJzonOicrIHZhbHVlKSArICddXCIgLT4gZ290IFwiWycgKyBsbC50eXBlICsgKHZhbHVlPT1udWxsPyAnJzonOicrbGwudmFsdWUpICsgJ10nLCBsbC5wb3MpXG4gIH1lbHNle1xuICAgIHJldHVybiBsbDtcbiAgfVxufVxuXG5vcC5lcnJvciA9IGZ1bmN0aW9uKG1zZywgcG9zKXtcbiAgbXNnID0gIFwiXFxu44CQIHBhcnNlIGZhaWxlZCDjgJEgXCIgKyBtc2cgKyAgJzpcXG5cXG4nICsgXy50cmFja0Vycm9yUG9zKHRoaXMuaW5wdXQsIHR5cGVvZiBwb3MgPT09ICdudW1iZXInPyBwb3M6IHRoaXMubGwoKS5wb3N8fDApO1xuICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbn1cblxub3AubmV4dCA9IGZ1bmN0aW9uKGspe1xuICBrID0gayB8fCAxO1xuICB0aGlzLnBvcyArPSBrO1xufVxub3AuZWF0ID0gZnVuY3Rpb24odHlwZSwgdmFsdWUpe1xuICB2YXIgbGwgPSB0aGlzLmxsKCk7XG4gIGlmKHR5cGVvZiB0eXBlICE9PSAnc3RyaW5nJyl7XG4gICAgZm9yKHZhciBsZW4gPSB0eXBlLmxlbmd0aCA7IGxlbi0tOyl7XG4gICAgICBpZihsbC50eXBlID09PSB0eXBlW2xlbl0pIHtcbiAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICAgIHJldHVybiBsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1lbHNle1xuICAgIGlmKCBsbC50eXBlID09PSB0eXBlICYmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IGxsLnZhbHVlID09PSB2YWx1ZSkgKXtcbiAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgICByZXR1cm4gbGw7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gcHJvZ3JhbVxuLy8gIDpFT0Zcbi8vICB8IChzdGF0ZW1lbnQpKiBFT0Zcbm9wLnByb2dyYW0gPSBmdW5jdGlvbigpe1xuICB2YXIgc3RhdGVtZW50cyA9IFtdLCAgbGwgPSB0aGlzLmxsKCk7XG4gIHdoaWxlKGxsLnR5cGUgIT09ICdFT0YnICYmIGxsLnR5cGUgIT09J1RBR19DTE9TRScpe1xuXG4gICAgc3RhdGVtZW50cy5wdXNoKHRoaXMuc3RhdGVtZW50KCkpO1xuICAgIGxsID0gdGhpcy5sbCgpO1xuICB9XG4gIC8vIGlmKGxsLnR5cGUgPT09ICdUQUdfQ0xPU0UnKSB0aGlzLmVycm9yKFwiWW91IG1heSBoYXZlIHVubWF0Y2hlZCBUYWdcIilcbiAgcmV0dXJuIHN0YXRlbWVudHM7XG59XG5cbi8vIHN0YXRlbWVudFxuLy8gIDogeG1sXG4vLyAgfCBqc3Rcbi8vICB8IHRleHRcbm9wLnN0YXRlbWVudCA9IGZ1bmN0aW9uKCl7XG4gIHZhciBsbCA9IHRoaXMubGwoKTtcbiAgc3dpdGNoKGxsLnR5cGUpe1xuICAgIGNhc2UgJ05BTUUnOlxuICAgIGNhc2UgJ1RFWFQnOlxuICAgICAgdmFyIHRleHQgPSBsbC52YWx1ZTtcbiAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgd2hpbGUobGwgPSB0aGlzLmVhdChbJ05BTUUnLCAnVEVYVCddKSl7XG4gICAgICAgIHRleHQgKz0gbGwudmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9kZS50ZXh0KHRleHQpO1xuICAgIGNhc2UgJ1RBR19PUEVOJzpcbiAgICAgIHJldHVybiB0aGlzLnhtbCgpO1xuICAgIGNhc2UgJ09QRU4nOiBcbiAgICAgIHJldHVybiB0aGlzLmRpcmVjdGl2ZSgpO1xuICAgIGNhc2UgJ0VYUFJfT1BFTic6XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcnBsYXRpb24oKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhpcy5lcnJvcignVW5leHBlY3RlZCB0b2tlbjogJysgdGhpcy5sYSgpKVxuICB9XG59XG5cbi8vIHhtbCBcbi8vIHN0YWcgc3RhdGVtZW50KiBUQUdfQ0xPU0U/KGlmIHNlbGYtY2xvc2VkIHRhZylcbm9wLnhtbCA9IGZ1bmN0aW9uKCl7XG4gIHZhciBuYW1lLCBhdHRycywgY2hpbGRyZW4sIHNlbGZDbG9zZWQ7XG4gIG5hbWUgPSB0aGlzLm1hdGNoKCdUQUdfT1BFTicpLnZhbHVlO1xuICBhdHRycyA9IHRoaXMuYXR0cnMoKTtcbiAgc2VsZkNsb3NlZCA9IHRoaXMuZWF0KCcvJylcbiAgdGhpcy5tYXRjaCgnPicpO1xuICBpZiggIXNlbGZDbG9zZWQgJiYgIV8uaXNWb2lkVGFnKG5hbWUpICl7XG4gICAgY2hpbGRyZW4gPSB0aGlzLnByb2dyYW0oKTtcbiAgICBpZighdGhpcy5lYXQoJ1RBR19DTE9TRScsIG5hbWUpKSB0aGlzLmVycm9yKCdleHBlY3QgPC8nK25hbWUrJz4gZ290JysgJ25vIG1hdGNoZWQgY2xvc2VUYWcnKVxuICB9XG4gIHJldHVybiBub2RlLmVsZW1lbnQobmFtZSwgYXR0cnMsIGNoaWxkcmVuKTtcbn1cblxuLy8geGVudGl0eVxuLy8gIC1ydWxlKHdyYXAgYXR0cmlidXRlKVxuLy8gIC1hdHRyaWJ1dGVcbi8vXG4vLyBfX2V4YW1wbGVfX1xuLy8gIG5hbWUgPSAxIHwgIFxuLy8gIG5nLWhpZGUgfFxuLy8gIG9uLWNsaWNrPXt7fX0gfCBcbi8vICB7eyNpZiBuYW1lfX1vbi1jbGljaz17e3h4fX17eyNlbHNlfX1vbi10YXA9e3t9fXt7L2lmfX1cblxub3AueGVudGl0eSA9IGZ1bmN0aW9uKGxsKXtcbiAgdmFyIG5hbWUgPSBsbC52YWx1ZSwgdmFsdWUsIG1vZGlmaWVyO1xuICBpZihsbC50eXBlID09PSAnTkFNRScpe1xuICAgIC8vQCBvbmx5IGZvciB0ZXN0XG4gICAgaWYofm5hbWUuaW5kZXhPZignLicpKXtcbiAgICAgIHZhciB0bXAgPSBuYW1lLnNwbGl0KCcuJyk7XG4gICAgICBuYW1lID0gdG1wWzBdO1xuICAgICAgbW9kaWZpZXIgPSB0bXBbMV1cblxuICAgIH1cbiAgICBpZiggdGhpcy5lYXQoXCI9XCIpICkgdmFsdWUgPSB0aGlzLmF0dHZhbHVlKG1vZGlmaWVyKTtcbiAgICByZXR1cm4gbm9kZS5hdHRyaWJ1dGUoIG5hbWUsIHZhbHVlLCBtb2RpZmllciApO1xuICB9ZWxzZXtcbiAgICBpZiggbmFtZSAhPT0gJ2lmJykgdGhpcy5lcnJvcihcImN1cnJlbnQgdmVyc2lvbi4gT05MWSBSVUxFICNpZiAjZWxzZSAjZWxzZWlmIGlzIHZhbGlkIGluIHRhZywgdGhlIHJ1bGUgI1wiICsgbmFtZSArICcgaXMgaW52YWxpZCcpO1xuICAgIHJldHVybiB0aGlzWydpZiddKHRydWUpO1xuICB9XG5cbn1cblxuLy8gc3RhZyAgICAgOjo9ICAgICc8JyBOYW1lIChTIGF0dHIpKiBTPyAnPicgIFxuLy8gYXR0ciAgICA6Oj0gICAgIE5hbWUgRXEgYXR0dmFsdWVcbm9wLmF0dHJzID0gZnVuY3Rpb24oaXNBdHRyaWJ1dGUpe1xuICB2YXIgZWF0XG4gIGlmKCFpc0F0dHJpYnV0ZSl7XG4gICAgZWF0ID0gW1wiTkFNRVwiLCBcIk9QRU5cIl1cbiAgfWVsc2V7XG4gICAgZWF0ID0gW1wiTkFNRVwiXVxuICB9XG5cbiAgdmFyIGF0dHJzID0gW10sIGxsO1xuICB3aGlsZSAobGwgPSB0aGlzLmVhdChlYXQpKXtcbiAgICBhdHRycy5wdXNoKHRoaXMueGVudGl0eSggbGwgKSlcbiAgfVxuICByZXR1cm4gYXR0cnM7XG59XG5cbi8vIGF0dHZhbHVlXG4vLyAgOiBTVFJJTkcgIFxuLy8gIHwgTkFNRVxub3AuYXR0dmFsdWUgPSBmdW5jdGlvbihtZGYpe1xuICB2YXIgbGwgPSB0aGlzLmxsKCk7XG4gIHN3aXRjaChsbC50eXBlKXtcbiAgICBjYXNlIFwiTkFNRVwiOlxuICAgIGNhc2UgXCJVTlFcIjpcbiAgICBjYXNlIFwiU1RSSU5HXCI6XG4gICAgICB0aGlzLm5leHQoKTtcbiAgICAgIHZhciB2YWx1ZSA9IGxsLnZhbHVlO1xuICAgICAgaWYofnZhbHVlLmluZGV4T2YoY29uZmlnLkJFR0lOKSAmJiB+dmFsdWUuaW5kZXhPZihjb25maWcuRU5EKSAmJiBtZGYhPT0nY21wbCcpe1xuICAgICAgICB2YXIgY29uc3RhbnQgPSB0cnVlO1xuICAgICAgICB2YXIgcGFyc2VkID0gbmV3IFBhcnNlcih2YWx1ZSwgeyBtb2RlOiAyIH0pLnBhcnNlKCk7XG4gICAgICAgIGlmKHBhcnNlZC5sZW5ndGggPT09IDEgJiYgcGFyc2VkWzBdLnR5cGUgPT09ICdleHByZXNzaW9uJykgcmV0dXJuIHBhcnNlZFswXTtcbiAgICAgICAgdmFyIGJvZHkgPSBbXTtcbiAgICAgICAgcGFyc2VkLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgICAgaWYoIWl0ZW0uY29uc3RhbnQpIGNvbnN0YW50PWZhbHNlO1xuICAgICAgICAgIC8vIHNpbGVudCB0aGUgbXV0aXBsZSBpbnRlcGxhdGlvblxuICAgICAgICAgICAgYm9keS5wdXNoKGl0ZW0uYm9keSB8fCBcIidcIiArIGl0ZW0udGV4dC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIikgKyBcIidcIik7ICAgICAgICBcbiAgICAgICAgfSk7XG4gICAgICAgIGJvZHkgPSBcIltcIiArIGJvZHkuam9pbihcIixcIikgKyBcIl0uam9pbignJylcIjtcbiAgICAgICAgdmFsdWUgPSBub2RlLmV4cHJlc3Npb24oYm9keSwgbnVsbCwgY29uc3RhbnQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGNhc2UgXCJFWFBSX09QRU5cIjpcbiAgICAgIHJldHVybiB0aGlzLmludGVycGxhdGlvbigpO1xuICAgIC8vIGNhc2UgXCJPUEVOXCI6XG4gICAgLy8gICBpZihsbC52YWx1ZSA9PT0gJ2luYycgfHwgbGwudmFsdWUgPT09ICdpbmNsdWRlJyl7XG4gICAgLy8gICAgIHRoaXMubmV4dCgpO1xuICAgIC8vICAgICByZXR1cm4gdGhpcy5pbmMoKTtcbiAgICAvLyAgIH1lbHNle1xuICAgIC8vICAgICB0aGlzLmVycm9yKCdhdHRyaWJ1dGUgdmFsdWUgb25seSBzdXBwb3J0IGludGVwbGF0aW9uIGFuZCB7I2luY30gc3RhdGVtZW50JylcbiAgICAvLyAgIH1cbiAgICAvLyAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aGlzLmVycm9yKCdVbmV4cGVjdGVkIHRva2VuOiAnKyB0aGlzLmxhKCkpXG4gIH1cbn1cblxuXG4vLyB7eyN9fVxub3AuZGlyZWN0aXZlID0gZnVuY3Rpb24oKXtcbiAgdmFyIG5hbWUgPSB0aGlzLmxsKCkudmFsdWU7XG4gIHRoaXMubmV4dCgpO1xuICBpZih0eXBlb2YgdGhpc1tuYW1lXSA9PT0gJ2Z1bmN0aW9uJyl7XG4gICAgcmV0dXJuIHRoaXNbbmFtZV0oKVxuICB9ZWxzZXtcbiAgICB0aGlzLmVycm9yKCdVbmRlZmluZWQgZGlyZWN0aXZlWycrIG5hbWUgKyddJyk7XG4gIH1cbn1cblxuXG4vLyB7e319XG5vcC5pbnRlcnBsYXRpb24gPSBmdW5jdGlvbigpe1xuICB0aGlzLm1hdGNoKCdFWFBSX09QRU4nKTtcbiAgdmFyIHJlcyA9IHRoaXMuZXhwcmVzc2lvbih0cnVlKTtcbiAgdGhpcy5tYXRjaCgnRU5EJyk7XG4gIHJldHVybiByZXM7XG59XG5cbi8vIHt7fn19XG5vcC5pbmMgPSBvcC5pbmNsdWRlID0gZnVuY3Rpb24oKXtcbiAgdmFyIGNvbnRlbnQgPSB0aGlzLmV4cHJlc3Npb24oKTtcbiAgdGhpcy5tYXRjaCgnRU5EJyk7XG4gIHJldHVybiBub2RlLnRlbXBsYXRlKGNvbnRlbnQpO1xufVxuXG4vLyB7eyNpZn19XG5vcFtcImlmXCJdID0gZnVuY3Rpb24odGFnKXtcbiAgdmFyIHRlc3QgPSB0aGlzLmV4cHJlc3Npb24oKTtcbiAgdmFyIGNvbnNlcXVlbnQgPSBbXSwgYWx0ZXJuYXRlPVtdO1xuXG4gIHZhciBjb250YWluZXIgPSBjb25zZXF1ZW50O1xuICB2YXIgc3RhdGVtZW50ID0gIXRhZz8gXCJzdGF0ZW1lbnRcIiA6IFwiYXR0cnNcIjtcblxuICB0aGlzLm1hdGNoKCdFTkQnKTtcblxuICB2YXIgbGwsIGNsb3NlO1xuICB3aGlsZSggISAoY2xvc2UgPSB0aGlzLmVhdCgnQ0xPU0UnKSkgKXtcbiAgICBsbCA9IHRoaXMubGwoKTtcbiAgICBpZiggbGwudHlwZSA9PT0gJ09QRU4nICl7XG4gICAgICBzd2l0Y2goIGxsLnZhbHVlICl7XG4gICAgICAgIGNhc2UgJ2Vsc2UnOlxuICAgICAgICAgIGNvbnRhaW5lciA9IGFsdGVybmF0ZTtcbiAgICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgICAgICB0aGlzLm1hdGNoKCAnRU5EJyApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdlbHNlaWYnOlxuICAgICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICAgIGFsdGVybmF0ZS5wdXNoKCB0aGlzW1wiaWZcIl0odGFnKSApO1xuICAgICAgICAgIHJldHVybiBub2RlWydpZiddKCB0ZXN0LCBjb25zZXF1ZW50LCBhbHRlcm5hdGUgKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb250YWluZXIucHVzaCggdGhpc1tzdGF0ZW1lbnRdKHRydWUpICk7XG4gICAgICB9XG4gICAgfWVsc2V7XG4gICAgICBjb250YWluZXIucHVzaCh0aGlzW3N0YXRlbWVudF0odHJ1ZSkpO1xuICAgIH1cbiAgfVxuICAvLyBpZiBzdGF0ZW1lbnQgbm90IG1hdGNoZWRcbiAgaWYoY2xvc2UudmFsdWUgIT09IFwiaWZcIikgdGhpcy5lcnJvcignVW5tYXRjaGVkIGlmIGRpcmVjdGl2ZScpXG4gIHJldHVybiBub2RlW1wiaWZcIl0odGVzdCwgY29uc2VxdWVudCwgYWx0ZXJuYXRlKTtcbn1cblxuXG4vLyBAbWFyayAgIG11c3RhY2hlIHN5bnRheCBoYXZlIG5hdHJ1cmUgZGlzLCBjYW5vdCB3aXRoIGV4cHJlc3Npb25cbi8vIHt7I2xpc3R9fVxub3AubGlzdCA9IGZ1bmN0aW9uKCl7XG4gIC8vIHNlcXVlbmNlIGNhbiBiZSBhIGxpc3Qgb3IgaGFzaFxuICB2YXIgc2VxdWVuY2UgPSB0aGlzLmV4cHJlc3Npb24oKSwgdmFyaWFibGUsIGxsLCB0cmFjaztcbiAgdmFyIGNvbnNlcXVlbnQgPSBbXSwgYWx0ZXJuYXRlPVtdO1xuICB2YXIgY29udGFpbmVyID0gY29uc2VxdWVudDtcblxuICB0aGlzLm1hdGNoKCdJREVOVCcsICdhcycpO1xuXG4gIHZhcmlhYmxlID0gdGhpcy5tYXRjaCgnSURFTlQnKS52YWx1ZTtcblxuICBpZih0aGlzLmVhdCgnSURFTlQnLCAnYnknKSl7XG4gICAgaWYodGhpcy5lYXQoJ0lERU5UJyx2YXJpYWJsZSArICdfaW5kZXgnKSl7XG4gICAgICB0cmFjayA9IHRydWU7XG4gICAgfWVsc2V7XG4gICAgICB0cmFjayA9IHRoaXMuZXhwcmVzc2lvbigpO1xuICAgICAgaWYodHJhY2suY29uc3RhbnQpe1xuICAgICAgICAvLyB0cnVlIGlzIG1lYW5zIGNvbnN0YW50LCB3ZSBoYW5kbGUgaXQganVzdCBsaWtlIHh4eF9pbmRleC5cbiAgICAgICAgdHJhY2sgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRoaXMubWF0Y2goJ0VORCcpO1xuXG4gIHdoaWxlKCAhKGxsID0gdGhpcy5lYXQoJ0NMT1NFJykpICl7XG4gICAgaWYodGhpcy5lYXQoJ09QRU4nLCAnZWxzZScpKXtcbiAgICAgIGNvbnRhaW5lciA9ICBhbHRlcm5hdGU7XG4gICAgICB0aGlzLm1hdGNoKCdFTkQnKTtcbiAgICB9ZWxzZXtcbiAgICAgIGNvbnRhaW5lci5wdXNoKHRoaXMuc3RhdGVtZW50KCkpO1xuICAgIH1cbiAgfVxuICBcbiAgaWYobGwudmFsdWUgIT09ICdsaXN0JykgdGhpcy5lcnJvcignZXhwZWN0ICcgKyAnbGlzdCBnb3QgJyArICcvJyArIGxsLnZhbHVlICsgJyAnLCBsbC5wb3MgKTtcbiAgcmV0dXJuIG5vZGUubGlzdChzZXF1ZW5jZSwgdmFyaWFibGUsIGNvbnNlcXVlbnQsIGFsdGVybmF0ZSwgdHJhY2spO1xufVxuXG5cbm9wLmV4cHJlc3Npb24gPSBmdW5jdGlvbigpe1xuICB2YXIgZXhwcmVzc2lvbjtcbiAgaWYodGhpcy5lYXQoJ0AoJykpeyAvL29uY2UgYmluZFxuICAgIGV4cHJlc3Npb24gPSB0aGlzLmV4cHIoKTtcbiAgICBleHByZXNzaW9uLm9uY2UgPSB0cnVlO1xuICAgIHRoaXMubWF0Y2goJyknKVxuICB9ZWxzZXtcbiAgICBleHByZXNzaW9uID0gdGhpcy5leHByKCk7XG4gIH1cbiAgcmV0dXJuIGV4cHJlc3Npb247XG59XG5cbm9wLmV4cHIgPSBmdW5jdGlvbigpe1xuICB0aGlzLmRlcGVuZCA9IFtdO1xuXG4gIHZhciBidWZmZXIgPSB0aGlzLmZpbHRlcigpXG5cbiAgdmFyIGJvZHkgPSBidWZmZXIuZ2V0IHx8IGJ1ZmZlcjtcbiAgdmFyIHNldGJvZHkgPSBidWZmZXIuc2V0O1xuICByZXR1cm4gbm9kZS5leHByZXNzaW9uKGJvZHksIHNldGJvZHksICF0aGlzLmRlcGVuZC5sZW5ndGgpO1xufVxuXG5cbi8vIGZpbHRlclxuLy8gYXNzaWduICgnfCcgZmlsdGVybmFtZVsnOicgYXJnc10pICogXG5vcC5maWx0ZXIgPSBmdW5jdGlvbigpe1xuICB2YXIgbGVmdCA9IHRoaXMuYXNzaWduKCk7XG4gIHZhciBsbCA9IHRoaXMuZWF0KCd8Jyk7XG4gIHZhciBidWZmZXIgPSBbXSwgc2V0QnVmZmVyLCBwcmVmaXgsXG4gICAgYXR0ciA9IFwidFwiLCBcbiAgICBzZXQgPSBsZWZ0LnNldCwgZ2V0LCBcbiAgICB0bXAgPSBcIlwiO1xuXG4gIGlmKGxsKXtcbiAgICBpZihzZXQpIHNldEJ1ZmZlciA9IFtdO1xuXG4gICAgcHJlZml4ID0gXCIoZnVuY3Rpb24oXCIgKyBhdHRyICsgXCIpe1wiO1xuXG4gICAgZG97XG4gICAgICB0bXAgPSBhdHRyICsgXCIgPSBcIiArIGN0eE5hbWUgKyBcIi5fZl8oJ1wiICsgdGhpcy5tYXRjaCgnSURFTlQnKS52YWx1ZSsgXCInICkuZ2V0LmNhbGwoIFwiK18uY3R4TmFtZSArXCIsXCIgKyBhdHRyIDtcbiAgICAgIGlmKHRoaXMuZWF0KCc6Jykpe1xuICAgICAgICB0bXAgKz1cIiwgXCIrIHRoaXMuYXJndW1lbnRzKFwifFwiKS5qb2luKFwiLFwiKSArIFwiKTtcIlxuICAgICAgfWVsc2V7XG4gICAgICAgIHRtcCArPSAnKTsnXG4gICAgICB9XG4gICAgICBidWZmZXIucHVzaCh0bXApO1xuICAgICAgc2V0QnVmZmVyICYmIHNldEJ1ZmZlci51bnNoaWZ0KCB0bXAucmVwbGFjZShcIiApLmdldC5jYWxsXCIsIFwiICkuc2V0LmNhbGxcIikgKTtcblxuICAgIH13aGlsZShsbCA9IHRoaXMuZWF0KCd8JykpO1xuICAgIGJ1ZmZlci5wdXNoKFwicmV0dXJuIFwiICsgYXR0ciApO1xuICAgIHNldEJ1ZmZlciAmJiBzZXRCdWZmZXIucHVzaChcInJldHVybiBcIiArIGF0dHIpO1xuXG4gICAgZ2V0ID0gIHByZWZpeCArIGJ1ZmZlci5qb2luKFwiXCIpICsgXCJ9KShcIitsZWZ0LmdldCtcIilcIjtcbiAgICAvLyB3ZSBjYWxsIGJhY2sgdG8gdmFsdWUuXG4gICAgaWYoc2V0QnVmZmVyKXtcbiAgICAgIC8vIGNoYW5nZSBfc3NfXyhuYW1lLCBfcF8pIHRvIF9zX18obmFtZSwgZmlsdGVyRm4oX3BfKSk7XG4gICAgICBzZXQgPSBzZXQucmVwbGFjZShfLnNldE5hbWUsIFxuICAgICAgICBwcmVmaXggKyBzZXRCdWZmZXIuam9pbihcIlwiKSArIFwifSkoXCIr44CAXy5zZXROYW1l44CAK1wiKVwiICk7XG5cbiAgICB9XG4gICAgLy8gdGhlIHNldCBmdW5jdGlvbiBpcyBkZXBlbmQgb24gdGhlIGZpbHRlciBkZWZpbml0aW9uLiBpZiBpdCBoYXZlIHNldCBtZXRob2QsIHRoZSBzZXQgd2lsbCB3b3JrXG4gICAgcmV0dXJuIHRoaXMuZ2V0c2V0KGdldCwgc2V0KTtcbiAgfVxuICByZXR1cm4gbGVmdDtcbn1cblxuLy8gYXNzaWduXG4vLyBsZWZ0LWhhbmQtZXhwciA9IGNvbmRpdGlvblxub3AuYXNzaWduID0gZnVuY3Rpb24oKXtcbiAgdmFyIGxlZnQgPSB0aGlzLmNvbmRpdGlvbigpLCBsbDtcbiAgaWYobGwgPSB0aGlzLmVhdChbJz0nLCAnKz0nLCAnLT0nLCAnKj0nLCAnLz0nLCAnJT0nXSkpe1xuICAgIGlmKCFsZWZ0LnNldCkgdGhpcy5lcnJvcignaW52YWxpZCBsZWZ0aGFuZCBleHByZXNzaW9uIGluIGFzc2lnbm1lbnQgZXhwcmVzc2lvbicpO1xuICAgIHJldHVybiB0aGlzLmdldHNldCggbGVmdC5zZXQucmVwbGFjZSggXCIsXCIgKyBfLnNldE5hbWUsIFwiLFwiICsgdGhpcy5jb25kaXRpb24oKS5nZXQgKS5yZXBsYWNlKFwiJz0nXCIsIFwiJ1wiK2xsLnR5cGUrXCInXCIpLCBsZWZ0LnNldCk7XG4gICAgLy8gcmV0dXJuIHRoaXMuZ2V0c2V0KCcoJyArIGxlZnQuZ2V0ICsgbGwudHlwZSAgKyB0aGlzLmNvbmRpdGlvbigpLmdldCArICcpJywgbGVmdC5zZXQpO1xuICB9XG4gIHJldHVybiBsZWZ0O1xufVxuXG4vLyBvclxuLy8gb3IgPyBhc3NpZ24gOiBhc3NpZ25cbm9wLmNvbmRpdGlvbiA9IGZ1bmN0aW9uKCl7XG5cbiAgdmFyIHRlc3QgPSB0aGlzLm9yKCk7XG4gIGlmKHRoaXMuZWF0KCc/Jykpe1xuICAgIHJldHVybiB0aGlzLmdldHNldChbdGVzdC5nZXQgKyBcIj9cIiwgXG4gICAgICB0aGlzLmFzc2lnbigpLmdldCwgXG4gICAgICB0aGlzLm1hdGNoKFwiOlwiKS50eXBlLCBcbiAgICAgIHRoaXMuYXNzaWduKCkuZ2V0XS5qb2luKFwiXCIpKTtcbiAgfVxuXG4gIHJldHVybiB0ZXN0O1xufVxuXG4vLyBhbmRcbi8vIGFuZCAmJiBvclxub3Aub3IgPSBmdW5jdGlvbigpe1xuXG4gIHZhciBsZWZ0ID0gdGhpcy5hbmQoKTtcblxuICBpZih0aGlzLmVhdCgnfHwnKSl7XG4gICAgcmV0dXJuIHRoaXMuZ2V0c2V0KGxlZnQuZ2V0ICsgJ3x8JyArIHRoaXMub3IoKS5nZXQpO1xuICB9XG5cbiAgcmV0dXJuIGxlZnQ7XG59XG4vLyBlcXVhbFxuLy8gZXF1YWwgJiYgYW5kXG5vcC5hbmQgPSBmdW5jdGlvbigpe1xuXG4gIHZhciBsZWZ0ID0gdGhpcy5lcXVhbCgpO1xuXG4gIGlmKHRoaXMuZWF0KCcmJicpKXtcbiAgICByZXR1cm4gdGhpcy5nZXRzZXQobGVmdC5nZXQgKyAnJiYnICsgdGhpcy5hbmQoKS5nZXQpO1xuICB9XG4gIHJldHVybiBsZWZ0O1xufVxuLy8gcmVsYXRpb25cbi8vIFxuLy8gZXF1YWwgPT0gcmVsYXRpb25cbi8vIGVxdWFsICE9IHJlbGF0aW9uXG4vLyBlcXVhbCA9PT0gcmVsYXRpb25cbi8vIGVxdWFsICE9PSByZWxhdGlvblxub3AuZXF1YWwgPSBmdW5jdGlvbigpe1xuICB2YXIgbGVmdCA9IHRoaXMucmVsYXRpb24oKSwgbGw7XG4gIC8vIEBwZXJmO1xuICBpZiggbGwgPSB0aGlzLmVhdChbJz09JywnIT0nLCAnPT09JywgJyE9PSddKSl7XG4gICAgcmV0dXJuIHRoaXMuZ2V0c2V0KGxlZnQuZ2V0ICsgbGwudHlwZSArIHRoaXMuZXF1YWwoKS5nZXQpO1xuICB9XG4gIHJldHVybiBsZWZ0XG59XG4vLyByZWxhdGlvbiA8IGFkZGl0aXZlXG4vLyByZWxhdGlvbiA+IGFkZGl0aXZlXG4vLyByZWxhdGlvbiA8PSBhZGRpdGl2ZVxuLy8gcmVsYXRpb24gPj0gYWRkaXRpdmVcbi8vIHJlbGF0aW9uIGluIGFkZGl0aXZlXG5vcC5yZWxhdGlvbiA9IGZ1bmN0aW9uKCl7XG4gIHZhciBsZWZ0ID0gdGhpcy5hZGRpdGl2ZSgpLCBsbDtcbiAgLy8gQHBlcmZcbiAgaWYobGwgPSAodGhpcy5lYXQoWyc8JywgJz4nLCAnPj0nLCAnPD0nXSkgfHwgdGhpcy5lYXQoJ0lERU5UJywgJ2luJykgKSl7XG4gICAgcmV0dXJuIHRoaXMuZ2V0c2V0KGxlZnQuZ2V0ICsgbGwudmFsdWUgKyB0aGlzLnJlbGF0aW9uKCkuZ2V0KTtcbiAgfVxuICByZXR1cm4gbGVmdFxufVxuLy8gYWRkaXRpdmUgOlxuLy8gbXVsdGl2ZVxuLy8gYWRkaXRpdmUgKyBtdWx0aXZlXG4vLyBhZGRpdGl2ZSAtIG11bHRpdmVcbm9wLmFkZGl0aXZlID0gZnVuY3Rpb24oKXtcbiAgdmFyIGxlZnQgPSB0aGlzLm11bHRpdmUoKSAsbGw7XG4gIGlmKGxsPSB0aGlzLmVhdChbJysnLCctJ10pICl7XG4gICAgcmV0dXJuIHRoaXMuZ2V0c2V0KGxlZnQuZ2V0ICsgbGwudmFsdWUgKyB0aGlzLmFkZGl0aXZlKCkuZ2V0KTtcbiAgfVxuICByZXR1cm4gbGVmdFxufVxuLy8gbXVsdGl2ZSA6XG4vLyB1bmFyeVxuLy8gbXVsdGl2ZSAqIHVuYXJ5XG4vLyBtdWx0aXZlIC8gdW5hcnlcbi8vIG11bHRpdmUgJSB1bmFyeVxub3AubXVsdGl2ZSA9IGZ1bmN0aW9uKCl7XG4gIHZhciBsZWZ0ID0gdGhpcy5yYW5nZSgpICxsbDtcbiAgaWYoIGxsID0gdGhpcy5lYXQoWycqJywgJy8nICwnJSddKSApe1xuICAgIHJldHVybiB0aGlzLmdldHNldChsZWZ0LmdldCArIGxsLnR5cGUgKyB0aGlzLm11bHRpdmUoKS5nZXQpO1xuICB9XG4gIHJldHVybiBsZWZ0O1xufVxuXG5vcC5yYW5nZSA9IGZ1bmN0aW9uKCl7XG4gIHZhciBsZWZ0ID0gdGhpcy51bmFyeSgpLCBsbCwgcmlnaHQ7XG5cbiAgaWYobGwgPSB0aGlzLmVhdCgnLi4nKSl7XG4gICAgcmlnaHQgPSB0aGlzLnVuYXJ5KCk7XG4gICAgdmFyIGJvZHkgPSBcbiAgICAgIFwiKGZ1bmN0aW9uKHN0YXJ0LGVuZCl7dmFyIHJlcyA9IFtdLHN0ZXA9ZW5kPnN0YXJ0PzE6LTE7IGZvcih2YXIgaSA9IHN0YXJ0OyBlbmQ+c3RhcnQ/aSA8PSBlbmQ6IGk+PWVuZDsgaT1pK3N0ZXApe3Jlcy5wdXNoKGkpOyB9IHJldHVybiByZXMgfSkoXCIrbGVmdC5nZXQrXCIsXCIrcmlnaHQuZ2V0K1wiKVwiXG4gICAgcmV0dXJuIHRoaXMuZ2V0c2V0KGJvZHkpO1xuICB9XG5cbiAgcmV0dXJuIGxlZnQ7XG59XG5cblxuXG4vLyBsZWZ0aGFuZFxuLy8gKyB1bmFyeVxuLy8gLSB1bmFyeVxuLy8gfiB1bmFyeVxuLy8gISB1bmFyeVxub3AudW5hcnkgPSBmdW5jdGlvbigpe1xuICB2YXIgbGw7XG4gIGlmKGxsID0gdGhpcy5lYXQoWycrJywnLScsJ34nLCAnISddKSl7XG4gICAgcmV0dXJuIHRoaXMuZ2V0c2V0KCcoJyArIGxsLnR5cGUgKyB0aGlzLnVuYXJ5KCkuZ2V0ICsgJyknKSA7XG4gIH1lbHNle1xuICAgIHJldHVybiB0aGlzLm1lbWJlcigpXG4gIH1cbn1cblxuLy8gY2FsbFtsZWZ0aGFuZF0gOlxuLy8gbWVtYmVyIGFyZ3Ncbi8vIG1lbWJlciBbIGV4cHJlc3Npb24gXVxuLy8gbWVtYmVyIC4gaWRlbnQgIFxuXG5vcC5tZW1iZXIgPSBmdW5jdGlvbihiYXNlLCBsYXN0LCBwYXRoZXMsIHByZXZCYXNlKXtcbiAgdmFyIGxsLCBwYXRoLCBleHRWYWx1ZTtcblxuXG4gIHZhciBvbmx5U2ltcGxlQWNjZXNzb3IgPSBmYWxzZTtcbiAgaWYoIWJhc2UpeyAvL2ZpcnN0XG4gICAgcGF0aCA9IHRoaXMucHJpbWFyeSgpO1xuICAgIHZhciB0eXBlID0gdHlwZW9mIHBhdGg7XG4gICAgaWYodHlwZSA9PT0gJ3N0cmluZycpeyBcbiAgICAgIHBhdGhlcyA9IFtdO1xuICAgICAgcGF0aGVzLnB1c2goIHBhdGggKTtcbiAgICAgIGxhc3QgPSBwYXRoO1xuICAgICAgZXh0VmFsdWUgPSBleHROYW1lICsgXCIuXCIgKyBwYXRoXG4gICAgICBiYXNlID0gY3R4TmFtZSArIFwiLl9zZ18oJ1wiICsgcGF0aCArIFwiJywgXCIgKyB2YXJOYW1lICsgXCIsIFwiICsgZXh0TmFtZSArIFwiKVwiO1xuICAgICAgb25seVNpbXBsZUFjY2Vzc29yID0gdHJ1ZTtcbiAgICB9ZWxzZXsgLy9QcmltYXRpdmUgVHlwZVxuICAgICAgaWYocGF0aC5nZXQgPT09ICd0aGlzJyl7XG4gICAgICAgIGJhc2UgPSBjdHhOYW1lO1xuICAgICAgICBwYXRoZXMgPSBbJ3RoaXMnXTtcbiAgICAgIH1lbHNle1xuICAgICAgICBwYXRoZXMgPSBudWxsO1xuICAgICAgICBiYXNlID0gcGF0aC5nZXQ7XG4gICAgICB9XG4gICAgfVxuICB9ZWxzZXsgLy8gbm90IGZpcnN0IGVudGVyXG4gICAgaWYodHlwZW9mIGxhc3QgPT09ICdzdHJpbmcnICYmIGlzUGF0aCggbGFzdCkgKXsgLy8gaXMgdmFsaWQgcGF0aFxuICAgICAgcGF0aGVzLnB1c2gobGFzdCk7XG4gICAgfWVsc2V7XG4gICAgICBpZihwYXRoZXMgJiYgcGF0aGVzLmxlbmd0aCkgdGhpcy5kZXBlbmQucHVzaChwYXRoZXMpO1xuICAgICAgcGF0aGVzID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgaWYobGwgPSB0aGlzLmVhdChbJ1snLCAnLicsICcoJ10pKXtcbiAgICBzd2l0Y2gobGwudHlwZSl7XG4gICAgICBjYXNlICcuJzpcbiAgICAgICAgICAvLyBtZW1iZXIob2JqZWN0LCBwcm9wZXJ0eSwgY29tcHV0ZWQpXG4gICAgICAgIHZhciB0bXBOYW1lID0gdGhpcy5tYXRjaCgnSURFTlQnKS52YWx1ZTtcbiAgICAgICAgcHJldkJhc2UgPSBiYXNlO1xuICAgICAgICBpZiggdGhpcy5sYSgpICE9PSBcIihcIiApeyBcbiAgICAgICAgICBiYXNlID0gY3R4TmFtZSArIFwiLl9zZ18oJ1wiICsgdG1wTmFtZSArIFwiJywgXCIgKyBiYXNlICsgXCIpXCI7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGJhc2UgKz0gXCJbJ1wiICsgdG1wTmFtZSArIFwiJ11cIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5tZW1iZXIoIGJhc2UsIHRtcE5hbWUsIHBhdGhlcywgIHByZXZCYXNlKTtcbiAgICAgIGNhc2UgJ1snOlxuICAgICAgICAgIC8vIG1lbWJlcihvYmplY3QsIHByb3BlcnR5LCBjb21wdXRlZClcbiAgICAgICAgcGF0aCA9IHRoaXMuYXNzaWduKCk7XG4gICAgICAgIHByZXZCYXNlID0gYmFzZTtcbiAgICAgICAgaWYoIHRoaXMubGEoKSAhPT0gXCIoXCIgKXsgXG4gICAgICAgIC8vIG1lYW5zIGZ1bmN0aW9uIGNhbGwsIHdlIG5lZWQgdGhyb3cgdW5kZWZpbmVkIGVycm9yIHdoZW4gY2FsbCBmdW5jdGlvblxuICAgICAgICAvLyBhbmQgY29uZmlybSB0aGF0IHRoZSBmdW5jdGlvbiBjYWxsIHdvbnQgbG9zZSBpdHMgY29udGV4dFxuICAgICAgICAgIGJhc2UgPSBjdHhOYW1lICsgXCIuX3NnXyhcIiArIHBhdGguZ2V0ICsgXCIsIFwiICsgYmFzZSArIFwiKVwiO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBiYXNlICs9IFwiW1wiICsgcGF0aC5nZXQgKyBcIl1cIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1hdGNoKCddJylcbiAgICAgICAgcmV0dXJuIHRoaXMubWVtYmVyKGJhc2UsIHBhdGgsIHBhdGhlcywgcHJldkJhc2UpO1xuICAgICAgY2FzZSAnKCc6XG4gICAgICAgIC8vIGNhbGwoY2FsbGVlLCBhcmdzKVxuICAgICAgICB2YXIgYXJncyA9IHRoaXMuYXJndW1lbnRzKCkuam9pbignLCcpO1xuICAgICAgICBiYXNlID0gIGJhc2UrXCIoXCIgKyBhcmdzICtcIilcIjtcbiAgICAgICAgdGhpcy5tYXRjaCgnKScpXG4gICAgICAgIHJldHVybiB0aGlzLm1lbWJlcihiYXNlLCBudWxsLCBwYXRoZXMpO1xuICAgIH1cbiAgfVxuICBpZiggcGF0aGVzICYmIHBhdGhlcy5sZW5ndGggKSB0aGlzLmRlcGVuZC5wdXNoKCBwYXRoZXMgKTtcbiAgdmFyIHJlcyA9ICB7Z2V0OiBiYXNlfTtcbiAgaWYobGFzdCl7XG4gICAgcmVzLnNldCA9IGN0eE5hbWUgKyBcIi5fc3NfKFwiICsgXG4gICAgICAgIChsYXN0LmdldD8gbGFzdC5nZXQgOiBcIidcIisgbGFzdCArIFwiJ1wiKSArIFxuICAgICAgICBcIixcIisgXy5zZXROYW1lICsgXCIsXCIrIFxuICAgICAgICAocHJldkJhc2U/cHJldkJhc2U6Xy52YXJOYW1lKSArIFxuICAgICAgICBcIiwgJz0nLCBcIisgKCBvbmx5U2ltcGxlQWNjZXNzb3I/IDEgOiAwICkgKyBcIilcIjtcbiAgXG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuLyoqXG4gKiBcbiAqL1xub3AuYXJndW1lbnRzID0gZnVuY3Rpb24oZW5kKXtcbiAgZW5kID0gZW5kIHx8ICcpJ1xuICB2YXIgYXJncyA9IFtdO1xuICBkb3tcbiAgICBpZih0aGlzLmxhKCkgIT09IGVuZCl7XG4gICAgICBhcmdzLnB1c2godGhpcy5hc3NpZ24oKS5nZXQpXG4gICAgfVxuICB9d2hpbGUoIHRoaXMuZWF0KCcsJykpO1xuICByZXR1cm4gYXJnc1xufVxuXG5cbi8vIHByaW1hcnkgOlxuLy8gdGhpcyBcbi8vIGlkZW50XG4vLyBsaXRlcmFsXG4vLyBhcnJheVxuLy8gb2JqZWN0XG4vLyAoIGV4cHJlc3Npb24gKVxuXG5vcC5wcmltYXJ5ID0gZnVuY3Rpb24oKXtcbiAgdmFyIGxsID0gdGhpcy5sbCgpO1xuICBzd2l0Y2gobGwudHlwZSl7XG4gICAgY2FzZSBcIntcIjpcbiAgICAgIHJldHVybiB0aGlzLm9iamVjdCgpO1xuICAgIGNhc2UgXCJbXCI6XG4gICAgICByZXR1cm4gdGhpcy5hcnJheSgpO1xuICAgIGNhc2UgXCIoXCI6XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbigpO1xuICAgIC8vIGxpdGVyYWwgb3IgaWRlbnRcbiAgICBjYXNlICdTVFJJTkcnOlxuICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICByZXR1cm4gdGhpcy5nZXRzZXQoXCInXCIgKyBsbC52YWx1ZSArIFwiJ1wiKVxuICAgIGNhc2UgJ05VTUJFUic6XG4gICAgICB0aGlzLm5leHQoKTtcbiAgICAgIHJldHVybiB0aGlzLmdldHNldChcIlwiK2xsLnZhbHVlKTtcbiAgICBjYXNlIFwiSURFTlRcIjpcbiAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgaWYoaXNLZXlXb3JkKGxsLnZhbHVlKSl7XG4gICAgICAgIHJldHVybiB0aGlzLmdldHNldCggbGwudmFsdWUgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsbC52YWx1ZTtcbiAgICBkZWZhdWx0OiBcbiAgICAgIHRoaXMuZXJyb3IoJ1VuZXhwZWN0ZWQgVG9rZW46ICcgKyBsbC50eXBlKTtcbiAgfVxufVxuXG4vLyBvYmplY3Rcbi8vICB7cHJvcEFzc2lnbiBbLCBwcm9wQXNzaWduXSAqIFssXX1cblxuLy8gcHJvcEFzc2lnblxuLy8gIHByb3AgOiBhc3NpZ25cblxuLy8gcHJvcFxuLy8gIFNUUklOR1xuLy8gIElERU5UXG4vLyAgTlVNQkVSXG5cbm9wLm9iamVjdCA9IGZ1bmN0aW9uKCl7XG4gIHZhciBjb2RlID0gW3RoaXMubWF0Y2goJ3snKS50eXBlXTtcblxuICB2YXIgbGwgPSB0aGlzLmVhdCggWydTVFJJTkcnLCAnSURFTlQnLCAnTlVNQkVSJ10gKTtcbiAgd2hpbGUobGwpe1xuICAgIGNvZGUucHVzaChcIidcIiArIGxsLnZhbHVlICsgXCInXCIgKyB0aGlzLm1hdGNoKCc6JykudHlwZSk7XG4gICAgdmFyIGdldCA9IHRoaXMuYXNzaWduKCkuZ2V0O1xuICAgIGNvZGUucHVzaChnZXQpO1xuICAgIGxsID0gbnVsbDtcbiAgICBpZih0aGlzLmVhdChcIixcIikgJiYgKGxsID0gdGhpcy5lYXQoWydTVFJJTkcnLCAnSURFTlQnLCAnTlVNQkVSJ10pKSApIGNvZGUucHVzaChcIixcIik7XG4gIH1cbiAgY29kZS5wdXNoKHRoaXMubWF0Y2goJ30nKS50eXBlKTtcbiAgcmV0dXJuIHtnZXQ6IGNvZGUuam9pbihcIlwiKX1cbn1cblxuLy8gYXJyYXlcbi8vIFsgYXNzaWduWyxhc3NpZ25dKl1cbm9wLmFycmF5ID0gZnVuY3Rpb24oKXtcbiAgdmFyIGNvZGUgPSBbdGhpcy5tYXRjaCgnWycpLnR5cGVdLCBpdGVtO1xuICBpZiggdGhpcy5lYXQoXCJdXCIpICl7XG5cbiAgICAgY29kZS5wdXNoKFwiXVwiKTtcbiAgfSBlbHNlIHtcbiAgICB3aGlsZShpdGVtID0gdGhpcy5hc3NpZ24oKSl7XG4gICAgICBjb2RlLnB1c2goaXRlbS5nZXQpO1xuICAgICAgaWYodGhpcy5lYXQoJywnKSkgY29kZS5wdXNoKFwiLFwiKTtcbiAgICAgIGVsc2UgYnJlYWs7XG4gICAgfVxuICAgIGNvZGUucHVzaCh0aGlzLm1hdGNoKCddJykudHlwZSk7XG4gIH1cbiAgcmV0dXJuIHtnZXQ6IGNvZGUuam9pbihcIlwiKX07XG59XG5cbi8vICcoJyBleHByZXNzaW9uICcpJ1xub3AucGFyZW4gPSBmdW5jdGlvbigpe1xuICB0aGlzLm1hdGNoKCcoJyk7XG4gIHZhciByZXMgPSB0aGlzLmZpbHRlcigpXG4gIHJlcy5nZXQgPSAnKCcgKyByZXMuZ2V0ICsgJyknO1xuICB0aGlzLm1hdGNoKCcpJyk7XG4gIHJldHVybiByZXM7XG59XG5cbm9wLmdldHNldCA9IGZ1bmN0aW9uKGdldCwgc2V0KXtcbiAgcmV0dXJuIHtcbiAgICBnZXQ6IGdldCxcbiAgICBzZXQ6IHNldFxuICB9XG59XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IFBhcnNlcjtcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBlbGVtZW50OiBmdW5jdGlvbihuYW1lLCBhdHRycywgY2hpbGRyZW4pe1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnZWxlbWVudCcsXG4gICAgICB0YWc6IG5hbWUsXG4gICAgICBhdHRyczogYXR0cnMsXG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICB9XG4gIH0sXG4gIGF0dHJpYnV0ZTogZnVuY3Rpb24obmFtZSwgdmFsdWUsIG1kZil7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdhdHRyaWJ1dGUnLFxuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIG1kZjogbWRmXG4gICAgfVxuICB9LFxuICBcImlmXCI6IGZ1bmN0aW9uKHRlc3QsIGNvbnNlcXVlbnQsIGFsdGVybmF0ZSl7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdpZicsXG4gICAgICB0ZXN0OiB0ZXN0LFxuICAgICAgY29uc2VxdWVudDogY29uc2VxdWVudCxcbiAgICAgIGFsdGVybmF0ZTogYWx0ZXJuYXRlXG4gICAgfVxuICB9LFxuICBsaXN0OiBmdW5jdGlvbihzZXF1ZW5jZSwgdmFyaWFibGUsIGJvZHksIGFsdGVybmF0ZSwgdHJhY2spe1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnbGlzdCcsXG4gICAgICBzZXF1ZW5jZTogc2VxdWVuY2UsXG4gICAgICBhbHRlcm5hdGU6IGFsdGVybmF0ZSxcbiAgICAgIHZhcmlhYmxlOiB2YXJpYWJsZSxcbiAgICAgIGJvZHk6IGJvZHksXG4gICAgICB0cmFjazogdHJhY2tcbiAgICB9XG4gIH0sXG4gIGV4cHJlc3Npb246IGZ1bmN0aW9uKCBib2R5LCBzZXRib2R5LCBjb25zdGFudCApe1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImV4cHJlc3Npb25cIixcbiAgICAgIGJvZHk6IGJvZHksXG4gICAgICBjb25zdGFudDogY29uc3RhbnQgfHwgZmFsc2UsXG4gICAgICBzZXRib2R5OiBzZXRib2R5IHx8IGZhbHNlXG4gICAgfVxuICB9LFxuICB0ZXh0OiBmdW5jdGlvbih0ZXh0KXtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICB0ZXh0OiB0ZXh0XG4gICAgfVxuICB9LFxuICB0ZW1wbGF0ZTogZnVuY3Rpb24odGVtcGxhdGUpe1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAndGVtcGxhdGUnLFxuICAgICAgY29udGVudDogdGVtcGxhdGVcbiAgICB9XG4gIH1cbn1cbiIsIihmdW5jdGlvbiAoZ2xvYmFsKXtcbnJlcXVpcmUoJy4vaGVscGVyL3NoaW0uanMnKSgpO1xudmFyIF8gID0gbW9kdWxlLmV4cG9ydHM7XG52YXIgZW50aXRpZXMgPSByZXF1aXJlKCcuL2hlbHBlci9lbnRpdGllcy5qcycpO1xudmFyIHNsaWNlID0gW10uc2xpY2U7XG52YXIgbzJzdHIgPSAoe30pLnRvU3RyaW5nO1xudmFyIHdpbiA9IHR5cGVvZiB3aW5kb3cgIT09J3VuZGVmaW5lZCc/IHdpbmRvdzogZ2xvYmFsO1xuXG5cbl8ubm9vcCA9IGZ1bmN0aW9uKCl7fTtcbl8udWlkID0gKGZ1bmN0aW9uKCl7XG4gIHZhciBfdWlkPTA7XG4gIHJldHVybiBmdW5jdGlvbigpe1xuICAgIHJldHVybiBfdWlkKys7XG4gIH1cbn0pKCk7XG5cbl8uZXh0ZW5kID0gZnVuY3Rpb24oIG8xLCBvMiwgb3ZlcnJpZGUgKXtcbiAgLy8gaWYoXy50eXBlT2Yob3ZlcnJpZGUpID09PSAnYXJyYXknKXtcbiAgLy8gIGZvcih2YXIgaSA9IDAsIGxlbiA9IG92ZXJyaWRlLmxlbmd0aDsgaSA8IGxlbjsgaSsrICl7XG4gIC8vICAgdmFyIGtleSA9IG92ZXJyaWRlW2ldO1xuICAvLyAgIG8xW2tleV0gPSBvMltrZXldO1xuICAvLyAgfSBcbiAgLy8gfWVsc2V7XG4gIGZvcih2YXIgaSBpbiBvMil7XG4gICAgaWYoIHR5cGVvZiBvMVtpXSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvdmVycmlkZSA9PT0gdHJ1ZSApe1xuICAgICAgbzFbaV0gPSBvMltpXVxuICAgIH1cbiAgfVxuICAvLyB9XG4gIHJldHVybiBvMTtcbn1cblxuXy5rZXlzID0gZnVuY3Rpb24ob2JqKXtcbiAgaWYoT2JqZWN0LmtleXMpIHJldHVybiBPYmplY3Qua2V5cyhvYmopO1xuICB2YXIgcmVzID0gW107XG4gIGZvcih2YXIgaSBpbiBvYmopIGlmKG9iai5oYXNPd25Qcm9wZXJ0eShpKSl7XG4gICAgcmVzLnB1c2goaSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuXy52YXJOYW1lID0gJ2QnO1xuXy5zZXROYW1lID0gJ3BfJztcbl8uY3R4TmFtZSA9ICdjJztcbl8uZXh0TmFtZSA9ICdlJztcblxuXy5yV29yZCA9IC9eW1xcJFxcd10rJC87XG5fLnJTaW1wbGVBY2Nlc3NvciA9IC9eW1xcJFxcd10rKFxcLltcXCRcXHddKykqJC87XG5cbl8ubmV4dFRpY2sgPSB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nPyBcbiAgc2V0SW1tZWRpYXRlLmJpbmQod2luKSA6IFxuICBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIDApIFxuICB9XG5cblxuXG5fLnByZWZpeCA9IFwidmFyIFwiICsgXy52YXJOYW1lICsgXCI9XCIgKyBfLmN0eE5hbWUgKyBcIi5kYXRhO1wiICsgIF8uZXh0TmFtZSAgKyBcIj1cIiArIF8uZXh0TmFtZSArIFwifHwnJztcIjtcblxuXG5fLnNsaWNlID0gZnVuY3Rpb24ob2JqLCBzdGFydCwgZW5kKXtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IodmFyIGkgPSBzdGFydCB8fCAwLCBsZW4gPSBlbmQgfHwgb2JqLmxlbmd0aDsgaSA8IGxlbjsgaSsrKXtcbiAgICB2YXIgaXRlbSA9IG9ialtpXTtcbiAgICByZXMucHVzaChpdGVtKVxuICB9XG4gIHJldHVybiByZXM7XG59XG5cbl8udHlwZU9mID0gZnVuY3Rpb24gKG8pIHtcbiAgcmV0dXJuIG8gPT0gbnVsbCA/IFN0cmluZyhvKSA6bzJzdHIuY2FsbChvKS5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKTtcbn1cblxuXG5fLm1ha2VQcmVkaWNhdGUgPSBmdW5jdGlvbiBtYWtlUHJlZGljYXRlKHdvcmRzLCBwcmVmaXgpIHtcbiAgICBpZiAodHlwZW9mIHdvcmRzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHdvcmRzID0gd29yZHMuc3BsaXQoXCIgXCIpO1xuICAgIH1cbiAgICB2YXIgZiA9IFwiXCIsXG4gICAgY2F0cyA9IFtdO1xuICAgIG91dDogZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7ICsraSkge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNhdHMubGVuZ3RoOyArK2ope1xuICAgICAgICAgIGlmIChjYXRzW2pdWzBdLmxlbmd0aCA9PT0gd29yZHNbaV0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGNhdHNbal0ucHVzaCh3b3Jkc1tpXSk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0cy5wdXNoKFt3b3Jkc1tpXV0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wYXJlVG8oYXJyKSB7XG4gICAgICAgIGlmIChhcnIubGVuZ3RoID09PSAxKSByZXR1cm4gZiArPSBcInJldHVybiBzdHIgPT09ICdcIiArIGFyclswXSArIFwiJztcIjtcbiAgICAgICAgZiArPSBcInN3aXRjaChzdHIpe1wiO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSl7XG4gICAgICAgICAgIGYgKz0gXCJjYXNlICdcIiArIGFycltpXSArIFwiJzpcIjtcbiAgICAgICAgfVxuICAgICAgICBmICs9IFwicmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlO1wiO1xuICAgIH1cblxuICAgIC8vIFdoZW4gdGhlcmUgYXJlIG1vcmUgdGhhbiB0aHJlZSBsZW5ndGggY2F0ZWdvcmllcywgYW4gb3V0ZXJcbiAgICAvLyBzd2l0Y2ggZmlyc3QgZGlzcGF0Y2hlcyBvbiB0aGUgbGVuZ3RocywgdG8gc2F2ZSBvbiBjb21wYXJpc29ucy5cbiAgICBpZiAoY2F0cy5sZW5ndGggPiAzKSB7XG4gICAgICAgIGNhdHMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICAgICAgfSk7XG4gICAgICAgIGYgKz0gXCJzd2l0Y2goc3RyLmxlbmd0aCl7XCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2F0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGNhdCA9IGNhdHNbaV07XG4gICAgICAgICAgICBmICs9IFwiY2FzZSBcIiArIGNhdFswXS5sZW5ndGggKyBcIjpcIjtcbiAgICAgICAgICAgIGNvbXBhcmVUbyhjYXQpO1xuICAgICAgICB9XG4gICAgICAgIGYgKz0gXCJ9XCI7XG5cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBzaW1wbHkgZ2VuZXJhdGUgYSBmbGF0IGBzd2l0Y2hgIHN0YXRlbWVudC5cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb21wYXJlVG8od29yZHMpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwic3RyXCIsIGYpO1xufVxuXG5cbl8udHJhY2tFcnJvclBvcyA9IChmdW5jdGlvbiAoKXtcbiAgLy8gbGluZWJyZWFrXG4gIHZhciBsYiA9IC9cXHJcXG58W1xcblxcclxcdTIwMjhcXHUyMDI5XS9nO1xuICB2YXIgbWluUmFuZ2UgPSAyMCwgbWF4UmFuZ2UgPSAyMDtcbiAgZnVuY3Rpb24gZmluZExpbmUobGluZXMsIHBvcyl7XG4gICAgdmFyIHRtcExlbiA9IDA7XG4gICAgZm9yKHZhciBpID0gMCxsZW4gPSBsaW5lcy5sZW5ndGg7IGkgPCBsZW47IGkrKyl7XG4gICAgICB2YXIgbGluZUxlbiA9IChsaW5lc1tpXSB8fCBcIlwiKS5sZW5ndGg7XG5cbiAgICAgIGlmKHRtcExlbiArIGxpbmVMZW4gPiBwb3MpIHtcbiAgICAgICAgcmV0dXJuIHtudW06IGksIGxpbmU6IGxpbmVzW2ldLCBzdGFydDogcG9zIC0gaSAtIHRtcExlbiAsIHByZXY6bGluZXNbaS0xXSwgbmV4dDogbGluZXNbaSsxXSB9O1xuICAgICAgfVxuICAgICAgLy8gMSBpcyBmb3IgdGhlIGxpbmVicmVha1xuICAgICAgdG1wTGVuID0gdG1wTGVuICsgbGluZUxlbiA7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGZvcm1hdExpbmUoc3RyLCAgc3RhcnQsIG51bSwgdGFyZ2V0KXtcbiAgICB2YXIgbGVuID0gc3RyLmxlbmd0aDtcbiAgICB2YXIgbWluID0gc3RhcnQgLSBtaW5SYW5nZTtcbiAgICBpZihtaW4gPCAwKSBtaW4gPSAwO1xuICAgIHZhciBtYXggPSBzdGFydCArIG1heFJhbmdlO1xuICAgIGlmKG1heCA+IGxlbikgbWF4ID0gbGVuO1xuXG4gICAgdmFyIHJlbWFpbiA9IHN0ci5zbGljZShtaW4sIG1heCk7XG4gICAgdmFyIHByZWZpeCA9IFwiW1wiICsobnVtKzEpICsgXCJdIFwiICsgKG1pbiA+IDA/IFwiLi5cIiA6IFwiXCIpXG4gICAgdmFyIHBvc3RmaXggPSBtYXggPCBsZW4gPyBcIi4uXCI6IFwiXCI7XG4gICAgdmFyIHJlcyA9IHByZWZpeCArIHJlbWFpbiArIHBvc3RmaXg7XG4gICAgaWYodGFyZ2V0KSByZXMgKz0gXCJcXG5cIiArIG5ldyBBcnJheShzdGFydC1taW4gKyBwcmVmaXgubGVuZ3RoICsgMSkuam9pbihcIiBcIikgKyBcIl5eXlwiO1xuICAgIHJldHVybiByZXM7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LCBwb3Mpe1xuICAgIGlmKHBvcyA+IGlucHV0Lmxlbmd0aC0xKSBwb3MgPSBpbnB1dC5sZW5ndGgtMTtcbiAgICBsYi5sYXN0SW5kZXggPSAwO1xuICAgIHZhciBsaW5lcyA9IGlucHV0LnNwbGl0KGxiKTtcbiAgICB2YXIgbGluZSA9IGZpbmRMaW5lKGxpbmVzLHBvcyk7XG4gICAgdmFyIHN0YXJ0ID0gbGluZS5zdGFydCwgbnVtID0gbGluZS5udW07XG5cbiAgICByZXR1cm4gKGxpbmUucHJldj8gZm9ybWF0TGluZShsaW5lLnByZXYsIHN0YXJ0LCBudW0tMSApICsgJ1xcbic6ICcnICkgKyBcbiAgICAgIGZvcm1hdExpbmUobGluZS5saW5lLCBzdGFydCwgbnVtLCB0cnVlKSArICdcXG4nICsgXG4gICAgICAobGluZS5uZXh0PyBmb3JtYXRMaW5lKGxpbmUubmV4dCwgc3RhcnQsIG51bSsxICkgKyAnXFxuJzogJycgKTtcblxuICB9XG59KSgpO1xuXG5cbnZhciBpZ25vcmVkUmVmID0gL1xcKChcXD9cXCF8XFw/XFw6fFxcP1xcPSkvZztcbl8uZmluZFN1YkNhcHR1cmUgPSBmdW5jdGlvbiAocmVnU3RyKSB7XG4gIHZhciBsZWZ0ID0gMCxcbiAgICByaWdodCA9IDAsXG4gICAgbGVuID0gcmVnU3RyLmxlbmd0aCxcbiAgICBpZ25vcmVkID0gcmVnU3RyLm1hdGNoKGlnbm9yZWRSZWYpOyAvLyBpZ25vcmVkIHVuY2FwdHVyZVxuICBpZihpZ25vcmVkKSBpZ25vcmVkID0gaWdub3JlZC5sZW5ndGhcbiAgZWxzZSBpZ25vcmVkID0gMDtcbiAgZm9yICg7IGxlbi0tOykge1xuICAgIHZhciBsZXR0ZXIgPSByZWdTdHIuY2hhckF0KGxlbik7XG4gICAgaWYgKGxlbiA9PT0gMCB8fCByZWdTdHIuY2hhckF0KGxlbiAtIDEpICE9PSBcIlxcXFxcIiApIHsgXG4gICAgICBpZiAobGV0dGVyID09PSBcIihcIikgbGVmdCsrO1xuICAgICAgaWYgKGxldHRlciA9PT0gXCIpXCIpIHJpZ2h0Kys7XG4gICAgfVxuICB9XG4gIGlmIChsZWZ0ICE9PSByaWdodCkgdGhyb3cgXCJSZWdFeHA6IFwiKyByZWdTdHIgKyBcIidzIGJyYWNrZXQgaXMgbm90IG1hcmNoZWRcIjtcbiAgZWxzZSByZXR1cm4gbGVmdCAtIGlnbm9yZWQ7XG59O1xuXG5cbl8uZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24oIHN0cil7Ly8gQ3JlZGl0OiBYUmVnRXhwIDAuNi4xIChjKSAyMDA3LTIwMDggU3RldmVuIExldml0aGFuIDxodHRwOi8vc3RldmVubGV2aXRoYW4uY29tL3JlZ2V4L3hyZWdleHAvPiBNSVQgTGljZW5zZVxuICByZXR1cm4gc3RyLnJlcGxhY2UoL1stW1xcXXt9KCkqKz8uXFxcXF4kfCwjXFxzXS9nLCBmdW5jdGlvbihtYXRjaCl7XG4gICAgcmV0dXJuICdcXFxcJyArIG1hdGNoO1xuICB9KTtcbn07XG5cblxudmFyIHJFbnRpdHkgPSBuZXcgUmVnRXhwKFwiJihcIiArIF8ua2V5cyhlbnRpdGllcykuam9pbignfCcpICsgJyk7JywgJ2dpJyk7XG5cbl8uY29udmVydEVudGl0eSA9IGZ1bmN0aW9uKGNocil7XG5cbiAgcmV0dXJuIChcIlwiICsgY2hyKS5yZXBsYWNlKHJFbnRpdHksIGZ1bmN0aW9uKGFsbCwgY2FwdHVyZSl7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoZW50aXRpZXNbY2FwdHVyZV0pXG4gIH0pO1xuXG59XG5cblxuLy8gc2ltcGxlIGdldCBhY2Nlc3NvclxuXG5fLmNyZWF0ZU9iamVjdCA9IGZ1bmN0aW9uKG8sIHByb3BzKXtcbiAgICBmdW5jdGlvbiBGb28oKSB7fVxuICAgIEZvby5wcm90b3R5cGUgPSBvO1xuICAgIHZhciByZXMgPSBuZXcgRm9vO1xuICAgIGlmKHByb3BzKSBfLmV4dGVuZChyZXMsIHByb3BzKTtcbiAgICByZXR1cm4gcmVzO1xufVxuXG5fLmNyZWF0ZVByb3RvID0gZnVuY3Rpb24oZm4sIG8pe1xuICAgIGZ1bmN0aW9uIEZvbygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGZuO31cbiAgICBGb28ucHJvdG90eXBlID0gbztcbiAgICByZXR1cm4gKGZuLnByb3RvdHlwZSA9IG5ldyBGb28oKSk7XG59XG5cblxuXG4vKipcbmNsb25lXG4qL1xuXy5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKG9iail7XG4gICAgdmFyIHR5cGUgPSBfLnR5cGVPZihvYmopO1xuICAgIGlmKHR5cGUgPT09ICdhcnJheScpe1xuICAgICAgdmFyIGNsb25lZCA9IFtdO1xuICAgICAgZm9yKHZhciBpPTAsbGVuID0gb2JqLmxlbmd0aDsgaTwgbGVuO2krKyl7XG4gICAgICAgIGNsb25lZFtpXSA9IG9ialtpXVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICB9XG4gICAgaWYodHlwZSA9PT0gJ29iamVjdCcpe1xuICAgICAgdmFyIGNsb25lZCA9IHt9O1xuICAgICAgZm9yKHZhciBpIGluIG9iaikgaWYob2JqLmhhc093blByb3BlcnR5KGkpKXtcbiAgICAgICAgY2xvbmVkW2ldID0gb2JqW2ldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG5fLmVxdWFscyA9IGZ1bmN0aW9uKG5vdywgb2xkKXtcbiAgdmFyIHR5cGUgPSB0eXBlb2Ygbm93O1xuICBpZih0eXBlID09PSAnbnVtYmVyJyAmJiB0eXBlb2Ygb2xkID09PSAnbnVtYmVyJyYmIGlzTmFOKG5vdykgJiYgaXNOYU4ob2xkKSkgcmV0dXJuIHRydWVcbiAgcmV0dXJuIG5vdyA9PT0gb2xkO1xufVxuXG52YXIgZGFzaCA9IC8tKFthLXpdKS9nO1xuXy5jYW1lbENhc2UgPSBmdW5jdGlvbihzdHIpe1xuICByZXR1cm4gc3RyLnJlcGxhY2UoZGFzaCwgZnVuY3Rpb24oYWxsLCBjYXB0dXJlKXtcbiAgICByZXR1cm4gY2FwdHVyZS50b1VwcGVyQ2FzZSgpO1xuICB9KVxufVxuXG5cblxuXy50aHJvdHRsZSA9IGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQpe1xuICB2YXIgd2FpdCA9IHdhaXQgfHwgMTAwO1xuICB2YXIgY29udGV4dCwgYXJncywgcmVzdWx0O1xuICB2YXIgdGltZW91dCA9IG51bGw7XG4gIHZhciBwcmV2aW91cyA9IDA7XG4gIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHByZXZpb3VzID0gK25ldyBEYXRlO1xuICAgIHRpbWVvdXQgPSBudWxsO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICB9O1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5vdyA9ICsgbmV3IERhdGU7XG4gICAgdmFyIHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgIGNvbnRleHQgPSB0aGlzO1xuICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+IHdhaXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgIH0gZWxzZSBpZiAoIXRpbWVvdXQpIHtcbiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCByZW1haW5pbmcpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufTtcblxuLy8gaG9nYW4gZXNjYXBlXG4vLyA9PT09PT09PT09PT09PVxuXy5lc2NhcGUgPSAoZnVuY3Rpb24oKXtcbiAgdmFyIHJBbXAgPSAvJi9nLFxuICAgICAgckx0ID0gLzwvZyxcbiAgICAgIHJHdCA9IC8+L2csXG4gICAgICByQXBvcyA9IC9cXCcvZyxcbiAgICAgIHJRdW90ID0gL1xcXCIvZyxcbiAgICAgIGhDaGFycyA9IC9bJjw+XFxcIlxcJ10vO1xuXG4gIHJldHVybiBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gaENoYXJzLnRlc3Qoc3RyKSA/XG4gICAgICBzdHJcbiAgICAgICAgLnJlcGxhY2UockFtcCwgJyZhbXA7JylcbiAgICAgICAgLnJlcGxhY2Uockx0LCAnJmx0OycpXG4gICAgICAgIC5yZXBsYWNlKHJHdCwgJyZndDsnKVxuICAgICAgICAucmVwbGFjZShyQXBvcywgJyYjMzk7JylcbiAgICAgICAgLnJlcGxhY2UoclF1b3QsICcmcXVvdDsnKSA6XG4gICAgICBzdHI7XG4gIH1cbn0pKCk7XG5cbl8uY2FjaGUgPSBmdW5jdGlvbihtYXgpe1xuICBtYXggPSBtYXggfHwgMTAwMDtcbiAgdmFyIGtleXMgPSBbXSxcbiAgICAgIGNhY2hlID0ge307XG4gIHJldHVybiB7XG4gICAgc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoa2V5cy5sZW5ndGggPiB0aGlzLm1heCkge1xuICAgICAgICBjYWNoZVtrZXlzLnNoaWZ0KCldID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgLy8gXG4gICAgICBpZihjYWNoZVtrZXldID09PSB1bmRlZmluZWQpe1xuICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICAgIGNhY2hlW2tleV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHJldHVybiBjYWNoZTtcbiAgICAgIHJldHVybiBjYWNoZVtrZXldO1xuICAgIH0sXG4gICAgbWF4OiBtYXgsXG4gICAgbGVuOmZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4ga2V5cy5sZW5ndGg7XG4gICAgfVxuICB9O1xufVxuXG4vLyAvLyBzZXR1cCB0aGUgcmF3IEV4cHJlc3Npb25cbi8vIF8udG91Y2hFeHByZXNzaW9uID0gZnVuY3Rpb24oZXhwcil7XG4vLyAgIGlmKGV4cHIudHlwZSA9PT0gJ2V4cHJlc3Npb24nKXtcbi8vICAgfVxuLy8gICByZXR1cm4gZXhwcjtcbi8vIH1cblxuXG4vLyBoYW5kbGUgdGhlIHNhbWUgbG9naWMgb24gY29tcG9uZW50J3MgYG9uLSpgIGFuZCBlbGVtZW50J3MgYG9uLSpgXG4vLyByZXR1cm4gdGhlIGZpcmUgb2JqZWN0XG5fLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24odmFsdWUsIHR5cGUgKXtcbiAgdmFyIHNlbGYgPSB0aGlzLCBldmFsdWF0ZTtcbiAgaWYodmFsdWUudHlwZSA9PT0gJ2V4cHJlc3Npb24nKXsgLy8gaWYgaXMgZXhwcmVzc2lvbiwgZ28gZXZhbHVhdGVkIHdheVxuICAgIGV2YWx1YXRlID0gdmFsdWUuZ2V0O1xuICB9XG4gIGlmKGV2YWx1YXRlKXtcbiAgICByZXR1cm4gZnVuY3Rpb24gZmlyZShvYmope1xuICAgICAgc2VsZi5kYXRhLiRldmVudCA9IG9iajtcbiAgICAgIHZhciByZXMgPSBldmFsdWF0ZShzZWxmKTtcbiAgICAgIGlmKHJlcyA9PT0gZmFsc2UgJiYgb2JqICYmIG9iai5wcmV2ZW50RGVmYXVsdCkgb2JqLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzZWxmLmRhdGEuJGV2ZW50ID0gdW5kZWZpbmVkO1xuICAgICAgc2VsZi4kdXBkYXRlKCk7XG4gICAgfVxuICB9ZWxzZXtcbiAgICByZXR1cm4gZnVuY3Rpb24gZmlyZSgpe1xuICAgICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cykgICAgICBcbiAgICAgIGFyZ3MudW5zaGlmdCh2YWx1ZSk7XG4gICAgICBzZWxmLiRlbWl0LmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgc2VsZi4kdXBkYXRlKCk7XG4gICAgfVxuICB9XG59XG5cbi8vIG9ubHkgY2FsbCBvbmNlXG5fLm9uY2UgPSBmdW5jdGlvbihmbil7XG4gIHZhciB0aW1lID0gMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgaWYoIHRpbWUrKyA9PT0gMCkgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5fLmZpeE9ialN0ciA9IGZ1bmN0aW9uKHN0cil7XG4gIGlmKHN0ci50cmltKCkuaW5kZXhPZigneycpICE9PSAwKXtcbiAgICByZXR1cm4gJ3snICsgc3RyICsgJ30nO1xuICB9XG4gIHJldHVybiBzdHI7XG59XG5cblxuXG5fLmxvZyA9IGZ1bmN0aW9uKG1zZywgdHlwZSl7XG4gIGlmKHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiKSAgY29uc29sZVt0eXBlIHx8IFwibG9nXCJdKG1zZyk7XG59XG5cblxuXG5cbi8vaHR0cDovL3d3dy53My5vcmcvaHRtbC93Zy9kcmFmdHMvaHRtbC9tYXN0ZXIvc2luZ2xlLXBhZ2UuaHRtbCN2b2lkLWVsZW1lbnRzXG5fLmlzVm9pZFRhZyA9IF8ubWFrZVByZWRpY2F0ZShcImFyZWEgYmFzZSBiciBjb2wgZW1iZWQgaHIgaW1nIGlucHV0IGtleWdlbiBsaW5rIG1lbnVpdGVtIG1ldGEgcGFyYW0gc291cmNlIHRyYWNrIHdiciByLWNvbnRlbnRcIik7XG5fLmlzQm9vbGVhbkF0dHIgPSBfLm1ha2VQcmVkaWNhdGUoJ3NlbGVjdGVkIGNoZWNrZWQgZGlzYWJsZWQgcmVhZG9ubHkgcmVxdWlyZWQgb3BlbiBhdXRvZm9jdXMgY29udHJvbHMgYXV0b3BsYXkgY29tcGFjdCBsb29wIGRlZmVyIG11bHRpcGxlJyk7XG5cbl8uaXNGYWxzZSAtIGZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlfVxuXy5pc1RydWUgLSBmdW5jdGlvbigpe3JldHVybiB0cnVlfVxuXG5fLmlzRXhwciA9IGZ1bmN0aW9uKGV4cHIpe1xuICByZXR1cm4gZXhwciAmJiBleHByLnR5cGUgPT09ICdleHByZXNzaW9uJztcbn1cbi8vIEBUT0RPOiBtYWtlIGl0IG1vcmUgc3RyaWN0XG5fLmlzR3JvdXAgPSBmdW5jdGlvbihncm91cCl7XG4gIHJldHVybiBncm91cC5pbmplY3QgfHwgZ3JvdXAuJGluamVjdDtcbn1cblxuXy5nZXRDb21waWxlRm4gPSBmdW5jdGlvbihzb3VyY2UsIGN0eCwgb3B0aW9ucyl7XG4gIHJldHVybiBjdHguJGNvbXBpbGUuYmluZChjdHgsc291cmNlLCBvcHRpb25zKVxufVxuXG5cblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5eVpXZDFiR0Z5YW5NdmMzSmpMM1YwYVd3dWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqdEJRVUZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFTSXNJbVpwYkdVaU9pSm5aVzVsY21GMFpXUXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpY21WeGRXbHlaU2duTGk5b1pXeHdaWEl2YzJocGJTNXFjeWNwS0NrN1hHNTJZWElnWHlBZ1BTQnRiMlIxYkdVdVpYaHdiM0owY3p0Y2JuWmhjaUJsYm5ScGRHbGxjeUE5SUhKbGNYVnBjbVVvSnk0dmFHVnNjR1Z5TDJWdWRHbDBhV1Z6TG1wekp5azdYRzUyWVhJZ2MyeHBZMlVnUFNCYlhTNXpiR2xqWlR0Y2JuWmhjaUJ2TW5OMGNpQTlJQ2g3ZlNrdWRHOVRkSEpwYm1jN1hHNTJZWElnZDJsdUlEMGdkSGx3Wlc5bUlIZHBibVJ2ZHlBaFBUMG5kVzVrWldacGJtVmtKejhnZDJsdVpHOTNPaUJuYkc5aVlXdzdYRzVjYmx4dVh5NXViMjl3SUQwZ1puVnVZM1JwYjI0b0tYdDlPMXh1WHk1MWFXUWdQU0FvWm5WdVkzUnBiMjRvS1h0Y2JpQWdkbUZ5SUY5MWFXUTlNRHRjYmlBZ2NtVjBkWEp1SUdaMWJtTjBhVzl1S0NsN1hHNGdJQ0FnY21WMGRYSnVJRjkxYVdRckt6dGNiaUFnZlZ4dWZTa29LVHRjYmx4dVh5NWxlSFJsYm1RZ1BTQm1kVzVqZEdsdmJpZ2diekVzSUc4eUxDQnZkbVZ5Y21sa1pTQXBlMXh1SUNBdkx5QnBaaWhmTG5SNWNHVlBaaWh2ZG1WeWNtbGtaU2tnUFQwOUlDZGhjbkpoZVNjcGUxeHVJQ0F2THlBZ1ptOXlLSFpoY2lCcElEMGdNQ3dnYkdWdUlEMGdiM1psY25KcFpHVXViR1Z1WjNSb095QnBJRHdnYkdWdU95QnBLeXNnS1h0Y2JpQWdMeThnSUNCMllYSWdhMlY1SUQwZ2IzWmxjbkpwWkdWYmFWMDdYRzRnSUM4dklDQWdiekZiYTJWNVhTQTlJRzh5VzJ0bGVWMDdYRzRnSUM4dklDQjlJRnh1SUNBdkx5QjlaV3h6Wlh0Y2JpQWdabTl5S0haaGNpQnBJR2x1SUc4eUtYdGNiaUFnSUNCcFppZ2dkSGx3Wlc5bUlHOHhXMmxkSUQwOVBTQmNJblZ1WkdWbWFXNWxaRndpSUh4OElHOTJaWEp5YVdSbElEMDlQU0IwY25WbElDbDdYRzRnSUNBZ0lDQnZNVnRwWFNBOUlHOHlXMmxkWEc0Z0lDQWdmVnh1SUNCOVhHNGdJQzh2SUgxY2JpQWdjbVYwZFhKdUlHOHhPMXh1ZlZ4dVhHNWZMbXRsZVhNZ1BTQm1kVzVqZEdsdmJpaHZZbW9wZTF4dUlDQnBaaWhQWW1wbFkzUXVhMlY1Y3lrZ2NtVjBkWEp1SUU5aWFtVmpkQzVyWlhsektHOWlhaWs3WEc0Z0lIWmhjaUJ5WlhNZ1BTQmJYVHRjYmlBZ1ptOXlLSFpoY2lCcElHbHVJRzlpYWlrZ2FXWW9iMkpxTG1oaGMwOTNibEJ5YjNCbGNuUjVLR2twS1h0Y2JpQWdJQ0J5WlhNdWNIVnphQ2hwS1R0Y2JpQWdmVnh1SUNCeVpYUjFjbTRnY21Wek8xeHVmVnh1WEc1ZkxuWmhjazVoYldVZ1BTQW5aQ2M3WEc1ZkxuTmxkRTVoYldVZ1BTQW5jRjhuTzF4dVh5NWpkSGhPWVcxbElEMGdKMk1uTzF4dVh5NWxlSFJPWVcxbElEMGdKMlVuTzF4dVhHNWZMbkpYYjNKa0lEMGdMMTViWEZ3a1hGeDNYU3NrTHp0Y2JsOHVjbE5wYlhCc1pVRmpZMlZ6YzI5eUlEMGdMMTViWEZ3a1hGeDNYU3NvWEZ3dVcxeGNKRnhjZDEwcktTb2tMenRjYmx4dVh5NXVaWGgwVkdsamF5QTlJSFI1Y0dWdlppQnpaWFJKYlcxbFpHbGhkR1VnUFQwOUlDZG1kVzVqZEdsdmJpYy9JRnh1SUNCelpYUkpiVzFsWkdsaGRHVXVZbWx1WkNoM2FXNHBJRG9nWEc0Z0lHWjFibU4wYVc5dUtHTmhiR3hpWVdOcktTQjdYRzRnSUNBZ2MyVjBWR2x0Wlc5MWRDaGpZV3hzWW1GamF5d2dNQ2tnWEc0Z0lIMWNibHh1WEc1Y2JsOHVjSEpsWm1sNElEMGdYQ0oyWVhJZ1hDSWdLeUJmTG5aaGNrNWhiV1VnS3lCY0lqMWNJaUFySUY4dVkzUjRUbUZ0WlNBcklGd2lMbVJoZEdFN1hDSWdLeUFnWHk1bGVIUk9ZVzFsSUNBcklGd2lQVndpSUNzZ1h5NWxlSFJPWVcxbElDc2dYQ0o4ZkNjbk8xd2lPMXh1WEc1Y2JsOHVjMnhwWTJVZ1BTQm1kVzVqZEdsdmJpaHZZbW9zSUhOMFlYSjBMQ0JsYm1RcGUxeHVJQ0IyWVhJZ2NtVnpJRDBnVzEwN1hHNGdJR1p2Y2loMllYSWdhU0E5SUhOMFlYSjBJSHg4SURBc0lHeGxiaUE5SUdWdVpDQjhmQ0J2WW1vdWJHVnVaM1JvT3lCcElEd2diR1Z1T3lCcEt5c3BlMXh1SUNBZ0lIWmhjaUJwZEdWdElEMGdiMkpxVzJsZE8xeHVJQ0FnSUhKbGN5NXdkWE5vS0dsMFpXMHBYRzRnSUgxY2JpQWdjbVYwZFhKdUlISmxjenRjYm4xY2JseHVYeTUwZVhCbFQyWWdQU0JtZFc1amRHbHZiaUFvYnlrZ2UxeHVJQ0J5WlhSMWNtNGdieUE5UFNCdWRXeHNJRDhnVTNSeWFXNW5LRzhwSURwdk1uTjBjaTVqWVd4c0tHOHBMbk5zYVdObEtEZ3NJQzB4S1M1MGIweHZkMlZ5UTJGelpTZ3BPMXh1ZlZ4dVhHNWNibDh1YldGclpWQnlaV1JwWTJGMFpTQTlJR1oxYm1OMGFXOXVJRzFoYTJWUWNtVmthV05oZEdVb2QyOXlaSE1zSUhCeVpXWnBlQ2tnZTF4dUlDQWdJR2xtSUNoMGVYQmxiMllnZDI5eVpITWdQVDA5SUZ3aWMzUnlhVzVuWENJcElIdGNiaUFnSUNBZ0lDQWdkMjl5WkhNZ1BTQjNiM0prY3k1emNHeHBkQ2hjSWlCY0lpazdYRzRnSUNBZ2ZWeHVJQ0FnSUhaaGNpQm1JRDBnWENKY0lpeGNiaUFnSUNCallYUnpJRDBnVzEwN1hHNGdJQ0FnYjNWME9pQm1iM0lnS0haaGNpQnBJRDBnTURzZ2FTQThJSGR2Y21SekxteGxibWQwYURzZ0t5dHBLU0I3WEc0Z0lDQWdJQ0FnSUdadmNpQW9kbUZ5SUdvZ1BTQXdPeUJxSUR3Z1kyRjBjeTVzWlc1bmRHZzdJQ3NyYWlsN1hHNGdJQ0FnSUNBZ0lDQWdhV1lnS0dOaGRITmJhbDFiTUYwdWJHVnVaM1JvSUQwOVBTQjNiM0prYzF0cFhTNXNaVzVuZEdncElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ1kyRjBjMXRxWFM1d2RYTm9LSGR2Y21SelcybGRLVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdZMjl1ZEdsdWRXVWdiM1YwTzF4dUlDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdmVnh1SUNBZ0lDQWdJQ0JqWVhSekxuQjFjMmdvVzNkdmNtUnpXMmxkWFNrN1hHNGdJQ0FnZlZ4dUlDQWdJR1oxYm1OMGFXOXVJR052YlhCaGNtVlVieWhoY25JcElIdGNiaUFnSUNBZ0lDQWdhV1lnS0dGeWNpNXNaVzVuZEdnZ1BUMDlJREVwSUhKbGRIVnliaUJtSUNzOUlGd2ljbVYwZFhKdUlITjBjaUE5UFQwZ0oxd2lJQ3NnWVhKeVd6QmRJQ3NnWENJbk8xd2lPMXh1SUNBZ0lDQWdJQ0JtSUNzOUlGd2ljM2RwZEdOb0tITjBjaWw3WENJN1hHNGdJQ0FnSUNBZ0lHWnZjaUFvZG1GeUlHa2dQU0F3T3lCcElEd2dZWEp5TG14bGJtZDBhRHNnS3l0cEtYdGNiaUFnSUNBZ0lDQWdJQ0FnWmlBclBTQmNJbU5oYzJVZ0oxd2lJQ3NnWVhKeVcybGRJQ3NnWENJbk9sd2lPMXh1SUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0FnSUdZZ0t6MGdYQ0p5WlhSMWNtNGdkSEoxWlgxeVpYUjFjbTRnWm1Gc2MyVTdYQ0k3WEc0Z0lDQWdmVnh1WEc0Z0lDQWdMeThnVjJobGJpQjBhR1Z5WlNCaGNtVWdiVzl5WlNCMGFHRnVJSFJvY21WbElHeGxibWQwYUNCallYUmxaMjl5YVdWekxDQmhiaUJ2ZFhSbGNseHVJQ0FnSUM4dklITjNhWFJqYUNCbWFYSnpkQ0JrYVhOd1lYUmphR1Z6SUc5dUlIUm9aU0JzWlc1bmRHaHpMQ0IwYnlCellYWmxJRzl1SUdOdmJYQmhjbWx6YjI1ekxseHVJQ0FnSUdsbUlDaGpZWFJ6TG14bGJtZDBhQ0ErSURNcElIdGNiaUFnSUNBZ0lDQWdZMkYwY3k1emIzSjBLR1oxYm1OMGFXOXVLR0VzSUdJcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUhKbGRIVnliaUJpTG14bGJtZDBhQ0F0SUdFdWJHVnVaM1JvTzF4dUlDQWdJQ0FnSUNCOUtUdGNiaUFnSUNBZ0lDQWdaaUFyUFNCY0luTjNhWFJqYUNoemRISXViR1Z1WjNSb0tYdGNJanRjYmlBZ0lDQWdJQ0FnWm05eUlDaDJZWElnYVNBOUlEQTdJR2tnUENCallYUnpMbXhsYm1kMGFEc2dLeXRwS1NCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0IyWVhJZ1kyRjBJRDBnWTJGMGMxdHBYVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lHWWdLejBnWENKallYTmxJRndpSUNzZ1kyRjBXekJkTG14bGJtZDBhQ0FySUZ3aU9sd2lPMXh1SUNBZ0lDQWdJQ0FnSUNBZ1kyOXRjR0Z5WlZSdktHTmhkQ2s3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ1ppQXJQU0JjSW4xY0lqdGNibHh1SUNBZ0lDQWdJQ0F2THlCUGRHaGxjbmRwYzJVc0lITnBiWEJzZVNCblpXNWxjbUYwWlNCaElHWnNZWFFnWUhOM2FYUmphR0FnYzNSaGRHVnRaVzUwTGx4dUlDQWdJSDBnWld4elpTQjdYRzRnSUNBZ0lDQWdJR052YlhCaGNtVlVieWgzYjNKa2N5azdYRzRnSUNBZ2ZWeHVJQ0FnSUhKbGRIVnliaUJ1WlhjZ1JuVnVZM1JwYjI0b1hDSnpkSEpjSWl3Z1ppazdYRzU5WEc1Y2JseHVYeTUwY21GamEwVnljbTl5VUc5eklEMGdLR1oxYm1OMGFXOXVJQ2dwZTF4dUlDQXZMeUJzYVc1bFluSmxZV3RjYmlBZ2RtRnlJR3hpSUQwZ0wxeGNjbHhjYm54YlhGeHVYRnh5WEZ4MU1qQXlPRnhjZFRJd01qbGRMMmM3WEc0Z0lIWmhjaUJ0YVc1U1lXNW5aU0E5SURJd0xDQnRZWGhTWVc1blpTQTlJREl3TzF4dUlDQm1kVzVqZEdsdmJpQm1hVzVrVEdsdVpTaHNhVzVsY3l3Z2NHOXpLWHRjYmlBZ0lDQjJZWElnZEcxd1RHVnVJRDBnTUR0Y2JpQWdJQ0JtYjNJb2RtRnlJR2tnUFNBd0xHeGxiaUE5SUd4cGJtVnpMbXhsYm1kMGFEc2dhU0E4SUd4bGJqc2dhU3NyS1h0Y2JpQWdJQ0FnSUhaaGNpQnNhVzVsVEdWdUlEMGdLR3hwYm1WelcybGRJSHg4SUZ3aVhDSXBMbXhsYm1kMGFEdGNibHh1SUNBZ0lDQWdhV1lvZEcxd1RHVnVJQ3NnYkdsdVpVeGxiaUErSUhCdmN5a2dlMXh1SUNBZ0lDQWdJQ0J5WlhSMWNtNGdlMjUxYlRvZ2FTd2diR2x1WlRvZ2JHbHVaWE5iYVYwc0lITjBZWEowT2lCd2IzTWdMU0JwSUMwZ2RHMXdUR1Z1SUN3Z2NISmxkanBzYVc1bGMxdHBMVEZkTENCdVpYaDBPaUJzYVc1bGMxdHBLekZkSUgwN1hHNGdJQ0FnSUNCOVhHNGdJQ0FnSUNBdkx5QXhJR2x6SUdadmNpQjBhR1VnYkdsdVpXSnlaV0ZyWEc0Z0lDQWdJQ0IwYlhCTVpXNGdQU0IwYlhCTVpXNGdLeUJzYVc1bFRHVnVJRHRjYmlBZ0lDQjlYRzRnSUgxY2JpQWdablZ1WTNScGIyNGdabTl5YldGMFRHbHVaU2h6ZEhJc0lDQnpkR0Z5ZEN3Z2JuVnRMQ0IwWVhKblpYUXBlMXh1SUNBZ0lIWmhjaUJzWlc0Z1BTQnpkSEl1YkdWdVozUm9PMXh1SUNBZ0lIWmhjaUJ0YVc0Z1BTQnpkR0Z5ZENBdElHMXBibEpoYm1kbE8xeHVJQ0FnSUdsbUtHMXBiaUE4SURBcElHMXBiaUE5SURBN1hHNGdJQ0FnZG1GeUlHMWhlQ0E5SUhOMFlYSjBJQ3NnYldGNFVtRnVaMlU3WEc0Z0lDQWdhV1lvYldGNElENGdiR1Z1S1NCdFlYZ2dQU0JzWlc0N1hHNWNiaUFnSUNCMllYSWdjbVZ0WVdsdUlEMGdjM1J5TG5Oc2FXTmxLRzFwYml3Z2JXRjRLVHRjYmlBZ0lDQjJZWElnY0hKbFptbDRJRDBnWENKYlhDSWdLeWh1ZFcwck1Ta2dLeUJjSWwwZ1hDSWdLeUFvYldsdUlENGdNRDhnWENJdUxsd2lJRG9nWENKY0lpbGNiaUFnSUNCMllYSWdjRzl6ZEdacGVDQTlJRzFoZUNBOElHeGxiaUEvSUZ3aUxpNWNJam9nWENKY0lqdGNiaUFnSUNCMllYSWdjbVZ6SUQwZ2NISmxabWw0SUNzZ2NtVnRZV2x1SUNzZ2NHOXpkR1pwZUR0Y2JpQWdJQ0JwWmloMFlYSm5aWFFwSUhKbGN5QXJQU0JjSWx4Y2Jsd2lJQ3NnYm1WM0lFRnljbUY1S0hOMFlYSjBMVzFwYmlBcklIQnlaV1pwZUM1c1pXNW5kR2dnS3lBeEtTNXFiMmx1S0Z3aUlGd2lLU0FySUZ3aVhsNWVYQ0k3WEc0Z0lDQWdjbVYwZFhKdUlISmxjenRjYmlBZ2ZWeHVJQ0J5WlhSMWNtNGdablZ1WTNScGIyNG9hVzV3ZFhRc0lIQnZjeWw3WEc0Z0lDQWdhV1lvY0c5eklENGdhVzV3ZFhRdWJHVnVaM1JvTFRFcElIQnZjeUE5SUdsdWNIVjBMbXhsYm1kMGFDMHhPMXh1SUNBZ0lHeGlMbXhoYzNSSmJtUmxlQ0E5SURBN1hHNGdJQ0FnZG1GeUlHeHBibVZ6SUQwZ2FXNXdkWFF1YzNCc2FYUW9iR0lwTzF4dUlDQWdJSFpoY2lCc2FXNWxJRDBnWm1sdVpFeHBibVVvYkdsdVpYTXNjRzl6S1R0Y2JpQWdJQ0IyWVhJZ2MzUmhjblFnUFNCc2FXNWxMbk4wWVhKMExDQnVkVzBnUFNCc2FXNWxMbTUxYlR0Y2JseHVJQ0FnSUhKbGRIVnliaUFvYkdsdVpTNXdjbVYyUHlCbWIzSnRZWFJNYVc1bEtHeHBibVV1Y0hKbGRpd2djM1JoY25Rc0lHNTFiUzB4SUNrZ0t5QW5YRnh1SnpvZ0p5Y2dLU0FySUZ4dUlDQWdJQ0FnWm05eWJXRjBUR2x1WlNoc2FXNWxMbXhwYm1Vc0lITjBZWEowTENCdWRXMHNJSFJ5ZFdVcElDc2dKMXhjYmljZ0t5QmNiaUFnSUNBZ0lDaHNhVzVsTG01bGVIUS9JR1p2Y20xaGRFeHBibVVvYkdsdVpTNXVaWGgwTENCemRHRnlkQ3dnYm5WdEt6RWdLU0FySUNkY1hHNG5PaUFuSnlBcE8xeHVYRzRnSUgxY2JuMHBLQ2s3WEc1Y2JseHVkbUZ5SUdsbmJtOXlaV1JTWldZZ1BTQXZYRndvS0Z4Y1AxeGNJWHhjWEQ5Y1hEcDhYRncvWEZ3OUtTOW5PMXh1WHk1bWFXNWtVM1ZpUTJGd2RIVnlaU0E5SUdaMWJtTjBhVzl1SUNoeVpXZFRkSElwSUh0Y2JpQWdkbUZ5SUd4bFpuUWdQU0F3TEZ4dUlDQWdJSEpwWjJoMElEMGdNQ3hjYmlBZ0lDQnNaVzRnUFNCeVpXZFRkSEl1YkdWdVozUm9MRnh1SUNBZ0lHbG5ibTl5WldRZ1BTQnlaV2RUZEhJdWJXRjBZMmdvYVdkdWIzSmxaRkpsWmlrN0lDOHZJR2xuYm05eVpXUWdkVzVqWVhCMGRYSmxYRzRnSUdsbUtHbG5ibTl5WldRcElHbG5ibTl5WldRZ1BTQnBaMjV2Y21Wa0xteGxibWQwYUZ4dUlDQmxiSE5sSUdsbmJtOXlaV1FnUFNBd08xeHVJQ0JtYjNJZ0tEc2diR1Z1TFMwN0tTQjdYRzRnSUNBZ2RtRnlJR3hsZEhSbGNpQTlJSEpsWjFOMGNpNWphR0Z5UVhRb2JHVnVLVHRjYmlBZ0lDQnBaaUFvYkdWdUlEMDlQU0F3SUh4OElISmxaMU4wY2k1amFHRnlRWFFvYkdWdUlDMGdNU2tnSVQwOUlGd2lYRnhjWEZ3aUlDa2dleUJjYmlBZ0lDQWdJR2xtSUNoc1pYUjBaWElnUFQwOUlGd2lLRndpS1NCc1pXWjBLeXM3WEc0Z0lDQWdJQ0JwWmlBb2JHVjBkR1Z5SUQwOVBTQmNJaWxjSWlrZ2NtbG5hSFFyS3p0Y2JpQWdJQ0I5WEc0Z0lIMWNiaUFnYVdZZ0tHeGxablFnSVQwOUlISnBaMmgwS1NCMGFISnZkeUJjSWxKbFowVjRjRG9nWENJcklISmxaMU4wY2lBcklGd2lKM01nWW5KaFkydGxkQ0JwY3lCdWIzUWdiV0Z5WTJobFpGd2lPMXh1SUNCbGJITmxJSEpsZEhWeWJpQnNaV1owSUMwZ2FXZHViM0psWkR0Y2JuMDdYRzVjYmx4dVh5NWxjMk5oY0dWU1pXZEZlSEFnUFNCbWRXNWpkR2x2YmlnZ2MzUnlLWHN2THlCRGNtVmthWFE2SUZoU1pXZEZlSEFnTUM0MkxqRWdLR01wSURJd01EY3RNakF3T0NCVGRHVjJaVzRnVEdWMmFYUm9ZVzRnUEdoMGRIQTZMeTl6ZEdWMlpXNXNaWFpwZEdoaGJpNWpiMjB2Y21WblpYZ3ZlSEpsWjJWNGNDOCtJRTFKVkNCTWFXTmxibk5sWEc0Z0lISmxkSFZ5YmlCemRISXVjbVZ3YkdGalpTZ3ZXeTFiWEZ4ZGUzMG9LU29yUHk1Y1hGeGNYaVI4TENOY1hITmRMMmNzSUdaMWJtTjBhVzl1S0cxaGRHTm9LWHRjYmlBZ0lDQnlaWFIxY200Z0oxeGNYRnduSUNzZ2JXRjBZMmc3WEc0Z0lIMHBPMXh1ZlR0Y2JseHVYRzUyWVhJZ2NrVnVkR2wwZVNBOUlHNWxkeUJTWldkRmVIQW9YQ0ltS0Z3aUlDc2dYeTVyWlhsektHVnVkR2wwYVdWektTNXFiMmx1S0NkOEp5a2dLeUFuS1RzbkxDQW5aMmtuS1R0Y2JseHVYeTVqYjI1MlpYSjBSVzUwYVhSNUlEMGdablZ1WTNScGIyNG9ZMmh5S1h0Y2JseHVJQ0J5WlhSMWNtNGdLRndpWENJZ0t5QmphSElwTG5KbGNHeGhZMlVvY2tWdWRHbDBlU3dnWm5WdVkzUnBiMjRvWVd4c0xDQmpZWEIwZFhKbEtYdGNiaUFnSUNCeVpYUjFjbTRnVTNSeWFXNW5MbVp5YjIxRGFHRnlRMjlrWlNobGJuUnBkR2xsYzF0allYQjBkWEpsWFNsY2JpQWdmU2s3WEc1Y2JuMWNibHh1WEc0dkx5QnphVzF3YkdVZ1oyVjBJR0ZqWTJWemMyOXlYRzVjYmw4dVkzSmxZWFJsVDJKcVpXTjBJRDBnWm5WdVkzUnBiMjRvYnl3Z2NISnZjSE1wZTF4dUlDQWdJR1oxYm1OMGFXOXVJRVp2YnlncElIdDlYRzRnSUNBZ1JtOXZMbkJ5YjNSdmRIbHdaU0E5SUc4N1hHNGdJQ0FnZG1GeUlISmxjeUE5SUc1bGR5QkdiMjg3WEc0Z0lDQWdhV1lvY0hKdmNITXBJRjh1WlhoMFpXNWtLSEpsY3l3Z2NISnZjSE1wTzF4dUlDQWdJSEpsZEhWeWJpQnlaWE03WEc1OVhHNWNibDh1WTNKbFlYUmxVSEp2ZEc4Z1BTQm1kVzVqZEdsdmJpaG1iaXdnYnlsN1hHNGdJQ0FnWm5WdVkzUnBiMjRnUm05dktDa2dleUIwYUdsekxtTnZibk4wY25WamRHOXlJRDBnWm00N2ZWeHVJQ0FnSUVadmJ5NXdjbTkwYjNSNWNHVWdQU0J2TzF4dUlDQWdJSEpsZEhWeWJpQW9abTR1Y0hKdmRHOTBlWEJsSUQwZ2JtVjNJRVp2YnlncEtUdGNibjFjYmx4dVhHNWNiaThxS2x4dVkyeHZibVZjYmlvdlhHNWZMbU5zYjI1bElEMGdablZ1WTNScGIyNGdZMnh2Ym1Vb2IySnFLWHRjYmlBZ0lDQjJZWElnZEhsd1pTQTlJRjh1ZEhsd1pVOW1LRzlpYWlrN1hHNGdJQ0FnYVdZb2RIbHdaU0E5UFQwZ0oyRnljbUY1SnlsN1hHNGdJQ0FnSUNCMllYSWdZMnh2Ym1Wa0lEMGdXMTA3WEc0Z0lDQWdJQ0JtYjNJb2RtRnlJR2s5TUN4c1pXNGdQU0J2WW1vdWJHVnVaM1JvT3lCcFBDQnNaVzQ3YVNzcktYdGNiaUFnSUNBZ0lDQWdZMnh2Ym1Wa1cybGRJRDBnYjJKcVcybGRYRzRnSUNBZ0lDQjlYRzRnSUNBZ0lDQnlaWFIxY200Z1kyeHZibVZrTzF4dUlDQWdJSDFjYmlBZ0lDQnBaaWgwZVhCbElEMDlQU0FuYjJKcVpXTjBKeWw3WEc0Z0lDQWdJQ0IyWVhJZ1kyeHZibVZrSUQwZ2UzMDdYRzRnSUNBZ0lDQm1iM0lvZG1GeUlHa2dhVzRnYjJKcUtTQnBaaWh2WW1vdWFHRnpUM2R1VUhKdmNHVnlkSGtvYVNrcGUxeHVJQ0FnSUNBZ0lDQmpiRzl1WldSYmFWMGdQU0J2WW1wYmFWMDdYRzRnSUNBZ0lDQjlYRzRnSUNBZ0lDQnlaWFIxY200Z1kyeHZibVZrTzF4dUlDQWdJSDFjYmlBZ0lDQnlaWFIxY200Z2IySnFPMXh1SUNCOVhHNWNibDh1WlhGMVlXeHpJRDBnWm5WdVkzUnBiMjRvYm05M0xDQnZiR1FwZTF4dUlDQjJZWElnZEhsd1pTQTlJSFI1Y0dWdlppQnViM2M3WEc0Z0lHbG1LSFI1Y0dVZ1BUMDlJQ2R1ZFcxaVpYSW5JQ1ltSUhSNWNHVnZaaUJ2YkdRZ1BUMDlJQ2R1ZFcxaVpYSW5KaVlnYVhOT1lVNG9ibTkzS1NBbUppQnBjMDVoVGlodmJHUXBLU0J5WlhSMWNtNGdkSEoxWlZ4dUlDQnlaWFIxY200Z2JtOTNJRDA5UFNCdmJHUTdYRzU5WEc1Y2JuWmhjaUJrWVhOb0lEMGdMeTBvVzJFdGVsMHBMMmM3WEc1ZkxtTmhiV1ZzUTJGelpTQTlJR1oxYm1OMGFXOXVLSE4wY2lsN1hHNGdJSEpsZEhWeWJpQnpkSEl1Y21Wd2JHRmpaU2hrWVhOb0xDQm1kVzVqZEdsdmJpaGhiR3dzSUdOaGNIUjFjbVVwZTF4dUlDQWdJSEpsZEhWeWJpQmpZWEIwZFhKbExuUnZWWEJ3WlhKRFlYTmxLQ2s3WEc0Z0lIMHBYRzU5WEc1Y2JseHVYRzVmTG5Sb2NtOTBkR3hsSUQwZ1puVnVZM1JwYjI0Z2RHaHliM1IwYkdVb1puVnVZeXdnZDJGcGRDbDdYRzRnSUhaaGNpQjNZV2wwSUQwZ2QyRnBkQ0I4ZkNBeE1EQTdYRzRnSUhaaGNpQmpiMjUwWlhoMExDQmhjbWR6TENCeVpYTjFiSFE3WEc0Z0lIWmhjaUIwYVcxbGIzVjBJRDBnYm5Wc2JEdGNiaUFnZG1GeUlIQnlaWFpwYjNWeklEMGdNRHRjYmlBZ2RtRnlJR3hoZEdWeUlEMGdablZ1WTNScGIyNG9LU0I3WEc0Z0lDQWdjSEpsZG1sdmRYTWdQU0FyYm1WM0lFUmhkR1U3WEc0Z0lDQWdkR2x0Wlc5MWRDQTlJRzUxYkd3N1hHNGdJQ0FnY21WemRXeDBJRDBnWm5WdVl5NWhjSEJzZVNoamIyNTBaWGgwTENCaGNtZHpLVHRjYmlBZ0lDQmpiMjUwWlhoMElEMGdZWEpuY3lBOUlHNTFiR3c3WEc0Z0lIMDdYRzRnSUhKbGRIVnliaUJtZFc1amRHbHZiaWdwSUh0Y2JpQWdJQ0IyWVhJZ2JtOTNJRDBnS3lCdVpYY2dSR0YwWlR0Y2JpQWdJQ0IyWVhJZ2NtVnRZV2x1YVc1bklEMGdkMkZwZENBdElDaHViM2NnTFNCd2NtVjJhVzkxY3lrN1hHNGdJQ0FnWTI5dWRHVjRkQ0E5SUhSb2FYTTdYRzRnSUNBZ1lYSm5jeUE5SUdGeVozVnRaVzUwY3p0Y2JpQWdJQ0JwWmlBb2NtVnRZV2x1YVc1bklEdzlJREFnZkh3Z2NtVnRZV2x1YVc1bklENGdkMkZwZENrZ2UxeHVJQ0FnSUNBZ1kyeGxZWEpVYVcxbGIzVjBLSFJwYldWdmRYUXBPMXh1SUNBZ0lDQWdkR2x0Wlc5MWRDQTlJRzUxYkd3N1hHNGdJQ0FnSUNCd2NtVjJhVzkxY3lBOUlHNXZkenRjYmlBZ0lDQWdJSEpsYzNWc2RDQTlJR1oxYm1NdVlYQndiSGtvWTI5dWRHVjRkQ3dnWVhKbmN5azdYRzRnSUNBZ0lDQmpiMjUwWlhoMElEMGdZWEpuY3lBOUlHNTFiR3c3WEc0Z0lDQWdmU0JsYkhObElHbG1JQ2doZEdsdFpXOTFkQ2tnZTF4dUlDQWdJQ0FnZEdsdFpXOTFkQ0E5SUhObGRGUnBiV1Z2ZFhRb2JHRjBaWElzSUhKbGJXRnBibWx1WnlrN1hHNGdJQ0FnZlZ4dUlDQWdJSEpsZEhWeWJpQnlaWE4xYkhRN1hHNGdJSDA3WEc1OU8xeHVYRzR2THlCb2IyZGhiaUJsYzJOaGNHVmNiaTh2SUQwOVBUMDlQVDA5UFQwOVBUMDlYRzVmTG1WelkyRndaU0E5SUNobWRXNWpkR2x2YmlncGUxeHVJQ0IyWVhJZ2NrRnRjQ0E5SUM4bUwyY3NYRzRnSUNBZ0lDQnlUSFFnUFNBdlBDOW5MRnh1SUNBZ0lDQWdja2QwSUQwZ0x6NHZaeXhjYmlBZ0lDQWdJSEpCY0c5eklEMGdMMXhjSnk5bkxGeHVJQ0FnSUNBZ2NsRjFiM1FnUFNBdlhGeGNJaTluTEZ4dUlDQWdJQ0FnYUVOb1lYSnpJRDBnTDFzbVBENWNYRndpWEZ3blhTODdYRzVjYmlBZ2NtVjBkWEp1SUdaMWJtTjBhVzl1S0hOMGNpa2dlMXh1SUNBZ0lISmxkSFZ5YmlCb1EyaGhjbk11ZEdWemRDaHpkSElwSUQ5Y2JpQWdJQ0FnSUhOMGNseHVJQ0FnSUNBZ0lDQXVjbVZ3YkdGalpTaHlRVzF3TENBbkptRnRjRHNuS1Z4dUlDQWdJQ0FnSUNBdWNtVndiR0ZqWlNoeVRIUXNJQ2NtYkhRN0p5bGNiaUFnSUNBZ0lDQWdMbkpsY0d4aFkyVW9ja2QwTENBbkptZDBPeWNwWEc0Z0lDQWdJQ0FnSUM1eVpYQnNZV05sS0hKQmNHOXpMQ0FuSmlNek9Uc25LVnh1SUNBZ0lDQWdJQ0F1Y21Wd2JHRmpaU2h5VVhWdmRDd2dKeVp4ZFc5ME95Y3BJRHBjYmlBZ0lDQWdJSE4wY2p0Y2JpQWdmVnh1ZlNrb0tUdGNibHh1WHk1allXTm9aU0E5SUdaMWJtTjBhVzl1S0cxaGVDbDdYRzRnSUcxaGVDQTlJRzFoZUNCOGZDQXhNREF3TzF4dUlDQjJZWElnYTJWNWN5QTlJRnRkTEZ4dUlDQWdJQ0FnWTJGamFHVWdQU0I3ZlR0Y2JpQWdjbVYwZFhKdUlIdGNiaUFnSUNCelpYUTZJR1oxYm1OMGFXOXVLR3RsZVN3Z2RtRnNkV1VwSUh0Y2JpQWdJQ0FnSUdsbUlDaHJaWGx6TG14bGJtZDBhQ0ErSUhSb2FYTXViV0Y0S1NCN1hHNGdJQ0FnSUNBZ0lHTmhZMmhsVzJ0bGVYTXVjMmhwWm5Rb0tWMGdQU0IxYm1SbFptbHVaV1E3WEc0Z0lDQWdJQ0I5WEc0Z0lDQWdJQ0F2THlCY2JpQWdJQ0FnSUdsbUtHTmhZMmhsVzJ0bGVWMGdQVDA5SUhWdVpHVm1hVzVsWkNsN1hHNGdJQ0FnSUNBZ0lHdGxlWE11Y0hWemFDaHJaWGtwTzF4dUlDQWdJQ0FnZlZ4dUlDQWdJQ0FnWTJGamFHVmJhMlY1WFNBOUlIWmhiSFZsTzF4dUlDQWdJQ0FnY21WMGRYSnVJSFpoYkhWbE8xeHVJQ0FnSUgwc1hHNGdJQ0FnWjJWME9pQm1kVzVqZEdsdmJpaHJaWGtwSUh0Y2JpQWdJQ0FnSUdsbUlDaHJaWGtnUFQwOUlIVnVaR1ZtYVc1bFpDa2djbVYwZFhKdUlHTmhZMmhsTzF4dUlDQWdJQ0FnY21WMGRYSnVJR05oWTJobFcydGxlVjA3WEc0Z0lDQWdmU3hjYmlBZ0lDQnRZWGc2SUcxaGVDeGNiaUFnSUNCc1pXNDZablZ1WTNScGIyNG9LWHRjYmlBZ0lDQWdJSEpsZEhWeWJpQnJaWGx6TG14bGJtZDBhRHRjYmlBZ0lDQjlYRzRnSUgwN1hHNTlYRzVjYmk4dklDOHZJSE5sZEhWd0lIUm9aU0J5WVhjZ1JYaHdjbVZ6YzJsdmJseHVMeThnWHk1MGIzVmphRVY0Y0hKbGMzTnBiMjRnUFNCbWRXNWpkR2x2YmlobGVIQnlLWHRjYmk4dklDQWdhV1lvWlhod2NpNTBlWEJsSUQwOVBTQW5aWGh3Y21WemMybHZiaWNwZTF4dUx5OGdJQ0I5WEc0dkx5QWdJSEpsZEhWeWJpQmxlSEJ5TzF4dUx5OGdmVnh1WEc1Y2JpOHZJR2hoYm1Sc1pTQjBhR1VnYzJGdFpTQnNiMmRwWXlCdmJpQmpiMjF3YjI1bGJuUW5jeUJnYjI0dEttQWdZVzVrSUdWc1pXMWxiblFuY3lCZ2IyNHRLbUJjYmk4dklISmxkSFZ5YmlCMGFHVWdabWx5WlNCdlltcGxZM1JjYmw4dWFHRnVaR3hsUlhabGJuUWdQU0JtZFc1amRHbHZiaWgyWVd4MVpTd2dkSGx3WlNBcGUxeHVJQ0IyWVhJZ2MyVnNaaUE5SUhSb2FYTXNJR1YyWVd4MVlYUmxPMXh1SUNCcFppaDJZV3gxWlM1MGVYQmxJRDA5UFNBblpYaHdjbVZ6YzJsdmJpY3BleUF2THlCcFppQnBjeUJsZUhCeVpYTnphVzl1TENCbmJ5QmxkbUZzZFdGMFpXUWdkMkY1WEc0Z0lDQWdaWFpoYkhWaGRHVWdQU0IyWVd4MVpTNW5aWFE3WEc0Z0lIMWNiaUFnYVdZb1pYWmhiSFZoZEdVcGUxeHVJQ0FnSUhKbGRIVnliaUJtZFc1amRHbHZiaUJtYVhKbEtHOWlhaWw3WEc0Z0lDQWdJQ0J6Wld4bUxtUmhkR0V1SkdWMlpXNTBJRDBnYjJKcU8xeHVJQ0FnSUNBZ2RtRnlJSEpsY3lBOUlHVjJZV3gxWVhSbEtITmxiR1lwTzF4dUlDQWdJQ0FnYVdZb2NtVnpJRDA5UFNCbVlXeHpaU0FtSmlCdlltb2dKaVlnYjJKcUxuQnlaWFpsYm5SRVpXWmhkV3gwS1NCdlltb3VjSEpsZG1WdWRFUmxabUYxYkhRb0tUdGNiaUFnSUNBZ0lITmxiR1l1WkdGMFlTNGtaWFpsYm5RZ1BTQjFibVJsWm1sdVpXUTdYRzRnSUNBZ0lDQnpaV3htTGlSMWNHUmhkR1VvS1R0Y2JpQWdJQ0I5WEc0Z0lIMWxiSE5sZTF4dUlDQWdJSEpsZEhWeWJpQm1kVzVqZEdsdmJpQm1hWEpsS0NsN1hHNGdJQ0FnSUNCMllYSWdZWEpuY3lBOUlITnNhV05sTG1OaGJHd29ZWEpuZFcxbGJuUnpLU0FnSUNBZ0lGeHVJQ0FnSUNBZ1lYSm5jeTUxYm5Ob2FXWjBLSFpoYkhWbEtUdGNiaUFnSUNBZ0lITmxiR1l1SkdWdGFYUXVZWEJ3Ykhrb2MyVnNaaXdnWVhKbmN5azdYRzRnSUNBZ0lDQnpaV3htTGlSMWNHUmhkR1VvS1R0Y2JpQWdJQ0I5WEc0Z0lIMWNibjFjYmx4dUx5OGdiMjVzZVNCallXeHNJRzl1WTJWY2JsOHViMjVqWlNBOUlHWjFibU4wYVc5dUtHWnVLWHRjYmlBZ2RtRnlJSFJwYldVZ1BTQXdPMXh1SUNCeVpYUjFjbTRnWm5WdVkzUnBiMjRvS1h0Y2JpQWdJQ0JwWmlnZ2RHbHRaU3NySUQwOVBTQXdLU0JtYmk1aGNIQnNlU2gwYUdsekxDQmhjbWQxYldWdWRITXBPMXh1SUNCOVhHNTlYRzVjYmw4dVptbDRUMkpxVTNSeUlEMGdablZ1WTNScGIyNG9jM1J5S1h0Y2JpQWdhV1lvYzNSeUxuUnlhVzBvS1M1cGJtUmxlRTltS0NkN0p5a2dJVDA5SURBcGUxeHVJQ0FnSUhKbGRIVnliaUFuZXljZ0t5QnpkSElnS3lBbmZTYzdYRzRnSUgxY2JpQWdjbVYwZFhKdUlITjBjanRjYm4xY2JseHVYRzVjYmw4dWJHOW5JRDBnWm5WdVkzUnBiMjRvYlhObkxDQjBlWEJsS1h0Y2JpQWdhV1lvZEhsd1pXOW1JR052Ym5OdmJHVWdJVDA5SUZ3aWRXNWtaV1pwYm1Wa1hDSXBJQ0JqYjI1emIyeGxXM1I1Y0dVZ2ZId2dYQ0pzYjJkY0lsMG9iWE5uS1R0Y2JuMWNibHh1WEc1Y2JseHVMeTlvZEhSd09pOHZkM2QzTG5jekxtOXlaeTlvZEcxc0wzZG5MMlJ5WVdaMGN5OW9kRzFzTDIxaGMzUmxjaTl6YVc1bmJHVXRjR0ZuWlM1b2RHMXNJM1p2YVdRdFpXeGxiV1Z1ZEhOY2JsOHVhWE5XYjJsa1ZHRm5JRDBnWHk1dFlXdGxVSEpsWkdsallYUmxLRndpWVhKbFlTQmlZWE5sSUdKeUlHTnZiQ0JsYldKbFpDQm9jaUJwYldjZ2FXNXdkWFFnYTJWNVoyVnVJR3hwYm1zZ2JXVnVkV2wwWlcwZ2JXVjBZU0J3WVhKaGJTQnpiM1Z5WTJVZ2RISmhZMnNnZDJKeUlISXRZMjl1ZEdWdWRGd2lLVHRjYmw4dWFYTkNiMjlzWldGdVFYUjBjaUE5SUY4dWJXRnJaVkJ5WldScFkyRjBaU2duYzJWc1pXTjBaV1FnWTJobFkydGxaQ0JrYVhOaFlteGxaQ0J5WldGa2IyNXNlU0J5WlhGMWFYSmxaQ0J2Y0dWdUlHRjFkRzltYjJOMWN5QmpiMjUwY205c2N5QmhkWFJ2Y0d4aGVTQmpiMjF3WVdOMElHeHZiM0FnWkdWbVpYSWdiWFZzZEdsd2JHVW5LVHRjYmx4dVh5NXBjMFpoYkhObElDMGdablZ1WTNScGIyNG9LWHR5WlhSMWNtNGdabUZzYzJWOVhHNWZMbWx6VkhKMVpTQXRJR1oxYm1OMGFXOXVLQ2w3Y21WMGRYSnVJSFJ5ZFdWOVhHNWNibDh1YVhORmVIQnlJRDBnWm5WdVkzUnBiMjRvWlhod2NpbDdYRzRnSUhKbGRIVnliaUJsZUhCeUlDWW1JR1Y0Y0hJdWRIbHdaU0E5UFQwZ0oyVjRjSEpsYzNOcGIyNG5PMXh1ZlZ4dUx5OGdRRlJQUkU4NklHMWhhMlVnYVhRZ2JXOXlaU0J6ZEhKcFkzUmNibDh1YVhOSGNtOTFjQ0E5SUdaMWJtTjBhVzl1S0dkeWIzVndLWHRjYmlBZ2NtVjBkWEp1SUdkeWIzVndMbWx1YW1WamRDQjhmQ0JuY205MWNDNGthVzVxWldOME8xeHVmVnh1WEc1ZkxtZGxkRU52YlhCcGJHVkdiaUE5SUdaMWJtTjBhVzl1S0hOdmRYSmpaU3dnWTNSNExDQnZjSFJwYjI1ektYdGNiaUFnY21WMGRYSnVJR04wZUM0a1kyOXRjR2xzWlM1aWFXNWtLR04wZUN4emIzVnlZMlVzSUc5d2RHbHZibk1wWEc1OVhHNWNibHh1SWwxOSIsInZhciBkaWZmQXJyYXkgPSByZXF1aXJlKCcuL2hlbHBlci9hcnJheURpZmYuanMnKTtcbnZhciBjb21iaW5lID0gcmVxdWlyZSgnLi9oZWxwZXIvY29tYmluZS5qcycpO1xudmFyIGFuaW1hdGUgPSByZXF1aXJlKFwiLi9oZWxwZXIvYW5pbWF0ZS5qc1wiKTtcbnZhciBub2RlID0gcmVxdWlyZShcIi4vcGFyc2VyL25vZGUuanNcIik7XG52YXIgR3JvdXAgPSByZXF1aXJlKCcuL2dyb3VwLmpzJyk7XG52YXIgZG9tID0gcmVxdWlyZShcIi4vZG9tLmpzXCIpO1xudmFyIF8gPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuXG52YXIgd2Fsa2VycyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbndhbGtlcnMubGlzdCA9IGZ1bmN0aW9uKGFzdCwgb3B0aW9ucyl7XG5cbiAgdmFyIFJlZ3VsYXIgPSB3YWxrZXJzLlJlZ3VsYXI7ICBcbiAgdmFyIHBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcIlJlZ3VsYXIgbGlzdFwiKSxcbiAgICBuYW1lc3BhY2UgPSBvcHRpb25zLm5hbWVzcGFjZSxcbiAgICBleHRyYSA9IG9wdGlvbnMuZXh0cmE7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGdyb3VwID0gbmV3IEdyb3VwKFtwbGFjZWhvbGRlcl0pO1xuICB2YXIgaW5kZXhOYW1lID0gYXN0LnZhcmlhYmxlICsgJ19pbmRleCc7XG4gIHZhciB2YXJpYWJsZSA9IGFzdC52YXJpYWJsZTtcbiAgdmFyIGFsdGVybmF0ZSA9IGFzdC5hbHRlcm5hdGU7XG4gIHZhciB0cmFjayA9IGFzdC50cmFjaywga2V5T2YsIGV4dHJhT2JqO1xuICBpZiggdHJhY2sgJiYgdHJhY2sgIT09IHRydWUgKXtcbiAgICB0cmFjayA9IHRoaXMuX3RvdWNoRXhwcih0cmFjayk7XG4gICAgZXh0cmFPYmogPSBfLmNyZWF0ZU9iamVjdChleHRyYSk7XG4gICAga2V5T2YgPSBmdW5jdGlvbiggaXRlbSwgaW5kZXggKXtcbiAgICAgIGV4dHJhT2JqWyB2YXJpYWJsZSBdID0gaXRlbTtcbiAgICAgIGV4dHJhT2JqWyBpbmRleE5hbWUgXSA9IGluZGV4O1xuICAgICAgcmV0dXJuIHRyYWNrLmdldCggc2VsZiwgZXh0cmFPYmogKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlUmFuZ2UoaW5kZXgsIHJsZW4pe1xuICAgIGZvcih2YXIgaiA9IDA7IGo8IHJsZW47IGorKyl7IC8vcmVtb3ZlZFxuICAgICAgdmFyIHJlbW92ZWQgPSBncm91cC5jaGlsZHJlbi5zcGxpY2UoIGluZGV4ICsgMSwgMSlbMF07XG4gICAgICByZW1vdmVkLmRlc3Ryb3kodHJ1ZSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGFkZFJhbmdlKGluZGV4LCBlbmQsIG5ld1ZhbHVlKXtcbiAgICBmb3IodmFyIG8gPSBpbmRleDsgbyA8IGVuZDsgbysrKXsgLy9hZGRcbiAgICAgIC8vIHByb3RvdHlwZSBpbmhlcml0XG4gICAgICB2YXIgaXRlbSA9IG5ld1ZhbHVlW29dO1xuICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgIGRhdGFbaW5kZXhOYW1lXSA9IG87XG4gICAgICBkYXRhW3ZhcmlhYmxlXSA9IGl0ZW07XG5cbiAgICAgIGRhdGEgPSBfLmNyZWF0ZU9iamVjdChleHRyYSwgZGF0YSk7XG4gICAgICB2YXIgc2VjdGlvbiA9IHNlbGYuJGNvbXBpbGUoYXN0LmJvZHksIHtcbiAgICAgICAgZXh0cmE6IGRhdGEsXG4gICAgICAgIG5hbWVzcGFjZTpuYW1lc3BhY2UsXG4gICAgICAgIHJlY29yZDogdHJ1ZSxcbiAgICAgICAgb3V0ZXI6IG9wdGlvbnMub3V0ZXJcbiAgICAgIH0pXG4gICAgICBzZWN0aW9uLmRhdGEgPSBkYXRhO1xuICAgICAgLy8gYXV0b2xpbmtcbiAgICAgIHZhciBpbnNlcnQgPSAgY29tYmluZS5sYXN0KGdyb3VwLmdldChvKSk7XG4gICAgICBpZihpbnNlcnQucGFyZW50Tm9kZSl7XG4gICAgICAgIGFuaW1hdGUuaW5qZWN0KGNvbWJpbmUubm9kZShzZWN0aW9uKSxpbnNlcnQsICdhZnRlcicpO1xuICAgICAgfVxuICAgICAgLy8gaW5zZXJ0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNvbWJpbmUubm9kZShzZWN0aW9uKSwgaW5zZXJ0Lm5leHRTaWJsaW5nKTtcbiAgICAgIGdyb3VwLmNoaWxkcmVuLnNwbGljZSggbyArIDEgLCAwLCBzZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVSYW5nZShzdGFydCwgZW5kLCBuZXdWYWx1ZSl7XG4gICAgZm9yKHZhciBrID0gc3RhcnQ7IGsgPCBlbmQ7IGsrKyl7IC8vIG5vIGNoYW5nZVxuICAgICAgdmFyIHNlY3QgPSBncm91cC5nZXQoIGsgKyAxICk7XG4gICAgICBzZWN0LmRhdGFbIGluZGV4TmFtZSBdID0gaztcbiAgICAgIHNlY3QuZGF0YVsgdmFyaWFibGUgXSA9IG5ld1ZhbHVlW2tdO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxEKG5ld1ZhbHVlLCBvbGRWYWx1ZSwgc3BsaWNlcyl7XG4gICAgaWYoIW9sZFZhbHVlKSBvbGRWYWx1ZSA9IFtdO1xuICAgIGlmKCFuZXdWYWx1ZSkgbmV3VmFsdWUgPSBbXTtcblxuXG4gICAgdmFyIGN1ciA9IHBsYWNlaG9sZGVyO1xuICAgIHZhciBtID0gMCwgbGVuID0gbmV3VmFsdWUubGVuZ3RoO1xuXG4gICAgaWYoIXNwbGljZXMgJiYgKGxlbiAhPT0wIHx8IG9sZFZhbHVlLmxlbmd0aCAhPT0wKSAgKXtcbiAgICAgIHNwbGljZXMgPSBkaWZmQXJyYXkobmV3VmFsdWUsIG9sZFZhbHVlKTtcbiAgICB9XG5cbiAgICBpZighc3BsaWNlcyB8fCAhc3BsaWNlcy5sZW5ndGgpIHJldHVybjtcbiAgICAgIFxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBzcGxpY2VzLmxlbmd0aDsgaSsrKXsgLy9pbml0XG4gICAgICB2YXIgc3BsaWNlID0gc3BsaWNlc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IHNwbGljZS5pbmRleDsgLy8gYmVhY3VzZSB3ZSB1c2UgYSBjb21tZW50IGZvciBwbGFjZWhvbGRlclxuICAgICAgdmFyIHJlbW92ZWQgPSBzcGxpY2UucmVtb3ZlZDtcbiAgICAgIHZhciBhZGQgPSBzcGxpY2UuYWRkO1xuICAgICAgdmFyIHJsZW4gPSByZW1vdmVkLmxlbmd0aDtcbiAgICAgIC8vIGZvciB0cmFja1xuICAgICAgaWYoIHRyYWNrICYmIHJsZW4gJiYgYWRkICl7XG4gICAgICAgIHZhciBtaW5hciA9IE1hdGgubWluKHJsZW4sIGFkZCk7XG4gICAgICAgIHZhciB0SW5kZXggPSAwO1xuICAgICAgICB3aGlsZSh0SW5kZXggPCBtaW5hcil7XG4gICAgICAgICAgaWYoIGtleU9mKG5ld1ZhbHVlW2luZGV4XSwgaW5kZXgpICE9PSBrZXlPZiggcmVtb3ZlZFswXSwgaW5kZXggKSApe1xuICAgICAgICAgICAgcmVtb3ZlUmFuZ2UoaW5kZXgsIDEpXG4gICAgICAgICAgICBhZGRSYW5nZShpbmRleCwgaW5kZXgrMSwgbmV3VmFsdWUpXG4gICAgICAgICAgfVxuICAgICAgICAgIHJlbW92ZWQuc2hpZnQoKTtcbiAgICAgICAgICBhZGQtLTtcbiAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgIHRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIHJsZW4gPSByZW1vdmVkLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIC8vIHVwZGF0ZVxuICAgICAgdXBkYXRlUmFuZ2UobSwgaW5kZXgsIG5ld1ZhbHVlKTtcbiAgICAgIHJlbW92ZVJhbmdlKCBpbmRleCAscmxlbilcblxuICAgICAgYWRkUmFuZ2UoaW5kZXgsIGluZGV4K2FkZCwgbmV3VmFsdWUpXG5cbiAgICAgIG0gPSBpbmRleCArIGFkZCAtIHJsZW47XG4gICAgICBtICA9IG0gPCAwPyAwIDogbTtcblxuICAgIH1cbiAgICBpZihtIDwgbGVuKXtcbiAgICAgIGZvcih2YXIgaSA9IG07IGkgPCBsZW47IGkrKyl7XG4gICAgICAgIHZhciBwYWlyID0gZ3JvdXAuZ2V0KGkgKyAxKTtcbiAgICAgICAgcGFpci5kYXRhW2luZGV4TmFtZV0gPSBpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSB0cmFjayBpcyBjb25zdGFudCB0ZXN0LlxuICBmdW5jdGlvbiB1cGRhdGVTaW1wbGUobmV3VmFsdWUsIG9sZFZhbHVlKXtcbiAgICBuZXdWYWx1ZSA9IG5ld1ZhbHVlIHx8IFtdO1xuICAgIG9sZFZhbHVlICA9IG9sZFZhbHVlIHx8IFtdO1xuXG4gICAgdmFyIG5sZW4gPSBuZXdWYWx1ZS5sZW5ndGggfHwgMDtcbiAgICB2YXIgb2xlbiA9IG9sZFZhbHVlLmxlbmd0aCB8fCAwO1xuICAgIHZhciBtbGVuID0gTWF0aC5taW4obmxlbiwgb2xlbik7XG5cblxuICAgIHVwZGF0ZVJhbmdlKDAsIG1sZW4sIG5ld1ZhbHVlKVxuICAgIGlmKG5sZW4gPCBvbGVuKXsgLy9uZWVkIGFkZFxuICAgICAgcmVtb3ZlUmFuZ2Uobmxlbiwgb2xlbi1ubGVuKTtcbiAgICB9ZWxzZSBpZihubGVuID4gb2xlbil7XG4gICAgICBhZGRSYW5nZShvbGVuLCBubGVuLCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlKG5ld1ZhbHVlLCBvbGRWYWx1ZSwgc3BsaWNlcyl7XG4gICAgdmFyIG5sZW4gPSBuZXdWYWx1ZSAmJiBuZXdWYWx1ZS5sZW5ndGg7XG4gICAgdmFyIG9sZW4gPSBvbGRWYWx1ZSAmJiBvbGRWYWx1ZS5sZW5ndGg7XG4gICAgaWYoICFvbGVuICYmIG5sZW4gJiYgZ3JvdXAuZ2V0KDEpKXtcbiAgICAgIHZhciBhbHRHcm91cCA9IGdyb3VwLmNoaWxkcmVuLnBvcCgpO1xuICAgICAgaWYoYWx0R3JvdXAuZGVzdHJveSkgIGFsdEdyb3VwLmRlc3Ryb3kodHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYodHJhY2sgPT09IHRydWUpe1xuICAgICAgdXBkYXRlU2ltcGxlKG5ld1ZhbHVlLCBvbGRWYWx1ZSwgc3BsaWNlcylcbiAgICB9ZWxzZXtcbiAgICAgIHVwZGF0ZUxEKG5ld1ZhbHVlLCBvbGRWYWx1ZSwgc3BsaWNlcylcbiAgICB9XG5cbiAgICAvLyBAIHsjbGlzdH0geyNlbHNlfVxuICAgIGlmKCAhbmxlbiAmJiBhbHRlcm5hdGUgJiYgYWx0ZXJuYXRlLmxlbmd0aCl7XG4gICAgICB2YXIgc2VjdGlvbiA9IHNlbGYuJGNvbXBpbGUoYWx0ZXJuYXRlLCB7XG4gICAgICAgIGV4dHJhOiBleHRyYSxcbiAgICAgICAgcmVjb3JkOiB0cnVlLFxuICAgICAgICBvdXRlcjogb3B0aW9ucy5vdXRlcixcbiAgICAgICAgbmFtZXNwYWNlOiBuYW1lc3BhY2VcbiAgICAgIH0pXG4gICAgICBncm91cC5jaGlsZHJlbi5wdXNoKHNlY3Rpb24pO1xuICAgICAgaWYocGxhY2Vob2xkZXIucGFyZW50Tm9kZSl7XG4gICAgICAgIGFuaW1hdGUuaW5qZWN0KGNvbWJpbmUubm9kZShzZWN0aW9uKSwgcGxhY2Vob2xkZXIsICdhZnRlcicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB0aGlzLiR3YXRjaChhc3Quc2VxdWVuY2UsIHVwZGF0ZSwgeyBpbml0OiB0cnVlLCBpbmRleFRyYWNrOiB0cmFjayA9PT0gdHJ1ZSB9KTtcbiAgcmV0dXJuIGdyb3VwO1xufVxuLy8geyNpbmNsdWRlIH0gb3IgeyNpbmMgdGVtcGxhdGV9XG53YWxrZXJzLnRlbXBsYXRlID0gZnVuY3Rpb24oYXN0LCBvcHRpb25zKXtcbiAgdmFyIGNvbnRlbnQgPSBhc3QuY29udGVudCwgY29tcGlsZWQ7XG4gIHZhciBwbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJ2lubGN1ZGUnKTtcbiAgdmFyIGNvbXBpbGVkLCBuYW1lc3BhY2UgPSBvcHRpb25zLm5hbWVzcGFjZSwgZXh0cmEgPSBvcHRpb25zLmV4dHJhO1xuICB2YXIgZ3JvdXAgPSBuZXcgR3JvdXAoW3BsYWNlaG9sZGVyXSk7XG4gIGlmKGNvbnRlbnQpe1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLiR3YXRjaChjb250ZW50LCBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICB2YXIgcmVtb3ZlZCA9IGdyb3VwLmdldCgxKSwgdHlwZT0gdHlwZW9mIHZhbHVlO1xuICAgICAgaWYoIHJlbW92ZWQpe1xuICAgICAgICByZW1vdmVkLmRlc3Ryb3kodHJ1ZSk7IFxuICAgICAgICBncm91cC5jaGlsZHJlbi5wb3AoKTtcbiAgICAgIH1cbiAgICAgIGlmKCF2YWx1ZSkgcmV0dXJuO1xuICAgICAgZ3JvdXAucHVzaCggY29tcGlsZWQgPSAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSA/IHZhbHVlKCk6IHNlbGYuJGNvbXBpbGUodmFsdWUsIHtyZWNvcmQ6IHRydWUsIG91dGVyOiBvcHRpb25zLm91dGVyLG5hbWVzcGFjZTogbmFtZXNwYWNlLCBleHRyYTogZXh0cmF9KSApOyBcbiAgICAgIGlmKHBsYWNlaG9sZGVyLnBhcmVudE5vZGUpIHtcbiAgICAgICAgY29tcGlsZWQuJGluamVjdChwbGFjZWhvbGRlciwgJ2JlZm9yZScpXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgaW5pdDogdHJ1ZVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBncm91cDtcbn07XG5cblxuLy8gaG93IHRvIHJlc29sdmUgdGhpcyBwcm9ibGVtXG52YXIgaWkgPSAwO1xud2Fsa2Vyc1snaWYnXSA9IGZ1bmN0aW9uKGFzdCwgb3B0aW9ucyl7XG4gIHZhciBzZWxmID0gdGhpcywgY29uc2VxdWVudCwgYWx0ZXJuYXRlLCBleHRyYSA9IG9wdGlvbnMuZXh0cmE7XG4gIGlmKG9wdGlvbnMgJiYgb3B0aW9ucy5lbGVtZW50KXsgLy8gYXR0cmlidXRlIGludGVwbGF0aW9uXG4gICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uKG52YWx1ZSl7XG4gICAgICBpZighIW52YWx1ZSl7XG4gICAgICAgIGlmKGFsdGVybmF0ZSkgY29tYmluZS5kZXN0cm95KGFsdGVybmF0ZSlcbiAgICAgICAgaWYoYXN0LmNvbnNlcXVlbnQpIGNvbnNlcXVlbnQgPSBzZWxmLiRjb21waWxlKGFzdC5jb25zZXF1ZW50LCB7cmVjb3JkOiB0cnVlLCBlbGVtZW50OiBvcHRpb25zLmVsZW1lbnQgLCBleHRyYTpleHRyYX0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGlmKGNvbnNlcXVlbnQpIGNvbWJpbmUuZGVzdHJveShjb25zZXF1ZW50KVxuICAgICAgICBpZihhc3QuYWx0ZXJuYXRlKSBhbHRlcm5hdGUgPSBzZWxmLiRjb21waWxlKGFzdC5hbHRlcm5hdGUsIHtyZWNvcmQ6IHRydWUsIGVsZW1lbnQ6IG9wdGlvbnMuZWxlbWVudCwgZXh0cmE6IGV4dHJhfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuJHdhdGNoKGFzdC50ZXN0LCB1cGRhdGUsIHsgZm9yY2U6IHRydWUgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKGNvbnNlcXVlbnQpIGNvbWJpbmUuZGVzdHJveShjb25zZXF1ZW50KTtcbiAgICAgICAgZWxzZSBpZihhbHRlcm5hdGUpIGNvbWJpbmUuZGVzdHJveShhbHRlcm5hdGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciB0ZXN0LCBjb25zZXF1ZW50LCBhbHRlcm5hdGUsIG5vZGU7XG4gIHZhciBwbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJSZWd1bGFyIGlmXCIgKyBpaSsrKTtcbiAgdmFyIGdyb3VwID0gbmV3IEdyb3VwKCk7XG4gIGdyb3VwLnB1c2gocGxhY2Vob2xkZXIpO1xuICB2YXIgcHJlVmFsdWUgPSBudWxsLCBuYW1lc3BhY2U9IG9wdGlvbnMubmFtZXNwYWNlO1xuXG5cbiAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uIChudmFsdWUsIG9sZCl7XG4gICAgdmFyIHZhbHVlID0gISFudmFsdWU7XG4gICAgaWYodmFsdWUgPT09IHByZVZhbHVlKSByZXR1cm47XG4gICAgcHJlVmFsdWUgPSB2YWx1ZTtcbiAgICBpZihncm91cC5jaGlsZHJlblsxXSl7XG4gICAgICBncm91cC5jaGlsZHJlblsxXS5kZXN0cm95KHRydWUpO1xuICAgICAgZ3JvdXAuY2hpbGRyZW4ucG9wKCk7XG4gICAgfVxuICAgIGlmKHZhbHVlKXsgLy90cnVlXG4gICAgICBpZihhc3QuY29uc2VxdWVudCAmJiBhc3QuY29uc2VxdWVudC5sZW5ndGgpe1xuICAgICAgICBjb25zZXF1ZW50ID0gc2VsZi4kY29tcGlsZSggYXN0LmNvbnNlcXVlbnQgLCB7cmVjb3JkOnRydWUsIG91dGVyOiBvcHRpb25zLm91dGVyLG5hbWVzcGFjZTogbmFtZXNwYWNlLCBleHRyYTpleHRyYSB9KVxuICAgICAgICAvLyBwbGFjZWhvbGRlci5wYXJlbnROb2RlICYmIHBsYWNlaG9sZGVyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBub2RlLCBwbGFjZWhvbGRlciApO1xuICAgICAgICBncm91cC5wdXNoKGNvbnNlcXVlbnQpO1xuICAgICAgICBpZihwbGFjZWhvbGRlci5wYXJlbnROb2RlKXtcbiAgICAgICAgICBhbmltYXRlLmluamVjdChjb21iaW5lLm5vZGUoY29uc2VxdWVudCksIHBsYWNlaG9sZGVyLCAnYmVmb3JlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9ZWxzZXsgLy9mYWxzZVxuICAgICAgaWYoYXN0LmFsdGVybmF0ZSAmJiBhc3QuYWx0ZXJuYXRlLmxlbmd0aCl7XG4gICAgICAgIGFsdGVybmF0ZSA9IHNlbGYuJGNvbXBpbGUoYXN0LmFsdGVybmF0ZSwge3JlY29yZDp0cnVlLCBvdXRlcjogb3B0aW9ucy5vdXRlcixuYW1lc3BhY2U6IG5hbWVzcGFjZSwgZXh0cmE6ZXh0cmF9KTtcbiAgICAgICAgZ3JvdXAucHVzaChhbHRlcm5hdGUpO1xuICAgICAgICBpZihwbGFjZWhvbGRlci5wYXJlbnROb2RlKXtcbiAgICAgICAgICBhbmltYXRlLmluamVjdChjb21iaW5lLm5vZGUoYWx0ZXJuYXRlKSwgcGxhY2Vob2xkZXIsICdiZWZvcmUnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICB0aGlzLiR3YXRjaChhc3QudGVzdCwgdXBkYXRlLCB7Zm9yY2U6IHRydWUsIGluaXQ6IHRydWV9KTtcblxuICByZXR1cm4gZ3JvdXA7XG59XG5cblxud2Fsa2Vycy5leHByZXNzaW9uID0gZnVuY3Rpb24oYXN0LCBvcHRpb25zKXtcbiAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtcbiAgdGhpcy4kd2F0Y2goYXN0LCBmdW5jdGlvbihuZXd2YWwpe1xuICAgIGRvbS50ZXh0KG5vZGUsIFwiXCIgKyAobmV3dmFsID09IG51bGw/IFwiXCI6IFwiXCIgKyBuZXd2YWwpICk7XG4gIH0pXG4gIHJldHVybiBub2RlO1xufVxud2Fsa2Vycy50ZXh0ID0gZnVuY3Rpb24oYXN0LCBvcHRpb25zKXtcbiAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShfLmNvbnZlcnRFbnRpdHkoYXN0LnRleHQpKTtcbiAgcmV0dXJuIG5vZGU7XG59XG5cblxuXG52YXIgZXZlbnRSZWcgPSAvXm9uLSguKykkL1xuXG4vKipcbiAqIHdhbGtlcnMgZWxlbWVudCAoY29udGFpbnMgY29tcG9uZW50KVxuICovXG53YWxrZXJzLmVsZW1lbnQgPSBmdW5jdGlvbihhc3QsIG9wdGlvbnMpe1xuICB2YXIgYXR0cnMgPSBhc3QuYXR0cnMsIHNlbGYgPSB0aGlzLFxuICAgIENvbnN0cnVjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcixcbiAgICBjaGlsZHJlbiA9IGFzdC5jaGlsZHJlbixcbiAgICBuYW1lc3BhY2UgPSBvcHRpb25zLm5hbWVzcGFjZSwgXG4gICAgZXh0cmEgPSBvcHRpb25zLmV4dHJhLFxuICAgIHRhZyA9IGFzdC50YWcsXG4gICAgQ29tcG9uZW50ID0gQ29uc3RydWN0b3IuY29tcG9uZW50KHRhZyksXG4gICAgcmVmLCBncm91cCwgZWxlbWVudDtcblxuICBpZiggdGFnID09PSAnci1jb250ZW50JyApe1xuICAgIF8ubG9nKCdyLWNvbnRlbnQgaXMgZGVwcmVjYXRlZCwgdXNlIHsjaW5jIHRoaXMuJGJvZHl9IGluc3RlYWQgKGB7I2luY2x1ZGV9YCBhcyBzYW1lKScsICd3YXJuJyk7XG4gICAgcmV0dXJuIHRoaXMuJGJvZHkgJiYgdGhpcy4kYm9keSgpO1xuICB9IFxuXG4gIGlmKENvbXBvbmVudCB8fCB0YWcgPT09ICdyLWNvbXBvbmVudCcpe1xuICAgIG9wdGlvbnMuQ29tcG9uZW50ID0gQ29tcG9uZW50O1xuICAgIHJldHVybiB3YWxrZXJzLmNvbXBvbmVudC5jYWxsKHRoaXMsIGFzdCwgb3B0aW9ucylcbiAgfVxuXG4gIGlmKHRhZyA9PT0gJ3N2ZycpIG5hbWVzcGFjZSA9IFwic3ZnXCI7XG4gIC8vIEBEZXByZWNhdGVkOiBtYXkgYmUgcmVtb3ZlZCBpbiBuZXh0IHZlcnNpb24sIHVzZSB7I2luYyB9IGluc3RlYWRcbiAgXG4gIGlmKCBjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGggKXtcbiAgICBncm91cCA9IHRoaXMuJGNvbXBpbGUoY2hpbGRyZW4sIHtvdXRlcjogb3B0aW9ucy5vdXRlcixuYW1lc3BhY2U6IG5hbWVzcGFjZSwgZXh0cmE6IGV4dHJhIH0pO1xuICB9XG5cbiAgZWxlbWVudCA9IGRvbS5jcmVhdGUodGFnLCBuYW1lc3BhY2UsIGF0dHJzKTtcblxuICBpZihncm91cCAmJiAhXy5pc1ZvaWRUYWcodGFnKSl7XG4gICAgZG9tLmluamVjdCggY29tYmluZS5ub2RlKGdyb3VwKSAsIGVsZW1lbnQpXG4gIH1cblxuICAvLyBzb3J0IGJlZm9yZVxuICBpZighYXN0LnRvdWNoZWQpe1xuICAgIGF0dHJzLnNvcnQoZnVuY3Rpb24oYTEsIGEyKXtcbiAgICAgIHZhciBkMSA9IENvbnN0cnVjdG9yLmRpcmVjdGl2ZShhMS5uYW1lKSxcbiAgICAgICAgZDIgPSBDb25zdHJ1Y3Rvci5kaXJlY3RpdmUoYTIubmFtZSk7XG4gICAgICBpZiggZDEgJiYgZDIgKSByZXR1cm4gKGQyLnByaW9yaXR5IHx8IDEpIC0gKGQxLnByaW9yaXR5IHx8IDEpO1xuICAgICAgaWYoZDEpIHJldHVybiAxO1xuICAgICAgaWYoZDIpIHJldHVybiAtMTtcbiAgICAgIGlmKGEyLm5hbWUgPT09IFwidHlwZVwiKSByZXR1cm4gMTtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9KVxuICAgIGFzdC50b3VjaGVkID0gdHJ1ZTtcbiAgfVxuICAvLyBtYXkgZGlzdGluY3Qgd2l0aCBpZiBlbHNlXG4gIHZhciBkZXN0cm9pZXMgPSB3YWxrQXR0cmlidXRlcy5jYWxsKHRoaXMsIGF0dHJzLCBlbGVtZW50LCBleHRyYSk7XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcImVsZW1lbnRcIixcbiAgICBncm91cDogZ3JvdXAsXG4gICAgbm9kZTogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH0sXG4gICAgbGFzdDogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH0sXG4gICAgZGVzdHJveTogZnVuY3Rpb24oZmlyc3Qpe1xuICAgICAgaWYoIGZpcnN0ICl7XG4gICAgICAgIGFuaW1hdGUucmVtb3ZlKCBlbGVtZW50LCBncm91cD8gZ3JvdXAuZGVzdHJveS5iaW5kKCBncm91cCApOiBfLm5vb3AgKTtcbiAgICAgIH1lbHNlIGlmKGdyb3VwKSB7XG4gICAgICAgIGdyb3VwLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICAgIC8vIGRlc3Ryb3kgcmVmXG4gICAgICBpZiggZGVzdHJvaWVzLmxlbmd0aCApIHtcbiAgICAgICAgZGVzdHJvaWVzLmZvckVhY2goZnVuY3Rpb24oIGRlc3Ryb3kgKXtcbiAgICAgICAgICBpZiggZGVzdHJveSApe1xuICAgICAgICAgICAgaWYoIHR5cGVvZiBkZXN0cm95LmRlc3Ryb3kgPT09ICdmdW5jdGlvbicgKXtcbiAgICAgICAgICAgICAgZGVzdHJveS5kZXN0cm95KClcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICBkZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG53YWxrZXJzLmNvbXBvbmVudCA9IGZ1bmN0aW9uKGFzdCwgb3B0aW9ucyl7XG4gIHZhciBhdHRycyA9IGFzdC5hdHRycywgXG4gICAgQ29tcG9uZW50ID0gb3B0aW9ucy5Db21wb25lbnQsXG4gICAgQ29uc3RydWN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yLFxuICAgIGlzb2xhdGUsIFxuICAgIGV4dHJhID0gb3B0aW9ucy5leHRyYSxcbiAgICBuYW1lc3BhY2UgPSBvcHRpb25zLm5hbWVzcGFjZSxcbiAgICByZWYsIHNlbGYgPSB0aGlzLCBpcztcblxuICB2YXIgZGF0YSA9IHt9LCBldmVudHM7XG5cbiAgZm9yKHZhciBpID0gMCwgbGVuID0gYXR0cnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuICAgIHZhciBhdHRyID0gYXR0cnNbaV07XG4gICAgLy8gY29uc2lkZXIgZGlzYWJsZWQgICBlcXVsYXN0byAgZGlzYWJsZWQ9e3RydWV9XG4gICAgdmFyIHZhbHVlID0gdGhpcy5fdG91Y2hFeHByKGF0dHIudmFsdWUgPT09IHVuZGVmaW5lZD8gdHJ1ZTogYXR0ci52YWx1ZSk7XG4gICAgaWYodmFsdWUuY29uc3RhbnQpIHZhbHVlID0gYXR0ci52YWx1ZSA9IHZhbHVlLmdldCh0aGlzKTtcbiAgICBpZihhdHRyLnZhbHVlICYmIGF0dHIudmFsdWUuY29uc3RhbnQgPT09IHRydWUpe1xuICAgICAgdmFsdWUgPSB2YWx1ZS5nZXQodGhpcyk7XG4gICAgfVxuICAgIHZhciBuYW1lID0gYXR0ci5uYW1lO1xuICAgIGlmKCFhdHRyLmV2ZW50KXtcbiAgICAgIHZhciBldGVzdCA9IG5hbWUubWF0Y2goZXZlbnRSZWcpO1xuICAgICAgLy8gZXZlbnQ6ICduYXYnXG4gICAgICBpZihldGVzdCkgYXR0ci5ldmVudCA9IGV0ZXN0WzFdO1xuICAgIH1cblxuICAgIC8vIEBjb21waWxlIG1vZGlmaWVyXG4gICAgaWYoYXR0ci5tZGYgPT09ICdjbXBsJyl7XG4gICAgICB2YWx1ZSA9IF8uZ2V0Q29tcGlsZUZuKHZhbHVlLCB0aGlzLCB7XG4gICAgICAgIHJlY29yZDogdHJ1ZSwgXG4gICAgICAgIG5hbWVzcGFjZTpuYW1lc3BhY2UsIFxuICAgICAgICBleHRyYTogZXh0cmEsIFxuICAgICAgICBvdXRlcjogb3B0aW9ucy5vdXRlclxuICAgICAgfSlcbiAgICB9XG4gICAgXG4gICAgLy8gQGlmIGlzIHItY29tcG9uZW50IC4gd2UgbmVlZCB0byBmaW5kIHRoZSB0YXJnZXQgQ29tcG9uZW50XG4gICAgaWYobmFtZSA9PT0gJ2lzJyAmJiAhQ29tcG9uZW50KXtcbiAgICAgIGlzID0gdmFsdWU7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IHRoaXMuJGdldCh2YWx1ZSwgdHJ1ZSk7XG4gICAgICBDb21wb25lbnQgPSBDb25zdHJ1Y3Rvci5jb21wb25lbnQoY29tcG9uZW50TmFtZSlcbiAgICAgIGlmKHR5cGVvZiBDb21wb25lbnQgIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBFcnJvcihcImNvbXBvbmVudCBcIiArIGNvbXBvbmVudE5hbWUgKyBcIiBoYXMgbm90IHJlZ2lzdGVkIVwiKTtcbiAgICB9XG4gICAgLy8gYmluZCBldmVudCBwcm94eVxuICAgIHZhciBldmVudE5hbWU7XG4gICAgaWYoZXZlbnROYW1lID0gYXR0ci5ldmVudCl7XG4gICAgICBldmVudHMgPSBldmVudHMgfHwge307XG4gICAgICBldmVudHNbZXZlbnROYW1lXSA9IF8uaGFuZGxlRXZlbnQuY2FsbCh0aGlzLCB2YWx1ZSwgZXZlbnROYW1lKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1lbHNlIHtcbiAgICAgIG5hbWUgPSBhdHRyLm5hbWUgPSBfLmNhbWVsQ2FzZShuYW1lKTtcbiAgICB9XG5cbiAgICBpZih2YWx1ZS50eXBlICE9PSAnZXhwcmVzc2lvbicpe1xuICAgICAgZGF0YVtuYW1lXSA9IHZhbHVlO1xuICAgIH1lbHNle1xuICAgICAgZGF0YVtuYW1lXSA9IHZhbHVlLmdldChzZWxmKTsgXG4gICAgfVxuICAgIGlmKCBuYW1lID09PSAncmVmJyAgJiYgdmFsdWUgIT0gbnVsbCl7XG4gICAgICByZWYgPSB2YWx1ZVxuICAgIH1cbiAgICBpZiggbmFtZSA9PT0gJ2lzb2xhdGUnKXtcbiAgICAgIC8vIDE6IHN0b3A6IGNvbXBvc2l0ZSAtPiBwYXJlbnRcbiAgICAgIC8vIDIuIHN0b3A6IGNvbXBvc2l0ZSA8LSBwYXJlbnRcbiAgICAgIC8vIDMuIHN0b3AgMSBhbmQgMjogY29tcG9zaXRlIDwtPiBwYXJlbnRcbiAgICAgIC8vIDAuIHN0b3Agbm90aGluZyAoZGVmdWFsdClcbiAgICAgIGlzb2xhdGUgPSB2YWx1ZS50eXBlID09PSAnZXhwcmVzc2lvbic/IHZhbHVlLmdldChzZWxmKTogcGFyc2VJbnQodmFsdWUgPT09IHRydWU/IDM6IHZhbHVlLCAxMCk7XG4gICAgICBkYXRhLmlzb2xhdGUgPSBpc29sYXRlO1xuICAgIH1cbiAgfVxuXG4gIHZhciBkZWZpbml0aW9uID0geyBcbiAgICBkYXRhOiBkYXRhLCBcbiAgICBldmVudHM6IGV2ZW50cywgXG4gICAgJHBhcmVudDogdGhpcyxcbiAgICAkcm9vdDogdGhpcy4kcm9vdCxcbiAgICAkb3V0ZXI6IG9wdGlvbnMub3V0ZXIsXG4gICAgX2JvZHk6IGFzdC5jaGlsZHJlblxuICB9XG4gIHZhciBvcHRpb25zID0ge1xuICAgIG5hbWVzcGFjZTogbmFtZXNwYWNlLCBcbiAgICBleHRyYTogb3B0aW9ucy5leHRyYVxuICB9XG5cblxuICB2YXIgY29tcG9uZW50ID0gbmV3IENvbXBvbmVudChkZWZpbml0aW9uLCBvcHRpb25zKSwgcmVmbGluaztcblxuXG4gIGlmKHJlZiAmJiB0aGlzLiRyZWZzKXtcbiAgICByZWZsaW5rID0gQ29tcG9uZW50LmRpcmVjdGl2ZSgncmVmJykubGlua1xuICAgIHRoaXMuJG9uKCckZGVzdHJveScsIHJlZmxpbmsuY2FsbCh0aGlzLCBjb21wb25lbnQsIHJlZikgKVxuICB9XG4gIGlmKHJlZiAmJiAgc2VsZi4kcmVmcykgc2VsZi4kcmVmc1tyZWZdID0gY29tcG9uZW50O1xuICBmb3IodmFyIGkgPSAwLCBsZW4gPSBhdHRycy5sZW5ndGg7IGkgPCBsZW47IGkrKyl7XG4gICAgdmFyIGF0dHIgPSBhdHRyc1tpXTtcbiAgICB2YXIgdmFsdWUgPSBhdHRyLnZhbHVlfHx0cnVlO1xuICAgIHZhciBuYW1lID0gYXR0ci5uYW1lO1xuICAgIC8vIG5lZWQgY29tcGlsZWRcbiAgICBpZih2YWx1ZS50eXBlID09PSAnZXhwcmVzc2lvbicgJiYgIWF0dHIuZXZlbnQpe1xuICAgICAgdmFsdWUgPSBzZWxmLl90b3VjaEV4cHIodmFsdWUpO1xuICAgICAgLy8gdXNlIGJpdCBvcGVyYXRlIHRvIGNvbnRyb2wgc2NvcGVcbiAgICAgIGlmKCAhKGlzb2xhdGUgJiAyKSApIFxuICAgICAgICB0aGlzLiR3YXRjaCh2YWx1ZSwgY29tcG9uZW50LiR1cGRhdGUuYmluZChjb21wb25lbnQsIG5hbWUpKVxuICAgICAgaWYoIHZhbHVlLnNldCAmJiAhKGlzb2xhdGUgJiAxICkgKSBcbiAgICAgICAgLy8gc3luYyB0aGUgZGF0YS4gaXQgZm9yY2UgdGhlIGNvbXBvbmVudCBkb24ndCB0cmlnZ2VyIGF0dHIubmFtZSdzIGZpcnN0IGRpcnR5IGVjaGVja1xuICAgICAgICBjb21wb25lbnQuJHdhdGNoKG5hbWUsIHNlbGYuJHVwZGF0ZS5iaW5kKHNlbGYsIHZhbHVlKSwge3N5bmM6IHRydWV9KTtcbiAgICB9XG4gIH1cbiAgaWYoaXMgJiYgaXMudHlwZSA9PT0gJ2V4cHJlc3Npb24nICApe1xuICAgIHZhciBncm91cCA9IG5ldyBHcm91cCgpO1xuICAgIGdyb3VwLnB1c2goY29tcG9uZW50KTtcbiAgICB0aGlzLiR3YXRjaChpcywgZnVuY3Rpb24odmFsdWUpe1xuICAgICAgLy8gZm91bmQgdGhlIG5ldyBjb21wb25lbnRcbiAgICAgIHZhciBDb21wb25lbnQgPSBDb25zdHJ1Y3Rvci5jb21wb25lbnQodmFsdWUpO1xuICAgICAgaWYoIUNvbXBvbmVudCkgdGhyb3cgbmV3IEVycm9yKFwiY29tcG9uZW50IFwiICsgdmFsdWUgKyBcIiBoYXMgbm90IHJlZ2lzdGVkIVwiKTtcbiAgICAgIHZhciBuY29tcG9uZW50ID0gbmV3IENvbXBvbmVudChkZWZpbml0aW9uKTtcbiAgICAgIHZhciBjb21wb25lbnQgPSBncm91cC5jaGlsZHJlbi5wb3AoKTtcbiAgICAgIGdyb3VwLnB1c2gobmNvbXBvbmVudCk7XG4gICAgICBuY29tcG9uZW50LiRpbmplY3QoY29tYmluZS5sYXN0KGNvbXBvbmVudCksICdhZnRlcicpXG4gICAgICBjb21wb25lbnQuZGVzdHJveSgpO1xuICAgICAgLy8gQFRPRE8gIGlmIGNvbXBvbmVudCBjaGFuZ2VkICwgd2UgbmVlZCB1cGRhdGUgcmVmXG4gICAgICBpZihyZWYpe1xuICAgICAgICBzZWxmLiRyZWZzW3JlZl0gPSBuY29tcG9uZW50O1xuICAgICAgfVxuICAgIH0sIHtzeW5jOiB0cnVlfSlcbiAgICByZXR1cm4gZ3JvdXA7XG4gIH1cbiAgcmV0dXJuIGNvbXBvbmVudDtcbn1cblxuZnVuY3Rpb24gd2Fsa0F0dHJpYnV0ZXMoYXR0cnMsIGVsZW1lbnQsIGV4dHJhKXtcbiAgdmFyIGJpbmRpbmdzID0gW11cbiAgZm9yKHZhciBpID0gMCwgbGVuID0gYXR0cnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuICAgIHZhciBiaW5kaW5nID0gdGhpcy5fd2FsayhhdHRyc1tpXSwge2VsZW1lbnQ6IGVsZW1lbnQsIGZyb21FbGVtZW50OiB0cnVlLCBhdHRyczogYXR0cnMsIGV4dHJhOiBleHRyYX0pXG4gICAgaWYoYmluZGluZykgYmluZGluZ3MucHVzaChiaW5kaW5nKTtcbiAgfVxuICByZXR1cm4gYmluZGluZ3M7XG59XG5cbndhbGtlcnMuYXR0cmlidXRlID0gZnVuY3Rpb24oYXN0ICxvcHRpb25zKXtcblxuICB2YXIgYXR0ciA9IGFzdDtcbiAgdmFyIG5hbWUgPSBhdHRyLm5hbWU7XG4gIHZhciB2YWx1ZSA9IGF0dHIudmFsdWUgfHwgXCJcIjtcbiAgdmFyIGNvbnN0YW50ID0gdmFsdWUuY29uc3RhbnQ7XG4gIHZhciBDb21wb25lbnQgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICB2YXIgZGlyZWN0aXZlID0gQ29tcG9uZW50LmRpcmVjdGl2ZShuYW1lKTtcbiAgdmFyIGVsZW1lbnQgPSBvcHRpb25zLmVsZW1lbnQ7XG4gIHZhciBzZWxmID0gdGhpcztcblxuXG4gIHZhbHVlID0gdGhpcy5fdG91Y2hFeHByKHZhbHVlKTtcblxuICBpZihjb25zdGFudCkgdmFsdWUgPSB2YWx1ZS5nZXQodGhpcyk7XG5cbiAgaWYoZGlyZWN0aXZlICYmIGRpcmVjdGl2ZS5saW5rKXtcbiAgICB2YXIgYmluZGluZyA9IGRpcmVjdGl2ZS5saW5rLmNhbGwoc2VsZiwgZWxlbWVudCwgdmFsdWUsIG5hbWUsIG9wdGlvbnMuYXR0cnMpO1xuICAgIGlmKHR5cGVvZiBiaW5kaW5nID09PSAnZnVuY3Rpb24nKSBiaW5kaW5nID0ge2Rlc3Ryb3k6IGJpbmRpbmd9OyBcbiAgICByZXR1cm4gYmluZGluZztcbiAgfSBlbHNle1xuICAgIGlmKHZhbHVlLnR5cGUgPT09ICdleHByZXNzaW9uJyApe1xuICAgICAgdGhpcy4kd2F0Y2godmFsdWUsIGZ1bmN0aW9uKG52YWx1ZSwgb2xkKXtcbiAgICAgICAgZG9tLmF0dHIoZWxlbWVudCwgbmFtZSwgbnZhbHVlKTtcbiAgICAgIH0sIHtpbml0OiB0cnVlfSk7XG4gICAgfWVsc2V7XG4gICAgICBpZihfLmlzQm9vbGVhbkF0dHIobmFtZSkpe1xuICAgICAgICBkb20uYXR0cihlbGVtZW50LCBuYW1lLCB0cnVlKTtcbiAgICAgIH1lbHNle1xuICAgICAgICBkb20uYXR0cihlbGVtZW50LCBuYW1lLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmKCFvcHRpb25zLmZyb21FbGVtZW50KXtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgZG9tLmF0dHIoZWxlbWVudCwgbmFtZSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxufVxuXG4iLCIvKiFcbiAgKiBSZXF3ZXN0ISBBIGdlbmVyYWwgcHVycG9zZSBYSFIgY29ubmVjdGlvbiBtYW5hZ2VyXG4gICogbGljZW5zZSBNSVQgKGMpIER1c3RpbiBEaWF6IDIwMTRcbiAgKiBodHRwczovL2dpdGh1Yi5jb20vZGVkL3JlcXdlc3RcbiAgKi9cblxuIWZ1bmN0aW9uIChuYW1lLCBjb250ZXh0LCBkZWZpbml0aW9uKSB7XG4gIGlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSBtb2R1bGUuZXhwb3J0cyA9IGRlZmluaXRpb24oKVxuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgZGVmaW5lKGRlZmluaXRpb24pXG4gIGVsc2UgY29udGV4dFtuYW1lXSA9IGRlZmluaXRpb24oKVxufSgncmVxd2VzdCcsIHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuICB2YXIgd2luID0gd2luZG93XG4gICAgLCBkb2MgPSBkb2N1bWVudFxuICAgICwgaHR0cHNSZSA9IC9eaHR0cC9cbiAgICAsIHByb3RvY29sUmUgPSAvKF5cXHcrKTpcXC9cXC8vXG4gICAgLCB0d29IdW5kbyA9IC9eKDIwXFxkfDEyMjMpJC8gLy9odHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwMDQ2OTcyL21zaWUtcmV0dXJucy1zdGF0dXMtY29kZS1vZi0xMjIzLWZvci1hamF4LXJlcXVlc3RcbiAgICAsIGJ5VGFnID0gJ2dldEVsZW1lbnRzQnlUYWdOYW1lJ1xuICAgICwgcmVhZHlTdGF0ZSA9ICdyZWFkeVN0YXRlJ1xuICAgICwgY29udGVudFR5cGUgPSAnQ29udGVudC1UeXBlJ1xuICAgICwgcmVxdWVzdGVkV2l0aCA9ICdYLVJlcXVlc3RlZC1XaXRoJ1xuICAgICwgaGVhZCA9IGRvY1tieVRhZ10oJ2hlYWQnKVswXVxuICAgICwgdW5pcWlkID0gMFxuICAgICwgY2FsbGJhY2tQcmVmaXggPSAncmVxd2VzdF8nICsgKCtuZXcgRGF0ZSgpKVxuICAgICwgbGFzdFZhbHVlIC8vIGRhdGEgc3RvcmVkIGJ5IHRoZSBtb3N0IHJlY2VudCBKU09OUCBjYWxsYmFja1xuICAgICwgeG1sSHR0cFJlcXVlc3QgPSAnWE1MSHR0cFJlcXVlc3QnXG4gICAgLCB4RG9tYWluUmVxdWVzdCA9ICdYRG9tYWluUmVxdWVzdCdcbiAgICAsIG5vb3AgPSBmdW5jdGlvbiAoKSB7fVxuXG4gICAgLCBpc0FycmF5ID0gdHlwZW9mIEFycmF5LmlzQXJyYXkgPT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IEFycmF5LmlzQXJyYXlcbiAgICAgICAgOiBmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgcmV0dXJuIGEgaW5zdGFuY2VvZiBBcnJheVxuICAgICAgICAgIH1cblxuICAgICwgZGVmYXVsdEhlYWRlcnMgPSB7XG4gICAgICAgICAgJ2NvbnRlbnRUeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbiAgICAgICAgLCAncmVxdWVzdGVkV2l0aCc6IHhtbEh0dHBSZXF1ZXN0XG4gICAgICAgICwgJ2FjY2VwdCc6IHtcbiAgICAgICAgICAgICAgJyonOiAgJ3RleHQvamF2YXNjcmlwdCwgdGV4dC9odG1sLCBhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sLCAqLyonXG4gICAgICAgICAgICAsICd4bWwnOiAgJ2FwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwnXG4gICAgICAgICAgICAsICdodG1sJzogJ3RleHQvaHRtbCdcbiAgICAgICAgICAgICwgJ3RleHQnOiAndGV4dC9wbGFpbidcbiAgICAgICAgICAgICwgJ2pzb24nOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0J1xuICAgICAgICAgICAgLCAnanMnOiAgICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCB0ZXh0L2phdmFzY3JpcHQnXG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgLCB4aHIgPSBmdW5jdGlvbihvKSB7XG4gICAgICAgIC8vIGlzIGl0IHgtZG9tYWluXG4gICAgICAgIGlmIChvWydjcm9zc09yaWdpbiddID09PSB0cnVlKSB7XG4gICAgICAgICAgdmFyIHhociA9IHdpblt4bWxIdHRwUmVxdWVzdF0gPyBuZXcgWE1MSHR0cFJlcXVlc3QoKSA6IG51bGxcbiAgICAgICAgICBpZiAoeGhyICYmICd3aXRoQ3JlZGVudGlhbHMnIGluIHhocikge1xuICAgICAgICAgICAgcmV0dXJuIHhoclxuICAgICAgICAgIH0gZWxzZSBpZiAod2luW3hEb21haW5SZXF1ZXN0XSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBYRG9tYWluUmVxdWVzdCgpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGNyb3NzLW9yaWdpbiByZXF1ZXN0cycpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHdpblt4bWxIdHRwUmVxdWVzdF0pIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0KClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01pY3Jvc29mdC5YTUxIVFRQJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICwgZ2xvYmFsU2V0dXBPcHRpb25zID0ge1xuICAgICAgICBkYXRhRmlsdGVyOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIHJldHVybiBkYXRhXG4gICAgICAgIH1cbiAgICAgIH1cblxuICBmdW5jdGlvbiBzdWNjZWVkKHIpIHtcbiAgICB2YXIgcHJvdG9jb2wgPSBwcm90b2NvbFJlLmV4ZWMoci51cmwpO1xuICAgIHByb3RvY29sID0gKHByb3RvY29sICYmIHByb3RvY29sWzFdKSB8fCB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2w7XG4gICAgcmV0dXJuIGh0dHBzUmUudGVzdChwcm90b2NvbCkgPyB0d29IdW5kby50ZXN0KHIucmVxdWVzdC5zdGF0dXMpIDogISFyLnJlcXVlc3QucmVzcG9uc2U7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVSZWFkeVN0YXRlKHIsIHN1Y2Nlc3MsIGVycm9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIHVzZSBfYWJvcnRlZCB0byBtaXRpZ2F0ZSBhZ2FpbnN0IElFIGVyciBjMDBjMDIzZlxuICAgICAgLy8gKGNhbid0IHJlYWQgcHJvcHMgb24gYWJvcnRlZCByZXF1ZXN0IG9iamVjdHMpXG4gICAgICBpZiAoci5fYWJvcnRlZCkgcmV0dXJuIGVycm9yKHIucmVxdWVzdClcbiAgICAgIGlmIChyLl90aW1lZE91dCkgcmV0dXJuIGVycm9yKHIucmVxdWVzdCwgJ1JlcXVlc3QgaXMgYWJvcnRlZDogdGltZW91dCcpXG4gICAgICBpZiAoci5yZXF1ZXN0ICYmIHIucmVxdWVzdFtyZWFkeVN0YXRlXSA9PSA0KSB7XG4gICAgICAgIHIucmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBub29wXG4gICAgICAgIGlmIChzdWNjZWVkKHIpKSBzdWNjZXNzKHIucmVxdWVzdClcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGVycm9yKHIucmVxdWVzdClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRIZWFkZXJzKGh0dHAsIG8pIHtcbiAgICB2YXIgaGVhZGVycyA9IG9bJ2hlYWRlcnMnXSB8fCB7fVxuICAgICAgLCBoXG5cbiAgICBoZWFkZXJzWydBY2NlcHQnXSA9IGhlYWRlcnNbJ0FjY2VwdCddXG4gICAgICB8fCBkZWZhdWx0SGVhZGVyc1snYWNjZXB0J11bb1sndHlwZSddXVxuICAgICAgfHwgZGVmYXVsdEhlYWRlcnNbJ2FjY2VwdCddWycqJ11cblxuICAgIHZhciBpc0FGb3JtRGF0YSA9IHR5cGVvZiBGb3JtRGF0YSA9PT0gJ2Z1bmN0aW9uJyAmJiAob1snZGF0YSddIGluc3RhbmNlb2YgRm9ybURhdGEpO1xuICAgIC8vIGJyZWFrcyBjcm9zcy1vcmlnaW4gcmVxdWVzdHMgd2l0aCBsZWdhY3kgYnJvd3NlcnNcbiAgICBpZiAoIW9bJ2Nyb3NzT3JpZ2luJ10gJiYgIWhlYWRlcnNbcmVxdWVzdGVkV2l0aF0pIGhlYWRlcnNbcmVxdWVzdGVkV2l0aF0gPSBkZWZhdWx0SGVhZGVyc1sncmVxdWVzdGVkV2l0aCddXG4gICAgaWYgKCFoZWFkZXJzW2NvbnRlbnRUeXBlXSAmJiAhaXNBRm9ybURhdGEpIGhlYWRlcnNbY29udGVudFR5cGVdID0gb1snY29udGVudFR5cGUnXSB8fCBkZWZhdWx0SGVhZGVyc1snY29udGVudFR5cGUnXVxuICAgIGZvciAoaCBpbiBoZWFkZXJzKVxuICAgICAgaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShoKSAmJiAnc2V0UmVxdWVzdEhlYWRlcicgaW4gaHR0cCAmJiBodHRwLnNldFJlcXVlc3RIZWFkZXIoaCwgaGVhZGVyc1toXSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldENyZWRlbnRpYWxzKGh0dHAsIG8pIHtcbiAgICBpZiAodHlwZW9mIG9bJ3dpdGhDcmVkZW50aWFscyddICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaHR0cC53aXRoQ3JlZGVudGlhbHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBodHRwLndpdGhDcmVkZW50aWFscyA9ICEhb1snd2l0aENyZWRlbnRpYWxzJ11cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZW5lcmFsQ2FsbGJhY2soZGF0YSkge1xuICAgIGxhc3RWYWx1ZSA9IGRhdGFcbiAgfVxuXG4gIGZ1bmN0aW9uIHVybGFwcGVuZCAodXJsLCBzKSB7XG4gICAgcmV0dXJuIHVybCArICgvXFw/Ly50ZXN0KHVybCkgPyAnJicgOiAnPycpICsgc1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlSnNvbnAobywgZm4sIGVyciwgdXJsKSB7XG4gICAgdmFyIHJlcUlkID0gdW5pcWlkKytcbiAgICAgICwgY2JrZXkgPSBvWydqc29ucENhbGxiYWNrJ10gfHwgJ2NhbGxiYWNrJyAvLyB0aGUgJ2NhbGxiYWNrJyBrZXlcbiAgICAgICwgY2J2YWwgPSBvWydqc29ucENhbGxiYWNrTmFtZSddIHx8IHJlcXdlc3QuZ2V0Y2FsbGJhY2tQcmVmaXgocmVxSWQpXG4gICAgICAsIGNicmVnID0gbmV3IFJlZ0V4cCgnKChefFxcXFw/fCYpJyArIGNia2V5ICsgJyk9KFteJl0rKScpXG4gICAgICAsIG1hdGNoID0gdXJsLm1hdGNoKGNicmVnKVxuICAgICAgLCBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudCgnc2NyaXB0JylcbiAgICAgICwgbG9hZGVkID0gMFxuICAgICAgLCBpc0lFMTAgPSBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ01TSUUgMTAuMCcpICE9PSAtMVxuXG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBpZiAobWF0Y2hbM10gPT09ICc/Jykge1xuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShjYnJlZywgJyQxPScgKyBjYnZhbCkgLy8gd2lsZGNhcmQgY2FsbGJhY2sgZnVuYyBuYW1lXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYnZhbCA9IG1hdGNoWzNdIC8vIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmMgbmFtZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB1cmwgPSB1cmxhcHBlbmQodXJsLCBjYmtleSArICc9JyArIGNidmFsKSAvLyBubyBjYWxsYmFjayBkZXRhaWxzLCBhZGQgJ2VtXG4gICAgfVxuXG4gICAgd2luW2NidmFsXSA9IGdlbmVyYWxDYWxsYmFja1xuXG4gICAgc2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0J1xuICAgIHNjcmlwdC5zcmMgPSB1cmxcbiAgICBzY3JpcHQuYXN5bmMgPSB0cnVlXG4gICAgaWYgKHR5cGVvZiBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlICE9PSAndW5kZWZpbmVkJyAmJiAhaXNJRTEwKSB7XG4gICAgICAvLyBuZWVkIHRoaXMgZm9yIElFIGR1ZSB0byBvdXQtb2Ytb3JkZXIgb25yZWFkeXN0YXRlY2hhbmdlKCksIGJpbmRpbmcgc2NyaXB0XG4gICAgICAvLyBleGVjdXRpb24gdG8gYW4gZXZlbnQgbGlzdGVuZXIgZ2l2ZXMgdXMgY29udHJvbCBvdmVyIHdoZW4gdGhlIHNjcmlwdFxuICAgICAgLy8gaXMgZXhlY3V0ZWQuIFNlZSBodHRwOi8vamF1Ym91cmcubmV0LzIwMTAvMDcvbG9hZGluZy1zY3JpcHQtYXMtb25jbGljay1oYW5kbGVyLW9mLmh0bWxcbiAgICAgIHNjcmlwdC5odG1sRm9yID0gc2NyaXB0LmlkID0gJ19yZXF3ZXN0XycgKyByZXFJZFxuICAgIH1cblxuICAgIHNjcmlwdC5vbmxvYWQgPSBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKChzY3JpcHRbcmVhZHlTdGF0ZV0gJiYgc2NyaXB0W3JlYWR5U3RhdGVdICE9PSAnY29tcGxldGUnICYmIHNjcmlwdFtyZWFkeVN0YXRlXSAhPT0gJ2xvYWRlZCcpIHx8IGxvYWRlZCkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIHNjcmlwdC5vbmxvYWQgPSBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbFxuICAgICAgc2NyaXB0Lm9uY2xpY2sgJiYgc2NyaXB0Lm9uY2xpY2soKVxuICAgICAgLy8gQ2FsbCB0aGUgdXNlciBjYWxsYmFjayB3aXRoIHRoZSBsYXN0IHZhbHVlIHN0b3JlZCBhbmQgY2xlYW4gdXAgdmFsdWVzIGFuZCBzY3JpcHRzLlxuICAgICAgZm4obGFzdFZhbHVlKVxuICAgICAgbGFzdFZhbHVlID0gdW5kZWZpbmVkXG4gICAgICBoZWFkLnJlbW92ZUNoaWxkKHNjcmlwdClcbiAgICAgIGxvYWRlZCA9IDFcbiAgICB9XG5cbiAgICAvLyBBZGQgdGhlIHNjcmlwdCB0byB0aGUgRE9NIGhlYWRcbiAgICBoZWFkLmFwcGVuZENoaWxkKHNjcmlwdClcblxuICAgIC8vIEVuYWJsZSBKU09OUCB0aW1lb3V0XG4gICAgcmV0dXJuIHtcbiAgICAgIGFib3J0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNjcmlwdC5vbmxvYWQgPSBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbFxuICAgICAgICBlcnIoe30sICdSZXF1ZXN0IGlzIGFib3J0ZWQ6IHRpbWVvdXQnLCB7fSlcbiAgICAgICAgbGFzdFZhbHVlID0gdW5kZWZpbmVkXG4gICAgICAgIGhlYWQucmVtb3ZlQ2hpbGQoc2NyaXB0KVxuICAgICAgICBsb2FkZWQgPSAxXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmVxdWVzdChmbiwgZXJyKSB7XG4gICAgdmFyIG8gPSB0aGlzLm9cbiAgICAgICwgbWV0aG9kID0gKG9bJ21ldGhvZCddIHx8ICdHRVQnKS50b1VwcGVyQ2FzZSgpXG4gICAgICAsIHVybCA9IHR5cGVvZiBvID09PSAnc3RyaW5nJyA/IG8gOiBvWyd1cmwnXVxuICAgICAgLy8gY29udmVydCBub24tc3RyaW5nIG9iamVjdHMgdG8gcXVlcnktc3RyaW5nIGZvcm0gdW5sZXNzIG9bJ3Byb2Nlc3NEYXRhJ10gaXMgZmFsc2VcbiAgICAgICwgZGF0YSA9IChvWydwcm9jZXNzRGF0YSddICE9PSBmYWxzZSAmJiBvWydkYXRhJ10gJiYgdHlwZW9mIG9bJ2RhdGEnXSAhPT0gJ3N0cmluZycpXG4gICAgICAgID8gcmVxd2VzdC50b1F1ZXJ5U3RyaW5nKG9bJ2RhdGEnXSlcbiAgICAgICAgOiAob1snZGF0YSddIHx8IG51bGwpXG4gICAgICAsIGh0dHBcbiAgICAgICwgc2VuZFdhaXQgPSBmYWxzZVxuXG4gICAgLy8gaWYgd2UncmUgd29ya2luZyBvbiBhIEdFVCByZXF1ZXN0IGFuZCB3ZSBoYXZlIGRhdGEgdGhlbiB3ZSBzaG91bGQgYXBwZW5kXG4gICAgLy8gcXVlcnkgc3RyaW5nIHRvIGVuZCBvZiBVUkwgYW5kIG5vdCBwb3N0IGRhdGFcbiAgICBpZiAoKG9bJ3R5cGUnXSA9PSAnanNvbnAnIHx8IG1ldGhvZCA9PSAnR0VUJykgJiYgZGF0YSkge1xuICAgICAgdXJsID0gdXJsYXBwZW5kKHVybCwgZGF0YSlcbiAgICAgIGRhdGEgPSBudWxsXG4gICAgfVxuXG4gICAgaWYgKG9bJ3R5cGUnXSA9PSAnanNvbnAnKSByZXR1cm4gaGFuZGxlSnNvbnAobywgZm4sIGVyciwgdXJsKVxuXG4gICAgLy8gZ2V0IHRoZSB4aHIgZnJvbSB0aGUgZmFjdG9yeSBpZiBwYXNzZWRcbiAgICAvLyBpZiB0aGUgZmFjdG9yeSByZXR1cm5zIG51bGwsIGZhbGwtYmFjayB0byBvdXJzXG4gICAgaHR0cCA9IChvLnhociAmJiBvLnhocihvKSkgfHwgeGhyKG8pXG5cbiAgICBodHRwLm9wZW4obWV0aG9kLCB1cmwsIG9bJ2FzeW5jJ10gPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlKVxuICAgIHNldEhlYWRlcnMoaHR0cCwgbylcbiAgICBzZXRDcmVkZW50aWFscyhodHRwLCBvKVxuICAgIGlmICh3aW5beERvbWFpblJlcXVlc3RdICYmIGh0dHAgaW5zdGFuY2VvZiB3aW5beERvbWFpblJlcXVlc3RdKSB7XG4gICAgICAgIGh0dHAub25sb2FkID0gZm5cbiAgICAgICAgaHR0cC5vbmVycm9yID0gZXJyXG4gICAgICAgIC8vIE5PVEU6IHNlZVxuICAgICAgICAvLyBodHRwOi8vc29jaWFsLm1zZG4ubWljcm9zb2Z0LmNvbS9Gb3J1bXMvZW4tVVMvaWV3ZWJkZXZlbG9wbWVudC90aHJlYWQvMzBlZjNhZGQtNzY3Yy00NDM2LWI4YTktZjFjYTE5YjQ4MTJlXG4gICAgICAgIGh0dHAub25wcm9ncmVzcyA9IGZ1bmN0aW9uKCkge31cbiAgICAgICAgc2VuZFdhaXQgPSB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gaGFuZGxlUmVhZHlTdGF0ZSh0aGlzLCBmbiwgZXJyKVxuICAgIH1cbiAgICBvWydiZWZvcmUnXSAmJiBvWydiZWZvcmUnXShodHRwKVxuICAgIGlmIChzZW5kV2FpdCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGh0dHAuc2VuZChkYXRhKVxuICAgICAgfSwgMjAwKVxuICAgIH0gZWxzZSB7XG4gICAgICBodHRwLnNlbmQoZGF0YSlcbiAgICB9XG4gICAgcmV0dXJuIGh0dHBcbiAgfVxuXG4gIGZ1bmN0aW9uIFJlcXdlc3QobywgZm4pIHtcbiAgICB0aGlzLm8gPSBvXG4gICAgdGhpcy5mbiA9IGZuXG5cbiAgICBpbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFR5cGUoaGVhZGVyKSB7XG4gICAgLy8ganNvbiwgamF2YXNjcmlwdCwgdGV4dC9wbGFpbiwgdGV4dC9odG1sLCB4bWxcbiAgICBpZiAoaGVhZGVyLm1hdGNoKCdqc29uJykpIHJldHVybiAnanNvbidcbiAgICBpZiAoaGVhZGVyLm1hdGNoKCdqYXZhc2NyaXB0JykpIHJldHVybiAnanMnXG4gICAgaWYgKGhlYWRlci5tYXRjaCgndGV4dCcpKSByZXR1cm4gJ2h0bWwnXG4gICAgaWYgKGhlYWRlci5tYXRjaCgneG1sJykpIHJldHVybiAneG1sJ1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdChvLCBmbikge1xuXG4gICAgdGhpcy51cmwgPSB0eXBlb2YgbyA9PSAnc3RyaW5nJyA/IG8gOiBvWyd1cmwnXVxuICAgIHRoaXMudGltZW91dCA9IG51bGxcblxuICAgIC8vIHdoZXRoZXIgcmVxdWVzdCBoYXMgYmVlbiBmdWxmaWxsZWQgZm9yIHB1cnBvc2VcbiAgICAvLyBvZiB0cmFja2luZyB0aGUgUHJvbWlzZXNcbiAgICB0aGlzLl9mdWxmaWxsZWQgPSBmYWxzZVxuICAgIC8vIHN1Y2Nlc3MgaGFuZGxlcnNcbiAgICB0aGlzLl9zdWNjZXNzSGFuZGxlciA9IGZ1bmN0aW9uKCl7fVxuICAgIHRoaXMuX2Z1bGZpbGxtZW50SGFuZGxlcnMgPSBbXVxuICAgIC8vIGVycm9yIGhhbmRsZXJzXG4gICAgdGhpcy5fZXJyb3JIYW5kbGVycyA9IFtdXG4gICAgLy8gY29tcGxldGUgKGJvdGggc3VjY2VzcyBhbmQgZmFpbCkgaGFuZGxlcnNcbiAgICB0aGlzLl9jb21wbGV0ZUhhbmRsZXJzID0gW11cbiAgICB0aGlzLl9lcnJlZCA9IGZhbHNlXG4gICAgdGhpcy5fcmVzcG9uc2VBcmdzID0ge31cblxuICAgIHZhciBzZWxmID0gdGhpc1xuXG4gICAgZm4gPSBmbiB8fCBmdW5jdGlvbiAoKSB7fVxuXG4gICAgaWYgKG9bJ3RpbWVvdXQnXSkge1xuICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRpbWVkT3V0KClcbiAgICAgIH0sIG9bJ3RpbWVvdXQnXSlcbiAgICB9XG5cbiAgICBpZiAob1snc3VjY2VzcyddKSB7XG4gICAgICB0aGlzLl9zdWNjZXNzSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb1snc3VjY2VzcyddLmFwcGx5KG8sIGFyZ3VtZW50cylcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob1snZXJyb3InXSkge1xuICAgICAgdGhpcy5fZXJyb3JIYW5kbGVycy5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb1snZXJyb3InXS5hcHBseShvLCBhcmd1bWVudHMpXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChvWydjb21wbGV0ZSddKSB7XG4gICAgICB0aGlzLl9jb21wbGV0ZUhhbmRsZXJzLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICBvWydjb21wbGV0ZSddLmFwcGx5KG8sIGFyZ3VtZW50cylcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29tcGxldGUgKHJlc3ApIHtcbiAgICAgIG9bJ3RpbWVvdXQnXSAmJiBjbGVhclRpbWVvdXQoc2VsZi50aW1lb3V0KVxuICAgICAgc2VsZi50aW1lb3V0ID0gbnVsbFxuICAgICAgd2hpbGUgKHNlbGYuX2NvbXBsZXRlSGFuZGxlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICBzZWxmLl9jb21wbGV0ZUhhbmRsZXJzLnNoaWZ0KCkocmVzcClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdWNjZXNzIChyZXNwKSB7XG4gICAgICB2YXIgdHlwZSA9IG9bJ3R5cGUnXSB8fCByZXNwICYmIHNldFR5cGUocmVzcC5nZXRSZXNwb25zZUhlYWRlcignQ29udGVudC1UeXBlJykpIC8vIHJlc3AgY2FuIGJlIHVuZGVmaW5lZCBpbiBJRVxuICAgICAgcmVzcCA9ICh0eXBlICE9PSAnanNvbnAnKSA/IHNlbGYucmVxdWVzdCA6IHJlc3BcbiAgICAgIC8vIHVzZSBnbG9iYWwgZGF0YSBmaWx0ZXIgb24gcmVzcG9uc2UgdGV4dFxuICAgICAgdmFyIGZpbHRlcmVkUmVzcG9uc2UgPSBnbG9iYWxTZXR1cE9wdGlvbnMuZGF0YUZpbHRlcihyZXNwLnJlc3BvbnNlVGV4dCwgdHlwZSlcbiAgICAgICAgLCByID0gZmlsdGVyZWRSZXNwb25zZVxuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzcC5yZXNwb25zZVRleHQgPSByXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGNhbid0IGFzc2lnbiB0aGlzIGluIElFPD04LCBqdXN0IGlnbm9yZVxuICAgICAgfVxuICAgICAgaWYgKHIpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ2pzb24nOlxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXNwID0gd2luLkpTT04gPyB3aW4uSlNPTi5wYXJzZShyKSA6IGV2YWwoJygnICsgciArICcpJylcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcihyZXNwLCAnQ291bGQgbm90IHBhcnNlIEpTT04gaW4gcmVzcG9uc2UnLCBlcnIpXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2pzJzpcbiAgICAgICAgICByZXNwID0gZXZhbChyKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2h0bWwnOlxuICAgICAgICAgIHJlc3AgPSByXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAneG1sJzpcbiAgICAgICAgICByZXNwID0gcmVzcC5yZXNwb25zZVhNTFxuICAgICAgICAgICAgICAmJiByZXNwLnJlc3BvbnNlWE1MLnBhcnNlRXJyb3IgLy8gSUUgdHJvbG9sb1xuICAgICAgICAgICAgICAmJiByZXNwLnJlc3BvbnNlWE1MLnBhcnNlRXJyb3IuZXJyb3JDb2RlXG4gICAgICAgICAgICAgICYmIHJlc3AucmVzcG9uc2VYTUwucGFyc2VFcnJvci5yZWFzb25cbiAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgOiByZXNwLnJlc3BvbnNlWE1MXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZWxmLl9yZXNwb25zZUFyZ3MucmVzcCA9IHJlc3BcbiAgICAgIHNlbGYuX2Z1bGZpbGxlZCA9IHRydWVcbiAgICAgIGZuKHJlc3ApXG4gICAgICBzZWxmLl9zdWNjZXNzSGFuZGxlcihyZXNwKVxuICAgICAgd2hpbGUgKHNlbGYuX2Z1bGZpbGxtZW50SGFuZGxlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXNwID0gc2VsZi5fZnVsZmlsbG1lbnRIYW5kbGVycy5zaGlmdCgpKHJlc3ApXG4gICAgICB9XG5cbiAgICAgIGNvbXBsZXRlKHJlc3ApXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGltZWRPdXQoKSB7XG4gICAgICBzZWxmLl90aW1lZE91dCA9IHRydWVcbiAgICAgIHNlbGYucmVxdWVzdC5hYm9ydCgpICAgICAgXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXJyb3IocmVzcCwgbXNnLCB0KSB7XG4gICAgICByZXNwID0gc2VsZi5yZXF1ZXN0XG4gICAgICBzZWxmLl9yZXNwb25zZUFyZ3MucmVzcCA9IHJlc3BcbiAgICAgIHNlbGYuX3Jlc3BvbnNlQXJncy5tc2cgPSBtc2dcbiAgICAgIHNlbGYuX3Jlc3BvbnNlQXJncy50ID0gdFxuICAgICAgc2VsZi5fZXJyZWQgPSB0cnVlXG4gICAgICB3aGlsZSAoc2VsZi5fZXJyb3JIYW5kbGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHNlbGYuX2Vycm9ySGFuZGxlcnMuc2hpZnQoKShyZXNwLCBtc2csIHQpXG4gICAgICB9XG4gICAgICBjb21wbGV0ZShyZXNwKVxuICAgIH1cblxuICAgIHRoaXMucmVxdWVzdCA9IGdldFJlcXVlc3QuY2FsbCh0aGlzLCBzdWNjZXNzLCBlcnJvcilcbiAgfVxuXG4gIFJlcXdlc3QucHJvdG90eXBlID0ge1xuICAgIGFib3J0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLl9hYm9ydGVkID0gdHJ1ZVxuICAgICAgdGhpcy5yZXF1ZXN0LmFib3J0KClcbiAgICB9XG5cbiAgLCByZXRyeTogZnVuY3Rpb24gKCkge1xuICAgICAgaW5pdC5jYWxsKHRoaXMsIHRoaXMubywgdGhpcy5mbilcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTbWFsbCBkZXZpYXRpb24gZnJvbSB0aGUgUHJvbWlzZXMgQSBDb21tb25KcyBzcGVjaWZpY2F0aW9uXG4gICAgICogaHR0cDovL3dpa2kuY29tbW9uanMub3JnL3dpa2kvUHJvbWlzZXMvQVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogYHRoZW5gIHdpbGwgZXhlY3V0ZSB1cG9uIHN1Y2Nlc3NmdWwgcmVxdWVzdHNcbiAgICAgKi9cbiAgLCB0aGVuOiBmdW5jdGlvbiAoc3VjY2VzcywgZmFpbCkge1xuICAgICAgc3VjY2VzcyA9IHN1Y2Nlc3MgfHwgZnVuY3Rpb24gKCkge31cbiAgICAgIGZhaWwgPSBmYWlsIHx8IGZ1bmN0aW9uICgpIHt9XG4gICAgICBpZiAodGhpcy5fZnVsZmlsbGVkKSB7XG4gICAgICAgIHRoaXMuX3Jlc3BvbnNlQXJncy5yZXNwID0gc3VjY2Vzcyh0aGlzLl9yZXNwb25zZUFyZ3MucmVzcClcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fZXJyZWQpIHtcbiAgICAgICAgZmFpbCh0aGlzLl9yZXNwb25zZUFyZ3MucmVzcCwgdGhpcy5fcmVzcG9uc2VBcmdzLm1zZywgdGhpcy5fcmVzcG9uc2VBcmdzLnQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9mdWxmaWxsbWVudEhhbmRsZXJzLnB1c2goc3VjY2VzcylcbiAgICAgICAgdGhpcy5fZXJyb3JIYW5kbGVycy5wdXNoKGZhaWwpXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGBhbHdheXNgIHdpbGwgZXhlY3V0ZSB3aGV0aGVyIHRoZSByZXF1ZXN0IHN1Y2NlZWRzIG9yIGZhaWxzXG4gICAgICovXG4gICwgYWx3YXlzOiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgIGlmICh0aGlzLl9mdWxmaWxsZWQgfHwgdGhpcy5fZXJyZWQpIHtcbiAgICAgICAgZm4odGhpcy5fcmVzcG9uc2VBcmdzLnJlc3ApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9jb21wbGV0ZUhhbmRsZXJzLnB1c2goZm4pXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGBmYWlsYCB3aWxsIGV4ZWN1dGUgd2hlbiB0aGUgcmVxdWVzdCBmYWlsc1xuICAgICAqL1xuICAsIGZhaWw6IGZ1bmN0aW9uIChmbikge1xuICAgICAgaWYgKHRoaXMuX2VycmVkKSB7XG4gICAgICAgIGZuKHRoaXMuX3Jlc3BvbnNlQXJncy5yZXNwLCB0aGlzLl9yZXNwb25zZUFyZ3MubXNnLCB0aGlzLl9yZXNwb25zZUFyZ3MudClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2Vycm9ySGFuZGxlcnMucHVzaChmbilcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAsICdjYXRjaCc6IGZ1bmN0aW9uIChmbikge1xuICAgICAgcmV0dXJuIHRoaXMuZmFpbChmbilcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXF3ZXN0KG8sIGZuKSB7XG4gICAgcmV0dXJuIG5ldyBSZXF3ZXN0KG8sIGZuKVxuICB9XG5cbiAgLy8gbm9ybWFsaXplIG5ld2xpbmUgdmFyaWFudHMgYWNjb3JkaW5nIHRvIHNwZWMgLT4gQ1JMRlxuICBmdW5jdGlvbiBub3JtYWxpemUocykge1xuICAgIHJldHVybiBzID8gcy5yZXBsYWNlKC9cXHI/XFxuL2csICdcXHJcXG4nKSA6ICcnXG4gIH1cblxuICBmdW5jdGlvbiBzZXJpYWwoZWwsIGNiKSB7XG4gICAgdmFyIG4gPSBlbC5uYW1lXG4gICAgICAsIHQgPSBlbC50YWdOYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICwgb3B0Q2IgPSBmdW5jdGlvbiAobykge1xuICAgICAgICAgIC8vIElFIGdpdmVzIHZhbHVlPVwiXCIgZXZlbiB3aGVyZSB0aGVyZSBpcyBubyB2YWx1ZSBhdHRyaWJ1dGVcbiAgICAgICAgICAvLyAnc3BlY2lmaWVkJyByZWY6IGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUNvcmUvY29yZS5odG1sI0lELTg2MjUyOTI3M1xuICAgICAgICAgIGlmIChvICYmICFvWydkaXNhYmxlZCddKVxuICAgICAgICAgICAgY2Iobiwgbm9ybWFsaXplKG9bJ2F0dHJpYnV0ZXMnXVsndmFsdWUnXSAmJiBvWydhdHRyaWJ1dGVzJ11bJ3ZhbHVlJ11bJ3NwZWNpZmllZCddID8gb1sndmFsdWUnXSA6IG9bJ3RleHQnXSkpXG4gICAgICAgIH1cbiAgICAgICwgY2gsIHJhLCB2YWwsIGlcblxuICAgIC8vIGRvbid0IHNlcmlhbGl6ZSBlbGVtZW50cyB0aGF0IGFyZSBkaXNhYmxlZCBvciB3aXRob3V0IGEgbmFtZVxuICAgIGlmIChlbC5kaXNhYmxlZCB8fCAhbikgcmV0dXJuXG5cbiAgICBzd2l0Y2ggKHQpIHtcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICBpZiAoIS9yZXNldHxidXR0b258aW1hZ2V8ZmlsZS9pLnRlc3QoZWwudHlwZSkpIHtcbiAgICAgICAgY2ggPSAvY2hlY2tib3gvaS50ZXN0KGVsLnR5cGUpXG4gICAgICAgIHJhID0gL3JhZGlvL2kudGVzdChlbC50eXBlKVxuICAgICAgICB2YWwgPSBlbC52YWx1ZVxuICAgICAgICAvLyBXZWJLaXQgZ2l2ZXMgdXMgXCJcIiBpbnN0ZWFkIG9mIFwib25cIiBpZiBhIGNoZWNrYm94IGhhcyBubyB2YWx1ZSwgc28gY29ycmVjdCBpdCBoZXJlXG4gICAgICAgIDsoIShjaCB8fCByYSkgfHwgZWwuY2hlY2tlZCkgJiYgY2Iobiwgbm9ybWFsaXplKGNoICYmIHZhbCA9PT0gJycgPyAnb24nIDogdmFsKSlcbiAgICAgIH1cbiAgICAgIGJyZWFrXG4gICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgY2Iobiwgbm9ybWFsaXplKGVsLnZhbHVlKSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIGlmIChlbC50eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdzZWxlY3Qtb25lJykge1xuICAgICAgICBvcHRDYihlbC5zZWxlY3RlZEluZGV4ID49IDAgPyBlbC5vcHRpb25zW2VsLnNlbGVjdGVkSW5kZXhdIDogbnVsbClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGVsLmxlbmd0aCAmJiBpIDwgZWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBlbC5vcHRpb25zW2ldLnNlbGVjdGVkICYmIG9wdENiKGVsLm9wdGlvbnNbaV0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgLy8gY29sbGVjdCB1cCBhbGwgZm9ybSBlbGVtZW50cyBmb3VuZCBmcm9tIHRoZSBwYXNzZWQgYXJndW1lbnQgZWxlbWVudHMgYWxsXG4gIC8vIHRoZSB3YXkgZG93biB0byBjaGlsZCBlbGVtZW50czsgcGFzcyBhICc8Zm9ybT4nIG9yIGZvcm0gZmllbGRzLlxuICAvLyBjYWxsZWQgd2l0aCAndGhpcyc9Y2FsbGJhY2sgdG8gdXNlIGZvciBzZXJpYWwoKSBvbiBlYWNoIGVsZW1lbnRcbiAgZnVuY3Rpb24gZWFjaEZvcm1FbGVtZW50KCkge1xuICAgIHZhciBjYiA9IHRoaXNcbiAgICAgICwgZSwgaVxuICAgICAgLCBzZXJpYWxpemVTdWJ0YWdzID0gZnVuY3Rpb24gKGUsIHRhZ3MpIHtcbiAgICAgICAgICB2YXIgaSwgaiwgZmFcbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGFncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZmEgPSBlW2J5VGFnXSh0YWdzW2ldKVxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGZhLmxlbmd0aDsgaisrKSBzZXJpYWwoZmFbal0sIGNiKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgZSA9IGFyZ3VtZW50c1tpXVxuICAgICAgaWYgKC9pbnB1dHxzZWxlY3R8dGV4dGFyZWEvaS50ZXN0KGUudGFnTmFtZSkpIHNlcmlhbChlLCBjYilcbiAgICAgIHNlcmlhbGl6ZVN1YnRhZ3MoZSwgWyAnaW5wdXQnLCAnc2VsZWN0JywgJ3RleHRhcmVhJyBdKVxuICAgIH1cbiAgfVxuXG4gIC8vIHN0YW5kYXJkIHF1ZXJ5IHN0cmluZyBzdHlsZSBzZXJpYWxpemF0aW9uXG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZVF1ZXJ5U3RyaW5nKCkge1xuICAgIHJldHVybiByZXF3ZXN0LnRvUXVlcnlTdHJpbmcocmVxd2VzdC5zZXJpYWxpemVBcnJheS5hcHBseShudWxsLCBhcmd1bWVudHMpKVxuICB9XG5cbiAgLy8geyAnbmFtZSc6ICd2YWx1ZScsIC4uLiB9IHN0eWxlIHNlcmlhbGl6YXRpb25cbiAgZnVuY3Rpb24gc2VyaWFsaXplSGFzaCgpIHtcbiAgICB2YXIgaGFzaCA9IHt9XG4gICAgZWFjaEZvcm1FbGVtZW50LmFwcGx5KGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgaWYgKG5hbWUgaW4gaGFzaCkge1xuICAgICAgICBoYXNoW25hbWVdICYmICFpc0FycmF5KGhhc2hbbmFtZV0pICYmIChoYXNoW25hbWVdID0gW2hhc2hbbmFtZV1dKVxuICAgICAgICBoYXNoW25hbWVdLnB1c2godmFsdWUpXG4gICAgICB9IGVsc2UgaGFzaFtuYW1lXSA9IHZhbHVlXG4gICAgfSwgYXJndW1lbnRzKVxuICAgIHJldHVybiBoYXNoXG4gIH1cblxuICAvLyBbIHsgbmFtZTogJ25hbWUnLCB2YWx1ZTogJ3ZhbHVlJyB9LCAuLi4gXSBzdHlsZSBzZXJpYWxpemF0aW9uXG4gIHJlcXdlc3Quc2VyaWFsaXplQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFyciA9IFtdXG4gICAgZWFjaEZvcm1FbGVtZW50LmFwcGx5KGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgYXJyLnB1c2goe25hbWU6IG5hbWUsIHZhbHVlOiB2YWx1ZX0pXG4gICAgfSwgYXJndW1lbnRzKVxuICAgIHJldHVybiBhcnJcbiAgfVxuXG4gIHJlcXdlc3Quc2VyaWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gJydcbiAgICB2YXIgb3B0LCBmblxuICAgICAgLCBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKVxuXG4gICAgb3B0ID0gYXJncy5wb3AoKVxuICAgIG9wdCAmJiBvcHQubm9kZVR5cGUgJiYgYXJncy5wdXNoKG9wdCkgJiYgKG9wdCA9IG51bGwpXG4gICAgb3B0ICYmIChvcHQgPSBvcHQudHlwZSlcblxuICAgIGlmIChvcHQgPT0gJ21hcCcpIGZuID0gc2VyaWFsaXplSGFzaFxuICAgIGVsc2UgaWYgKG9wdCA9PSAnYXJyYXknKSBmbiA9IHJlcXdlc3Quc2VyaWFsaXplQXJyYXlcbiAgICBlbHNlIGZuID0gc2VyaWFsaXplUXVlcnlTdHJpbmdcblxuICAgIHJldHVybiBmbi5hcHBseShudWxsLCBhcmdzKVxuICB9XG5cbiAgcmVxd2VzdC50b1F1ZXJ5U3RyaW5nID0gZnVuY3Rpb24gKG8sIHRyYWQpIHtcbiAgICB2YXIgcHJlZml4LCBpXG4gICAgICAsIHRyYWRpdGlvbmFsID0gdHJhZCB8fCBmYWxzZVxuICAgICAgLCBzID0gW11cbiAgICAgICwgZW5jID0gZW5jb2RlVVJJQ29tcG9uZW50XG4gICAgICAsIGFkZCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgLy8gSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaW52b2tlIGl0IGFuZCByZXR1cm4gaXRzIHZhbHVlXG4gICAgICAgICAgdmFsdWUgPSAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHZhbHVlKSA/IHZhbHVlKCkgOiAodmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWUpXG4gICAgICAgICAgc1tzLmxlbmd0aF0gPSBlbmMoa2V5KSArICc9JyArIGVuYyh2YWx1ZSlcbiAgICAgICAgfVxuICAgIC8vIElmIGFuIGFycmF5IHdhcyBwYXNzZWQgaW4sIGFzc3VtZSB0aGF0IGl0IGlzIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMuXG4gICAgaWYgKGlzQXJyYXkobykpIHtcbiAgICAgIGZvciAoaSA9IDA7IG8gJiYgaSA8IG8ubGVuZ3RoOyBpKyspIGFkZChvW2ldWyduYW1lJ10sIG9baV1bJ3ZhbHVlJ10pXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHRyYWRpdGlvbmFsLCBlbmNvZGUgdGhlIFwib2xkXCIgd2F5ICh0aGUgd2F5IDEuMy4yIG9yIG9sZGVyXG4gICAgICAvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS5cbiAgICAgIGZvciAocHJlZml4IGluIG8pIHtcbiAgICAgICAgaWYgKG8uaGFzT3duUHJvcGVydHkocHJlZml4KSkgYnVpbGRQYXJhbXMocHJlZml4LCBvW3ByZWZpeF0sIHRyYWRpdGlvbmFsLCBhZGQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gc3BhY2VzIHNob3VsZCBiZSArIGFjY29yZGluZyB0byBzcGVjXG4gICAgcmV0dXJuIHMuam9pbignJicpLnJlcGxhY2UoLyUyMC9nLCAnKycpXG4gIH1cblxuICBmdW5jdGlvbiBidWlsZFBhcmFtcyhwcmVmaXgsIG9iaiwgdHJhZGl0aW9uYWwsIGFkZCkge1xuICAgIHZhciBuYW1lLCBpLCB2XG4gICAgICAsIHJicmFja2V0ID0gL1xcW1xcXSQvXG5cbiAgICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICAvLyBTZXJpYWxpemUgYXJyYXkgaXRlbS5cbiAgICAgIGZvciAoaSA9IDA7IG9iaiAmJiBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHYgPSBvYmpbaV1cbiAgICAgICAgaWYgKHRyYWRpdGlvbmFsIHx8IHJicmFja2V0LnRlc3QocHJlZml4KSkge1xuICAgICAgICAgIC8vIFRyZWF0IGVhY2ggYXJyYXkgaXRlbSBhcyBhIHNjYWxhci5cbiAgICAgICAgICBhZGQocHJlZml4LCB2KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1aWxkUGFyYW1zKHByZWZpeCArICdbJyArICh0eXBlb2YgdiA9PT0gJ29iamVjdCcgPyBpIDogJycpICsgJ10nLCB2LCB0cmFkaXRpb25hbCwgYWRkKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvYmogJiYgb2JqLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgICAvLyBTZXJpYWxpemUgb2JqZWN0IGl0ZW0uXG4gICAgICBmb3IgKG5hbWUgaW4gb2JqKSB7XG4gICAgICAgIGJ1aWxkUGFyYW1zKHByZWZpeCArICdbJyArIG5hbWUgKyAnXScsIG9ialtuYW1lXSwgdHJhZGl0aW9uYWwsIGFkZClcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTZXJpYWxpemUgc2NhbGFyIGl0ZW0uXG4gICAgICBhZGQocHJlZml4LCBvYmopXG4gICAgfVxuICB9XG5cbiAgcmVxd2VzdC5nZXRjYWxsYmFja1ByZWZpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2FsbGJhY2tQcmVmaXhcbiAgfVxuXG4gIC8vIGpRdWVyeSBhbmQgWmVwdG8gY29tcGF0aWJpbGl0eSwgZGlmZmVyZW5jZXMgY2FuIGJlIHJlbWFwcGVkIGhlcmUgc28geW91IGNhbiBjYWxsXG4gIC8vIC5hamF4LmNvbXBhdChvcHRpb25zLCBjYWxsYmFjaylcbiAgcmVxd2VzdC5jb21wYXQgPSBmdW5jdGlvbiAobywgZm4pIHtcbiAgICBpZiAobykge1xuICAgICAgb1sndHlwZSddICYmIChvWydtZXRob2QnXSA9IG9bJ3R5cGUnXSkgJiYgZGVsZXRlIG9bJ3R5cGUnXVxuICAgICAgb1snZGF0YVR5cGUnXSAmJiAob1sndHlwZSddID0gb1snZGF0YVR5cGUnXSlcbiAgICAgIG9bJ2pzb25wQ2FsbGJhY2snXSAmJiAob1snanNvbnBDYWxsYmFja05hbWUnXSA9IG9bJ2pzb25wQ2FsbGJhY2snXSkgJiYgZGVsZXRlIG9bJ2pzb25wQ2FsbGJhY2snXVxuICAgICAgb1snanNvbnAnXSAmJiAob1snanNvbnBDYWxsYmFjayddID0gb1snanNvbnAnXSlcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZXF3ZXN0KG8sIGZuKVxuICB9XG5cbiAgcmVxd2VzdC5hamF4U2V0dXAgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gICAgZm9yICh2YXIgayBpbiBvcHRpb25zKSB7XG4gICAgICBnbG9iYWxTZXR1cE9wdGlvbnNba10gPSBvcHRpb25zW2tdXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcXdlc3Rcbn0pO1xuIiwiLyohXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUgQ2hyaXMgTydIYXJhIDxjb2hhcmE4N0BnbWFpbC5jb20+XG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nXG4gKiBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbiAqIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuICogd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuICogZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvXG4gKiBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG9cbiAqIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuICogaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbiAqIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcbiAqIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkVcbiAqIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT05cbiAqIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTlxuICogV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cblxuKGZ1bmN0aW9uIChuYW1lLCBkZWZpbml0aW9uKSB7XG4gICAgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGRlZmluaXRpb24oKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGRlZmluZShkZWZpbml0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzW25hbWVdID0gZGVmaW5pdGlvbigpO1xuICAgIH1cbn0pKCd2YWxpZGF0b3InLCBmdW5jdGlvbiAodmFsaWRhdG9yKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YWxpZGF0b3IgPSB7IHZlcnNpb246ICc0LjAuMicgfTtcblxuICAgIHZhciBlbWFpbFVzZXIgPSAvXigoKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dKSsoXFwuKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dKSspKil8XCIoXFxzKigoW1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4N2ZdfFxceDIxfFtcXHgyMy1cXHg1Yl18W1xceDVkLVxceDdlXSl8KFxcXFxbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGQtXFx4N2ZdKSkpKlxccypcIikkL2k7XG5cbiAgICB2YXIgZW1haWxVc2VyVXRmOCA9IC9eKCgoW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKyhcXC4oW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKykqKXxcIihcXHMqKChbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHg3Zl18XFx4MjF8W1xceDIzLVxceDViXXxbXFx4NWQtXFx4N2VdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoXFxcXChbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGQtXFx4N2ZdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpKSpcXHMqXCIpJC9pO1xuXG4gICAgdmFyIGRpc3BsYXlOYW1lID0gL14oPzpbYS16XXxcXGR8WyEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XFwuXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkrKD86W2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9flxcLl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl18XFxzKSo8KC4rKT4kL2k7XG5cbiAgICB2YXIgY3JlZGl0Q2FyZCA9IC9eKD86NFswLTldezEyfSg/OlswLTldezN9KT98NVsxLTVdWzAtOV17MTR9fDYoPzowMTF8NVswLTldWzAtOV0pWzAtOV17MTJ9fDNbNDddWzAtOV17MTN9fDMoPzowWzAtNV18WzY4XVswLTldKVswLTldezExfXwoPzoyMTMxfDE4MDB8MzVcXGR7M30pXFxkezExfSkkLztcblxuICAgIHZhciBpc2luID0gL15bQS1aXXsyfVswLTlBLVpdezl9WzAtOV0kLztcblxuICAgIHZhciBpc2JuMTBNYXliZSA9IC9eKD86WzAtOV17OX1YfFswLTldezEwfSkkL1xuICAgICAgLCBpc2JuMTNNYXliZSA9IC9eKD86WzAtOV17MTN9KSQvO1xuXG4gICAgdmFyIGlwdjRNYXliZSA9IC9eKFxcZCspXFwuKFxcZCspXFwuKFxcZCspXFwuKFxcZCspJC9cbiAgICAgICwgaXB2NkJsb2NrID0gL15bMC05QS1GXXsxLDR9JC9pO1xuXG4gICAgdmFyIHV1aWQgPSB7XG4gICAgICAgICczJzogL15bMC05QS1GXXs4fS1bMC05QS1GXXs0fS0zWzAtOUEtRl17M30tWzAtOUEtRl17NH0tWzAtOUEtRl17MTJ9JC9pXG4gICAgICAsICc0JzogL15bMC05QS1GXXs4fS1bMC05QS1GXXs0fS00WzAtOUEtRl17M30tWzg5QUJdWzAtOUEtRl17M30tWzAtOUEtRl17MTJ9JC9pXG4gICAgICAsICc1JzogL15bMC05QS1GXXs4fS1bMC05QS1GXXs0fS01WzAtOUEtRl17M30tWzg5QUJdWzAtOUEtRl17M30tWzAtOUEtRl17MTJ9JC9pXG4gICAgICAsIGFsbDogL15bMC05QS1GXXs4fS1bMC05QS1GXXs0fS1bMC05QS1GXXs0fS1bMC05QS1GXXs0fS1bMC05QS1GXXsxMn0kL2lcbiAgICB9O1xuXG4gICAgdmFyIGFscGhhID0gL15bQS1aXSskL2lcbiAgICAgICwgYWxwaGFudW1lcmljID0gL15bMC05QS1aXSskL2lcbiAgICAgICwgbnVtZXJpYyA9IC9eWy0rXT9bMC05XSskL1xuICAgICAgLCBpbnQgPSAvXig/OlstK10/KD86MHxbMS05XVswLTldKikpJC9cbiAgICAgICwgZmxvYXQgPSAvXig/OlstK10/KD86WzAtOV0rKSk/KD86XFwuWzAtOV0qKT8oPzpbZUVdW1xcK1xcLV0/KD86WzAtOV0rKSk/JC9cbiAgICAgICwgaGV4YWRlY2ltYWwgPSAvXlswLTlBLUZdKyQvaVxuICAgICAgLCBkZWNpbWFsID0gL15bLStdPyhbMC05XSt8XFwuWzAtOV0rfFswLTldK1xcLlswLTldKykkL1xuICAgICAgLCBoZXhjb2xvciA9IC9eIz8oWzAtOUEtRl17M318WzAtOUEtRl17Nn0pJC9pO1xuXG4gICAgdmFyIGFzY2lpID0gL15bXFx4MDAtXFx4N0ZdKyQvXG4gICAgICAsIG11bHRpYnl0ZSA9IC9bXlxceDAwLVxceDdGXS9cbiAgICAgICwgZnVsbFdpZHRoID0gL1teXFx1MDAyMC1cXHUwMDdFXFx1RkY2MS1cXHVGRjlGXFx1RkZBMC1cXHVGRkRDXFx1RkZFOC1cXHVGRkVFMC05YS16QS1aXS9cbiAgICAgICwgaGFsZldpZHRoID0gL1tcXHUwMDIwLVxcdTAwN0VcXHVGRjYxLVxcdUZGOUZcXHVGRkEwLVxcdUZGRENcXHVGRkU4LVxcdUZGRUUwLTlhLXpBLVpdLztcblxuICAgIHZhciBzdXJyb2dhdGVQYWlyID0gL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRl0vO1xuXG4gICAgdmFyIGJhc2U2NCA9IC9eKD86W0EtWjAtOStcXC9dezR9KSooPzpbQS1aMC05K1xcL117Mn09PXxbQS1aMC05K1xcL117M309fFtBLVowLTkrXFwvXXs0fSkkL2k7XG5cbiAgICB2YXIgcGhvbmVzID0ge1xuICAgICAgJ3poLUNOJzogL14oXFwrPzA/ODZcXC0/KT8xWzM0NTc4OV1cXGR7OX0kLyxcbiAgICAgICdlbi1aQSc6IC9eKFxcKz8yN3wwKVxcZHs5fSQvLFxuICAgICAgJ2VuLUFVJzogL14oXFwrPzYxfDApNFxcZHs4fSQvLFxuICAgICAgJ2VuLUhLJzogL14oXFwrPzg1MlxcLT8pP1s1NjldXFxkezN9XFwtP1xcZHs0fSQvLFxuICAgICAgJ2ZyLUZSJzogL14oXFwrPzMzfDApWzY3XVxcZHs4fSQvLFxuICAgICAgJ3B0LVBUJzogL14oXFwrMzUxKT85WzEyMzZdXFxkezd9JC8sXG4gICAgICAnZWwtR1InOiAvXihcXCszMCk/KCgyXFxkezl9KXwoNjlcXGR7OH0pKSQvLFxuICAgICAgJ2VuLUdCJzogL14oXFwrPzQ0fDApN1xcZHs5fSQvLFxuICAgICAgJ2VuLVVTJzogL14oXFwrPzEpP1syLTldXFxkezJ9WzItOV0oPyExMSlcXGR7Nn0kLyxcbiAgICAgICdlbi1aTSc6IC9eKFxcKzI2KT8wOVs1NjddXFxkezd9JC8sXG4gICAgICAncnUtUlUnOiAvXihcXCs/N3w4KT85XFxkezl9JC9cbiAgICB9O1xuXG4gICAgLy8gZnJvbSBodHRwOi8vZ29vLmdsLzBlakhIV1xuICAgIHZhciBpc284NjAxID0gL14oW1xcKy1dP1xcZHs0fSg/IVxcZHsyfVxcYikpKCgtPykoKDBbMS05XXwxWzAtMl0pKFxcMyhbMTJdXFxkfDBbMS05XXwzWzAxXSkpP3xXKFswLTRdXFxkfDVbMC0yXSkoLT9bMS03XSk/fCgwMFsxLTldfDBbMS05XVxcZHxbMTJdXFxkezJ9fDMoWzAtNV1cXGR8NlsxLTZdKSkpKFtUXFxzXSgoKFswMV1cXGR8MlswLTNdKSgoOj8pWzAtNV1cXGQpP3wyNFxcOj8wMCkoW1xcLixdXFxkKyg/ITopKT8pPyhcXDE3WzAtNV1cXGQoW1xcLixdXFxkKyk/KT8oW3paXXwoW1xcKy1dKShbMDFdXFxkfDJbMC0zXSk6PyhbMC01XVxcZCk/KT8pPyk/JC87XG5cbiAgICB2YWxpZGF0b3IuZXh0ZW5kID0gZnVuY3Rpb24gKG5hbWUsIGZuKSB7XG4gICAgICAgIHZhbGlkYXRvcltuYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGFyZ3NbMF0gPSB2YWxpZGF0b3IudG9TdHJpbmcoYXJnc1swXSk7XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodmFsaWRhdG9yLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLy9SaWdodCBiZWZvcmUgZXhwb3J0aW5nIHRoZSB2YWxpZGF0b3Igb2JqZWN0LCBwYXNzIGVhY2ggb2YgdGhlIGJ1aWx0aW5zXG4gICAgLy90aHJvdWdoIGV4dGVuZCgpIHNvIHRoYXQgdGhlaXIgZmlyc3QgYXJndW1lbnQgaXMgY29lcmNlZCB0byBhIHN0cmluZ1xuICAgIHZhbGlkYXRvci5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHZhbGlkYXRvcikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWxpZGF0b3JbbmFtZV0gIT09ICdmdW5jdGlvbicgfHwgbmFtZSA9PT0gJ3RvU3RyaW5nJyB8fFxuICAgICAgICAgICAgICAgICAgICBuYW1lID09PSAndG9EYXRlJyB8fCBuYW1lID09PSAnZXh0ZW5kJyB8fCBuYW1lID09PSAnaW5pdCcpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbGlkYXRvci5leHRlbmQobmFtZSwgdmFsaWRhdG9yW25hbWVdKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YWxpZGF0b3IudG9TdHJpbmcgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgJiYgaW5wdXQgIT09IG51bGwgJiYgaW5wdXQudG9TdHJpbmcpIHtcbiAgICAgICAgICAgIGlucHV0ID0gaW5wdXQudG9TdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PT0gbnVsbCB8fCB0eXBlb2YgaW5wdXQgPT09ICd1bmRlZmluZWQnIHx8IChpc05hTihpbnB1dCkgJiYgIWlucHV0Lmxlbmd0aCkpIHtcbiAgICAgICAgICAgIGlucHV0ID0gJyc7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaW5wdXQgKz0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH07XG5cbiAgICB2YWxpZGF0b3IudG9EYXRlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkYXRlKSA9PT0gJ1tvYmplY3QgRGF0ZV0nKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBkYXRlID0gRGF0ZS5wYXJzZShkYXRlKTtcbiAgICAgICAgcmV0dXJuICFpc05hTihkYXRlKSA/IG5ldyBEYXRlKGRhdGUpIDogbnVsbDtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLnRvRmxvYXQgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHN0cik7XG4gICAgfTtcblxuICAgIHZhbGlkYXRvci50b0ludCA9IGZ1bmN0aW9uIChzdHIsIHJhZGl4KSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludChzdHIsIHJhZGl4IHx8IDEwKTtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLnRvQm9vbGVhbiA9IGZ1bmN0aW9uIChzdHIsIHN0cmljdCkge1xuICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyID09PSAnMScgfHwgc3RyID09PSAndHJ1ZSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0ciAhPT0gJzAnICYmIHN0ciAhPT0gJ2ZhbHNlJyAmJiBzdHIgIT09ICcnO1xuICAgIH07XG5cbiAgICB2YWxpZGF0b3IuZXF1YWxzID0gZnVuY3Rpb24gKHN0ciwgY29tcGFyaXNvbikge1xuICAgICAgICByZXR1cm4gc3RyID09PSB2YWxpZGF0b3IudG9TdHJpbmcoY29tcGFyaXNvbik7XG4gICAgfTtcblxuICAgIHZhbGlkYXRvci5jb250YWlucyA9IGZ1bmN0aW9uIChzdHIsIGVsZW0pIHtcbiAgICAgICAgcmV0dXJuIHN0ci5pbmRleE9mKHZhbGlkYXRvci50b1N0cmluZyhlbGVtKSkgPj0gMDtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLm1hdGNoZXMgPSBmdW5jdGlvbiAoc3RyLCBwYXR0ZXJuLCBtb2RpZmllcnMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwYXR0ZXJuKSAhPT0gJ1tvYmplY3QgUmVnRXhwXScpIHtcbiAgICAgICAgICAgIHBhdHRlcm4gPSBuZXcgUmVnRXhwKHBhdHRlcm4sIG1vZGlmaWVycyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdChzdHIpO1xuICAgIH07XG5cbiAgICB2YXIgZGVmYXVsdF9lbWFpbF9vcHRpb25zID0ge1xuICAgICAgICBhbGxvd19kaXNwbGF5X25hbWU6IGZhbHNlLFxuICAgICAgICBhbGxvd191dGY4X2xvY2FsX3BhcnQ6IHRydWUsXG4gICAgICAgIHJlcXVpcmVfdGxkOiB0cnVlXG4gICAgfTtcblxuICAgIHZhbGlkYXRvci5pc0VtYWlsID0gZnVuY3Rpb24gKHN0ciwgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gbWVyZ2Uob3B0aW9ucywgZGVmYXVsdF9lbWFpbF9vcHRpb25zKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5hbGxvd19kaXNwbGF5X25hbWUpIHtcbiAgICAgICAgICAgIHZhciBkaXNwbGF5X2VtYWlsID0gc3RyLm1hdGNoKGRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgIGlmIChkaXNwbGF5X2VtYWlsKSB7XG4gICAgICAgICAgICAgICAgc3RyID0gZGlzcGxheV9lbWFpbFsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJ0cyA9IHN0ci5zcGxpdCgnQCcpXG4gICAgICAgICAgLCBkb21haW4gPSBwYXJ0cy5wb3AoKVxuICAgICAgICAgICwgdXNlciA9IHBhcnRzLmpvaW4oJ0AnKTtcblxuICAgICAgICB2YXIgbG93ZXJfZG9tYWluID0gZG9tYWluLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChsb3dlcl9kb21haW4gPT09ICdnbWFpbC5jb20nIHx8IGxvd2VyX2RvbWFpbiA9PT0gJ2dvb2dsZW1haWwuY29tJykge1xuICAgICAgICAgICAgdXNlciA9IHVzZXIucmVwbGFjZSgvXFwuL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF2YWxpZGF0b3IuaXNCeXRlTGVuZ3RoKHVzZXIsIDAsIDY0KSB8fFxuICAgICAgICAgICAgICAgICF2YWxpZGF0b3IuaXNCeXRlTGVuZ3RoKGRvbWFpbiwgMCwgMjU2KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF2YWxpZGF0b3IuaXNGUUROKGRvbWFpbiwge3JlcXVpcmVfdGxkOiBvcHRpb25zLnJlcXVpcmVfdGxkfSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvcHRpb25zLmFsbG93X3V0ZjhfbG9jYWxfcGFydCA/XG4gICAgICAgICAgICBlbWFpbFVzZXJVdGY4LnRlc3QodXNlcikgOlxuICAgICAgICAgICAgZW1haWxVc2VyLnRlc3QodXNlcik7XG4gICAgfTtcblxuICAgIHZhciBkZWZhdWx0X3VybF9vcHRpb25zID0ge1xuICAgICAgICBwcm90b2NvbHM6IFsgJ2h0dHAnLCAnaHR0cHMnLCAnZnRwJyBdXG4gICAgICAsIHJlcXVpcmVfdGxkOiB0cnVlXG4gICAgICAsIHJlcXVpcmVfcHJvdG9jb2w6IGZhbHNlXG4gICAgICAsIHJlcXVpcmVfdmFsaWRfcHJvdG9jb2w6IHRydWVcbiAgICAgICwgYWxsb3dfdW5kZXJzY29yZXM6IGZhbHNlXG4gICAgICAsIGFsbG93X3RyYWlsaW5nX2RvdDogZmFsc2VcbiAgICAgICwgYWxsb3dfcHJvdG9jb2xfcmVsYXRpdmVfdXJsczogZmFsc2VcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLmlzVVJMID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIXVybCB8fCB1cmwubGVuZ3RoID49IDIwODMgfHwgL1xccy8udGVzdCh1cmwpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVybC5pbmRleE9mKCdtYWlsdG86JykgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zID0gbWVyZ2Uob3B0aW9ucywgZGVmYXVsdF91cmxfb3B0aW9ucyk7XG4gICAgICAgIHZhciBwcm90b2NvbCwgYXV0aCwgaG9zdCwgaG9zdG5hbWUsIHBvcnQsXG4gICAgICAgICAgICBwb3J0X3N0ciwgc3BsaXQ7XG4gICAgICAgIHNwbGl0ID0gdXJsLnNwbGl0KCc6Ly8nKTtcbiAgICAgICAgaWYgKHNwbGl0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHByb3RvY29sID0gc3BsaXQuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnJlcXVpcmVfdmFsaWRfcHJvdG9jb2wgJiYgb3B0aW9ucy5wcm90b2NvbHMuaW5kZXhPZihwcm90b2NvbCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMucmVxdWlyZV9wcm90b2NvbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9ICBlbHNlIGlmIChvcHRpb25zLmFsbG93X3Byb3RvY29sX3JlbGF0aXZlX3VybHMgJiYgdXJsLnN1YnN0cigwLCAyKSA9PT0gJy8vJykge1xuICAgICAgICAgICAgc3BsaXRbMF0gPSB1cmwuc3Vic3RyKDIpO1xuICAgICAgICB9XG4gICAgICAgIHVybCA9IHNwbGl0LmpvaW4oJzovLycpO1xuICAgICAgICBzcGxpdCA9IHVybC5zcGxpdCgnIycpO1xuICAgICAgICB1cmwgPSBzcGxpdC5zaGlmdCgpO1xuXG4gICAgICAgIHNwbGl0ID0gdXJsLnNwbGl0KCc/Jyk7XG4gICAgICAgIHVybCA9IHNwbGl0LnNoaWZ0KCk7XG5cbiAgICAgICAgc3BsaXQgPSB1cmwuc3BsaXQoJy8nKTtcbiAgICAgICAgdXJsID0gc3BsaXQuc2hpZnQoKTtcbiAgICAgICAgc3BsaXQgPSB1cmwuc3BsaXQoJ0AnKTtcbiAgICAgICAgaWYgKHNwbGl0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGF1dGggPSBzcGxpdC5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKGF1dGguaW5kZXhPZignOicpID49IDAgJiYgYXV0aC5zcGxpdCgnOicpLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaG9zdG5hbWUgPSBzcGxpdC5qb2luKCdAJyk7XG4gICAgICAgIHNwbGl0ID0gaG9zdG5hbWUuc3BsaXQoJzonKTtcbiAgICAgICAgaG9zdCA9IHNwbGl0LnNoaWZ0KCk7XG4gICAgICAgIGlmIChzcGxpdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHBvcnRfc3RyID0gc3BsaXQuam9pbignOicpO1xuICAgICAgICAgICAgcG9ydCA9IHBhcnNlSW50KHBvcnRfc3RyLCAxMCk7XG4gICAgICAgICAgICBpZiAoIS9eWzAtOV0rJC8udGVzdChwb3J0X3N0cikgfHwgcG9ydCA8PSAwIHx8IHBvcnQgPiA2NTUzNSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZhbGlkYXRvci5pc0lQKGhvc3QpICYmICF2YWxpZGF0b3IuaXNGUUROKGhvc3QsIG9wdGlvbnMpICYmXG4gICAgICAgICAgICAgICAgaG9zdCAhPT0gJ2xvY2FsaG9zdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5ob3N0X3doaXRlbGlzdCAmJlxuICAgICAgICAgICAgICAgIG9wdGlvbnMuaG9zdF93aGl0ZWxpc3QuaW5kZXhPZihob3N0KSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5ob3N0X2JsYWNrbGlzdCAmJlxuICAgICAgICAgICAgICAgIG9wdGlvbnMuaG9zdF9ibGFja2xpc3QuaW5kZXhPZihob3N0KSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLmlzSVAgPSBmdW5jdGlvbiAoc3RyLCB2ZXJzaW9uKSB7XG4gICAgICAgIHZlcnNpb24gPSB2YWxpZGF0b3IudG9TdHJpbmcodmVyc2lvbik7XG4gICAgICAgIGlmICghdmVyc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRvci5pc0lQKHN0ciwgNCkgfHwgdmFsaWRhdG9yLmlzSVAoc3RyLCA2KTtcbiAgICAgICAgfSBlbHNlIGlmICh2ZXJzaW9uID09PSAnNCcpIHtcbiAgICAgICAgICAgIGlmICghaXB2NE1heWJlLnRlc3Qoc3RyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IHN0ci5zcGxpdCgnLicpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYSAtIGI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXJ0c1szXSA8PSAyNTU7XG4gICAgICAgIH0gZWxzZSBpZiAodmVyc2lvbiA9PT0gJzYnKSB7XG4gICAgICAgICAgICB2YXIgYmxvY2tzID0gc3RyLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICB2YXIgZm91bmRPbWlzc2lvbkJsb2NrID0gZmFsc2U7IC8vIG1hcmtlciB0byBpbmRpY2F0ZSA6OlxuXG4gICAgICAgICAgICAvLyBBdCBsZWFzdCBzb21lIE9TIGFjY2VwdCB0aGUgbGFzdCAzMiBiaXRzIG9mIGFuIElQdjYgYWRkcmVzc1xuICAgICAgICAgICAgLy8gKGkuZS4gMiBvZiB0aGUgYmxvY2tzKSBpbiBJUHY0IG5vdGF0aW9uLCBhbmQgUkZDIDM0OTMgc2F5c1xuICAgICAgICAgICAgLy8gdGhhdCAnOjpmZmZmOmEuYi5jLmQnIGlzIHZhbGlkIGZvciBJUHY0LW1hcHBlZCBJUHY2IGFkZHJlc3NlcyxcbiAgICAgICAgICAgIC8vIGFuZCAnOjphLmIuYy5kJyBpcyBkZXByZWNhdGVkLCBidXQgYWxzbyB2YWxpZC5cbiAgICAgICAgICAgIHZhciBmb3VuZElQdjRUcmFuc2l0aW9uQmxvY2sgPSB2YWxpZGF0b3IuaXNJUChibG9ja3NbYmxvY2tzLmxlbmd0aCAtIDFdLCA0KTtcbiAgICAgICAgICAgIHZhciBleHBlY3RlZE51bWJlck9mQmxvY2tzID0gZm91bmRJUHY0VHJhbnNpdGlvbkJsb2NrID8gNyA6IDg7XG5cbiAgICAgICAgICAgIGlmIChibG9ja3MubGVuZ3RoID4gZXhwZWN0ZWROdW1iZXJPZkJsb2NrcylcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIGluaXRpYWwgb3IgZmluYWwgOjpcbiAgICAgICAgICAgIGlmIChzdHIgPT09ICc6OicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RyLnN1YnN0cigwLCAyKSA9PT0gJzo6Jykge1xuICAgICAgICAgICAgICAgIGJsb2Nrcy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIGJsb2Nrcy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIGZvdW5kT21pc3Npb25CbG9jayA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0ci5zdWJzdHIoc3RyLmxlbmd0aCAtIDIpID09PSAnOjonKSB7XG4gICAgICAgICAgICAgICAgYmxvY2tzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGJsb2Nrcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBmb3VuZE9taXNzaW9uQmxvY2sgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJsb2Nrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIC8vIHRlc3QgZm9yIGEgOjogd2hpY2ggY2FuIG5vdCBiZSBhdCB0aGUgc3RyaW5nIHN0YXJ0L2VuZFxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRob3NlIGNhc2VzIGhhdmUgYmVlbiBoYW5kbGVkIGFib3ZlXG4gICAgICAgICAgICAgICAgaWYgKGJsb2Nrc1tpXSA9PT0gJycgJiYgaSA+IDAgJiYgaSA8IGJsb2Nrcy5sZW5ndGggLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kT21pc3Npb25CbG9jaylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gbXVsdGlwbGUgOjogaW4gYWRkcmVzc1xuICAgICAgICAgICAgICAgICAgICBmb3VuZE9taXNzaW9uQmxvY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZm91bmRJUHY0VHJhbnNpdGlvbkJsb2NrICYmIGkgPT0gYmxvY2tzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQgaGFzIGJlZW4gY2hlY2tlZCBiZWZvcmUgdGhhdCB0aGUgbGFzdFxuICAgICAgICAgICAgICAgICAgICAvLyBibG9jayBpcyBhIHZhbGlkIElQdjQgYWRkcmVzc1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlwdjZCbG9jay50ZXN0KGJsb2Nrc1tpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZvdW5kT21pc3Npb25CbG9jaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBibG9ja3MubGVuZ3RoID49IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBibG9ja3MubGVuZ3RoID09PSBleHBlY3RlZE51bWJlck9mQmxvY2tzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgdmFyIGRlZmF1bHRfZnFkbl9vcHRpb25zID0ge1xuICAgICAgICByZXF1aXJlX3RsZDogdHJ1ZVxuICAgICAgLCBhbGxvd191bmRlcnNjb3JlczogZmFsc2VcbiAgICAgICwgYWxsb3dfdHJhaWxpbmdfZG90OiBmYWxzZVxuICAgIH07XG5cbiAgICB2YWxpZGF0b3IuaXNGUUROID0gZnVuY3Rpb24gKHN0ciwgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gbWVyZ2Uob3B0aW9ucywgZGVmYXVsdF9mcWRuX29wdGlvbnMpO1xuXG4gICAgICAgIC8qIFJlbW92ZSB0aGUgb3B0aW9uYWwgdHJhaWxpbmcgZG90IGJlZm9yZSBjaGVja2luZyB2YWxpZGl0eSAqL1xuICAgICAgICBpZiAob3B0aW9ucy5hbGxvd190cmFpbGluZ19kb3QgJiYgc3RyW3N0ci5sZW5ndGggLSAxXSA9PT0gJy4nKSB7XG4gICAgICAgICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFydHMgPSBzdHIuc3BsaXQoJy4nKTtcbiAgICAgICAgaWYgKG9wdGlvbnMucmVxdWlyZV90bGQpIHtcbiAgICAgICAgICAgIHZhciB0bGQgPSBwYXJ0cy5wb3AoKTtcbiAgICAgICAgICAgIGlmICghcGFydHMubGVuZ3RoIHx8ICEvXihbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH18eG5bYS16MC05LV17Mix9KSQvaS50ZXN0KHRsZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgcGFydCwgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFydCA9IHBhcnRzW2ldO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYWxsb3dfdW5kZXJzY29yZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFydC5pbmRleE9mKCdfXycpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJ0ID0gcGFydC5yZXBsYWNlKC9fL2csICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghL15bYS16XFx1MDBhMS1cXHVmZmZmMC05LV0rJC9pLnRlc3QocGFydCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoL1tcXHVmZjAxLVxcdWZmNWVdLy50ZXN0KHBhcnQpKSB7XG4gICAgICAgICAgICAgICAgLy8gZGlzYWxsb3cgZnVsbC13aWR0aCBjaGFyc1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJ0WzBdID09PSAnLScgfHwgcGFydFtwYXJ0Lmxlbmd0aCAtIDFdID09PSAnLScgfHxcbiAgICAgICAgICAgICAgICAgICAgcGFydC5pbmRleE9mKCctLS0nKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICB2YWxpZGF0b3IuaXNCb29sZWFuID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHJldHVybiAoWyd0cnVlJywgJ2ZhbHNlJywgJzEnLCAnMCddLmluZGV4T2Yoc3RyKSA+PSAwKTtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLmlzQWxwaGEgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBhbHBoYS50ZXN0KHN0cik7XG4gICAgfTtcblxuICAgIHZhbGlkYXRvci5pc0FscGhhbnVtZXJpYyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIGFscGhhbnVtZXJpYy50ZXN0KHN0cik7XG4gICAgfTtcblxuICAgIHZhbGlkYXRvci5pc051bWVyaWMgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBudW1lcmljLnRlc3Qoc3RyKTtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLmlzRGVjaW1hbCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIHN0ciAhPT0gJycgJiYgZGVjaW1hbC50ZXN0KHN0cik7XG4gICAgfTtcblxuICAgIHZhbGlkYXRvci5pc0hleGFkZWNpbWFsID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gaGV4YWRlY2ltYWwudGVzdChzdHIpO1xuICAgIH07XG5cbiAgICB2YWxpZGF0b3IuaXNIZXhDb2xvciA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIGhleGNvbG9yLnRlc3Qoc3RyKTtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLmlzTG93ZXJjYXNlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gc3RyID09PSBzdHIudG9Mb3dlckNhc2UoKTtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLmlzVXBwZXJjYXNlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gc3RyID09PSBzdHIudG9VcHBlckNhc2UoKTtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLmlzSW50ID0gZnVuY3Rpb24gKHN0ciwgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgcmV0dXJuIGludC50ZXN0KHN0cikgJiYgKCFvcHRpb25zLmhhc093blByb3BlcnR5KCdtaW4nKSB8fCBzdHIgPj0gb3B0aW9ucy5taW4pICYmICghb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnbWF4JykgfHwgc3RyIDw9IG9wdGlvbnMubWF4KTtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLmlzRmxvYXQgPSBmdW5jdGlvbiAoc3RyLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICByZXR1cm4gc3RyICE9PSAnJyAmJiBmbG9hdC50ZXN0KHN0cikgJiYgKCFvcHRpb25zLmhhc093blByb3BlcnR5KCdtaW4nKSB8fCBzdHIgPj0gb3B0aW9ucy5taW4pICYmICghb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnbWF4JykgfHwgc3RyIDw9IG9wdGlvbnMubWF4KTtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLmlzRGl2aXNpYmxlQnkgPSBmdW5jdGlvbiAoc3RyLCBudW0pIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRvci50b0Zsb2F0KHN0cikgJSB2YWxpZGF0b3IudG9JbnQobnVtKSA9PT0gMDtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLmlzTnVsbCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5sZW5ndGggPT09IDA7XG4gICAgfTtcblxuICAgIHZhbGlkYXRvci5pc0xlbmd0aCA9IGZ1bmN0aW9uIChzdHIsIG1pbiwgbWF4KSB7XG4gICAgICAgIHZhciBzdXJyb2dhdGVQYWlycyA9IHN0ci5tYXRjaCgvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXS9nKSB8fCBbXTtcbiAgICAgICAgdmFyIGxlbiA9IHN0ci5sZW5ndGggLSBzdXJyb2dhdGVQYWlycy5sZW5ndGg7XG4gICAgICAgIHJldHVybiBsZW4gPj0gbWluICYmICh0eXBlb2YgbWF4ID09PSAndW5kZWZpbmVkJyB8fCBsZW4gPD0gbWF4KTtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLmlzQnl0ZUxlbmd0aCA9IGZ1bmN0aW9uIChzdHIsIG1pbiwgbWF4KSB7XG4gICAgICAgIHZhciBsZW4gPSBlbmNvZGVVUkkoc3RyKS5zcGxpdCgvJS4ufC4vKS5sZW5ndGggLSAxO1xuICAgICAgICByZXR1cm4gbGVuID49IG1pbiAmJiAodHlwZW9mIG1heCA9PT0gJ3VuZGVmaW5lZCcgfHwgbGVuIDw9IG1heCk7XG4gICAgfTtcblxuICAgIHZhbGlkYXRvci5pc1VVSUQgPSBmdW5jdGlvbiAoc3RyLCB2ZXJzaW9uKSB7XG4gICAgICAgIHZhciBwYXR0ZXJuID0gdXVpZFt2ZXJzaW9uID8gdmVyc2lvbiA6ICdhbGwnXTtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4gJiYgcGF0dGVybi50ZXN0KHN0cik7XG4gICAgfTtcblxuICAgIHZhbGlkYXRvci5pc0RhdGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiAhaXNOYU4oRGF0ZS5wYXJzZShzdHIpKTtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLmlzQWZ0ZXIgPSBmdW5jdGlvbiAoc3RyLCBkYXRlKSB7XG4gICAgICAgIHZhciBjb21wYXJpc29uID0gdmFsaWRhdG9yLnRvRGF0ZShkYXRlIHx8IG5ldyBEYXRlKCkpXG4gICAgICAgICAgLCBvcmlnaW5hbCA9IHZhbGlkYXRvci50b0RhdGUoc3RyKTtcbiAgICAgICAgcmV0dXJuICEhKG9yaWdpbmFsICYmIGNvbXBhcmlzb24gJiYgb3JpZ2luYWwgPiBjb21wYXJpc29uKTtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLmlzQmVmb3JlID0gZnVuY3Rpb24gKHN0ciwgZGF0ZSkge1xuICAgICAgICB2YXIgY29tcGFyaXNvbiA9IHZhbGlkYXRvci50b0RhdGUoZGF0ZSB8fCBuZXcgRGF0ZSgpKVxuICAgICAgICAgICwgb3JpZ2luYWwgPSB2YWxpZGF0b3IudG9EYXRlKHN0cik7XG4gICAgICAgIHJldHVybiBvcmlnaW5hbCAmJiBjb21wYXJpc29uICYmIG9yaWdpbmFsIDwgY29tcGFyaXNvbjtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLmlzSW4gPSBmdW5jdGlvbiAoc3RyLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9wdGlvbnMpID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAgICAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICAgICAgICAgIGZvciAoaSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbaV0gPSB2YWxpZGF0b3IudG9TdHJpbmcob3B0aW9uc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXJyYXkuaW5kZXhPZihzdHIpID49IDA7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShzdHIpO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuaW5kZXhPZihzdHIpID49IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICB2YWxpZGF0b3IuaXNDcmVkaXRDYXJkID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICB2YXIgc2FuaXRpemVkID0gc3RyLnJlcGxhY2UoL1teMC05XSsvZywgJycpO1xuICAgICAgICBpZiAoIWNyZWRpdENhcmQudGVzdChzYW5pdGl6ZWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN1bSA9IDAsIGRpZ2l0LCB0bXBOdW0sIHNob3VsZERvdWJsZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHNhbml0aXplZC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgZGlnaXQgPSBzYW5pdGl6ZWQuc3Vic3RyaW5nKGksIChpICsgMSkpO1xuICAgICAgICAgICAgdG1wTnVtID0gcGFyc2VJbnQoZGlnaXQsIDEwKTtcbiAgICAgICAgICAgIGlmIChzaG91bGREb3VibGUpIHtcbiAgICAgICAgICAgICAgICB0bXBOdW0gKj0gMjtcbiAgICAgICAgICAgICAgICBpZiAodG1wTnVtID49IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1bSArPSAoKHRtcE51bSAlIDEwKSArIDEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN1bSArPSB0bXBOdW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdW0gKz0gdG1wTnVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2hvdWxkRG91YmxlID0gIXNob3VsZERvdWJsZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gISEoKHN1bSAlIDEwKSA9PT0gMCA/IHNhbml0aXplZCA6IGZhbHNlKTtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLmlzSVNJTiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgaWYgKCFpc2luLnRlc3Qoc3RyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNoZWNrc3VtU3RyID0gc3RyLnJlcGxhY2UoL1tBLVpdL2csIGZ1bmN0aW9uKGNoYXJhY3Rlcikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGNoYXJhY3RlciwgMzYpO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgc3VtID0gMCwgZGlnaXQsIHRtcE51bSwgc2hvdWxkRG91YmxlID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IGNoZWNrc3VtU3RyLmxlbmd0aCAtIDI7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBkaWdpdCA9IGNoZWNrc3VtU3RyLnN1YnN0cmluZyhpLCAoaSArIDEpKTtcbiAgICAgICAgICAgIHRtcE51bSA9IHBhcnNlSW50KGRpZ2l0LCAxMCk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkRG91YmxlKSB7XG4gICAgICAgICAgICAgICAgdG1wTnVtICo9IDI7XG4gICAgICAgICAgICAgICAgaWYgKHRtcE51bSA+PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICBzdW0gKz0gdG1wTnVtICsgMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdW0gKz0gdG1wTnVtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3VtICs9IHRtcE51bTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNob3VsZERvdWJsZSA9ICFzaG91bGREb3VibGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFyc2VJbnQoc3RyLnN1YnN0cihzdHIubGVuZ3RoIC0gMSksIDEwKSA9PT0gKDEwMDAwIC0gc3VtKSAlIDEwO1xuICAgIH07XG5cbiAgICB2YWxpZGF0b3IuaXNJU0JOID0gZnVuY3Rpb24gKHN0ciwgdmVyc2lvbikge1xuICAgICAgICB2ZXJzaW9uID0gdmFsaWRhdG9yLnRvU3RyaW5nKHZlcnNpb24pO1xuICAgICAgICBpZiAoIXZlcnNpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB2YWxpZGF0b3IuaXNJU0JOKHN0ciwgMTApIHx8IHZhbGlkYXRvci5pc0lTQk4oc3RyLCAxMyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNhbml0aXplZCA9IHN0ci5yZXBsYWNlKC9bXFxzLV0rL2csICcnKVxuICAgICAgICAgICwgY2hlY2tzdW0gPSAwLCBpO1xuICAgICAgICBpZiAodmVyc2lvbiA9PT0gJzEwJykge1xuICAgICAgICAgICAgaWYgKCFpc2JuMTBNYXliZS50ZXN0KHNhbml0aXplZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgOTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tzdW0gKz0gKGkgKyAxKSAqIHNhbml0aXplZC5jaGFyQXQoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2FuaXRpemVkLmNoYXJBdCg5KSA9PT0gJ1gnKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tzdW0gKz0gMTAgKiAxMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hlY2tzdW0gKz0gMTAgKiBzYW5pdGl6ZWQuY2hhckF0KDkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChjaGVja3N1bSAlIDExKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhIXNhbml0aXplZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlICBpZiAodmVyc2lvbiA9PT0gJzEzJykge1xuICAgICAgICAgICAgaWYgKCFpc2JuMTNNYXliZS50ZXN0KHNhbml0aXplZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZmFjdG9yID0gWyAxLCAzIF07XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAgICAgICAgIGNoZWNrc3VtICs9IGZhY3RvcltpICUgMl0gKiBzYW5pdGl6ZWQuY2hhckF0KGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNhbml0aXplZC5jaGFyQXQoMTIpIC0gKCgxMCAtIChjaGVja3N1bSAlIDEwKSkgJSAxMCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gISFzYW5pdGl6ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICB2YWxpZGF0b3IuaXNNb2JpbGVQaG9uZSA9IGZ1bmN0aW9uKHN0ciwgbG9jYWxlKSB7XG4gICAgICAgIGlmIChsb2NhbGUgaW4gcGhvbmVzKSB7XG4gICAgICAgICAgICByZXR1cm4gcGhvbmVzW2xvY2FsZV0udGVzdChzdHIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgdmFyIGRlZmF1bHRfY3VycmVuY3lfb3B0aW9ucyA9IHtcbiAgICAgICAgc3ltYm9sOiAnJCdcbiAgICAgICwgcmVxdWlyZV9zeW1ib2w6IGZhbHNlXG4gICAgICAsIGFsbG93X3NwYWNlX2FmdGVyX3N5bWJvbDogZmFsc2VcbiAgICAgICwgc3ltYm9sX2FmdGVyX2RpZ2l0czogZmFsc2VcbiAgICAgICwgYWxsb3dfbmVnYXRpdmVzOiB0cnVlXG4gICAgICAsIHBhcmVuc19mb3JfbmVnYXRpdmVzOiBmYWxzZVxuICAgICAgLCBuZWdhdGl2ZV9zaWduX2JlZm9yZV9kaWdpdHM6IGZhbHNlXG4gICAgICAsIG5lZ2F0aXZlX3NpZ25fYWZ0ZXJfZGlnaXRzOiBmYWxzZVxuICAgICAgLCBhbGxvd19uZWdhdGl2ZV9zaWduX3BsYWNlaG9sZGVyOiBmYWxzZVxuICAgICAgLCB0aG91c2FuZHNfc2VwYXJhdG9yOiAnLCdcbiAgICAgICwgZGVjaW1hbF9zZXBhcmF0b3I6ICcuJ1xuICAgICAgLCBhbGxvd19zcGFjZV9hZnRlcl9kaWdpdHM6IGZhbHNlXG4gICAgfTtcblxuICAgIHZhbGlkYXRvci5pc0N1cnJlbmN5ID0gZnVuY3Rpb24gKHN0ciwgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gbWVyZ2Uob3B0aW9ucywgZGVmYXVsdF9jdXJyZW5jeV9vcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gY3VycmVuY3lSZWdleChvcHRpb25zKS50ZXN0KHN0cik7XG4gICAgfTtcblxuICAgIHZhbGlkYXRvci5pc0pTT04gPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShzdHIpO1xuICAgICAgICAgICAgcmV0dXJuICEhb2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIHZhbGlkYXRvci5pc011bHRpYnl0ZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIG11bHRpYnl0ZS50ZXN0KHN0cik7XG4gICAgfTtcblxuICAgIHZhbGlkYXRvci5pc0FzY2lpID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gYXNjaWkudGVzdChzdHIpO1xuICAgIH07XG5cbiAgICB2YWxpZGF0b3IuaXNGdWxsV2lkdGggPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBmdWxsV2lkdGgudGVzdChzdHIpO1xuICAgIH07XG5cbiAgICB2YWxpZGF0b3IuaXNIYWxmV2lkdGggPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBoYWxmV2lkdGgudGVzdChzdHIpO1xuICAgIH07XG5cbiAgICB2YWxpZGF0b3IuaXNWYXJpYWJsZVdpZHRoID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gZnVsbFdpZHRoLnRlc3Qoc3RyKSAmJiBoYWxmV2lkdGgudGVzdChzdHIpO1xuICAgIH07XG5cbiAgICB2YWxpZGF0b3IuaXNTdXJyb2dhdGVQYWlyID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gc3Vycm9nYXRlUGFpci50ZXN0KHN0cik7XG4gICAgfTtcblxuICAgIHZhbGlkYXRvci5pc0Jhc2U2NCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIGJhc2U2NC50ZXN0KHN0cik7XG4gICAgfTtcblxuICAgIHZhbGlkYXRvci5pc01vbmdvSWQgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0b3IuaXNIZXhhZGVjaW1hbChzdHIpICYmIHN0ci5sZW5ndGggPT09IDI0O1xuICAgIH07XG5cbiAgICB2YWxpZGF0b3IuaXNJU084NjAxID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICByZXR1cm4gaXNvODYwMS50ZXN0KHN0cik7XG4gICAgfTtcblxuICAgIHZhbGlkYXRvci5sdHJpbSA9IGZ1bmN0aW9uIChzdHIsIGNoYXJzKSB7XG4gICAgICAgIHZhciBwYXR0ZXJuID0gY2hhcnMgPyBuZXcgUmVnRXhwKCdeWycgKyBjaGFycyArICddKycsICdnJykgOiAvXlxccysvZztcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKHBhdHRlcm4sICcnKTtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLnJ0cmltID0gZnVuY3Rpb24gKHN0ciwgY2hhcnMpIHtcbiAgICAgICAgdmFyIHBhdHRlcm4gPSBjaGFycyA/IG5ldyBSZWdFeHAoJ1snICsgY2hhcnMgKyAnXSskJywgJ2cnKSA6IC9cXHMrJC9nO1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UocGF0dGVybiwgJycpO1xuICAgIH07XG5cbiAgICB2YWxpZGF0b3IudHJpbSA9IGZ1bmN0aW9uIChzdHIsIGNoYXJzKSB7XG4gICAgICAgIHZhciBwYXR0ZXJuID0gY2hhcnMgPyBuZXcgUmVnRXhwKCdeWycgKyBjaGFycyArICddK3xbJyArIGNoYXJzICsgJ10rJCcsICdnJykgOiAvXlxccyt8XFxzKyQvZztcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKHBhdHRlcm4sICcnKTtcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLmVzY2FwZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgcmV0dXJuIChzdHIucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgJyYjeDI3OycpXG4gICAgICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAgICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwvL2csICcmI3gyRjsnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcYC9nLCAnJiM5NjsnKSk7XG4gICAgfTtcblxuICAgIHZhbGlkYXRvci5zdHJpcExvdyA9IGZ1bmN0aW9uIChzdHIsIGtlZXBfbmV3X2xpbmVzKSB7XG4gICAgICAgIHZhciBjaGFycyA9IGtlZXBfbmV3X2xpbmVzID8gJ1xcXFx4MDAtXFxcXHgwOVxcXFx4MEJcXFxceDBDXFxcXHgwRS1cXFxceDFGXFxcXHg3RicgOiAnXFxcXHgwMC1cXFxceDFGXFxcXHg3Ric7XG4gICAgICAgIHJldHVybiB2YWxpZGF0b3IuYmxhY2tsaXN0KHN0ciwgY2hhcnMpO1xuICAgIH07XG5cbiAgICB2YWxpZGF0b3Iud2hpdGVsaXN0ID0gZnVuY3Rpb24gKHN0ciwgY2hhcnMpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKG5ldyBSZWdFeHAoJ1teJyArIGNoYXJzICsgJ10rJywgJ2cnKSwgJycpO1xuICAgIH07XG5cbiAgICB2YWxpZGF0b3IuYmxhY2tsaXN0ID0gZnVuY3Rpb24gKHN0ciwgY2hhcnMpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKG5ldyBSZWdFeHAoJ1snICsgY2hhcnMgKyAnXSsnLCAnZycpLCAnJyk7XG4gICAgfTtcblxuICAgIHZhciBkZWZhdWx0X25vcm1hbGl6ZV9lbWFpbF9vcHRpb25zID0ge1xuICAgICAgICBsb3dlcmNhc2U6IHRydWVcbiAgICB9O1xuXG4gICAgdmFsaWRhdG9yLm5vcm1hbGl6ZUVtYWlsID0gZnVuY3Rpb24gKGVtYWlsLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBtZXJnZShvcHRpb25zLCBkZWZhdWx0X25vcm1hbGl6ZV9lbWFpbF9vcHRpb25zKTtcbiAgICAgICAgaWYgKCF2YWxpZGF0b3IuaXNFbWFpbChlbWFpbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFydHMgPSBlbWFpbC5zcGxpdCgnQCcsIDIpO1xuICAgICAgICBwYXJ0c1sxXSA9IHBhcnRzWzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChwYXJ0c1sxXSA9PT0gJ2dtYWlsLmNvbScgfHwgcGFydHNbMV0gPT09ICdnb29nbGVtYWlsLmNvbScpIHtcbiAgICAgICAgICAgIHBhcnRzWzBdID0gcGFydHNbMF0udG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXC4vZywgJycpO1xuICAgICAgICAgICAgaWYgKHBhcnRzWzBdWzBdID09PSAnKycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJ0c1swXSA9IHBhcnRzWzBdLnNwbGl0KCcrJylbMF07XG4gICAgICAgICAgICBwYXJ0c1sxXSA9ICdnbWFpbC5jb20nO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMubG93ZXJjYXNlKSB7XG4gICAgICAgICAgICBwYXJ0c1swXSA9IHBhcnRzWzBdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oJ0AnKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbWVyZ2Uob2JqLCBkZWZhdWx0cykge1xuICAgICAgICBvYmogPSBvYmogfHwge307XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBkZWZhdWx0cykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBvYmpba2V5XSA9IGRlZmF1bHRzW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjdXJyZW5jeVJlZ2V4KG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHN5bWJvbCA9ICcoXFxcXCcgKyBvcHRpb25zLnN5bWJvbC5yZXBsYWNlKC9cXC4vZywgJ1xcXFwuJykgKyAnKScgKyAob3B0aW9ucy5yZXF1aXJlX3N5bWJvbCA/ICcnIDogJz8nKVxuICAgICAgICAgICAgLCBuZWdhdGl2ZSA9ICctPydcbiAgICAgICAgICAgICwgd2hvbGVfZG9sbGFyX2Ftb3VudF93aXRob3V0X3NlcCA9ICdbMS05XVxcXFxkKidcbiAgICAgICAgICAgICwgd2hvbGVfZG9sbGFyX2Ftb3VudF93aXRoX3NlcCA9ICdbMS05XVxcXFxkezAsMn0oXFxcXCcgKyBvcHRpb25zLnRob3VzYW5kc19zZXBhcmF0b3IgKyAnXFxcXGR7M30pKidcbiAgICAgICAgICAgICwgdmFsaWRfd2hvbGVfZG9sbGFyX2Ftb3VudHMgPSBbJzAnLCB3aG9sZV9kb2xsYXJfYW1vdW50X3dpdGhvdXRfc2VwLCB3aG9sZV9kb2xsYXJfYW1vdW50X3dpdGhfc2VwXVxuICAgICAgICAgICAgLCB3aG9sZV9kb2xsYXJfYW1vdW50ID0gJygnICsgdmFsaWRfd2hvbGVfZG9sbGFyX2Ftb3VudHMuam9pbignfCcpICsgJyk/J1xuICAgICAgICAgICAgLCBkZWNpbWFsX2Ftb3VudCA9ICcoXFxcXCcgKyBvcHRpb25zLmRlY2ltYWxfc2VwYXJhdG9yICsgJ1xcXFxkezJ9KT8nO1xuICAgICAgICB2YXIgcGF0dGVybiA9IHdob2xlX2RvbGxhcl9hbW91bnQgKyBkZWNpbWFsX2Ftb3VudDtcbiAgICAgICAgLy8gZGVmYXVsdCBpcyBuZWdhdGl2ZSBzaWduIGJlZm9yZSBzeW1ib2wsIGJ1dCB0aGVyZSBhcmUgdHdvIG90aGVyIG9wdGlvbnMgKGJlc2lkZXMgcGFyZW5zKVxuICAgICAgICBpZiAob3B0aW9ucy5hbGxvd19uZWdhdGl2ZXMgJiYgIW9wdGlvbnMucGFyZW5zX2Zvcl9uZWdhdGl2ZXMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm5lZ2F0aXZlX3NpZ25fYWZ0ZXJfZGlnaXRzKSB7XG4gICAgICAgICAgICAgICAgcGF0dGVybiArPSBuZWdhdGl2ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdGlvbnMubmVnYXRpdmVfc2lnbl9iZWZvcmVfZGlnaXRzKSB7XG4gICAgICAgICAgICAgICAgcGF0dGVybiA9IG5lZ2F0aXZlICsgcGF0dGVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTb3V0aCBBZnJpY2FuIFJhbmQsIGZvciBleGFtcGxlLCB1c2VzIFIgMTIzIChzcGFjZSkgYW5kIFItMTIzIChubyBzcGFjZSlcbiAgICAgICAgaWYgKG9wdGlvbnMuYWxsb3dfbmVnYXRpdmVfc2lnbl9wbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgcGF0dGVybiA9ICcoICg/IVxcXFwtKSk/JyArIHBhdHRlcm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5hbGxvd19zcGFjZV9hZnRlcl9zeW1ib2wpIHtcbiAgICAgICAgICAgIHBhdHRlcm4gPSAnID8nICsgcGF0dGVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zLmFsbG93X3NwYWNlX2FmdGVyX2RpZ2l0cykge1xuICAgICAgICAgICAgcGF0dGVybiArPSAnKCAoPyEkKSk/JztcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5zeW1ib2xfYWZ0ZXJfZGlnaXRzKSB7XG4gICAgICAgICAgICBwYXR0ZXJuICs9IHN5bWJvbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhdHRlcm4gPSBzeW1ib2wgKyBwYXR0ZXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmFsbG93X25lZ2F0aXZlcykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGFyZW5zX2Zvcl9uZWdhdGl2ZXMpIHtcbiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gJyhcXFxcKCcgKyBwYXR0ZXJuICsgJ1xcXFwpfCcgKyBwYXR0ZXJuICsgJyknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIShvcHRpb25zLm5lZ2F0aXZlX3NpZ25fYmVmb3JlX2RpZ2l0cyB8fCBvcHRpb25zLm5lZ2F0aXZlX3NpZ25fYWZ0ZXJfZGlnaXRzKSkge1xuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBuZWdhdGl2ZSArIHBhdHRlcm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAnXicgK1xuICAgICAgICAgICAgLy8gZW5zdXJlIHRoZXJlJ3MgYSBkb2xsYXIgYW5kL29yIGRlY2ltYWwgYW1vdW50LCBhbmQgdGhhdCBpdCBkb2Vzbid0IHN0YXJ0IHdpdGggYSBzcGFjZSBvciBhIG5lZ2F0aXZlIHNpZ24gZm9sbG93ZWQgYnkgYSBzcGFjZVxuICAgICAgICAgICAgJyg/IS0/ICkoPz0uKlxcXFxkKScgK1xuICAgICAgICAgICAgcGF0dGVybiArXG4gICAgICAgICAgICAnJCdcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICB2YWxpZGF0b3IuaW5pdCgpO1xuXG4gICAgcmV0dXJuIHZhbGlkYXRvcjtcblxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciByZXF3ZXN0ID0gcmVxdWlyZSgncmVxd2VzdCcpO1xudmFyIGFqYXggPSB7fTtcbi8vIHZhciBldmVudEVtaXR0ZXIgPSBuZXcgcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyKCk7XG4vLyB2YXIgYWpheCA9IHtcbi8vICAgICAkb246IGV2ZW50RW1pdHRlci5vbixcbi8vICAgICAkb2ZmOiBldmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIsXG4vLyAgICAgJGVtaXQ6IGV2ZW50RW1pdHRlci5lbWl0XG4vLyB9O1xuXG52YXIgTm90aWZ5ID0gcmVxdWlyZSgnLi4vbW9kdWxlL25vdGlmeS5qcycpO1xuXG5hamF4LnJlcXVlc3QgPSBmdW5jdGlvbihvcHQpIHtcbiAgICB2YXIgbm9vcCA9IGZ1bmN0aW9uKCl7fTtcbiAgICB2YXIgb2xkRXJyb3IgPSBvcHQuZXJyb3IgfHwgbm9vcCxcbiAgICAgICAgb2xkU3VjY2VzcyA9IG9wdC5zdWNjZXNzIHx8IG5vb3AsXG4gICAgICAgIG9sZENvbXBsZXRlID0gb3B0LmNvbXBsZXRlIHx8IG5vb3A7XG5cbiAgICBvcHQuZGF0YSA9IG9wdC5kYXRhIHx8IHt9O1xuXG4gICAgaWYoIW9wdC5jb250ZW50VHlwZSAmJiBvcHQubWV0aG9kICYmIG9wdC5tZXRob2QudG9Mb3dlckNhc2UoKSAhPT0gJ2dldCcpXG4gICAgICAgIG9wdC5jb250ZW50VHlwZSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICBlbHNlXG4gICAgICAgIG9wdC5kYXRhLnRpbWVzdGFtcCA9ICtuZXcgRGF0ZTtcblxuICAgIGlmKG9wdC5jb250ZW50VHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nKSB7XG4gICAgICAgIG9wdC5kYXRhID0gSlNPTi5zdHJpbmdpZnkob3B0LmRhdGEpO1xuICAgIH1cblxuICAgIC8vYWpheC4kZW1pdCgnc3RhcnQnLCBvcHQpO1xuICAgIG9wdC5zdWNjZXNzID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAvL2FqYXguJGVtaXQoJ3N1Y2Nlc3MnLCBkYXRhKTtcblxuICAgICAgICBpZighZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICBOb3RpZnkuZXJyb3IoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgIG9sZEVycm9yKGRhdGEucmVzdWx0LCBkYXRhKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgb2xkU3VjY2VzcyhkYXRhLnJlc3VsdCwgZGF0YSk7XG4gICAgfVxuXG4gICAgb3B0LmVycm9yID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAvL2FqYXguJGVtaXQoJ2Vycm9yJywgZGF0YSk7XG4gICAgICAgIG9sZEVycm9yKGRhdGEucmVzdWx0LCBkYXRhKTtcbiAgICB9XG5cbiAgICBvcHQuY29tcGxldGUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIC8vYWpheC4kZW1pdCgnY29tcGxldGUnLCBkYXRhKTtcbiAgICAgICAgb2xkQ29tcGxldGUoZGF0YS5yZXN1bHQsIGRhdGEpO1xuICAgIH1cblxuICAgIHJlcXdlc3Qob3B0KTtcbn1cblxuYWpheC5nZXQgPSBmdW5jdGlvbih1cmwsIHN1Y2Nlc3MpIHtcbiAgICBhamF4LnJlcXVlc3Qoe1xuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgbWV0aG9kOiAnZ2V0JyxcbiAgICAgICAgc3VjY2Vzczogc3VjY2Vzc1xuICAgIH0pO1xufVxuXG5hamF4LnBvc3QgPSBmdW5jdGlvbih1cmwsIGRhdGEsIHN1Y2Nlc3MpIHtcbiAgICBhamF4LnJlcXVlc3Qoe1xuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAgIHR5cGU6ICdqc29uJyxcbiAgICAgICAgc3VjY2Vzczogc3VjY2Vzc1xuICAgIH0pXG59XG5cbm1vZHVsZS5leHBvcnRzID0gYWpheDsiLCIvKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ29tcG9uZW50IOe7hOS7tuWfuuexu1xuICogQGF1dGhvciAgIHNlbnNlbihyYWluZm9yZXN0OTJAMTI2LmNvbSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlZ3VsYXIgPSByZXF1aXJlKCdyZWd1bGFyanMnKTtcbnZhciBfID0gcmVxdWlyZSgnLi91dGlsLmpzJyk7XG52YXIgZmlsdGVyID0gcmVxdWlyZSgnLi9maWx0ZXIuanMnKTtcblxuLyoqXG4gKiBAY2xhc3MgQ29tcG9uZW50XG4gKiBAZXh0ZW5kIFJlZ3VsYXJcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5yZWFkb25seSAgICAgICAgICAg5piv5ZCm5Y+q6K+7XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEuZGlzYWJsZWQgICAgICAgICAgIOaYr+WQpuemgeeUqFxuICogQHBhcmFtIHtib29sZWFuPXRydWV9ICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnZpc2libGUgICAgICAgICAgICDmmK/lkKbmmL7npLpcbiAqIEBwYXJhbSB7c3RyaW5nPScnfSAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5jbGFzcyAgICAgICAgICAgICAg6KGl5YWFY2xhc3NcbiAqL1xudmFyIENvbXBvbmVudCA9IFJlZ3VsYXIuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY29uZmlnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgXy5leHRlbmQodGhpcy5kYXRhLCB7XG4gICAgICAgICAgICByZWFkb25seTogZmFsc2UsXG4gICAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgJ2NsYXNzJzogJydcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3VwcigpO1xuICAgIH1cbn0pXG4uZmlsdGVyKGZpbHRlcilcbi5kaXJlY3RpdmUoe1xuXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbXBvbmVudDsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBmaWx0ZXIgPSB7fTtcblxuZmlsdGVyLmZvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIGZpeChzdHIpIHtcbiAgICAgICAgc3RyID0gJycgKyAoU3RyaW5nKHN0cikgfHwgJycpO1xuICAgICAgICByZXR1cm4gc3RyLmxlbmd0aCA8PSAxPyAnMCcgKyBzdHIgOiBzdHI7XG4gICAgfVxuICAgIHZhciBtYXBzID0ge1xuICAgICAgICAneXl5eSc6IGZ1bmN0aW9uKGRhdGUpe3JldHVybiBkYXRlLmdldEZ1bGxZZWFyKCl9LFxuICAgICAgICAnTU0nOiBmdW5jdGlvbihkYXRlKXtyZXR1cm4gZml4KGRhdGUuZ2V0TW9udGgoKSArIDEpOyB9LFxuICAgICAgICAnZGQnOiBmdW5jdGlvbihkYXRlKXsgcmV0dXJuIGZpeChkYXRlLmdldERhdGUoKSkgfSxcbiAgICAgICAgJ0hIJzogZnVuY3Rpb24oZGF0ZSl7cmV0dXJuIGZpeChkYXRlLmdldEhvdXJzKCkpIH0sXG4gICAgICAgICdtbSc6IGZ1bmN0aW9uKGRhdGUpeyByZXR1cm4gZml4KGRhdGUuZ2V0TWludXRlcygpKX0sXG4gICAgICAgICdzcyc6IGZ1bmN0aW9uKGRhdGUpeyByZXR1cm4gZml4KGRhdGUuZ2V0U2Vjb25kcygpKX1cbiAgICB9XG5cbiAgICB2YXIgdHJ1bmsgPSBuZXcgUmVnRXhwKE9iamVjdC5rZXlzKG1hcHMpLmpvaW4oJ3wnKSwnZycpO1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgZm9ybWF0KXtcbiAgICAgICAgaWYoIXZhbHVlKXtyZXR1cm4gJyc7fVxuICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJ3l5eXktTU0tZGQgSEg6bW0nO1xuICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKTtcblxuICAgICAgICByZXR1cm4gZm9ybWF0LnJlcGxhY2UodHJ1bmssIGZ1bmN0aW9uKGNhcHR1cmUpe1xuICAgICAgICAgICAgcmV0dXJuIG1hcHNbY2FwdHVyZV0/IG1hcHNbY2FwdHVyZV0odmFsdWUpOiAnJztcbiAgICAgICAgfSk7XG4gICAgfVxufSgpO1xuXG5maWx0ZXIuYXZlcmFnZSA9IGZ1bmN0aW9uKGFycmF5LCBrZXkpIHtcbiAgICBhcnJheSA9IGFycmF5IHx8IFtdO1xuICAgIHJldHVybiBhcnJheS5sZW5ndGg/IGZpbHRlci50b3RhbChhcnJheSwga2V5KSAvIGFycmF5Lmxlbmd0aCA6IDA7XG59XG5maWx0ZXIudG90YWwgPSBmdW5jdGlvbihhcnJheSwga2V5KSB7XG4gICAgdmFyIHRvdGFsID0gMDtcbiAgICBpZighYXJyYXkpIHJldHVybjtcbiAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKCBpdGVtICl7XG4gICAgICAgIHRvdGFsICs9IGtleT8gaXRlbVtrZXldIDogaXRlbTtcbiAgICB9KVxuICAgIHJldHVybiB0b3RhbDtcbn1cblxuZmlsdGVyLmZpbHRlciA9IGZ1bmN0aW9uKGFycmF5LCBmaWx0ZXJGbikge1xuICAgIGlmKCFhcnJheSB8fCAhYXJyYXkubGVuZ3RoKSByZXR1cm47XG4gICAgcmV0dXJuIGFycmF5LmZpbHRlcihmdW5jdGlvbihpdGVtLCBpbmRleCl7XG4gICAgICAgIHJldHVybiBmaWx0ZXJGbihpdGVtLCBpbmRleCk7XG4gICAgfSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmaWx0ZXI7IiwiLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFNvdXJjZUNvbXBvbmVudCDmlbDmja7nu4Tku7bln7rnsbtcbiAqIEBhdXRob3IgICBzZW5zZW4ocmFpbmZvcmVzdDkyQDEyNi5jb20pXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBDb21wb25lbnQgPSByZXF1aXJlKCcuL2NvbXBvbmVudC5qcycpO1xudmFyIF8gPSByZXF1aXJlKCcuL3V0aWwuanMnKTtcblxuLyoqXG4gKiBAY2xhc3MgU291cmNlQ29tcG9uZW50XG4gKiBAZXh0ZW5kIENvbXBvbmVudFxuICogQHBhcmFtIHtvYmplY3RbXT1bXX0gICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNvdXJjZSAgICAgICAgICAgICDmlbDmja7mupBcbiAqIEBwYXJhbSB7Ym9vbGVhbj10cnVlfSAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cGRhdGVBdXRvICAgICAgICAg5b2T5pyJc2VydmljZeaXtu+8jOaYr+WQpuiHquWKqOWKoOi9vVxuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLnJlYWRvbmx5ICAgICAgICAgICDmmK/lkKblj6ror7tcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5kaXNhYmxlZCAgICAgICAgICAg5piv5ZCm56aB55SoXG4gKiBAcGFyYW0ge2Jvb2xlYW49dHJ1ZX0gICAgICAgICAgICBvcHRpb25zLmRhdGEudmlzaWJsZSAgICAgICAgICAgIOaYr+WQpuaYvuekulxuICogQHBhcmFtIHtzdHJpbmc9Jyd9ICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmNsYXNzICAgICAgICAgICAgICDooaXlhYVjbGFzc1xuICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zZXJ2aWNlICAgICAgICAgICAgICAgICDmlbDmja7mnI3liqFcbiAqL1xudmFyIFNvdXJjZUNvbXBvbmVudCA9IENvbXBvbmVudC5leHRlbmQoe1xuICAgIHNlcnZpY2U6IG51bGwsXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGNvbmZpZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIF8uZXh0ZW5kKHRoaXMuZGF0YSwge1xuICAgICAgICAgICAgc291cmNlOiBbXSxcbiAgICAgICAgICAgIHVwZGF0ZUF1dG86IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYodGhpcy5kYXRhLnNlcnZpY2UpXG4gICAgICAgICAgICB0aGlzLnNlcnZpY2UgPSB0aGlzLmRhdGEuc2VydmljZTtcblxuICAgICAgICBpZih0aGlzLnNlcnZpY2UgJiYgdGhpcy5kYXRhLnVwZGF0ZUF1dG8pXG4gICAgICAgICAgICB0aGlzLiR1cGRhdGVTb3VyY2UoKTtcblxuICAgICAgICB0aGlzLnN1cHIoKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZ2V0UGFyYW1zIOi/lOWbnuivt+axguaXtumcgOimgeeahOWPguaVsFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9XG4gICAgICovXG4gICAgZ2V0UGFyYW1zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCAkdXBkYXRlU291cmNlKCkg5LuOc2VydmljZeS4reabtOaWsOaVsOaNrua6kFxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJuIHtTb3VyY2VDb21wb25lbnR9IHRoaXNcbiAgICAgKi9cbiAgICAkdXBkYXRlU291cmNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXJ2aWNlLmdldExpc3QodGhpcy5nZXRQYXJhbXMoKSwgZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLiR1cGRhdGUoJ3NvdXJjZScsIHJlc3VsdCk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNvdXJjZUNvbXBvbmVudDsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBSZWd1bGFyID0gcmVxdWlyZSgncmVndWxhcmpzJyk7XG5cbnZhciBfID0ge1xuICAgIGV4dGVuZDogZnVuY3Rpb24obzEsIG8yLCBvdmVycmlkZSkge1xuICAgICAgICBmb3IodmFyIGkgaW4gbzIpXG4gICAgICAgICAgICBpZihvdmVycmlkZSB8fCBvMVtpXSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIG8xW2ldID0gbzJbaV1cbiAgICAgICAgcmV0dXJuIG8xO1xuICAgIH0sXG4gICAgZG9tOiBSZWd1bGFyLmRvbSxcbiAgICBtdWx0aWxpbmU6IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAgICAgdmFyIHJlZyA9IC9eZnVuY3Rpb25cXHMqXFwoXFwpXFxzKlxce1xccypcXC9cXCorXFxzKihbXFxzXFxTXSopXFxzKlxcKitcXC9cXHMqXFx9JC87XG4gICAgICAgIHJldHVybiByZWcuZXhlYyhmdW5jKVsxXTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gXzsiLCIvKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVmFsaWRhdG9yIOihqOWNlemqjOivgVxuICogQGF1dGhvciAgIHNlbnNlbihyYWluZm9yZXN0OTJAMTI2LmNvbSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHZhbGkgPSByZXF1aXJlKCd2YWxpZGF0b3InKTtcbnZhciB2YWxpZGF0b3IgPSB7fVxuXG4vKipcbiAqIDIzNTIzNVxucnVsZXMgPSBbXG4gICAge3R5cGU6ICdpc1JlcXVpcmVkJywgbWluOiAyLCBtYXg6IDVcbl1cbiovXG5cbnZhbGlkYXRvci52YWxpZGF0ZSA9IGZ1bmN0aW9uKHZhbHVlLCBydWxlcykge1xuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIG1lc3NhZ2U6ICcnXG4gICAgfVxuXG4gICAgcnVsZXMuZm9yRWFjaChmdW5jdGlvbihydWxlKSB7XG4gICAgICAgIHJ1bGUuc3VjY2VzcyA9IHRydWU7XG5cbiAgICAgICAgaWYocnVsZS50eXBlID09PSAnaXMnKSB7XG4gICAgICAgICAgICBydWxlLnN1Y2Nlc3MgPSBydWxlLnJlZy50ZXN0KHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmKHJ1bGUudHlwZSA9PT0gJ2lzUmVxdWlyZWQnKSB7XG4gICAgICAgICAgICBydWxlLnN1Y2Nlc3MgPSAhIXZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYocnVsZS50eXBlID09PSAnaXNGaWxsZWQnKSB7XG4gICAgICAgICAgICBydWxlLnN1Y2Nlc3MgPSAhIXZhbHVlICYmIHZhbHVlLnRyaW0oKTtcbiAgICAgICAgfSBlbHNlIGlmKHJ1bGUudHlwZSA9PT0gJ2lzRW1haWwnKSB7XG4gICAgICAgICAgICBydWxlLnN1Y2Nlc3MgPSB2YWxpLmlzRW1haWwodmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYocnVsZS50eXBlID09PSAnaXNVUkwnKSB7XG4gICAgICAgICAgICBydWxlLnN1Y2Nlc3MgPSB2YWxpLmlzVVJMKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmKHJ1bGUudHlwZSA9PT0gJ2lzTnVtYmVyJykge1xuICAgICAgICAgICAgcnVsZS5zdWNjZXNzID0gdmFsaS5pc0ludCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZihydWxlLnR5cGUgPT09ICdpc0ludCcpIHtcbiAgICAgICAgICAgIHJ1bGUuc3VjY2VzcyA9IHZhbGkuaXNJbnQodmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYocnVsZS50eXBlID09PSAnaXNGbG9hdCcpIHtcbiAgICAgICAgICAgIHJ1bGUuc3VjY2VzcyA9IHZhbGkuaXNGbG9hdCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZihydWxlLnR5cGUgPT09ICdpc0xlbmd0aCcpIHtcbiAgICAgICAgICAgIHJ1bGUuc3VjY2VzcyA9IHZhbGkuaXNMZW5ndGgodmFsdWUsIHJ1bGUubWluLCBydWxlLm1heCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBydWxlLnN1Y2Nlc3MgPSBydWxlLm1ldGhvZCh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZighcnVsZS5zdWNjZXNzICYmIHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICByZXN1bHQuc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgcmVzdWx0Lm1lc3NhZ2UgPSBydWxlLm1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbnZhbGlkYXRvci52YWxpZGF0ZUZvcm0gPSBmdW5jdGlvbihkYXRhLCBmaWVsZHMpIHtcbiAgICB2YXIgY29uY2x1c2lvbiA9IHtcbiAgICAgICAgcmVzdWx0czoge30sXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIG1lc3NhZ2U6ICcnXG4gICAgfVxuICAgIFxuICAgIGZvcih2YXIga2V5IGluIGZpZWxkcykge1xuICAgICAgICB2YXIgcnVsZXMgPSBmaWVsZHNba2V5XTtcbiAgICAgICAgaWYoIXJ1bGVzKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIHZhciB2YWx1ZSA9IGRhdGFba2V5XTtcblxuICAgICAgICBjb25jbHVzaW9uLnJlc3VsdHNba2V5XSA9IHZhbGlkYXRvci52YWxpZGF0ZSh2YWx1ZSwgcnVsZXMpO1xuICAgIH1cblxuICAgIHJldHVybiBjb25jbHVzaW9uO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHZhbGlkYXRvcjsiLCJtb2R1bGUuZXhwb3J0cz1cIjxkaXYgY2xhc3M9XFxcIm0tYWNjb3JkaW9uIHtAKGNsYXNzKX1cXFwiIHItY2xhc3M9eyB7XFwnei1kaXNcXCc6IGRpc2FibGVkfSB9IHItaGlkZT17IXZpc2libGV9PiAgICB7I2luYyB0aGlzLiRib2R5fTwvZGl2PlwiIiwiLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEFjY29yZGlvbiAgICAgICDpgInpobnljaFcbiAqIEBhdXRob3IgICBzZW5zZW4ocmFpbmZvcmVzdDkyQDEyNi5jb20pXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBDb21wb25lbnQgPSByZXF1aXJlKCcuLi9iYXNlL2NvbXBvbmVudC5qcycpO1xudmFyIHRlbXBsYXRlID0gcmVxdWlyZSgnLi9hY2NvcmRpb24uaHRtbCcpO1xudmFyIGl0ZW1UZW1wbGF0ZSA9IHJlcXVpcmUoJy4vYWNjb3JkaW9uUGFuZS5odG1sJyk7XG52YXIgXyA9IHJlcXVpcmUoJy4uL2Jhc2UvdXRpbC5qcycpO1xuXG4vKipcbiAqIEBjbGFzcyBBY2NvcmRpb25cbiAqIEBleHRlbmQgQ29tcG9uZW50XG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgICAgICAgICAgICAgICAgICAgIOe7keWumuWxnuaAp1xuICogQHBhcmFtIHtib29sZWFuPXRydWV9ICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmNvbGxhcHNlICAgICAgICAgICDmmK/lkKblj6rog73lkIzml7blsZXlvIDkuIDkuKpcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5yZWFkb25seSAgICAgICAgICAg5piv5ZCm5Y+q6K+7XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEuZGlzYWJsZWQgICAgICAgICAgIOaYr+WQpuemgeeUqFxuICogQHBhcmFtIHtib29sZWFuPXRydWV9ICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnZpc2libGUgICAgICAgICAgICDmmK/lkKbmmL7npLpcbiAqIEBwYXJhbSB7c3RyaW5nPScnfSAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5jbGFzcyAgICAgICAgICAgICAg6KGl5YWFY2xhc3NcbiAqL1xudmFyIEFjY29yZGlvbiA9IENvbXBvbmVudC5leHRlbmQoe1xuICAgIG5hbWU6ICdhY2NvcmRpb24nLFxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY29uZmlnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgXy5leHRlbmQodGhpcy5kYXRhLCB7XG4gICAgICAgICAgICBwYW5lczogW10sXG4gICAgICAgICAgICBjb2xsYXBzZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdXByKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdG9nZ2xlKGl0ZW0pIOWxleW8gOaIluaUtui1t+afkOS4gOmhuVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7b2JqZWN0fSBpdGVtIOWxleW8gOaUtui1t+mhuVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG59KTtcblxudmFyIEFjY29yZGlvblBhbmUgPSBDb21wb25lbnQuZXh0ZW5kKHtcbiAgICBuYW1lOiAnYWNjb3JkaW9uUGFuZScsXG4gICAgdGVtcGxhdGU6IGl0ZW1UZW1wbGF0ZSxcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY29uZmlnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgXy5leHRlbmQodGhpcy5kYXRhLCB7XG4gICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICBvcGVuOiBmYWxzZSxcbiAgICAgICAgICAgIGRpc2FibGVkOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdXByKCk7XG5cbiAgICAgICAgaWYodGhpcy4kb3V0ZXIpXG4gICAgICAgICAgICB0aGlzLiRvdXRlci5kYXRhLnBhbmVzLnB1c2godGhpcyk7XG4gICAgfSxcbiAgICB0b2dnbGU6IGZ1bmN0aW9uKG9wZW4pIHtcbiAgICAgICAgaWYob3BlbiAmJiB0aGlzLiRvdXRlci5kYXRhLmNvbGxhcHNlKSB7XG4gICAgICAgICAgICB0aGlzLiRvdXRlci5kYXRhLnBhbmVzLmZvckVhY2goZnVuY3Rpb24ocGFuZSkge1xuICAgICAgICAgICAgICAgIHBhbmUuZGF0YS5vcGVuID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0YS5vcGVuID0gb3BlbjtcbiAgICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBY2NvcmRpb247IiwibW9kdWxlLmV4cG9ydHM9XCI8ZGl2IGNsYXNzPVxcXCJtLXBhbmVsXFxcIj4gICAgPGRpdiBjbGFzcz1cXFwicGFuZWxfaGRcXFwiIG9uLWNsaWNrPXt0aGlzLnRvZ2dsZSghb3Blbil9Pnt0aXRsZX08L2Rpdj4gICAgPGRpdiBjbGFzcz1cXFwicGFuZWxfYmRcXFwiIHItaGlkZT17IW9wZW59PiAgICAgICAgeyNpbmNsdWRlIHRoaXMuJGJvZHl9ICAgIDwvZGl2PjwvZGl2PlwiIiwibW9kdWxlLmV4cG9ydHM9XCI8ZGl2IGNsYXNzPVxcXCJ1LWNhbGVuZGFyIHtAKGNsYXNzKX1cXFwiIHItY2xhc3M9eyB7XFwnei1kaXNcXCc6IGRpc2FibGVkfSB9IHItaGlkZT17IXZpc2libGV9PiAgICA8ZGl2IGNsYXNzPVxcXCJjYWxlbmRhcl9oZFxcXCI+ICAgICAgICA8c3BhbiBjbGFzcz1cXFwiY2FsZW5kYXJfcHJldlxcXCI+ICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhbGVuZGFyX2l0ZW1cXFwiIG9uLWNsaWNrPXt0aGlzLmFkZFllYXIoLTEpfT48aSBjbGFzcz1cXFwidS1pY29uIHUtaWNvbi1hbmdsZS1kb3VibGUtbGVmdFxcXCI+PC9pPjwvc3Bhbj4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiY2FsZW5kYXJfaXRlbVxcXCIgb24tY2xpY2s9e3RoaXMuYWRkTW9udGgoLTEpfT48aSBjbGFzcz1cXFwidS1pY29uIHUtaWNvbi1hbmdsZS1sZWZ0XFxcIj48L2k+PC9zcGFuPiAgICAgICAgPC9zcGFuPiAgICAgICAgPHNwYW4+e2RhdGUgfCBmb3JtYXQ6IFxcJ3l5eXktTU1cXCd9PC9zcGFuPiAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhbGVuZGFyX25leHRcXFwiPiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJjYWxlbmRhcl9pdGVtXFxcIiBvbi1jbGljaz17dGhpcy5hZGRNb250aCgxKX0+PGkgY2xhc3M9XFxcInUtaWNvbiB1LWljb24tYW5nbGUtcmlnaHRcXFwiPjwvaT48L3NwYW4+ICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhbGVuZGFyX2l0ZW1cXFwiIG9uLWNsaWNrPXt0aGlzLmFkZFllYXIoMSl9PjxpIGNsYXNzPVxcXCJ1LWljb24gdS1pY29uLWFuZ2xlLWRvdWJsZS1yaWdodFxcXCI+PC9pPjwvc3Bhbj4gICAgICAgIDwvc3Bhbj4gICAgPC9kaXY+ICAgIDxkaXYgY2xhc3M9XFxcImNhbGVuZGFyX2JkXFxcIj4gICAgICAgIDxkaXYgY2xhc3M9XFxcImNhbGVuZGFyX3dlZWtcXFwiPjxzcGFuIGNsYXNzPVxcXCJjYWxlbmRhcl9pdGVtXFxcIj7ml6U8L3NwYW4+PHNwYW4gY2xhc3M9XFxcImNhbGVuZGFyX2l0ZW1cXFwiPuS4gDwvc3Bhbj48c3BhbiBjbGFzcz1cXFwiY2FsZW5kYXJfaXRlbVxcXCI+5LqMPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJjYWxlbmRhcl9pdGVtXFxcIj7kuIk8L3NwYW4+PHNwYW4gY2xhc3M9XFxcImNhbGVuZGFyX2l0ZW1cXFwiPuWbmzwvc3Bhbj48c3BhbiBjbGFzcz1cXFwiY2FsZW5kYXJfaXRlbVxcXCI+5LqUPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJjYWxlbmRhcl9pdGVtXFxcIj7lha08L3NwYW4+PC9kaXY+ICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjYWxlbmRhcl9kYXlcXFwiPnsjbGlzdCBfZGF5cyBhcyBkYXl9PHNwYW4gY2xhc3M9XFxcImNhbGVuZGFyX2l0ZW1cXFwiIHItY2xhc3M9eyB7XFwnei1zZWxcXCc6IGRhdGUudG9EYXRlU3RyaW5nKCkgPT09IGRheS50b0RhdGVTdHJpbmcoKSwgXFwnei1tdXRlZFxcJzogZGF0ZS5nZXRNb250aCgpICE9PSBkYXkuZ2V0TW9udGgoKSwgXFwnei1kaXNcXCc6IHRoaXMuaXNPdXRPZlJhbmdlKGRheSl9IH0gb24tY2xpY2s9e3RoaXMuc2VsZWN0KGRheSl9PntkYXkgfCBmb3JtYXQ6IFxcJ2RkXFwnfTwvc3Bhbj57L2xpc3R9PC9kaXY+ICAgICAgICB7I2luYyB0aGlzLiRib2R5fSAgICA8L2Rpdj48L2Rpdj5cIiIsIi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDYWxlbmRhciAg5pel5Y6GXG4gKiBAYXV0aG9yICAgc2Vuc2VuKHJhaW5mb3Jlc3Q5MkAxMjYuY29tKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vYmFzZS9jb21wb25lbnQuanMnKTtcbnZhciB0ZW1wbGF0ZSA9IHJlcXVpcmUoJy4vY2FsZW5kYXIuaHRtbCcpO1xudmFyIF8gPSByZXF1aXJlKCcuLi9iYXNlL3V0aWwuanMnKTtcblxudmFyIE1TX09GX0RBWSA9IDI0KjM2MDAqMTAwMDtcblxuLyoqXG4gKiBAY2xhc3MgQ2FsZW5kYXJcbiAqIEBleHRlbmQgQ29tcG9uZW50XG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgICAgICAgICAgICAgICAgICAgIOe7keWumuWxnuaAp1xuICogQHBhcmFtIHtEYXRlPW51bGx9ICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmRhdGUgICAgICAgICAgICAgICDlvZPliY3pgInmi6nnmoTml6XmnJ9cbiAqIEBwYXJhbSB7RGF0ZT1udWxsfSAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5taW5EYXRlICAgICAgICAgICAg5pyA5bCP5pel5pyf77yM5aaC5p6c5Li656m65YiZ5LiN6ZmQ5Yi2XG4gKiBAcGFyYW0ge0RhdGU9bnVsbH0gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEubWF4RGF0ZSAgICAgICAgICAgIOacgOWkp+aXpeacn++8jOWmguaenOS4uuepuuWImeS4jemZkOWItlxuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLnJlYWRvbmx5ICAgICAgICAgICDmmK/lkKblj6ror7tcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5kaXNhYmxlZCAgICAgICAgICAg5piv5ZCm56aB55SoXG4gKiBAcGFyYW0ge2Jvb2xlYW49dHJ1ZX0gICAgICAgICAgICBvcHRpb25zLmRhdGEudmlzaWJsZSAgICAgICAgICAgIOaYr+WQpuaYvuekulxuICogQHBhcmFtIHtzdHJpbmc9Jyd9ICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmNsYXNzICAgICAgICAgICAgICDooaXlhYVjbGFzc1xuICovXG52YXIgQ2FsZW5kYXIgPSBDb21wb25lbnQuZXh0ZW5kKHtcbiAgICBuYW1lOiAnY2FsZW5kYXInLFxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY29uZmlnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgXy5leHRlbmQodGhpcy5kYXRhLCB7XG4gICAgICAgICAgICBkYXRlOiBudWxsLFxuICAgICAgICAgICAgbWluRGF0ZTogbnVsbCxcbiAgICAgICAgICAgIG1heERhdGU6IG51bGwsXG4gICAgICAgICAgICBfZGF5czogW11cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3VwcigpO1xuXG4gICAgICAgIHRoaXMuJHdhdGNoKCdkYXRlJywgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICBpZihuZXdWYWx1ZSAmJiBvbGRWYWx1ZSAmJiBuZXdWYWx1ZS5nZXRGdWxsWWVhcigpID09PSBvbGRWYWx1ZS5nZXRGdWxsWWVhcigpICYmIG5ld1ZhbHVlLmdldE1vbnRoKCkgPT09IG9sZFZhbHVlLmdldE1vbnRoKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyBpZihuZXdWYWx1ZSAmJiB0aGlzLmlzT3V0T2ZSYW5nZShuZXdWYWx1ZSkpXG4gICAgICAgICAgICAvLyAgICAgdGhpcy5kYXRhLmRhdGUgPSB0aGlzLmRhdGEubWluRGF0ZSB8fCB0aGlzLmRhdGEubWF4RGF0ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYoIXRoaXMuZGF0YS5kYXRlKVxuICAgICAgICAgICAgdGhpcy5nb1RvZGF5KCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHVwZGF0ZSgpIOaXpeacn+aUueWPmOWQjuabtOaWsOaXpeWOhlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmRhdGEuX2RheXMgPSBbXTtcbiAgICAgICAgXG4gICAgICAgIHZhciBkYXRlID0gdGhpcy5kYXRhLmRhdGU7XG4gICAgICAgIHZhciBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICAgICAgdmFyIG1maXJzdCA9IG5ldyBEYXRlKGRhdGUpOyBtZmlyc3Quc2V0RGF0ZSgxKTtcbiAgICAgICAgdmFyIG1maXJzdFRpbWUgPSBtZmlyc3QuZ2V0VGltZSgpO1xuICAgICAgICB2YXIgbmZpcnN0ID0gbmV3IERhdGUobWZpcnN0KTsgbmZpcnN0LnNldE1vbnRoKG1vbnRoICsgMSk7IG5maXJzdC5zZXREYXRlKDEpO1xuICAgICAgICB2YXIgbmZpcnN0VGltZSA9IG5maXJzdC5nZXRUaW1lKCk7XG4gICAgICAgIHZhciBsYXN0VGltZSA9IG5maXJzdFRpbWUgKyAoKDcgLSBuZmlyc3QuZ2V0RGF5KCkpJTcgLSAxKSpNU19PRl9EQVk7XG4gICAgICAgIHZhciBudW0gPSAtIG1maXJzdC5nZXREYXkoKTtcbiAgICAgICAgdmFyIHRtcFRpbWUsIHRtcDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdG1wVGltZSA9IG1maXJzdFRpbWUgKyAobnVtKyspKk1TX09GX0RBWTtcbiAgICAgICAgICAgIHRtcCA9IG5ldyBEYXRlKHRtcFRpbWUpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLl9kYXlzLnB1c2godG1wKTtcbiAgICAgICAgfSB3aGlsZSh0bXBUaW1lIDwgbGFzdFRpbWUpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBhZGRZZWFyKHllYXIpIOiwg+aVtOW5tOS7vVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0gIHtudW1iZXI9MH0geWVhciDliqAv5YeP55qE5bm05Lu9XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBhZGRZZWFyOiBmdW5jdGlvbih5ZWFyKSB7XG4gICAgICAgIGlmKHRoaXMuZGF0YS5yZWFkb25seSB8fCB0aGlzLmRhdGEuZGlzYWJsZWQgfHwgIXllYXIpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aGlzLmRhdGEuZGF0ZSk7XG4gICAgICAgIGRhdGUuc2V0RnVsbFllYXIoZGF0ZS5nZXRGdWxsWWVhcigpICsgeWVhcik7XG4gICAgICAgIHRoaXMuZGF0YS5kYXRlID0gZGF0ZTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgYWRkTW9udGgobW9udGgpIOiwg+aVtOaciOS7vVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0gIHtudW1iZXI9MH0gbW9udGgg5YqgL+WHj+eahOaciOS7vVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgYWRkTW9udGg6IGZ1bmN0aW9uKG1vbnRoKSB7XG4gICAgICAgIGlmKHRoaXMuZGF0YS5yZWFkb25seSB8fCB0aGlzLmRhdGEuZGlzYWJsZWQgfHwgIW1vbnRoKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUodGhpcy5kYXRhLmRhdGUpO1xuICAgICAgICBkYXRlLnNldE1vbnRoKGRhdGUuZ2V0TW9udGgoKSArIG1vbnRoKTtcbiAgICAgICAgdGhpcy5kYXRhLmRhdGUgPSBkYXRlO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBzZWxlY3QoZGF0ZSkg6YCJ5oup5LiA5Liq5pel5pyfXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSAge0RhdGU9bnVsbH0gZGF0ZSDpgInmi6nnmoTml6XmnJ9cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHNlbGVjdDogZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICBpZih0aGlzLmRhdGEucmVhZG9ubHkgfHwgdGhpcy5kYXRhLmRpc2FibGVkIHx8IHRoaXMuaXNPdXRPZlJhbmdlKGRhdGUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuZGF0YS5kYXRlID0gbmV3IERhdGUoZGF0ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCBzZWxlY3Qg6YCJ5oup5p+Q5LiA5Liq5pel5pyf5pe26Kem5Y+RXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBkYXRlIOW9k+WJjemAieaLqeeahOaXpeacn1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kZW1pdCgnc2VsZWN0Jywge1xuICAgICAgICAgICAgZGF0ZTogZGF0ZVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZ29Ub2RheSgpIOWbnuWIsOS7iuWkqVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGdvVG9kYXk6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmRhdGEuZGF0ZSA9IG5ldyBEYXRlKChuZXcgRGF0ZSgpLmdldFRpbWUoKS9NU19PRl9EQVk+PjApKk1TX09GX0RBWSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGlzT3V0T2ZSYW5nZSDmmK/lkKbotoXlh7rml6XmnJ/ojIPlm7RcbiAgICAgKiBAcGFyYW0ge0RhdGV9IGRheSDmn5DkuIDlpKlcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGlzT3V0T2ZSYW5nZTogZnVuY3Rpb24oZGF5KSB7XG4gICAgICAgIHZhciBtaW5EYXRlID0gdGhpcy5kYXRhLm1pbkRhdGUgPyBuZXcgRGF0ZSgodGhpcy5kYXRhLm1pbkRhdGUuZ2V0VGltZSgpL01TX09GX0RBWT4+MCkqTVNfT0ZfREFZKSA6IG51bGw7XG4gICAgICAgIHZhciBtYXhEYXRlID0gdGhpcy5kYXRhLm1heERhdGUgPyBuZXcgRGF0ZSgodGhpcy5kYXRhLm1heERhdGUuZ2V0VGltZSgpL01TX09GX0RBWT4+MCkqTVNfT0ZfREFZKSA6IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIChtaW5EYXRlICYmIGRheSA8IG1pbkRhdGUpIHx8IChtYXhEYXRlICYmIGRheSA+IG1heERhdGUpO1xuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbGVuZGFyOyIsIm1vZHVsZS5leHBvcnRzPVwiXCIiLCIvKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRWRpdG9yICAgIOe8lui+keWZqFxuICogQGF1dGhvciAgIHNlbnNlbihyYWluZm9yZXN0OTJAMTI2LmNvbSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIENvbXBvbmVudCA9IHJlcXVpcmUoJy4uL2Jhc2UvY29tcG9uZW50LmpzJyk7XG52YXIgdGVtcGxhdGUgPSByZXF1aXJlKCcuL2VkaXRvci5odG1sJyk7XG52YXIgXyA9IHJlcXVpcmUoJy4uL2Jhc2UvdXRpbC5qcycpO1xuXG4vKipcbiAqIEBjbGFzcyBFZGl0b3JcbiAqIEBleHRlbmQgQ29tcG9uZW50XG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgICAgICAgICAgICAgICAgICAgIOe7keWumuWxnuaApyB8IEJpbmRpbmcgUHJvcGVydGllc1xuICogQHBhcmFtIHtzdHJpbmc9J+aPkOekuid9ICAgICAgICAgICBvcHRpb25zLmRhdGEudGl0bGUgICAgICAgICAgICAgIOWvueivneahhuagh+mimCB8IFRpdGxlIG9mIERpYWxvZ1xuICogQHBhcmFtIHtzdHJpbmc9Jyd9ICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmNvbnRlbnQgICAgICAgICAgICDlr7nor53moYblhoXlrrlcbiAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW49dHJ1ZX0gICAgIG9wdGlvbnMuZGF0YS5va0J1dHRvbiAgICAgICAgICAg5piv5ZCm5pi+56S656Gu5a6a5oyJ6ZKu44CC5YC85Li6YHN0cmluZ2Dml7bmmL7npLror6XmrrXmloflrZfjgIJcbiAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW49ZmFsc2V9ICAgIG9wdGlvbnMuZGF0YS5jYW5jZWxCdXR0b24gICAgICAg5piv5ZCm5pi+56S65Y+W5raI5oyJ6ZKu44CC5YC85Li6YHN0cmluZ2Dml7bmmL7npLror6XmrrXmloflrZfjgIJcbiAqIEBwYXJhbSB7bnVtYmVyPW51bGx9ICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS53aWR0aCAgICAgICAgICAgICAg5a+56K+d5qGG5a695bqm44CC5YC85Li65ZCm5a6a5pe25a695bqm5Li6Q1NT6K6+572u55qE5a695bqm44CCXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSAgICAgICAgICAgICAgICBvcHRpb25zLm9rICAgICAgICAgICAgICAgICAgICAgIOW9k+eCueWHu+ehruWumueahOaXtuWAmeaJp+ihjFxuICogQHBhcmFtIHtmdW5jdGlvbn0gICAgICAgICAgICAgICAgb3B0aW9ucy5jYW5jZWwgICAgICAgICAgICAgICAgICDlvZPngrnlh7vlj5bmtojnmoTml7blgJnmiafooYxcbiAqL1xudmFyIEVkaXRvciA9IENvbXBvbmVudC5leHRlbmQoe1xuICAgIG5hbWU6ICdtb2RhbCcsXG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjb25maWc6IGZ1bmN0aW9uKCkge1xuICAgICAgICBfLmV4dGVuZCh0aGlzLmRhdGEsIHtcbiAgICAgICAgICAgIHRpdGxlOiAn5o+Q56S6JyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICcnLFxuICAgICAgICAgICAgb2tCdXR0b246IHRydWUsXG4gICAgICAgICAgICBjYW5jZWxCdXR0b246IGZhbHNlLFxuICAgICAgICAgICAgd2lkdGg6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3VwcigpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnN1cHIoKTtcbiAgICAgICAgLy8g6K+B5piO5LiN5piv5YaF5bWM57uE5Lu2XG4gICAgICAgIGlmKHRoaXMuJHJvb3QgPT09IHRoaXMpXG4gICAgICAgICAgICB0aGlzLiRpbmplY3QoZG9jdW1lbnQuYm9keSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGNsb3NlKHJlc3VsdCkg5YWz6Zet5qih5oCB5a+56K+d5qGGXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59IHJlc3VsdCDngrnlh7vnoa7lrprov5jmmK/lj5bmtohcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGNsb3NlOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCBjbG9zZSDlhbPpl63lr7nor53moYbml7bop6blj5FcbiAgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSByZXN1bHQg54K55Ye75LqG56Gu5a6a6L+Y5piv5Y+W5raIXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLiRlbWl0KCdjbG9zZScsIHtcbiAgICAgICAgICAgIHJlc3VsdDogcmVzdWx0XG4gICAgICAgIH0pO1xuICAgICAgICByZXN1bHQgPyB0aGlzLm9rKCkgOiB0aGlzLmNhbmNlbCgpO1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIG9rOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCBvayDnoa7lrprlr7nor53moYbml7bop6blj5FcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJGVtaXQoJ29rJyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBjYW5jZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGV2ZW50IGNsb3NlIOWPlua2iOWvueivneahhuaXtuinpuWPkVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kZW1pdCgnY2FuY2VsJyk7XG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRWRpdG9yO1xuIiwibW9kdWxlLmV4cG9ydHM9XCI8ZGl2IGNsYXNzPVxcXCJtLWdyaWR2aWV3IHtAKGNsYXNzKX1cXFwiIHItY2xhc3M9eyB7XFwnei1kaXNcXCc6IGRpc2FibGVkfSB9IHItaGlkZT17IXZpc2libGV9PiAgICB7I2xpc3Qgc291cmNlIGFzIGl0ZW19ICAgIDxkaXYgY2xhc3M9XFxcImdyaWR2aWV3X2l0ZW1cXFwiIHItY2xhc3M9eyB7XFwnei1zZWxcXCc6IHNlbGVjdGVkID09PSBpdGVtfSB9PnsjaWYgQChpdGVtVGVtcGxhdGUpfXsjaW5jbHVkZSBAKGl0ZW1UZW1wbGF0ZSl9eyNlbHNlfXtpdGVtLm5hbWV9ey9pZn08L2Rpdj4gICAgey9saXN0fTwvZGl2PlwiIiwiLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEdyaWRWaWV3ICDnvZHmoLzop4blm75cbiAqIEBhdXRob3IgICBzZW5zZW4ocmFpbmZvcmVzdDkyQDEyNi5jb20pXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBTb3VyY2VDb21wb25lbnQgPSByZXF1aXJlKCcuLi9iYXNlL3NvdXJjZUNvbXBvbmVudC5qcycpO1xudmFyIHRlbXBsYXRlID0gcmVxdWlyZSgnLi9ncmlkVmlldy5odG1sJyk7XG52YXIgXyA9IHJlcXVpcmUoJy4uL2Jhc2UvdXRpbC5qcycpO1xuXG4vKipcbiAqIEBjbGFzcyBHcmlkVmlld1xuICogQGV4dGVuZCBTb3VyY2VDb21wb25lbnRcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSAgICAgICAgICAgICAgICAgICAg57uR5a6a5bGe5oCnXG4gKiBAcGFyYW0ge29iamVjdFtdPVtdfSAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlICAgICAgICAgICAgIOaVsOaNrua6kFxuICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNvdXJjZVtdLmlkICAgICAgICDmr4/pobnnmoRpZFxuICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNvdXJjZVtdLm5hbWUgICAgICDmr4/pobnnmoTlhoXlrrlcbiAqIEBwYXJhbSB7Ym9vbGVhbj10cnVlfSAgICAgICAgICAgIG9wdGlvbnMuZGF0YS52aXNpYmxlICAgICAgICAgICAg5piv5ZCm5pi+56S6XG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuY2xhc3MgICAgICAgICAgICAgIOihpeWFhWNsYXNzXG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLnNlcnZpY2UgICAgICAgICAgICAgICAgIOaVsOaNruacjeWKoVxuICovXG52YXIgR3JpZFZpZXcgPSBTb3VyY2VDb21wb25lbnQuZXh0ZW5kKHtcbiAgICBuYW1lOiAnZ3JpZFZpZXcnLFxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY29uZmlnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgXy5leHRlbmQodGhpcy5kYXRhLCB7XG4gICAgICAgICAgICAvLyBAaW5oZXJpdGVkIHNvdXJjZTogW11cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3VwcigpO1xuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEdyaWRWaWV3OyIsIm1vZHVsZS5leHBvcnRzPVwiPGRpdiBjbGFzcz1cXFwibS1lZGl0b3Ige0AoY2xhc3MpfVxcXCIgci1jbGFzcz17IHtcXCd6LWRpc1xcJzogZGlzYWJsZWR9IH0gci1oaWRlPXshdmlzaWJsZX0+ICAgIDxkaXYgY2xhc3M9XFxcImVkaXRvcl9wcmV2aWV3XFxcIiByLWh0bWw9e2h0bWx9PjwvZGl2PiAgICA8dWwgY2xhc3M9XFxcIm0tdG9vbGJhciBlZGl0b3JfdG9vbGJhclxcXCIgci1jbGFzcz17IHtcXCd6LWRpc1xcJzogZGlzYWJsZWR9IH0+ICAgICAgICA8bGk+PGEgdGl0bGU9XFxcIuWKoOeyl1xcXCIgb24tY2xpY2s9e3RoaXMuYm9sZCgpfT48aSBjbGFzcz1cXFwidS1pY29uIHUtaWNvbi1ib2xkXFxcIj48L2k+PC9hPjwvbGk+ICAgICAgICA8bGk+PGEgdGl0bGU9XFxcIuaWnOS9k1xcXCIgb24tY2xpY2s9e3RoaXMuaXRhbGljKCl9PjxpIGNsYXNzPVxcXCJ1LWljb24gdS1pY29uLWl0YWxpY1xcXCI+PC9pPjwvYT48L2xpPiAgICAgICAgPGxpIGNsYXNzPVxcXCJ0b29sYmFyX2RpdmlkZXJcXFwiPnw8L2xpPiAgICAgICAgPGxpPjxhIHRpdGxlPVxcXCLlvJXnlKhcXFwiIG9uLWNsaWNrPXt0aGlzLnF1b3RlKCl9PjxpIGNsYXNzPVxcXCJ1LWljb24gdS1pY29uLXF1b3RlXFxcIj48L2k+PC9hPjwvbGk+ICAgICAgICA8bGk+PGEgdGl0bGU9XFxcIuaXoOW6j+WIl+ihqFxcXCIgb24tY2xpY2s9e3RoaXMudWwoKX0+PGkgY2xhc3M9XFxcInUtaWNvbiB1LWljb24tbGlzdC11bFxcXCI+PC9pPjwvYT48L2xpPiAgICAgICAgPGxpPjxhIHRpdGxlPVxcXCLmnInluo/liJfooahcXFwiIG9uLWNsaWNrPXt0aGlzLm9sKCl9PjxpIGNsYXNzPVxcXCJ1LWljb24gdS1pY29uLWxpc3Qtb2xcXFwiPjwvaT48L2E+PC9saT4gICAgICAgIDxsaSBjbGFzcz1cXFwidG9vbGJhcl9kaXZpZGVyXFxcIj58PC9saT4gICAgICAgIDxsaT48YSB0aXRsZT1cXFwi6ZO+5o6lXFxcIiBvbi1jbGljaz17dGhpcy5saW5rKCl9PjxpIGNsYXNzPVxcXCJ1LWljb24gdS1pY29uLWxpbmtcXFwiPjwvaT48L2E+PC9saT4gICAgICAgIDxsaT48YSB0aXRsZT1cXFwi5Zu+54mHXFxcIiBvbi1jbGljaz17dGhpcy5pbWFnZSgpfT48aSBjbGFzcz1cXFwidS1pY29uIHUtaWNvbi1pbWFnZVxcXCI+PC9pPjwvYT48L2xpPiAgICA8L3VsPiAgICA8dGV4dGFyZWEgY2xhc3M9XFxcImVkaXRvcl90ZXh0YXJlYVxcXCIgci1tb2RlbD17Y29udGVudH0gcmVmPVxcXCJ0ZXh0YXJlYVxcXCIgcmVhZG9ubHk9e3JlYWRvbmx5fSBkaXNhYmxlZD17ZGlzYWJsZWR9PjwvdGV4dGFyZWE+PC9kaXY+PHVwbG9hZGVyIHZpc2libGU9e2ZhbHNlfSB1cmw9e2ltYWdlVXJsfSBleHRlbnNpb25zPXtleHRlbnNpb25zfSByZWY9XFxcInVwbG9hZGVyXFxcIiBvbi1zdWNjZXNzPXt0aGlzLnVwbG9hZGVyU3VjY2VzcygkZXZlbnQpfSBvbi1lcnJvcj17dGhpcy51cGxvYWRlckVycm9yKCRldmVudCl9IC8+XCIiLCIvKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogSFRNTEVkaXRvciDnvJbovpHlmahcbiAqIEBhdXRob3IgICBzZW5zZW4ocmFpbmZvcmVzdDkyQDEyNi5jb20pXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBDb21wb25lbnQgPSByZXF1aXJlKCcuLi9iYXNlL2NvbXBvbmVudC5qcycpO1xudmFyIHRlbXBsYXRlID0gcmVxdWlyZSgnLi9odG1sRWRpdG9yLmh0bWwnKTtcbnZhciBfID0gcmVxdWlyZSgnLi4vYmFzZS91dGlsLmpzJyk7XG5cbi8qKlxuICogQGNsYXNzIEhUTUxFZGl0b3JcbiAqIEBleHRlbmQgQ29tcG9uZW50XG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgICAgICAgICAgICAgICAgICAgIOe7keWumuWxnuaApyB8IEJpbmRpbmcgUHJvcGVydGllc1xuICogQHBhcmFtIHtzdHJpbmc9Jyd9ICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmNvbnRlbnQgICAgICAgICAgICDnvJbovpHlmajlhoXlrrlcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5yZWFkb25seSAgICAgICAgICAg5piv5ZCm5Y+q6K+7XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEuZGlzYWJsZWQgICAgICAgICAgIOaYr+WQpuemgeeUqFxuICogQHBhcmFtIHtib29sZWFuPXRydWV9ICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnZpc2libGUgICAgICAgICAgICDmmK/lkKbmmL7npLpcbiAqIEBwYXJhbSB7c3RyaW5nPScnfSAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5jbGFzcyAgICAgICAgICAgICAg6KGl5YWFY2xhc3NcbiAqL1xudmFyIEhUTUxFZGl0b3IgPSBDb21wb25lbnQuZXh0ZW5kKHtcbiAgICBuYW1lOiAnaHRtbEVkaXRvcicsXG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjb25maWc6IGZ1bmN0aW9uKCkge1xuICAgICAgICBfLmV4dGVuZCh0aGlzLmRhdGEsIHtcbiAgICAgICAgICAgIGNvbnRlbnQ6ICcnXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN1cHIoKTtcbiAgICB9LFxuICAgIGNvbXB1dGVkOiB7XG4gICAgICAgIGh0bWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5jb250ZW50O1xuICAgICAgICB9XG4gICAgfSxcbiAgICBib2xkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYodGhpcy5kYXRhLnJlYWRvbmx5IHx8IHRoaXMuZGF0YS5kaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgcmFuZ2VEYXRhID0gdGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICByYW5nZURhdGEudGV4dCA9ICc8c3Ryb25nPicgKyByYW5nZURhdGEudGV4dCArICc8L3N0cm9uZz4nO1xuICAgICAgICB0aGlzLnNldEN1cnNvclBvc2l0aW9uKHJhbmdlRGF0YSk7XG4gICAgICAgIHRoaXMuZGF0YS5jb250ZW50ID0gdGhpcy4kcmVmcy50ZXh0YXJlYS52YWx1ZTtcbiAgICAgICAgdGhpcy4kdXBkYXRlKCk7XG4gICAgfSxcbiAgICBpdGFsaWM6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZih0aGlzLmRhdGEucmVhZG9ubHkgfHwgdGhpcy5kYXRhLmRpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciByYW5nZURhdGEgPSB0aGlzLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHJhbmdlRGF0YS50ZXh0ID0gJzxlbT4nICsgcmFuZ2VEYXRhLnRleHQgKyAnPC9lbT4nO1xuICAgICAgICB0aGlzLnNldEN1cnNvclBvc2l0aW9uKHJhbmdlRGF0YSk7XG4gICAgICAgIHRoaXMuZGF0YS5jb250ZW50ID0gdGhpcy4kcmVmcy50ZXh0YXJlYS52YWx1ZTtcbiAgICAgICAgdGhpcy4kdXBkYXRlKCk7XG4gICAgfSxcbiAgICBxdW90ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKHRoaXMuZGF0YS5yZWFkb25seSB8fCB0aGlzLmRhdGEuZGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIHJhbmdlRGF0YSA9IHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgLy8gdmFyIHZhbHVlID0gdGhpcy4kcmVmcy50ZXh0YXJlYS52YWx1ZTtcbiAgICAgICAgLy8gZm9yKHZhciBpID0gcmFuZ2VEYXRhLnN0YXJ0IC0gMTsgaSA+IDA7IGktLSlcbiAgICAgICAgLy8gICAgIGlmKHZhbHVlW2ldID09ICdcXG4nKSB7XG4gICAgICAgIC8vICAgICAgICAgaSsrO1xuICAgICAgICAvLyAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyByYW5nZURhdGEuc3RhcnQgPSBpO1xuICAgICAgICAvLyBmb3IodmFyIGkgPSByYW5nZURhdGEuZW5kOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspXG4gICAgICAgIC8vICAgICBpZih2YWx1ZVtpXSA9PSAnXFxuJykge1xuICAgICAgICAvLyAgICAgICAgIGktLTtcbiAgICAgICAgLy8gICAgICAgICBicmVhaztcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gcmFuZ2VEYXRhLmVuZCA9IGk7XG4gICAgICAgIHJhbmdlRGF0YS50ZXh0ID0gJzxibG9ja3F1b3RlPicgKyByYW5nZURhdGEudGV4dCArICc8L2Jsb2NrcXVvdGU+JztcbiAgICAgICAgdGhpcy5zZXRDdXJzb3JQb3NpdGlvbihyYW5nZURhdGEpO1xuICAgICAgICB0aGlzLmRhdGEuY29udGVudCA9IHRoaXMuJHJlZnMudGV4dGFyZWEudmFsdWU7XG4gICAgICAgIHRoaXMuJHVwZGF0ZSgpO1xuICAgIH0sXG4gICAgdWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZih0aGlzLmRhdGEucmVhZG9ubHkgfHwgdGhpcy5kYXRhLmRpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciByYW5nZURhdGEgPSB0aGlzLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHJhbmdlRGF0YS50ZXh0ID0gJzxsaT4nICsgcmFuZ2VEYXRhLnRleHQgKyAnPC9saT4nO1xuICAgICAgICB0aGlzLnNldEN1cnNvclBvc2l0aW9uKHJhbmdlRGF0YSk7XG4gICAgICAgIHRoaXMuZGF0YS5jb250ZW50ID0gdGhpcy4kcmVmcy50ZXh0YXJlYS52YWx1ZTtcbiAgICAgICAgdGhpcy4kdXBkYXRlKCk7XG4gICAgfSxcbiAgICBvbDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKHRoaXMuZGF0YS5yZWFkb25seSB8fCB0aGlzLmRhdGEuZGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIHJhbmdlRGF0YSA9IHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgcmFuZ2VEYXRhLnRleHQgPSAnPGxpPicgKyByYW5nZURhdGEudGV4dCArICc8L2xpPic7XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yUG9zaXRpb24ocmFuZ2VEYXRhKTtcbiAgICAgICAgdGhpcy5kYXRhLmNvbnRlbnQgPSB0aGlzLiRyZWZzLnRleHRhcmVhLnZhbHVlO1xuICAgICAgICB0aGlzLiR1cGRhdGUoKTtcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZih0aGlzLmRhdGEucmVhZG9ubHkgfHwgdGhpcy5kYXRhLmRpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciByYW5nZURhdGEgPSB0aGlzLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHJhbmdlRGF0YS50ZXh0ID0gJzxhIGhyZWY9XCIjXCI+JyArIHJhbmdlRGF0YS50ZXh0ICsgJzwvYT4nO1xuICAgICAgICB0aGlzLnNldEN1cnNvclBvc2l0aW9uKHJhbmdlRGF0YSk7XG4gICAgICAgIHRoaXMuZGF0YS5jb250ZW50ID0gdGhpcy4kcmVmcy50ZXh0YXJlYS52YWx1ZTtcbiAgICAgICAgdGhpcy4kdXBkYXRlKCk7XG4gICAgfSxcbiAgICBpbWFnZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKHRoaXMuZGF0YS5yZWFkb25seSB8fCB0aGlzLmRhdGEuZGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy4kcmVmcy51cGxvYWRlci51cGxvYWQoKTtcbiAgICB9LFxuICAgIGxhdGV4OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYodGhpcy5kYXRhLnJlYWRvbmx5IHx8IHRoaXMuZGF0YS5kaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIHZhciByYW5nZURhdGEgPSB0aGlzLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHJhbmdlRGF0YS50ZXh0ID0gJyQkYV4yICsgYl4yID0gY14yJCQnO1xuICAgICAgICB0aGlzLnNldEN1cnNvclBvc2l0aW9uKHJhbmdlRGF0YSk7XG4gICAgICAgIHRoaXMuZGF0YS5jb250ZW50ID0gdGhpcy4kcmVmcy50ZXh0YXJlYS52YWx1ZTtcbiAgICAgICAgdGhpcy4kdXBkYXRlKCk7XG4gICAgfSxcbiAgICB1cGxvYWRlclN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgdmFyIHJhbmdlRGF0YSA9IHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgcmFuZ2VEYXRhLnRleHQgPSAnPGltZyBzcmM9XCInICsgZGF0YS5yZXN1bHQgKyAnXCI+JztcbiAgICAgICAgdGhpcy5zZXRDdXJzb3JQb3NpdGlvbihyYW5nZURhdGEpO1xuICAgICAgICB0aGlzLmRhdGEuY29udGVudCA9IHRoaXMuJHJlZnMudGV4dGFyZWEudmFsdWU7XG4gICAgICAgIHRoaXMuJHVwZGF0ZSgpO1xuICAgIH0sXG4gICAgdXBsb2FkZXJFcnJvcjogZnVuY3Rpb24oZSkge1xuICAgICAgICBOb3RpZnkuZXJyb3IoZSk7XG4gICAgfSxcbiAgICBnZXRDdXJzb3JQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ZXh0YXJlYSA9IHRoaXMuJHJlZnMudGV4dGFyZWE7XG5cbiAgICAgICAgdmFyIHJhbmdlRGF0YSA9IHt0ZXh0OiAnJywgc3RhcnQ6IDAsIGVuZDogMH07XG4gICAgICAgIHRleHRhcmVhLmZvY3VzKCk7XG5cbiAgICAgICAgaWYgKHRleHRhcmVhLnNldFNlbGVjdGlvblJhbmdlKSB7IC8vIFczQ1xuICAgICAgICAgICAgcmFuZ2VEYXRhLnN0YXJ0ID0gdGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICAgICAgICByYW5nZURhdGEuZW5kID0gdGV4dGFyZWEuc2VsZWN0aW9uRW5kO1xuICAgICAgICAgICAgcmFuZ2VEYXRhLnRleHQgPSAocmFuZ2VEYXRhLnN0YXJ0ICE9IHJhbmdlRGF0YS5lbmQpID8gdGV4dGFyZWEudmFsdWUuc3Vic3RyaW5nKHJhbmdlRGF0YS5zdGFydCwgcmFuZ2VEYXRhLmVuZCk6ICcnO1xuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikgeyAvLyBJRVxuICAgICAgICAgICAgdmFyIGksXG4gICAgICAgICAgICAgICAgb1MgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKSxcbiAgICAgICAgICAgICAgICAvLyBEb24ndDogb1IgPSB0ZXh0YXJlYS5jcmVhdGVUZXh0UmFuZ2UoKVxuICAgICAgICAgICAgICAgIG9SID0gZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICAgICAgICAgIG9SLm1vdmVUb0VsZW1lbnRUZXh0KHRleHRhcmVhKTtcblxuICAgICAgICAgICAgcmFuZ2VEYXRhLnRleHQgPSBvUy50ZXh0O1xuICAgICAgICAgICAgcmFuZ2VEYXRhLmJvb2ttYXJrID0gb1MuZ2V0Qm9va21hcmsoKTtcblxuICAgICAgICAgICAgLy8gb2JqZWN0Lm1vdmVTdGFydChzVW5pdCBbLCBpQ291bnRdKVxuICAgICAgICAgICAgLy8gUmV0dXJuIFZhbHVlOiBJbnRlZ2VyIHRoYXQgcmV0dXJucyB0aGUgbnVtYmVyIG9mIHVuaXRzIG1vdmVkLlxuICAgICAgICAgICAgZm9yIChpID0gMDsgb1IuY29tcGFyZUVuZFBvaW50cygnU3RhcnRUb1N0YXJ0Jywgb1MpIDwgMCAmJiBvUy5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIC0xKSAhPT0gMDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gV2h5PyBZb3UgY2FuIGFsZXJ0KHRleHRhcmVhLnZhbHVlLmxlbmd0aClcbiAgICAgICAgICAgICAgICBpZiAodGV4dGFyZWEudmFsdWUuY2hhckF0KGkpID09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByYW5nZURhdGEuc3RhcnQgPSBpO1xuICAgICAgICAgICAgcmFuZ2VEYXRhLmVuZCA9IHJhbmdlRGF0YS50ZXh0Lmxlbmd0aCArIHJhbmdlRGF0YS5zdGFydDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByYW5nZURhdGE7XG4gICAgfSxcbiAgICBzZXRDdXJzb3JQb3NpdGlvbjogZnVuY3Rpb24ocmFuZ2VEYXRhKSB7XG4gICAgICAgIGlmKCFyYW5nZURhdGEpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IGdldCBjdXJzb3IgcG9zaXRpb24gZmlyc3QhJyk7XG5cbiAgICAgICAgdmFyIHRleHRhcmVhID0gdGhpcy4kcmVmcy50ZXh0YXJlYTtcblxuICAgICAgICB2YXIgb2xkVmFsdWUgPSB0ZXh0YXJlYS52YWx1ZTtcbiAgICAgICAgdGV4dGFyZWEudmFsdWUgPSBvbGRWYWx1ZS5zdWJzdHJpbmcoMCwgcmFuZ2VEYXRhLnN0YXJ0KSArIHJhbmdlRGF0YS50ZXh0ICsgb2xkVmFsdWUuc3Vic3RyaW5nKHJhbmdlRGF0YS5lbmQsIG9sZFZhbHVlLmxlbmd0aCk7XG4gICAgICAgIHJhbmdlRGF0YS5lbmQgPSByYW5nZURhdGEuc3RhcnQgKyByYW5nZURhdGEudGV4dC5sZW5ndGg7XG4gICAgICAgIGlmICh0ZXh0YXJlYS5zZXRTZWxlY3Rpb25SYW5nZSkgeyAvLyBXM0NcbiAgICAgICAgICAgIHRleHRhcmVhLmZvY3VzKCk7XG4gICAgICAgICAgICB0ZXh0YXJlYS5zZXRTZWxlY3Rpb25SYW5nZShyYW5nZURhdGEuc3RhcnQsIHJhbmdlRGF0YS5lbmQpO1xuICAgICAgICB9IGVsc2UgaWYgKHRleHRhcmVhLmNyZWF0ZVRleHRSYW5nZSkgeyAvLyBJRVxuICAgICAgICAgICAgdmFyIG9SID0gdGV4dGFyZWEuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICAgICAgICAvLyBGaXhidWcgOlxuICAgICAgICAgICAgLy8gSW4gSUUsIGlmIGN1cnNvciBwb3NpdGlvbiBhdCB0aGUgZW5kIG9mIHRleHRhcmVhLCB0aGUgc2V0Q3Vyc29yUG9zaXRpb24gZnVuY3Rpb24gZG9uJ3Qgd29ya1xuICAgICAgICAgICAgaWYodGV4dGFyZWEudmFsdWUubGVuZ3RoID09PSByYW5nZURhdGEuc3RhcnQpIHtcbiAgICAgICAgICAgICAgICBvUi5jb2xsYXBzZShmYWxzZSlcbiAgICAgICAgICAgICAgICBvUi5zZWxlY3QoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb1IubW92ZVRvQm9va21hcmsocmFuZ2VEYXRhLmJvb2ttYXJrKTtcbiAgICAgICAgICAgICAgICBvUi5zZWxlY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEhUTUxFZGl0b3I7XG4iLCJtb2R1bGUuZXhwb3J0cz1cIjx1bCBjbGFzcz1cXFwibS1saXN0dmlldyB7QChjbGFzcyl9XFxcIiByLWNsYXNzPXsge1xcJ3otZGlzXFwnOiBkaXNhYmxlZH0gfSByLWhpZGU9eyF2aXNpYmxlfT4gICAgeyNsaXN0IHNvdXJjZSBhcyBpdGVtfSAgICA8bGkgci1jbGFzcz17IHtcXCd6LXNlbFxcJzogc2VsZWN0ZWQgPT09IGl0ZW0sIFxcJ3otZGlzXFwnOiBpdGVtLmRpc2FibGVkfSB9IHRpdGxlPXtpdGVtLm5hbWV9IG9uLWNsaWNrPXt0aGlzLnNlbGVjdChpdGVtKX0+eyNpZiBAKGl0ZW1UZW1wbGF0ZSl9eyNpbmNsdWRlIEAoaXRlbVRlbXBsYXRlKX17I2Vsc2V9e2l0ZW0ubmFtZX17L2lmfTwvbGk+ICAgIHsvbGlzdH08L3VsPlwiIiwiLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIExpc3RWaWV3ICDliJfooajop4blm75cbiAqIEBhdXRob3IgICBzZW5zZW4ocmFpbmZvcmVzdDkyQDEyNi5jb20pXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBTb3VyY2VDb21wb25lbnQgPSByZXF1aXJlKCcuLi9iYXNlL3NvdXJjZUNvbXBvbmVudC5qcycpO1xudmFyIHRlbXBsYXRlID0gcmVxdWlyZSgnLi9saXN0Vmlldy5odG1sJyk7XG52YXIgXyA9IHJlcXVpcmUoJy4uL2Jhc2UvdXRpbC5qcycpO1xuXG4vKipcbiAqIEBjbGFzcyBMaXN0Vmlld1xuICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhICAgICAgICAgICAgICAgICAgICDnu5HlrprlsZ7mgKdcbiAqIEBwYXJhbSB7b2JqZWN0W109W119ICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5zb3VyY2UgICAgICAgICAgICAg5pWw5o2u5rqQXG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlW10uaWQgICAgICAgIOavj+mhueeahGlkXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlW10ubmFtZSAgICAgIOavj+mhueeahOWGheWuuVxuICogQHBhcmFtIHtvYmplY3Q9bnVsbH0gICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNlbGVjdGVkICAgICAgICAgICDlvZPliY3pgInmi6npoblcbiAqIEBwYXJhbSB7c3RyaW5nPW51bGx9ICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5pdGVtVGVtcGxhdGUgICAgICAg5Y2V6aG55qih5p2/XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEucmVhZG9ubHkgICAgICAgICAgIOaYr+WQpuWPquivu1xuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLmRpc2FibGVkICAgICAgICAgICDmmK/lkKbnpoHnlKhcbiAqIEBwYXJhbSB7Ym9vbGVhbj10cnVlfSAgICAgICAgICAgIG9wdGlvbnMuZGF0YS52aXNpYmxlICAgICAgICAgICAg5piv5ZCm5pi+56S6XG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuY2xhc3MgICAgICAgICAgICAgIOihpeWFhWNsYXNzXG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLnNlcnZpY2UgICAgICAgICAgICAgICAgIOaVsOaNruacjeWKoVxuICovXG52YXIgTGlzdFZpZXcgPSBTb3VyY2VDb21wb25lbnQuZXh0ZW5kKHtcbiAgICBuYW1lOiAnbGlzdFZpZXcnLFxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY29uZmlnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgXy5leHRlbmQodGhpcy5kYXRhLCB7XG4gICAgICAgICAgICAvLyBAaW5oZXJpdGVkIHNvdXJjZTogW10sXG4gICAgICAgICAgICBzZWxlY3RlZDogbnVsbCxcbiAgICAgICAgICAgIGl0ZW1UZW1wbGF0ZTogbnVsbFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdXByKCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHNlbGVjdChpdGVtKSDpgInmi6nmn5DkuIDpoblcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtICB7b2JqZWN0fSBpdGVtIOmAieaLqemhuVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgc2VsZWN0OiBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGlmKHRoaXMuZGF0YS5yZWFkb25seSB8fCB0aGlzLmRhdGEuZGlzYWJsZWQgfHwgaXRlbS5kaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLmRhdGEuc2VsZWN0ZWQgPSBpdGVtO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGV2ZW50IHNlbGVjdCDpgInmi6nmn5DkuIDpobnml7bop6blj5FcbiAgICAgICAgICogQHByb3BlcnR5IHtvYmplY3R9IHNlbGVjdGVkIOW9k+WJjemAieaLqemhuVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kZW1pdCgnc2VsZWN0Jywge1xuICAgICAgICAgICAgc2VsZWN0ZWQ6IGl0ZW1cbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gTGlzdFZpZXc7IiwibW9kdWxlLmV4cG9ydHM9XCI8ZGl2IGNsYXNzPVxcXCJtLWVkaXRvciB7QChjbGFzcyl9XFxcIiByLWNsYXNzPXsge1xcJ3otZGlzXFwnOiBkaXNhYmxlZH0gfSByLWhpZGU9eyF2aXNpYmxlfT4gICAgPGRpdiBjbGFzcz1cXFwiZWRpdG9yX3ByZXZpZXdcXFwiIHItaHRtbD17aHRtbH0+PC9kaXY+ICAgIDx1bCBjbGFzcz1cXFwibS10b29sYmFyIGVkaXRvcl90b29sYmFyXFxcIiByLWNsYXNzPXsge1xcJ3otZGlzXFwnOiBkaXNhYmxlZH0gfT4gICAgICAgIDxsaT48YSB0aXRsZT1cXFwi5Yqg57KXXFxcIiBvbi1jbGljaz17dGhpcy5ib2xkKCl9PjxpIGNsYXNzPVxcXCJ1LWljb24gdS1pY29uLWJvbGRcXFwiPjwvaT48L2E+PC9saT4gICAgICAgIDxsaT48YSB0aXRsZT1cXFwi5pac5L2TXFxcIiBvbi1jbGljaz17dGhpcy5pdGFsaWMoKX0+PGkgY2xhc3M9XFxcInUtaWNvbiB1LWljb24taXRhbGljXFxcIj48L2k+PC9hPjwvbGk+ICAgICAgICA8bGkgY2xhc3M9XFxcInRvb2xiYXJfZGl2aWRlclxcXCI+fDwvbGk+ICAgICAgICA8bGk+PGEgdGl0bGU9XFxcIuW8leeUqFxcXCIgb24tY2xpY2s9e3RoaXMucXVvdGUoKX0+PGkgY2xhc3M9XFxcInUtaWNvbiB1LWljb24tcXVvdGVcXFwiPjwvaT48L2E+PC9saT4gICAgICAgIDxsaT48YSB0aXRsZT1cXFwi5peg5bqP5YiX6KGoXFxcIiBvbi1jbGljaz17dGhpcy51bCgpfT48aSBjbGFzcz1cXFwidS1pY29uIHUtaWNvbi1saXN0LXVsXFxcIj48L2k+PC9hPjwvbGk+ICAgICAgICA8bGk+PGEgdGl0bGU9XFxcIuacieW6j+WIl+ihqFxcXCIgb24tY2xpY2s9e3RoaXMub2woKX0+PGkgY2xhc3M9XFxcInUtaWNvbiB1LWljb24tbGlzdC1vbFxcXCI+PC9pPjwvYT48L2xpPiAgICAgICAgPGxpIGNsYXNzPVxcXCJ0b29sYmFyX2RpdmlkZXJcXFwiPnw8L2xpPiAgICAgICAgPGxpPjxhIHRpdGxlPVxcXCLpk77mjqVcXFwiIG9uLWNsaWNrPXt0aGlzLmxpbmsoKX0+PGkgY2xhc3M9XFxcInUtaWNvbiB1LWljb24tbGlua1xcXCI+PC9pPjwvYT48L2xpPiAgICAgICAgPGxpPjxhIHRpdGxlPVxcXCLlm77niYdcXFwiIG9uLWNsaWNrPXt0aGlzLmltYWdlKCl9PjxpIGNsYXNzPVxcXCJ1LWljb24gdS1pY29uLWltYWdlXFxcIj48L2k+PC9hPjwvbGk+ICAgICAgICA8bGkgY2xhc3M9XFxcImYtZnJcXFwiPjxhIHRpdGxlPVxcXCLluK7liqlcXFwiIGhyZWY9XFxcImh0dHA6Ly93d3cuamlhbnNodS5jb20vcC83YmQyMzI1MWRhMGFcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj48aSBjbGFzcz1cXFwidS1pY29uIHUtaWNvbi1pbmZvXFxcIj48L2k+PC9hPjwvbGk+ICAgIDwvdWw+ICAgIDx0ZXh0YXJlYSBjbGFzcz1cXFwiZWRpdG9yX3RleHRhcmVhXFxcIiByLW1vZGVsPXtjb250ZW50fSByZWY9XFxcInRleHRhcmVhXFxcIiByZWFkb25seT17cmVhZG9ubHl9IGRpc2FibGVkPXtkaXNhYmxlZH0+PC90ZXh0YXJlYT48L2Rpdj48dXBsb2FkZXIgdmlzaWJsZT17ZmFsc2V9IHVybD17aW1hZ2VVcmx9IGV4dGVuc2lvbnM9e2V4dGVuc2lvbnN9IHJlZj1cXFwidXBsb2FkZXJcXFwiIG9uLXN1Y2Nlc3M9e3RoaXMudXBsb2FkZXJTdWNjZXNzKCRldmVudCl9IG9uLWVycm9yPXt0aGlzLnVwbG9hZGVyRXJyb3IoJGV2ZW50KX0gLz5cIiIsIi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBNYXJrRWRpdG9yIOe8lui+keWZqFxuICogQGF1dGhvciAgIHNlbnNlbihyYWluZm9yZXN0OTJAMTI2LmNvbSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIENvbXBvbmVudCA9IHJlcXVpcmUoJy4uL2Jhc2UvY29tcG9uZW50LmpzJyk7XG52YXIgdGVtcGxhdGUgPSByZXF1aXJlKCcuL21hcmtFZGl0b3IuaHRtbCcpO1xudmFyIF8gPSByZXF1aXJlKCcuLi9iYXNlL3V0aWwuanMnKTtcblxudmFyIG1hcmtlZCA9IHJlcXVpcmUoJ21hcmtlZCcpO1xuXG4vKipcbiAqIEBjbGFzcyBNYXJrRWRpdG9yXG4gKiBAZXh0ZW5kIENvbXBvbmVudFxuICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhICAgICAgICAgICAgICAgICAgICDnu5HlrprlsZ7mgKcgfCBCaW5kaW5nIFByb3BlcnRpZXNcbiAqIEBwYXJhbSB7c3RyaW5nPScnfSAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5jb250ZW50ICAgICAgICAgICAg57yW6L6R5Zmo5YaF5a65XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEucmVhZG9ubHkgICAgICAgICAgIOaYr+WQpuWPquivu1xuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLmRpc2FibGVkICAgICAgICAgICDmmK/lkKbnpoHnlKhcbiAqIEBwYXJhbSB7Ym9vbGVhbj10cnVlfSAgICAgICAgICAgIG9wdGlvbnMuZGF0YS52aXNpYmxlICAgICAgICAgICAg5piv5ZCm5pi+56S6XG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuY2xhc3MgICAgICAgICAgICAgIOihpeWFhWNsYXNzXG4gKi9cbnZhciBNYXJrRWRpdG9yID0gQ29tcG9uZW50LmV4dGVuZCh7XG4gICAgbmFtZTogJ21hcmtFZGl0b3InLFxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY29uZmlnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgXy5leHRlbmQodGhpcy5kYXRhLCB7XG4gICAgICAgICAgICBjb250ZW50OiAnJ1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdXByKCk7XG4gICAgfSxcbiAgICBjb21wdXRlZDoge1xuICAgICAgICBodG1sOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXJrZWQodGhpcy5kYXRhLmNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBib2xkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYodGhpcy5kYXRhLnJlYWRvbmx5IHx8IHRoaXMuZGF0YS5kaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgcmFuZ2VEYXRhID0gdGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICByYW5nZURhdGEudGV4dCA9ICcqKicgKyByYW5nZURhdGEudGV4dCArICcqKic7XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yUG9zaXRpb24ocmFuZ2VEYXRhKTtcbiAgICAgICAgdGhpcy5kYXRhLmNvbnRlbnQgPSB0aGlzLiRyZWZzLnRleHRhcmVhLnZhbHVlO1xuICAgICAgICB0aGlzLiR1cGRhdGUoKTtcbiAgICB9LFxuICAgIGl0YWxpYzogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKHRoaXMuZGF0YS5yZWFkb25seSB8fCB0aGlzLmRhdGEuZGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIHJhbmdlRGF0YSA9IHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgcmFuZ2VEYXRhLnRleHQgPSAnKicgKyByYW5nZURhdGEudGV4dCArICcqJztcbiAgICAgICAgdGhpcy5zZXRDdXJzb3JQb3NpdGlvbihyYW5nZURhdGEpO1xuICAgICAgICB0aGlzLmRhdGEuY29udGVudCA9IHRoaXMuJHJlZnMudGV4dGFyZWEudmFsdWU7XG4gICAgICAgIHRoaXMuJHVwZGF0ZSgpO1xuICAgIH0sXG4gICAgcXVvdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZih0aGlzLmRhdGEucmVhZG9ubHkgfHwgdGhpcy5kYXRhLmRpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciByYW5nZURhdGEgPSB0aGlzLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuJHJlZnMudGV4dGFyZWEudmFsdWU7XG4gICAgICAgIGZvcih2YXIgaSA9IHJhbmdlRGF0YS5zdGFydCAtIDE7IGkgPiAwOyBpLS0pXG4gICAgICAgICAgICBpZih2YWx1ZVtpXSA9PSAnXFxuJykge1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgcmFuZ2VEYXRhLnN0YXJ0ID0gaTtcbiAgICAgICAgcmFuZ2VEYXRhLnRleHQgPSAnPiAnO1xuICAgICAgICByYW5nZURhdGEuZW5kID0gcmFuZ2VEYXRhLnN0YXJ0O1xuICAgICAgICB0aGlzLnNldEN1cnNvclBvc2l0aW9uKHJhbmdlRGF0YSk7XG4gICAgICAgIHRoaXMuZGF0YS5jb250ZW50ID0gdGhpcy4kcmVmcy50ZXh0YXJlYS52YWx1ZTtcbiAgICAgICAgdGhpcy4kdXBkYXRlKCk7XG4gICAgfSxcbiAgICB1bDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKHRoaXMuZGF0YS5yZWFkb25seSB8fCB0aGlzLmRhdGEuZGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIHJhbmdlRGF0YSA9IHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy4kcmVmcy50ZXh0YXJlYS52YWx1ZTtcbiAgICAgICAgZm9yKHZhciBpID0gcmFuZ2VEYXRhLnN0YXJ0IC0gMTsgaSA+IDA7IGktLSlcbiAgICAgICAgICAgIGlmKHZhbHVlW2ldID09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICByYW5nZURhdGEuc3RhcnQgPSBpO1xuICAgICAgICByYW5nZURhdGEudGV4dCA9ICctICc7XG4gICAgICAgIHJhbmdlRGF0YS5lbmQgPSByYW5nZURhdGEuc3RhcnQ7XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yUG9zaXRpb24ocmFuZ2VEYXRhKTtcbiAgICAgICAgdGhpcy5kYXRhLmNvbnRlbnQgPSB0aGlzLiRyZWZzLnRleHRhcmVhLnZhbHVlO1xuICAgICAgICB0aGlzLiR1cGRhdGUoKTtcbiAgICB9LFxuICAgIG9sOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYodGhpcy5kYXRhLnJlYWRvbmx5IHx8IHRoaXMuZGF0YS5kaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgcmFuZ2VEYXRhID0gdGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLiRyZWZzLnRleHRhcmVhLnZhbHVlO1xuICAgICAgICBmb3IodmFyIGkgPSByYW5nZURhdGEuc3RhcnQgLSAxOyBpID4gMDsgaS0tKVxuICAgICAgICAgICAgaWYodmFsdWVbaV0gPT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIHJhbmdlRGF0YS5zdGFydCA9IGk7XG4gICAgICAgIHJhbmdlRGF0YS50ZXh0ID0gJzEuICc7XG4gICAgICAgIHJhbmdlRGF0YS5lbmQgPSByYW5nZURhdGEuc3RhcnQ7XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yUG9zaXRpb24ocmFuZ2VEYXRhKTtcbiAgICAgICAgdGhpcy5kYXRhLmNvbnRlbnQgPSB0aGlzLiRyZWZzLnRleHRhcmVhLnZhbHVlO1xuICAgICAgICB0aGlzLiR1cGRhdGUoKTtcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZih0aGlzLmRhdGEucmVhZG9ubHkgfHwgdGhpcy5kYXRhLmRpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciByYW5nZURhdGEgPSB0aGlzLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHJhbmdlRGF0YS50ZXh0ID0gJ1snICsgcmFuZ2VEYXRhLnRleHQgKyAnXShodHRwOi8vKSc7XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yUG9zaXRpb24ocmFuZ2VEYXRhKTtcbiAgICAgICAgdGhpcy5kYXRhLmNvbnRlbnQgPSB0aGlzLiRyZWZzLnRleHRhcmVhLnZhbHVlO1xuICAgICAgICB0aGlzLiR1cGRhdGUoKTtcbiAgICB9LFxuICAgIGltYWdlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYodGhpcy5kYXRhLnJlYWRvbmx5IHx8IHRoaXMuZGF0YS5kaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLiRyZWZzLnVwbG9hZGVyLnVwbG9hZCgpO1xuICAgIH0sXG4gICAgbGF0ZXg6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZih0aGlzLmRhdGEucmVhZG9ubHkgfHwgdGhpcy5kYXRhLmRpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgdmFyIHJhbmdlRGF0YSA9IHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgcmFuZ2VEYXRhLnRleHQgPSAnJCRhXjIgKyBiXjIgPSBjXjIkJCc7XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yUG9zaXRpb24ocmFuZ2VEYXRhKTtcbiAgICAgICAgdGhpcy5kYXRhLmNvbnRlbnQgPSB0aGlzLiRyZWZzLnRleHRhcmVhLnZhbHVlO1xuICAgICAgICB0aGlzLiR1cGRhdGUoKTtcbiAgICB9LFxuICAgIHVwbG9hZGVyU3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICB2YXIgcmFuZ2VEYXRhID0gdGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICByYW5nZURhdGEudGV4dCA9ICdcXG4hW10oJyArIGRhdGEucmVzdWx0ICsgJyknO1xuICAgICAgICB0aGlzLnNldEN1cnNvclBvc2l0aW9uKHJhbmdlRGF0YSk7XG4gICAgICAgIHRoaXMuZGF0YS5jb250ZW50ID0gdGhpcy4kcmVmcy50ZXh0YXJlYS52YWx1ZTtcbiAgICAgICAgdGhpcy4kdXBkYXRlKCk7XG4gICAgfSxcbiAgICB1cGxvYWRlckVycm9yOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIE5vdGlmeS5lcnJvcihlKTtcbiAgICB9LFxuICAgIGdldEN1cnNvclBvc2l0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRleHRhcmVhID0gdGhpcy4kcmVmcy50ZXh0YXJlYTtcblxuICAgICAgICB2YXIgcmFuZ2VEYXRhID0ge3RleHQ6ICcnLCBzdGFydDogMCwgZW5kOiAwfTtcbiAgICAgICAgdGV4dGFyZWEuZm9jdXMoKTtcblxuICAgICAgICBpZiAodGV4dGFyZWEuc2V0U2VsZWN0aW9uUmFuZ2UpIHsgLy8gVzNDXG4gICAgICAgICAgICByYW5nZURhdGEuc3RhcnQgPSB0ZXh0YXJlYS5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgICAgIHJhbmdlRGF0YS5lbmQgPSB0ZXh0YXJlYS5zZWxlY3Rpb25FbmQ7XG4gICAgICAgICAgICByYW5nZURhdGEudGV4dCA9IChyYW5nZURhdGEuc3RhcnQgIT0gcmFuZ2VEYXRhLmVuZCkgPyB0ZXh0YXJlYS52YWx1ZS5zdWJzdHJpbmcocmFuZ2VEYXRhLnN0YXJ0LCByYW5nZURhdGEuZW5kKTogJyc7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7IC8vIElFXG4gICAgICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgICAgICBvUyA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLFxuICAgICAgICAgICAgICAgIC8vIERvbid0OiBvUiA9IHRleHRhcmVhLmNyZWF0ZVRleHRSYW5nZSgpXG4gICAgICAgICAgICAgICAgb1IgPSBkb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgICAgICAgb1IubW92ZVRvRWxlbWVudFRleHQodGV4dGFyZWEpO1xuXG4gICAgICAgICAgICByYW5nZURhdGEudGV4dCA9IG9TLnRleHQ7XG4gICAgICAgICAgICByYW5nZURhdGEuYm9va21hcmsgPSBvUy5nZXRCb29rbWFyaygpO1xuXG4gICAgICAgICAgICAvLyBvYmplY3QubW92ZVN0YXJ0KHNVbml0IFssIGlDb3VudF0pXG4gICAgICAgICAgICAvLyBSZXR1cm4gVmFsdWU6IEludGVnZXIgdGhhdCByZXR1cm5zIHRoZSBudW1iZXIgb2YgdW5pdHMgbW92ZWQuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBvUi5jb21wYXJlRW5kUG9pbnRzKCdTdGFydFRvU3RhcnQnLCBvUykgPCAwICYmIG9TLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgLTEpICE9PSAwOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBXaHk/IFlvdSBjYW4gYWxlcnQodGV4dGFyZWEudmFsdWUubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGlmICh0ZXh0YXJlYS52YWx1ZS5jaGFyQXQoaSkgPT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJhbmdlRGF0YS5zdGFydCA9IGk7XG4gICAgICAgICAgICByYW5nZURhdGEuZW5kID0gcmFuZ2VEYXRhLnRleHQubGVuZ3RoICsgcmFuZ2VEYXRhLnN0YXJ0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJhbmdlRGF0YTtcbiAgICB9LFxuICAgIHNldEN1cnNvclBvc2l0aW9uOiBmdW5jdGlvbihyYW5nZURhdGEpIHtcbiAgICAgICAgaWYoIXJhbmdlRGF0YSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgZ2V0IGN1cnNvciBwb3NpdGlvbiBmaXJzdCEnKTtcblxuICAgICAgICB2YXIgdGV4dGFyZWEgPSB0aGlzLiRyZWZzLnRleHRhcmVhO1xuXG4gICAgICAgIHZhciBvbGRWYWx1ZSA9IHRleHRhcmVhLnZhbHVlO1xuICAgICAgICB0ZXh0YXJlYS52YWx1ZSA9IG9sZFZhbHVlLnN1YnN0cmluZygwLCByYW5nZURhdGEuc3RhcnQpICsgcmFuZ2VEYXRhLnRleHQgKyBvbGRWYWx1ZS5zdWJzdHJpbmcocmFuZ2VEYXRhLmVuZCwgb2xkVmFsdWUubGVuZ3RoKTtcbiAgICAgICAgcmFuZ2VEYXRhLmVuZCA9IHJhbmdlRGF0YS5zdGFydCArIHJhbmdlRGF0YS50ZXh0Lmxlbmd0aDtcbiAgICAgICAgaWYgKHRleHRhcmVhLnNldFNlbGVjdGlvblJhbmdlKSB7IC8vIFczQ1xuICAgICAgICAgICAgdGV4dGFyZWEuZm9jdXMoKTtcbiAgICAgICAgICAgIHRleHRhcmVhLnNldFNlbGVjdGlvblJhbmdlKHJhbmdlRGF0YS5zdGFydCwgcmFuZ2VEYXRhLmVuZCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGV4dGFyZWEuY3JlYXRlVGV4dFJhbmdlKSB7IC8vIElFXG4gICAgICAgICAgICB2YXIgb1IgPSB0ZXh0YXJlYS5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICAgICAgICAgIC8vIEZpeGJ1ZyA6XG4gICAgICAgICAgICAvLyBJbiBJRSwgaWYgY3Vyc29yIHBvc2l0aW9uIGF0IHRoZSBlbmQgb2YgdGV4dGFyZWEsIHRoZSBzZXRDdXJzb3JQb3NpdGlvbiBmdW5jdGlvbiBkb24ndCB3b3JrXG4gICAgICAgICAgICBpZih0ZXh0YXJlYS52YWx1ZS5sZW5ndGggPT09IHJhbmdlRGF0YS5zdGFydCkge1xuICAgICAgICAgICAgICAgIG9SLmNvbGxhcHNlKGZhbHNlKVxuICAgICAgICAgICAgICAgIG9SLnNlbGVjdCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvUi5tb3ZlVG9Cb29rbWFyayhyYW5nZURhdGEuYm9va21hcmspO1xuICAgICAgICAgICAgICAgIG9SLnNlbGVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gTWFya0VkaXRvcjtcbiIsIm1vZHVsZS5leHBvcnRzPVwiPGRpdj4gICAgeyNsaXN0IHNvdXJjZSBhcyBpdGVtfSAgICA8bWVudSBuYW1lPXtpdGVtLm5hbWV9IHNvdXJjZT17aXRlbS5jaGlsZHJlbn0gLz4gICAgey9saXN0fTwvZGl2PlwiIiwiLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIE1lbnViYXIgIOWIl+ihqOinhuWbvlxuICogQGF1dGhvciAgIHNlbnNlbihyYWluZm9yZXN0OTJAMTI2LmNvbSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFNvdXJjZUNvbXBvbmVudCA9IHJlcXVpcmUoJy4uL2Jhc2Uvc291cmNlQ29tcG9uZW50LmpzJyk7XG52YXIgdGVtcGxhdGUgPSByZXF1aXJlKCcuL21lbnViYXIuaHRtbCcpO1xudmFyIF8gPSByZXF1aXJlKCcuLi9iYXNlL3V0aWwuanMnKTtcbnZhciBNZW51ID0gcmVxdWlyZSgnLi4vdW5pdC9tZW51LmpzJyk7XG5cbi8qKlxuICogQGNsYXNzIE1lbnViYXJcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSAgICAgICAgICAgICAgICAgICAg57uR5a6a5bGe5oCnXG4gKiBAcGFyYW0ge29iamVjdFtdPVtdfSAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlICAgICAgICAgICAgIOaVsOaNrua6kFxuICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNvdXJjZVtdLmlkICAgICAgICDmr4/pobnnmoRpZFxuICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNvdXJjZVtdLm5hbWUgICAgICDmr4/pobnnmoTlhoXlrrlcbiAqIEBwYXJhbSB7b2JqZWN0PW51bGx9ICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5zZWxlY3RlZCAgICAgICAgICAg5b2T5YmN6YCJ5oup6aG5XG4gKiBAcGFyYW0ge3N0cmluZz1udWxsfSAgICAgICAgICAgICBvcHRpb25zLmRhdGEuaXRlbVRlbXBsYXRlICAgICAgIOWNlemhueaooeadv1xuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLnJlYWRvbmx5ICAgICAgICAgICDmmK/lkKblj6ror7tcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5kaXNhYmxlZCAgICAgICAgICAg5piv5ZCm56aB55SoXG4gKiBAcGFyYW0ge2Jvb2xlYW49dHJ1ZX0gICAgICAgICAgICBvcHRpb25zLmRhdGEudmlzaWJsZSAgICAgICAgICAgIOaYr+WQpuaYvuekulxuICogQHBhcmFtIHtzdHJpbmc9Jyd9ICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmNsYXNzICAgICAgICAgICAgICDooaXlhYVjbGFzc1xuICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zZXJ2aWNlICAgICAgICAgICAgICAgICDmlbDmja7mnI3liqFcbiAqL1xudmFyIE1lbnViYXIgPSBTb3VyY2VDb21wb25lbnQuZXh0ZW5kKHtcbiAgICBuYW1lOiAnbWVudWJhcicsXG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjb25maWc6IGZ1bmN0aW9uKCkge1xuICAgICAgICBfLmV4dGVuZCh0aGlzLmRhdGEsIHtcbiAgICAgICAgICAgIC8vIEBpbmhlcml0ZWQgc291cmNlOiBbXSxcbiAgICAgICAgICAgIGl0ZW1UZW1wbGF0ZTogbnVsbFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdXByKCk7XG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gTWVudWJhcjsiLCJtb2R1bGUuZXhwb3J0cz1cIjxkaXYgY2xhc3M9XFxcIm0tbW9kYWwge0AoY2xhc3MpfVxcXCIgb24ta2V5dXA9e3RoaXMua2V5dXAoJGV2ZW50KX0gci1oaWRlPXshdmlzaWJsZX0+ICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsX2RpYWxvZ1xcXCIgeyNpZiB3aWR0aH1zdHlsZT1cXFwid2lkdGg6IHt3aWR0aH1weFxcXCJ7L2lmfT4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsX2hkXFxcIj4gICAgICAgICAgICA8YSBjbGFzcz1cXFwibW9kYWxfY2xvc2VcXFwiIG9uLWNsaWNrPXt0aGlzLmNsb3NlKCFjYW5jZWxCdXR0b24pfT48aSBjbGFzcz1cXFwidS1pY29uIHUtaWNvbi1jbG9zZVxcXCI+PC9pPjwvYT4gICAgICAgICAgICA8aDMgY2xhc3M9XFxcIm1vZGFsX3RpdGxlXFxcIj57dGl0bGV9PC9oMz4gICAgICAgIDwvZGl2PiAgICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWxfYmRcXFwiPiAgICAgICAgICAgIHsjaWYgY29udGVudFRlbXBsYXRlfXsjaW5jbHVkZSBAKGNvbnRlbnRUZW1wbGF0ZSl9eyNlbHNlfXtjb250ZW50fXsvaWZ9ICAgICAgICA8L2Rpdj4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsX2Z0XFxcIj4gICAgICAgICAgICB7I2lmIG9rQnV0dG9ufSAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcInUtYnRuIHUtYnRuLXByaW1hcnlcXFwiIG9uLWNsaWNrPXt0aGlzLmNsb3NlKHRydWUpfT57b2tCdXR0b24gPT09IHRydWUgPyBcXCfnoa7lrppcXCcgOiBva0J1dHRvbn08L2J1dHRvbj4gICAgICAgICAgICB7L2lmfSAgICAgICAgICAgIHsjaWYgY2FuY2VsQnV0dG9ufSAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcInUtYnRuXFxcIiBvbi1jbGljaz17dGhpcy5jbG9zZShmYWxzZSl9PntjYW5jZWxCdXR0b24gPT09IHRydWUgPyBcXCflj5bmtohcXCcgOiBjYW5jZWxCdXR0b259PC9idXR0b24+ICAgICAgICAgICAgey9pZn0gICAgICAgIDwvZGl2PiAgICA8L2Rpdj48L2Rpdj5cIiIsIi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBNb2RhbCAgICAg5qih5oCB5a+56K+d5qGGXG4gKiBAYXV0aG9yICAgc2Vuc2VuKHJhaW5mb3Jlc3Q5MkAxMjYuY29tKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vYmFzZS9jb21wb25lbnQuanMnKTtcbnZhciB0ZW1wbGF0ZSA9IHJlcXVpcmUoJy4vbW9kYWwuaHRtbCcpO1xudmFyIF8gPSByZXF1aXJlKCcuLi9iYXNlL3V0aWwuanMnKTtcblxuLyoqXG4gKiBAY2xhc3MgTW9kYWxcbiAqIEBleHRlbmQgQ29tcG9uZW50XG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgICAgICAgICAgICAgICAgICAgIOe7keWumuWxnuaApyB8IEJpbmRpbmcgUHJvcGVydGllc1xuICogQHBhcmFtIHtzdHJpbmc9J+aPkOekuid9ICAgICAgICAgICBvcHRpb25zLmRhdGEudGl0bGUgICAgICAgICAgICAgIOWvueivneahhuagh+mimCB8IFRpdGxlIG9mIERpYWxvZ1xuICogQHBhcmFtIHtzdHJpbmc9Jyd9ICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmNvbnRlbnQgICAgICAgICAgICDlr7nor53moYblhoXlrrlcbiAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW49dHJ1ZX0gICAgIG9wdGlvbnMuZGF0YS5va0J1dHRvbiAgICAgICAgICAg5piv5ZCm5pi+56S656Gu5a6a5oyJ6ZKu44CC5YC85Li6YHN0cmluZ2Dml7bmmL7npLror6XmrrXmloflrZfjgIJcbiAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW49ZmFsc2V9ICAgIG9wdGlvbnMuZGF0YS5jYW5jZWxCdXR0b24gICAgICAg5piv5ZCm5pi+56S65Y+W5raI5oyJ6ZKu44CC5YC85Li6YHN0cmluZ2Dml7bmmL7npLror6XmrrXmloflrZfjgIJcbiAqIEBwYXJhbSB7bnVtYmVyPW51bGx9ICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS53aWR0aCAgICAgICAgICAgICAg5a+56K+d5qGG5a695bqm44CC5YC85Li65ZCm5a6a5pe25a695bqm5Li6Q1NT6K6+572u55qE5a695bqm44CCXG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuY2xhc3MgICAgICAgICAgICAgIOihpeWFhWNsYXNzXG4gKi9cbnZhciBNb2RhbCA9IENvbXBvbmVudC5leHRlbmQoe1xuICAgIG5hbWU6ICdtb2RhbCcsXG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjb25maWc6IGZ1bmN0aW9uKCkge1xuICAgICAgICBfLmV4dGVuZCh0aGlzLmRhdGEsIHtcbiAgICAgICAgICAgIHRpdGxlOiAn5o+Q56S6JyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICcnLFxuICAgICAgICAgICAgb2tCdXR0b246IHRydWUsXG4gICAgICAgICAgICBjYW5jZWxCdXR0b246IGZhbHNlLFxuICAgICAgICAgICAgd2lkdGg6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3VwcigpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnN1cHIoKTtcbiAgICAgICAgLy8g6K+B5piO5LiN5piv5YaF5bWM57uE5Lu2XG4gICAgICAgIGlmKHRoaXMuJHJvb3QgPT09IHRoaXMpXG4gICAgICAgICAgICB0aGlzLiRpbmplY3QoZG9jdW1lbnQuYm9keSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGNsb3NlKHJlc3VsdCkg5YWz6Zet5qih5oCB5a+56K+d5qGGXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59IHJlc3VsdCDngrnlh7vnoa7lrprov5jmmK/lj5bmtohcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGNsb3NlOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCBjbG9zZSDlhbPpl63lr7nor53moYbml7bop6blj5FcbiAgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSByZXN1bHQg54K55Ye75LqG56Gu5a6a6L+Y5piv5Y+W5raIXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLiRlbWl0KCdjbG9zZScsIHtcbiAgICAgICAgICAgIHJlc3VsdDogcmVzdWx0XG4gICAgICAgIH0pO1xuICAgICAgICByZXN1bHQgPyB0aGlzLm9rKCkgOiB0aGlzLmNhbmNlbCgpO1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIG9rOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCBvayDnoa7lrprlr7nor53moYbml7bop6blj5FcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJGVtaXQoJ29rJyk7XG5cbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBjYW5jZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGV2ZW50IGNhbmNlbCDlj5bmtojlr7nor53moYbml7bop6blj5FcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJGVtaXQoJ2NhbmNlbCcpO1xuXG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgIH0sXG4gICAga2V5dXA6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBpZigkZXZlbnQud2hpY2ggPT0gMTMpXG4gICAgICAgICAgICB0aGlzLm9rKCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogQG1ldGhvZCBhbGVydChjb250ZW50Wyx0aXRsZV0pIOW8ueWHuuS4gOS4qmFsZXJ05a+56K+d5qGG44CC5YWz6Zet5pe25aeL57uI6Kem5Y+R56Gu5a6a5LqL5Lu244CCXG4gKiBAc3RhdGljXG4gKiBAcHVibGljXG4gKiBAcGFyYW0gIHtzdHJpbmc9Jyd9IGNvbnRlbnQg5a+56K+d5qGG5YaF5a65XG4gKiBAcGFyYW0gIHtzdHJpbmc9J+aPkOekuid9IHRpdGxlIOWvueivneahhuagh+mimFxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuTW9kYWwuYWxlcnQgPSBmdW5jdGlvbihjb250ZW50LCB0aXRsZSwgb2tCdXR0b24pIHtcbiAgICB2YXIgbW9kYWwgPSBuZXcgTW9kYWwoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxuICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgb2tCdXR0b246IG9rQnV0dG9uXG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbW9kYWw7XG59XG5cbi8qKlxuICogQG1ldGhvZCBjb25maXJtKGNvbnRlbnRbLHRpdGxlXSkg5by55Ye65LiA5LiqY29uZmlybeWvueivneahhlxuICogQHN0YXRpY1xuICogQHB1YmxpY1xuICogQHBhcmFtICB7c3RyaW5nPScnfSBjb250ZW50IOWvueivneahhuWGheWuuVxuICogQHBhcmFtICB7c3RyaW5nPSfmj5DnpLonfSB0aXRsZSDlr7nor53moYbmoIfpophcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbk1vZGFsLmNvbmZpcm0gPSBmdW5jdGlvbihjb250ZW50LCB0aXRsZSwgb2tCdXR0b24sIGNhbmNlbEJ1dHRvbikge1xuICAgIHZhciBtb2RhbCA9IG5ldyBNb2RhbCh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICBva0J1dHRvbjogb2tCdXR0b24sXG4gICAgICAgICAgICBjYW5jZWxCdXR0b246IGNhbmNlbEJ1dHRvbiB8fCB0cnVlXG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbW9kYWw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTW9kYWw7XG4iLCJtb2R1bGUuZXhwb3J0cz1cIjxkaXYgY2xhc3M9XFxcIm0tbm90aWZ5IG0tbm90aWZ5LXtAKHBvc2l0aW9uKX0ge0AoY2xhc3MpfVxcXCIgci1oaWRlPXshdmlzaWJsZX0+ICAgIHsjbGlzdCBtZXNzYWdlcyBhcyBtZXNzYWdlfSAgICA8ZGl2IGNsYXNzPVxcXCJ1LW1lc3NhZ2UgdS1tZXNzYWdlLXtAKG1lc3NhZ2UudHlwZSl9XFxcIiByLWFuaW1hdGlvbj1cXFwib246IGVudGVyOyBjbGFzczogYW5pbWF0ZWQgZmFkZUluIGZhc3Q7IG9uOiBsZWF2ZTsgY2xhc3M6IGFuaW1hdGVkIGZhZGVPdXQgZmFzdDtcXFwiPiAgICAgICAgPGEgY2xhc3M9XFxcIm1lc3NhZ2VfY2xvc2VcXFwiIG9uLWNsaWNrPXt0aGlzLmNsb3NlKG1lc3NhZ2UpfT48aSBjbGFzcz1cXFwidS1pY29uIHUtaWNvbi1jbG9zZVxcXCI+PC9pPjwvYT4gICAgICAgIDxpIGNsYXNzPVxcXCJtZXNzYWdlX2ljb24gdS1pY29uIHUtaWNvbi17QChtZXNzYWdlLnR5cGUpfS1jaXJjbGVcXFwiIHItaGlkZT17QCghbWVzc2FnZS50eXBlKX0+PC9pPiAgICAgICAge0AobWVzc2FnZS50ZXh0KX0gICAgPC9kaXY+ICAgIHsvbGlzdH08L2Rpdj5cIiIsIi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBOb3RpZnkgICAg6YCa55+lXG4gKiBAYXV0aG9yICAgc2Vuc2VuKHJhaW5mb3Jlc3Q5MkAxMjYuY29tKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vYmFzZS9jb21wb25lbnQuanMnKTtcbnZhciB0ZW1wbGF0ZSA9IHJlcXVpcmUoJy4vbm90aWZ5Lmh0bWwnKTtcbnZhciBfID0gcmVxdWlyZSgnLi4vYmFzZS91dGlsLmpzJyk7XG5cbi8qKlxuICogQGNsYXNzIE5vdGlmeVxuICogQGV4dGVuZCBDb21wb25lbnRcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSAgICAgICAgICAgICAgICAgICAg55uR5ZCs5pWw5o2uXG4gKiBAcGFyYW0ge3N0cmluZz0ndG9wY2VudGVyJ30gICAgICBvcHRpb25zLmRhdGEucG9zaXRpb24gICAgICAgICAgIOmAmuefpeeahOS9jee9ru+8jOWPr+mAieWPguaVsO+8mmB0b3BjZW50ZXJg44CBYHRvcGxlZnRg44CBYHRvcHJpZ2h0YOOAgWBib3R0b21jZW50ZXJg44CBYGJvdHRvbWxlZnRg44CBYGJvdHRvbXJpZ2h0YOOAgWBzdGF0aWNgXG4gKiBAcGFyYW0ge251bWJlcj0yMDAwfSAgICAgICAgICAgICBvcHRpb25zLmRhdGEuZHVyYXRpb24gICAgICAgICAgIOavj+adoea2iOaBr+eahOWBnOeVmeavq+enkuaVsO+8jOWmguaenOS4ujDvvIzliJnooajnpLrmtojmga/luLjpqbvkuI3mtojlpLHjgIJcbiAqIEBwYXJhbSB7Ym9vbGVhbj10cnVlfSAgICAgICAgICAgIG9wdGlvbnMuZGF0YS52aXNpYmxlICAgICAgICAgICAg5piv5ZCm5pi+56S6XG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuY2xhc3MgICAgICAgICAgICAgIOihpeWFhWNsYXNzXG4gKi9cbnZhciBOb3RpZnkgPSBDb21wb25lbnQuZXh0ZW5kKHtcbiAgICBuYW1lOiAnbm90aWZ5JyxcbiAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGNvbmZpZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIF8uZXh0ZW5kKHRoaXMuZGF0YSwge1xuICAgICAgICAgICAgbWVzc2FnZXM6IFtdLFxuICAgICAgICAgICAgcG9zaXRpb246ICd0b3BjZW50ZXInLFxuICAgICAgICAgICAgZHVyYXRpb246IDIwMDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3VwcigpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnN1cHIoKTtcbiAgICAgICAgLy8g6K+B5piO5LiN5piv5YaF5bWM57uE5Lu2XG4gICAgICAgIGlmKHRoaXMuJHJvb3QgPT09IHRoaXMpXG4gICAgICAgICAgICB0aGlzLiRpbmplY3QoZG9jdW1lbnQuYm9keSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHNob3codGV4dFssdHlwZV1bLGR1cmF0aW9uXSkg5by55Ye65LiA5Liq5raI5oGvXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSAge3N0cmluZz0nJ30gdGV4dCDmtojmga/lhoXlrrlcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmc9bnVsbH0gdHlwZSDmtojmga/nsbvlnovvvIzlj6/pgInlj4LmlbDvvJpgaW5mb2DjgIFgc3VjY2Vzc2DjgIFgd2FybmluZ2DjgIFgZXJyb3JgXG4gICAgICogQHBhcmFtICB7bnVtYmVyPW5vdGlmeS5kdXJhdGlvbn0gZHVyYXRpb24g6K+l5p2h5raI5oGv55qE5YGc55WZ5q+r56eS5pWw77yM5aaC5p6c5Li6MO+8jOWImeihqOekuua2iOaBr+W4uOmpu+S4jea2iOWkseOAglxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgc2hvdzogZnVuY3Rpb24odGV4dCwgdHlwZSwgZHVyYXRpb24pIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB7XG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiA+PSAwID8gZHVyYXRpb24gOiB0aGlzLmRhdGEuZHVyYXRpb25cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kYXRhLm1lc3NhZ2VzLnVuc2hpZnQobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuJHVwZGF0ZSgpO1xuXG4gICAgICAgIGlmKCttZXNzYWdlLmR1cmF0aW9uKVxuICAgICAgICAgICAgdGhpcy4kdGltZW91dCh0aGlzLmNsb3NlLmJpbmQodGhpcywgbWVzc2FnZSksICttZXNzYWdlLmR1cmF0aW9uKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGV2ZW50IHNob3cg5by55Ye65LiA5Liq5raI5oGv5pe26Kem5Y+RXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBtZXNzYWdlIOW8ueWHuueahOa2iOaBr+WvueixoVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kZW1pdCgnc2hvdycsIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGNsb3NlKG1lc3NhZ2UpIOWFs+mXreafkOadoea2iOaBr1xuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IG1lc3NhZ2Ug6ZyA6KaB5YWz6Zet55qE5raI5oGv5a+56LGhXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBjbG9zZTogZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmRhdGEubWVzc2FnZXMuaW5kZXhPZihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5kYXRhLm1lc3NhZ2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHRoaXMuJHVwZGF0ZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGV2ZW50IGNsb3NlIOWFs+mXreafkOadoea2iOaBr+aXtuinpuWPkVxuICAgICAgICAgKiBAcHJvcGVydHkge29iamVjdH0gbWVzc2FnZSDlhbPpl63kuobnmoTmtojmga/lr7nosaFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJywge1xuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgY2xvc2VBbGwoKSDlhbPpl63miYDmnInmtojmga9cbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBjbG9zZUFsbDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJHVwZGF0ZSgnbWVzc2FnZXMnLCBbXSk7XG4gICAgfVxufSkudXNlKCckdGltZW91dCcpO1xuXG5cbi8qKlxuICog55u05o6l5Yid5aeL5YyW5LiA5Liq5a6e5L6LXG4gKiBAdHlwZSB7Tm90aWZ5fVxuICovXG52YXIgbm90aWZ5ID0gbmV3IE5vdGlmeSgpO1xuTm90aWZ5Lm5vdGlmeSA9IG5vdGlmeTtcblxuLyoqXG4gKiBAbWV0aG9kIHNob3codGV4dFssdHlwZV1bLGR1cmF0aW9uXSkg5by55Ye65LiA5Liq5raI5oGvXG4gKiBAc3RhdGljXG4gKiBAcHVibGljXG4gKiBAcGFyYW0gIHtzdHJpbmc9Jyd9IHRleHQg5raI5oGv5YaF5a65XG4gKiBAcGFyYW0gIHtzdHJpbmc9bnVsbH0gdHlwZSDmtojmga/nsbvlnovvvIzlj6/pgInlj4LmlbDvvJpgaW5mb2DjgIFgc3VjY2Vzc2DjgIFgd2FybmluZ2DjgIFgZXJyb3JgXG4gKiBAcGFyYW0gIHtudW1iZXI9bm90aWZ5LmR1cmF0aW9ufSBkdXJhdGlvbiDor6XmnaHmtojmga/nmoTlgZznlZnmr6vnp5LmlbDvvIzlpoLmnpzkuLow77yM5YiZ6KGo56S65raI5oGv5bi46am75LiN5raI5aSx44CCXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5Ob3RpZnkuc2hvdyA9IGZ1bmN0aW9uKCkge1xuICAgIG5vdGlmeS5zaG93LmFwcGx5KG5vdGlmeSwgYXJndW1lbnRzKTtcbn1cbi8qKlxuICogQG1ldGhvZCBbaW5mb3xzdWNjZXNzfHdhcm5pbmd8ZXJyb3JdKHRleHQpIOW8ueWHuueJueauiuexu+Wei+eahOa2iOaBr1xuICogQHN0YXRpY1xuICogQHB1YmxpY1xuICogQHBhcmFtICB7c3RyaW5nPScnfSB0ZXh0IOa2iOaBr+WGheWuuVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xudmFyIHR5cGVzID0gWydzdWNjZXNzJywgJ3dhcm5pbmcnLCAnaW5mbycsICdlcnJvciddO1xudHlwZXMuZm9yRWFjaChmdW5jdGlvbih0eXBlKSB7XG4gICAgTm90aWZ5W3R5cGVdID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICBOb3RpZnkuc2hvdyh0ZXh0LCB0eXBlKTtcbiAgICB9XG59KTtcbi8qKlxuICogQG1ldGhvZCBjbG9zZShtZXNzYWdlKSDlhbPpl63mn5DmnaHmtojmga9cbiAqIEBzdGF0aWNcbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSAge29iamVjdH0gbWVzc2FnZSDpnIDopoHlhbPpl63nmoTmtojmga/lr7nosaFcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbk5vdGlmeS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIG5vdGlmeS5jbG9zZS5hcHBseShub3RpZnksIGFyZ3VtZW50cyk7XG59XG4vKipcbiAqIEBtZXRob2QgY2xvc2VBbGwoKSDlhbPpl63miYDmnInmtojmga9cbiAqIEBzdGF0aWNcbiAqIEBwdWJsaWNcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbk5vdGlmeS5jbG9zZUFsbCA9IGZ1bmN0aW9uKCkge1xuICAgIG5vdGlmeS5jbG9zZUFsbC5hcHBseShub3RpZnksIGFyZ3VtZW50cyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTm90aWZ5OyIsIm1vZHVsZS5leHBvcnRzPVwiPHVsIGNsYXNzPVxcXCJtLXBhZ2VyIG0tcGFnZXIte0AocG9zaXRpb24pfSB7QChjbGFzcyl9XFxcIiByLWNsYXNzPXsge1xcJ3otZGlzXFwnOiBkaXNhYmxlZH0gfSByLWhpZGU9eyF2aXNpYmxlfT4gICAgPGxpIGNsYXNzPVxcXCJwYWdlcl9wcmV2XFxcIiByLWNsYXNzPXsge1xcJ3otZGlzXFwnIDogY3VycmVudCA8PSAxfSB9IG9uLWNsaWNrPXt0aGlzLnNlbGVjdChjdXJyZW50IC0gMSl9PjxhPuS4iuS4gOmhtTwvYT48L2xpPiAgICB7I2lmIHRvdGFsIC0gbWlkZGxlID4gc2lkZSAqIDIgKyAxfSAgICAgICAgeyNsaXN0IDEuLnNpZGUgYXMgaX0gICAgICAgIDxsaSByLWNsYXNzPXsge1xcJ3otY3J0XFwnOiBjdXJyZW50ID09IGl9IH0gb24tY2xpY2s9e3RoaXMuc2VsZWN0KGkpfT48YT57aX08L2E+PC9saT4gICAgICAgIHsvbGlzdH0gICAgICAgIHsjaWYgX3N0YXJ0ID4gc2lkZSArIDF9PGxpPjxzcGFuPi4uLjwvc3Bhbj48L2xpPnsvaWZ9ICAgICAgICB7I2xpc3QgX3N0YXJ0Li5fZW5kIGFzIGl9ICAgICAgICA8bGkgci1jbGFzcz17IHtcXCd6LWNydFxcJzogY3VycmVudCA9PSBpfSB9IG9uLWNsaWNrPXt0aGlzLnNlbGVjdChpKX0+PGE+e2l9PC9hPjwvbGk+ICAgICAgICB7L2xpc3R9ICAgICAgICB7I2lmIF9lbmQgPCB0b3RhbCAtIHNpZGV9PGxpPjxzcGFuPi4uLjwvc3Bhbj48L2xpPnsvaWZ9ICAgICAgICB7I2xpc3QgKHRvdGFsIC0gc2lkZSArIDEpLi50b3RhbCBhcyBpfSAgICAgICAgPGxpIHItY2xhc3M9eyB7XFwnei1jcnRcXCc6IGN1cnJlbnQgPT0gaX0gfSBvbi1jbGljaz17dGhpcy5zZWxlY3QoaSl9PjxhPntpfTwvYT48L2xpPiAgICAgICAgey9saXN0fSAgICB7I2Vsc2V9ICAgICAgICB7I2xpc3QgMS4udG90YWwgYXMgaX0gICAgICAgIDxsaSByLWNsYXNzPXsge1xcJ3otY3J0XFwnOiBjdXJyZW50ID09IGl9IH0gb24tY2xpY2s9e3RoaXMuc2VsZWN0KGkpfT48YT57aX08L2E+PC9saT4gICAgICAgIHsvbGlzdH0gICAgey9pZn0gICAgPGxpIGNsYXNzPVxcXCJwYWdlcl9uZXh0XFxcIiByLWNsYXNzPXsge1xcJ3otZGlzXFwnIDogY3VycmVudCA+PSB0b3RhbH0gfSBvbi1jbGljaz17dGhpcy5zZWxlY3QoY3VycmVudCArIDEpfT48YT7kuIvkuIDpobU8L2E+PC9saT48L3VsPlwiIiwiLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFBhZ2VyICAgICDliIbpobVcbiAqIEBhdXRob3IgICBzZW5zZW4ocmFpbmZvcmVzdDkyQDEyNi5jb20pXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG52YXIgQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vYmFzZS9jb21wb25lbnQuanMnKTtcbnZhciB0ZW1wbGF0ZSA9IHJlcXVpcmUoJy4vcGFnZXIuaHRtbCcpO1xudmFyIF8gPSByZXF1aXJlKCcuLi9iYXNlL3V0aWwuanMnKTtcblxuLyoqXG4gKiBAY2xhc3MgUGFnZXJcbiAqIEBleHRlbmQgQ29tcG9uZW50XG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgICAgICAgICAgICAgICAgICAgIOebkeWQrOaVsOaNrlxuICogQHBhcmFtIHtudW1iZXI9MX0gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmN1cnJlbnQgICAgICAgICAgICDlvZPliY3pobVcbiAqIEBwYXJhbSB7dG90YWw9MTF9ICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS50b3RhbCAgICAgICAgICAgICAg5oC76aG15pWwXG4gKiBAcGFyYW0ge3N0cmluZz0nY2VudGVyJ30gICAgICAgICBvcHRpb25zLmRhdGEucG9zaXRpb24gICAgICAgICAgIOWIhumhteeahOS9jee9ru+8jOWPr+mAieWPguaVsO+8mmBjZW50ZXJg44CBYGxlZnRg44CBYHJpZ2h0YFxuICogQHBhcmFtIHttaWRkbGU9NX0gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLm1pZGRsZSAgICAgICAgICAgICDlvZPpobXmlbDovoPlpJrml7bvvIzkuK3pl7TmmL7npLrnmoTpobXmlbBcbiAqIEBwYXJhbSB7c2lkZT0yfSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5zaWRlICAgICAgICAgICAgICAg5b2T6aG15pWw6L6D5aSa5pe277yM5Lik56uv5pi+56S655qE6aG15pWwXG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEucmVhZG9ubHkgICAgICAgICAgIOaYr+WQpuWPquivu1xuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLmRpc2FibGVkICAgICAgICAgICDmmK/lkKbnpoHnlKhcbiAqIEBwYXJhbSB7Ym9vbGVhbj10cnVlfSAgICAgICAgICAgIG9wdGlvbnMuZGF0YS52aXNpYmxlICAgICAgICAgICAg5piv5ZCm5pi+56S6XG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuY2xhc3MgICAgICAgICAgICAgIOihpeWFhWNsYXNzXG4gKi9cbnZhciBQYWdlciA9IENvbXBvbmVudC5leHRlbmQoe1xuICAgIG5hbWU6ICdwYWdlcicsXG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgIGNvbmZpZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIF8uZXh0ZW5kKHRoaXMuZGF0YSwge1xuICAgICAgICAgICAgY3VycmVudDogMSxcbiAgICAgICAgICAgIHRvdGFsOiAxMSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnY2VudGVyJyxcbiAgICAgICAgICAgIG1pZGRsZTogNSxcbiAgICAgICAgICAgIHNpZGU6IDIsXG4gICAgICAgICAgICBfc3RhcnQ6IDEsXG4gICAgICAgICAgICBfZW5kOiA1XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN1cHIoKTtcblxuICAgICAgICB0aGlzLiR3YXRjaChbJ2N1cnJlbnQnLCAndG90YWwnXSwgZnVuY3Rpb24oY3VycmVudCwgdG90YWwpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5jdXJyZW50ID0gY3VycmVudCA9ICtjdXJyZW50O1xuICAgICAgICAgICAgdGhpcy5kYXRhLnRvdGFsID0gdG90YWwgPSArdG90YWw7XG4gICAgICAgICAgICB2YXIgc2hvdyA9IHRoaXMuZGF0YS5taWRkbGU+PjE7XG4gICAgICAgICAgICB2YXIgc2lkZSA9IHRoaXMuZGF0YS5zaWRlO1xuXG4gICAgICAgICAgICB0aGlzLmRhdGEuX3N0YXJ0ID0gY3VycmVudCAtIHNob3c7XG4gICAgICAgICAgICB0aGlzLmRhdGEuX2VuZCA9IGN1cnJlbnQgKyBzaG93O1xuICAgICAgICAgICAgaWYodGhpcy5kYXRhLl9zdGFydCA8IHNpZGUgKyAxKVxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5fc3RhcnQgPSBzaWRlICsgMTtcbiAgICAgICAgICAgIGlmKHRoaXMuZGF0YS5fZW5kID4gdG90YWwgLSBzaWRlKVxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5fZW5kID0gdG90YWwgLSBzaWRlO1xuICAgICAgICAgICAgaWYoY3VycmVudCAtIHRoaXMuZGF0YS5fc3RhcnQgPCBzaG93KVxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5fZW5kICs9IHRoaXMuZGF0YS5fc3RhcnQgLSBjdXJyZW50ICsgc2hvdztcbiAgICAgICAgICAgIGlmKHRoaXMuZGF0YS5fZW5kIC0gY3VycmVudCA8IHNob3cpXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLl9zdGFydCArPSB0aGlzLmRhdGEuX2VuZCAtIGN1cnJlbnQgLSBzaG93O1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiR3YXRjaChbJ21pZGRsZScsICdzaWRlJ10sIGZ1bmN0aW9uKG1pZGRsZSwgc2lkZSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLm1pZGRsZSA9ICttaWRkbGU7XG4gICAgICAgICAgICB0aGlzLmRhdGEuc2lkZSA9ICtzaWRlO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgc2VsZWN0KHBhZ2UpIOmAieaLqeafkOS4gOmhtVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IHBhZ2Ug6YCJ5oup6aG1XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBzZWxlY3Q6IGZ1bmN0aW9uKHBhZ2UpIHtcbiAgICAgICAgaWYodGhpcy5kYXRhLnJlYWRvbmx5IHx8IHRoaXMuZGF0YS5kaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBpZihwYWdlIDwgMSkgcmV0dXJuO1xuICAgICAgICBpZihwYWdlID4gdGhpcy5kYXRhLnRvdGFsKSByZXR1cm47XG4gICAgICAgIGlmKHBhZ2UgPT0gdGhpcy5kYXRhLmN1cnJlbnQpIHJldHVybjtcblxuICAgICAgICB0aGlzLmRhdGEuY3VycmVudCA9IHBhZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZXZlbnQgc2VsZWN0IOmAieaLqeafkOS4gOmhteaXtuinpuWPkVxuICAgICAgICAgKiBAcHJvcGVydHkge29iamVjdH0gY3VycmVudCDlvZPliY3pgInmi6npobVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdCcsIHtcbiAgICAgICAgICAgIGN1cnJlbnQ6IHRoaXMuZGF0YS5jdXJyZW50XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2VyOyIsIm1vZHVsZS5leHBvcnRzPVwiPGRpdiBjbGFzcz1cXFwibS10YWIge0AoY2xhc3MpfVxcXCIgci1jbGFzcz17IHtcXCd6LWRpc1xcJzogZGlzYWJsZWR9IH0gci1oaWRlPXshdmlzaWJsZX0+ICAgIDx1bCBjbGFzcz1cXFwidGFiX2hkXFxcIj4gICAgICAgIHsjbGlzdCBzb3VyY2UgYXMgaXRlbX0gICAgICAgIDxsaSByLWNsYXNzPXsge1xcJ3otY3J0XFwnOiBpdGVtID09IHNlbGVjdGVkLCBcXCd6LWRpc1xcJzogaXRlbS5kaXNhYmxlZH0gfSBvbi1jbGljaz17dGhpcy5zZWxlY3QoaXRlbSl9PntpdGVtLnRpdGxlfTwvbGk+ICAgICAgICB7L2xpc3R9ICAgIDwvdWw+ICAgIDxkaXYgY2xhc3M9XFxcInRhYl9iZFxcXCI+ICAgICAgICB7I2luYyB0aGlzLiRib2R5fSAgICA8L2Rpdj48L2Rpdj5cIiIsIi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBUYWIgICAgICAg6YCJ6aG55Y2hXG4gKiBAYXV0aG9yICAgc2Vuc2VuKHJhaW5mb3Jlc3Q5MkAxMjYuY29tKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vYmFzZS9jb21wb25lbnQuanMnKTtcbnZhciB0ZW1wbGF0ZSA9IHJlcXVpcmUoJy4vdGFiLmh0bWwnKTtcbnZhciBfID0gcmVxdWlyZSgnLi4vYmFzZS91dGlsLmpzJyk7XG5cbi8qKlxuICogQGNsYXNzIFRhYlxuICogQGV4dGVuZCBDb21wb25lbnRcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSAgICAgICAgICAgICAgICAgICAg57uR5a6a5bGe5oCnXG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEucmVhZG9ubHkgICAgICAgICAgIOaYr+WQpuWPquivu1xuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLmRpc2FibGVkICAgICAgICAgICDmmK/lkKbnpoHnlKhcbiAqIEBwYXJhbSB7Ym9vbGVhbj10cnVlfSAgICAgICAgICAgIG9wdGlvbnMuZGF0YS52aXNpYmxlICAgICAgICAgICAg5piv5ZCm5pi+56S6XG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuY2xhc3MgICAgICAgICAgICAgIOihpeWFhWNsYXNzXG4gKi9cbnZhciBUYWIgPSBDb21wb25lbnQuZXh0ZW5kKHtcbiAgICBuYW1lOiAndGFiJyxcbiAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGNvbmZpZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIF8uZXh0ZW5kKHRoaXMuZGF0YSwge1xuICAgICAgICAgICAgc291cmNlOiBbXSxcbiAgICAgICAgICAgIHNlbGVjdGVkOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN1cHIoKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgc2VsZWN0KGl0ZW0pIOmAieaLqeafkOS4gOmhuVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IGl0ZW0g6YCJ5oup6aG5XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBzZWxlY3Q6IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaWYoaXRlbS5kaXNhYmxlZCB8fCB0aGlzLmRhdGEucmVhZG9ubHkgfHwgdGhpcy5kYXRhLmRpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuZGF0YS5zZWxlY3RlZCA9IGl0ZW07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZXZlbnQgc2VsZWN0IOmAieaLqeafkOS4gOmhueaXtuinpuWPkVxuICAgICAgICAgKiBAcHJvcGVydHkge29iamVjdH0gc2VsZWN0ZWQg5b2T5YmN6YCJ5oup6aG5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLiRlbWl0KCdzZWxlY3QnLCB7XG4gICAgICAgICAgICBzZWxlY3RlZDogaXRlbVxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxudmFyIFRhYlBhbmUgPSBDb21wb25lbnQuZXh0ZW5kKHtcbiAgICBuYW1lOiAndGFiUGFuZScsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IHItaGlkZT17dGhpcy4kb3V0ZXIuZGF0YS5zZWxlY3RlZC50YWIgIT0gdGhpc30+eyNpbmNsdWRlIHRoaXMuJGJvZHl9PC9kaXY+JyxcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY29uZmlnOiBmdW5jdGlvbigpIHsgXG4gICAgICAgIGlmKHRoaXMuJG91dGVyKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gdGhpcy4kb3V0ZXIuZGF0YS5zb3VyY2U7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy5kYXRhLnRpdGxlLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0aGlzLmRhdGEuZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgdGFiOiB0aGlzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc291cmNlLnB1c2goaXRlbSk7XG5cbiAgICAgICAgICAgIGlmKCF0aGlzLiRvdXRlci5kYXRhLnNlbGVjdGVkKVxuICAgICAgICAgICAgICAgIHRoaXMuJG91dGVyLmRhdGEuc2VsZWN0ZWQgPSBpdGVtO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVGFiOyIsIm1vZHVsZS5leHBvcnRzPVwiPHRhYmxlIGNsYXNzPVxcXCJtLXRhYmxlIG0tdGFibGV2aWV3IHtAKGNsYXNzKX1cXFwiIHItY2xhc3M9eyB7XFwnbS10YWJsZS1zdHJpcGVkXFwnOiBzdHJpcGVkLCBcXCdtLXRhYmxlLWhvdmVyXFwnOiBob3Zlcn0gfSByLWhpZGU9eyF2aXNpYmxlfT4gICAgPHRoZWFkPiAgICAgICAgPHRyPiAgICAgICAgICAgIHsjbGlzdCBmaWVsZHMgYXMgZmllbGR9ICAgICAgICAgICAgPHRoIHItY2xhc3M9eyB7XFwndGFibGV2aWV3X3NvcnRhYmxlXFwnOiBmaWVsZC5zb3J0YWJsZX0gfSBvbi1jbGljaz17dGhpcy5zb3J0KGZpZWxkKX0+ICAgICAgICAgICAgICAgIHtmaWVsZC5uYW1lIHx8IGZpZWxkLmtleX0gICAgICAgICAgICAgICAgeyNpZiBmaWVsZC5zb3J0YWJsZX0gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJ1LWljb24ge29yZGVyLmJ5ID09PSBmaWVsZC5rZXkgPyAob3JkZXIuZGVzYyA/IFxcJ3UtaWNvbi1zb3J0LWRlc2NcXCcgOiBcXCd1LWljb24tc29ydC1hc2NcXCcpIDogXFwndS1pY29uLXNvcnRcXCd9XFxcIj48L2k+ICAgICAgICAgICAgICAgIHsvaWZ9ICAgICAgICAgICAgPC90aD4gICAgICAgICAgICB7L2xpc3R9ICAgICAgICA8L3RyPiAgICA8L3RoZWFkPiAgICA8dGJvZHk+ICAgICAgICB7I2xpc3Qgc291cmNlIGFzIGl0ZW19ICAgICAgICA8dHI+ICAgICAgICAgICAgeyNsaXN0IGZpZWxkcyBhcyBmaWVsZH0gICAgICAgICAgICA8dGQ+e2l0ZW1bZmllbGQua2V5XX08L3RkPiAgICAgICAgICAgIHsvbGlzdH0gICAgICAgIDwvdHI+ICAgICAgICB7L2xpc3R9ICAgIDwvdGJvZHk+PC90YWJsZT5cIiIsIi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBUYWJsZVZpZXcg6KGo5qC86KeG5Zu+XG4gKiBAYXV0aG9yICAgc2Vuc2VuKHJhaW5mb3Jlc3Q5MkAxMjYuY29tKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgU291cmNlQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vYmFzZS9zb3VyY2VDb21wb25lbnQuanMnKTtcbnZhciB0ZW1wbGF0ZSA9IHJlcXVpcmUoJy4vdGFibGVWaWV3Lmh0bWwnKTtcbnZhciBfID0gcmVxdWlyZSgnLi4vYmFzZS91dGlsLmpzJyk7XG5cbi8qKlxuICogQGNsYXNzIFRhYmxlVmlld1xuICogQGV4dGVuZCBTb3VyY2VDb21wb25lbnRcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSAgICAgICAgICAgICAgICAgICAg57uR5a6a5bGe5oCnXG4gKiBAcGFyYW0ge29iamVjdFtdPVtdfSAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlICAgICAgICAgICAgIOaVsOaNrua6kFxuICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNvdXJjZVtdLmlkICAgICAgICDmr4/pobnnmoRpZFxuICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNvdXJjZVtdLm5hbWUgICAgICDmr4/pobnnmoTlhoXlrrlcbiAqIEBwYXJhbSB7b2JqZWN0W109W119ICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5maWVsZCAgICAgICAgICAgICAg5a2X5q616ZuGXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuZmllbGRbXS5rZXkgICAgICAgIOavj+S4quWtl+auteeahGtleVxuICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmZpZWxkW10ubmFtZSAgICAgICDmr4/kuKrlrZfmrrXlnKjooajlpLTmmL7npLrnmoTmloflrZfvvIzlpoLmnpzmsqHmnInliJnmmL7npLprZXlcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5zdHJpcGVkICAgICAgICAgICAg5piv5ZCm5pi+56S65p2h57q5XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEuaG92ZXIgICAgICAgICAgICAgIOaYr+WQpuavj+ihjOWcqGhvdmVy5pe25pi+56S65qC35byPXG4gKiBAcGFyYW0ge2Jvb2xlYW49dHJ1ZX0gICAgICAgICAgICBvcHRpb25zLmRhdGEudmlzaWJsZSAgICAgICAgICAgIOaYr+WQpuaYvuekulxuICogQHBhcmFtIHtzdHJpbmc9Jyd9ICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmNsYXNzICAgICAgICAgICAgICDooaXlhYVjbGFzc1xuICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zZXJ2aWNlICAgICAgICAgICAgICAgICDmlbDmja7mnI3liqFcbiAqL1xudmFyIFRhYmxlVmlldyA9IFNvdXJjZUNvbXBvbmVudC5leHRlbmQoe1xuICAgIG5hbWU6ICd0YWJsZVZpZXcnLFxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY29uZmlnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgXy5leHRlbmQodGhpcy5kYXRhLCB7XG4gICAgICAgICAgICAvLyBAaW5oZXJpdGVkIHNvdXJjZTogW10sXG4gICAgICAgICAgICBmaWVsZHM6IFtdLFxuICAgICAgICAgICAgc3RyaXBlZDogZmFsc2UsXG4gICAgICAgICAgICBob3ZlcjogZmFsc2UsXG4gICAgICAgICAgICAvLyBUT0RPOiDmmoLkuI3ogIPomZHlpJrlrZfmrrXmjpLluo9cbiAgICAgICAgICAgIG9yZGVyOiB7XG4gICAgICAgICAgICAgICAgYnk6IG51bGwsXG4gICAgICAgICAgICAgICAgZGVzYzogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3VwcigpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBzb3J0KGZpZWxkKSDmjInnhafmn5DkuKrlrZfmrrXmjpLluo9cbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtICB7b2JqZWN0fSBmaWVsZCDmjpLluo/lrZfmrrVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHNvcnQ6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgICAgIGlmKCFmaWVsZC5zb3J0YWJsZSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgb3JkZXIgPSB0aGlzLmRhdGEub3JkZXI7XG5cbiAgICAgICAgaWYob3JkZXIuYnkgPT09IGZpZWxkLmtleSlcbiAgICAgICAgICAgIG9yZGVyLmRlc2MgPSAhb3JkZXIuZGVzYztcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcmRlci5ieSA9IGZpZWxkLmtleTtcbiAgICAgICAgICAgIG9yZGVyLmRlc2MgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRoaXMuc2VydmljZSlcbiAgICAgICAgICAgIHRoaXMuJHVwZGF0ZVNvdXJjZSgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zb3VyY2Uuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICAgICAgaWYob3JkZXIuZGVzYylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbb3JkZXIuYnldIDwgYltvcmRlci5ieV07XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVtvcmRlci5ieV0gPiBiW29yZGVyLmJ5XTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZXZlbnQgc29ydCDmjInnhafmn5DkuKrlrZfmrrXmjpLluo/ml7bop6blj5FcbiAgICAgICAgICogQHByb3BlcnR5IHtvYmplY3R9IGZpZWxkIOaOkuW6j+Wtl+autVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kZW1pdCgnc29ydCcsIHtcbiAgICAgICAgICAgIGZpZWxkOiBmaWVsZFxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBUYWJsZVZpZXc7IiwibW9kdWxlLmV4cG9ydHM9XCI8ZGl2IGNsYXNzPVxcXCJtLXRyZWV2aWV3IHtAKGNsYXNzKX1cXFwiIHItY2xhc3M9eyB7XFwnei1kaXNcXCc6IGRpc2FibGVkfSB9IHItaGlkZT17IXZpc2libGV9PiAgICA8dHJlZVZpZXdMaXN0IHNvdXJjZT17c291cmNlfSB2aXNpYmxlPXt0cnVlfSAvPjwvZGl2PlwiIiwiLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFRyZWVWaWV3ICDmoJHlnovop4blm75cbiAqIEBhdXRob3IgICBzZW5zZW4ocmFpbmZvcmVzdDkyQDEyNi5jb20pXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBTb3VyY2VDb21wb25lbnQgPSByZXF1aXJlKCcuLi9iYXNlL3NvdXJjZUNvbXBvbmVudC5qcycpO1xudmFyIHRlbXBsYXRlID0gcmVxdWlyZSgnLi90cmVlVmlldy5odG1sJyk7XG52YXIgaGllcmFyY2hpY2FsVGVtcGxhdGUgPSByZXF1aXJlKCcuL3RyZWVWaWV3TGlzdC5odG1sJyk7XG52YXIgXyA9IHJlcXVpcmUoJy4uL2Jhc2UvdXRpbC5qcycpO1xuXG4vKipcbiAqIEBjbGFzcyBUcmVlVmlld1xuICogQGV4dGVuZCBTb3VyY2VDb21wb25lbnRcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSAgICAgICAgICAgICAgICAgICAg57uR5a6a5bGe5oCnXG4gKiBAcGFyYW0ge29iamVjdFtdPVtdfSAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlICAgICAgICAgICAgIOaVsOaNrua6kFxuICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNvdXJjZVtdLmlkICAgICAgICDmr4/pobnnmoRpZFxuICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNvdXJjZVtdLm5hbWUgICAgICDmr4/pobnnmoTlhoXlrrlcbiAqIEBwYXJhbSB7b2JqZWN0PW51bGx9ICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5zZWxlY3RlZCAgICAgICAgICAg5b2T5YmN6YCJ5oup6aG5XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEuaGllcmFyY2hpY2FsICAgICAgIOaYr+WQpuWIhue6p+WKqOaAgeWKoOi9ve+8jOmcgOimgXNlcnZpY2VcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5yZWFkb25seSAgICAgICAgICAg5piv5ZCm5Y+q6K+7XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEuZGlzYWJsZWQgICAgICAgICAgIOaYr+WQpuemgeeUqFxuICogQHBhcmFtIHtib29sZWFuPXRydWV9ICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnZpc2libGUgICAgICAgICAgICDmmK/lkKbmmL7npLpcbiAqIEBwYXJhbSB7c3RyaW5nPScnfSAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5jbGFzcyAgICAgICAgICAgICAg6KGl5YWFY2xhc3NcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuc2VydmljZSAgICAgICAgICAgICAgICAg5pWw5o2u5pyN5YqhXG4gKi9cbnZhciBUcmVlVmlldyA9IFNvdXJjZUNvbXBvbmVudC5leHRlbmQoe1xuICAgIG5hbWU6ICd0cmVlVmlldycsXG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjb25maWc6IGZ1bmN0aW9uKCkge1xuICAgICAgICBfLmV4dGVuZCh0aGlzLmRhdGEsIHtcbiAgICAgICAgICAgIC8vIEBpbmhlcml0ZWQgc291cmNlOiBbXSxcbiAgICAgICAgICAgIHNlbGVjdGVkOiBudWxsLFxuICAgICAgICAgICAgbXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgaGllcmFyY2hpY2FsOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdXByKCk7XG5cbiAgICAgICAgdGhpcy4kYW5jZXN0b3IgPSB0aGlzO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBzZWxlY3QoaXRlbSkg6YCJ5oup5p+Q5LiA6aG5XG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSAge29iamVjdH0gaXRlbSDpgInmi6npoblcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHNlbGVjdDogZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZih0aGlzLmRhdGEucmVhZG9ubHkgfHwgdGhpcy5kYXRhLmRpc2FibGVkIHx8IGl0ZW0uZGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy5kYXRhLnNlbGVjdGVkID0gaXRlbTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCBzZWxlY3Qg6YCJ5oup5p+Q5LiA6aG55pe26Kem5Y+RXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBzZWxlY3RlZCDlvZPliY3pgInmi6npoblcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdCcsIHtcbiAgICAgICAgICAgIHNlbGVjdGVkOiBpdGVtXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0b2dnbGUoaXRlbSkg5bGV5byA5oiW5pS26LW35p+Q5LiA6aG5XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IGl0ZW0g5bGV5byA5pS26LW36aG5XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICB0b2dnbGU6IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaWYodGhpcy5kYXRhLnJlYWRvbmx5IHx8IHRoaXMuZGF0YS5kaXNhYmxlZCB8fCBpdGVtLmRpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGl0ZW0ub3BlbiA9ICFpdGVtLm9wZW47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCB0b2dnbGUg5bGV5byA5oiW5pS26LW35p+Q5LiA6aG55pe26Kem5Y+RXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBpdGVtIOWxleW8gOaUtui1t+mhuVxuICAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IG9wZW4g5bGV5byA6L+Y5piv5pS26LW3XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLiRlbWl0KCd0b2dnbGUnLCB7XG4gICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgb3BlbjogaXRlbS5vcGVuXG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG52YXIgVHJlZVZpZXdMaXN0ID0gU291cmNlQ29tcG9uZW50LmV4dGVuZCh7XG4gICAgbmFtZTogJ3RyZWVWaWV3TGlzdCcsXG4gICAgdGVtcGxhdGU6IGhpZXJhcmNoaWNhbFRlbXBsYXRlLFxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjb25maWc6IGZ1bmN0aW9uKCkge1xuICAgICAgICBfLmV4dGVuZCh0aGlzLmRhdGEsIHtcbiAgICAgICAgICAgIC8vIEBpbmhlcml0ZWQgc291cmNlOiBbXSxcbiAgICAgICAgICAgIGl0ZW1UZW1wbGF0ZTogbnVsbCxcbiAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN1cHIoKTtcblxuICAgICAgICB0aGlzLiRhbmNlc3RvciA9IHRoaXMuJHBhcmVudC4kYW5jZXN0b3I7XG4gICAgICAgIHRoaXMuc2VydmljZSA9IHRoaXMuJGFuY2VzdG9yLnNlcnZpY2U7XG4gICAgICAgIHRoaXMuZGF0YS5pdGVtVGVtcGxhdGUgPSB0aGlzLiRhbmNlc3Rvci5kYXRhLml0ZW1UZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5kYXRhLmhpZXJhcmNoaWNhbCA9IHRoaXMuJGFuY2VzdG9yLmRhdGEuaGllcmFyY2hpY2FsO1xuXG4gICAgICAgIHRoaXMuJHdhdGNoKCd2aXNpYmxlJywgZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGlmKCF0aGlzLmRhdGEuaGllcmFyY2hpY2FsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgaWYoIW5ld1ZhbHVlIHx8IHRoaXMuJHBhcmVudC5uYW1lICE9PSAndHJlZVZpZXdMaXN0JylcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuJHVwZGF0ZVNvdXJjZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuaGllcmFyY2hpY2FsID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBnZXRQYXJhbXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZih0aGlzLmRhdGEucGFyZW50KVxuICAgICAgICAgICAgcmV0dXJuIF8uZXh0ZW5kKHtwYXJlbnRJZDogdGhpcy5kYXRhLnBhcmVudC5pZH0sIHRoaXMuJGFuY2VzdG9yLmdldFBhcmFtcygpKTtcbiAgICB9LFxuICAgICR1cGRhdGVTb3VyY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNlcnZpY2UuZ2V0TGlzdCh0aGlzLmdldFBhcmFtcygpLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgIC8vIOe7meavj+S4quiKgueCuWl0ZW3mt7vliqBwYXJlbnRcbiAgICAgICAgICAgIHJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBpdGVtLnBhcmVudCA9IHRoaXMuZGF0YS5wYXJlbnQ7XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICAgICAgICB0aGlzLiR1cGRhdGUoJ3NvdXJjZScsIHJlc3VsdCk7XG5cbiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZVNvdXJjZScsIHtcbiAgICAgICAgICAgICAgICByZXN1bHQ6IHJlc3VsdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBzZWxlY3QoaXRlbSkg6YCJ5oup5p+Q5LiA6aG5XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IGl0ZW0g6YCJ5oup6aG5XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBzZWxlY3Q6IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdGhpcy4kYW5jZXN0b3Iuc2VsZWN0KGl0ZW0pO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCB0b2dnbGUoaXRlbSkg5bGV5byA5oiW5pS26LW35p+Q5LiA6aG5XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IGl0ZW0g5bGV5byA5pS26LW36aG5XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICB0b2dnbGU6IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdGhpcy4kYW5jZXN0b3IudG9nZ2xlKGl0ZW0pO1xuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRyZWVWaWV3OyIsIm1vZHVsZS5leHBvcnRzPVwiPHVsIGNsYXNzPVxcXCJ0cmVldmlld19saXN0XFxcIiByLWhpZGU9eyF2aXNpYmxlfT4gICAgeyNsaXN0IHNvdXJjZSBhcyBpdGVtfSAgICA8bGk+ICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0cmVldmlld19pdGVtXFxcIj4gICAgICAgICAgICB7I2lmIGl0ZW0uY2hpbGRyZW5Db3VudCB8fCAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCl9ICAgICAgICAgICAgPGkgY2xhc3M9XFxcInUtaWNvblxcXCIgci1jbGFzcz17IHtcXCd1LWljb24tY2FyZXQtcmlnaHRcXCc6ICFpdGVtLm9wZW4sIFxcJ3UtaWNvbi1jYXJldC1kb3duXFwnOiBpdGVtLm9wZW59fSBvbi1jbGljaz17dGhpcy50b2dnbGUoaXRlbSl9PjwvaT4gICAgICAgICAgICB7L2lmfSAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInRyZWV2aWV3X2l0ZW1uYW1lXFxcIiByLWNsYXNzPXsge1xcJ3otc2VsXFwnOiB0aGlzLiRhbmNlc3Rvci5kYXRhLnNlbGVjdGVkID09PSBpdGVtLCBcXCd6LWRpc1xcJzogaXRlbS5kaXNhYmxlZH0gfSB0aXRsZT17aXRlbS5uYW1lfSBvbi1jbGljaz17dGhpcy5zZWxlY3QoaXRlbSl9PnsjaWYgQChpdGVtVGVtcGxhdGUpfXsjaW5jbHVkZSBAKGl0ZW1UZW1wbGF0ZSl9eyNlbHNlfXtpdGVtLm5hbWV9ey9pZn08L2Rpdj4gICAgICAgIDwvZGl2PiAgICAgICAgeyNpZiBpdGVtLmNoaWxkcmVuQ291bnQgfHwgKGl0ZW0uY2hpbGRyZW4gJiYgaXRlbS5jaGlsZHJlbi5sZW5ndGgpfTx0cmVlVmlld0xpc3Qgc291cmNlPXtpdGVtLmNoaWxkcmVufSB2aXNpYmxlPXtpdGVtLm9wZW59IHBhcmVudD17aXRlbX0gLz57L2lmfSAgICA8L2xpPiAgICB7L2xpc3R9PC91bD5cIiIsIm1vZHVsZS5leHBvcnRzPVwiPGxhYmVsIGNsYXNzPVxcXCJ1LWNoZWNrMiB7QChjbGFzcyl9XFxcIiByLWNsYXNzPXsge1xcJ3otZGlzXFwnOiBkaXNhYmxlZCwgXFwnei1jaGtcXCc6IGNoZWNrZWQsIFxcJ3otcGFydFxcJzogY2hlY2tlZCA9PT0gbnVsbCwgXFwndS1jaGVjazItYmxvY2tcXCc6IGJsb2NrfSB9IHItaGlkZT17IXZpc2libGV9IHRpdGxlPXtuYW1lfSBvbi1jbGljaz17dGhpcy5jaGVjayghY2hlY2tlZCl9PjxkaXYgY2xhc3M9XFxcImNoZWNrMl9ib3hcXFwiPjxpIGNsYXNzPVxcXCJ1LWljb24gdS1pY29uLWNoZWNrXFxcIj48L2k+PC9kaXY+IHtuYW1lfTwvbGFiZWw+XCIiLCIvKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ2hlY2syICAg5aSa6YCJ5oyJ6ZKuXG4gKiBAYXV0aG9yICAgc2Vuc2VuKHJhaW5mb3Jlc3Q5MkAxMjYuY29tKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vYmFzZS9jb21wb25lbnQuanMnKTtcbnZhciB0ZW1wbGF0ZSA9IHJlcXVpcmUoJy4vY2hlY2syLmh0bWwnKTtcbnZhciBfID0gcmVxdWlyZSgnLi4vYmFzZS91dGlsLmpzJyk7XG5cbi8qKlxuICogQGNsYXNzIENoZWNrMlxuICogQGV4dGVuZCBDb21wb25lbnRcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSAgICAgICAgICAgICAgICAgICAg57uR5a6a5bGe5oCnXG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEubmFtZSAgICAgICAgICAgICAgIOWkmumAieaMiemSrueahOaWh+Wtl1xuICogQHBhcmFtIHtvYmplY3Q9bnVsbH0gICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmNoZWNrZWQgICAgICAgICAgICDlpJrpgInmjInpkq7nmoTpgInmi6nnirbmgIFcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5ibG9jayAgICAgICAgICAgICAg5piv5ZCm5LulYmxvY2vmlrnlvI/mmL7npLpcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5yZWFkb25seSAgICAgICAgICAg5piv5ZCm5Y+q6K+7XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEuZGlzYWJsZWQgICAgICAgICAgIOaYr+WQpuemgeeUqFxuICogQHBhcmFtIHtib29sZWFuPXRydWV9ICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnZpc2libGUgICAgICAgICAgICDmmK/lkKbmmL7npLpcbiAqIEBwYXJhbSB7c3RyaW5nPScnfSAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5jbGFzcyAgICAgICAgICAgICAg6KGl5YWFY2xhc3NcbiAqL1xudmFyIENoZWNrMiA9IENvbXBvbmVudC5leHRlbmQoe1xuICAgIG5hbWU6ICdjaGVjazInLFxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY29uZmlnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgXy5leHRlbmQodGhpcy5kYXRhLCB7XG4gICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgIGNoZWNrZWQ6IGZhbHNlLFxuICAgICAgICAgICAgYmxvY2s6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN1cHIoKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgY2hlY2soY2hlY2tlZCkg5pS55Y+Y6YCJ5Lit54q25oCBXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59IGNoZWNrZWQg6YCJ5Lit54q25oCBXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBjaGVjazogZnVuY3Rpb24oY2hlY2tlZCkge1xuICAgICAgICBpZih0aGlzLmRhdGEucmVhZG9ubHkgfHwgdGhpcy5kYXRhLmRpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuZGF0YS5jaGVja2VkID0gY2hlY2tlZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCBjaGVjayDmlLnlj5jpgInkuK3nirbmgIHml7bop6blj5FcbiAgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSBjaGVja2VkIOmAieS4reeKtuaAgVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kZW1pdCgnY2hlY2snLCB7XG4gICAgICAgICAgICBjaGVja2VkOiBjaGVja2VkXG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENoZWNrMjsiLCJtb2R1bGUuZXhwb3J0cz1cIjxkaXYgY2xhc3M9XFxcInUtdW5pdGdyb3VwIHtAKGNsYXNzKX1cXFwiIHItaGlkZT17IXZpc2libGV9PiAgICB7I2xpc3Qgc291cmNlIGFzIGl0ZW19ICAgIDxjaGVjazIgbmFtZT17aXRlbS5uYW1lfSBjaGVja2VkPXtpdGVtLmNoZWNrZWR9IGRpc2FibGVkPXtkaXNhYmxlZH0gYmxvY2s9e2Jsb2NrfSAvPiAgICB7L2xpc3R9PC9kaXY+XCIiLCIvKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ2hlY2syR3JvdXAg6L6T5YWl5omp5bGVXG4gKiBAYXV0aG9yICAgc2Vuc2VuKHJhaW5mb3Jlc3Q5MkAxMjYuY29tKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ2hlY2tHcm91cCA9IHJlcXVpcmUoJy4vY2hlY2tHcm91cC5qcycpO1xudmFyIHRlbXBsYXRlID0gcmVxdWlyZSgnLi9jaGVjazJHcm91cC5odG1sJyk7XG52YXIgXyA9IHJlcXVpcmUoJy4uL2Jhc2UvdXRpbC5qcycpO1xudmFyIENoZWNrMiA9IHJlcXVpcmUoJy4vY2hlY2syLmpzJyk7XG5cbi8qKlxuICogQGNsYXNzIENoZWNrMkdyb3VwXG4gKiBAZXh0ZW5kIENoZWNrR3JvdXBcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSAgICAgICAgICAgICAgICAgICAg57uR5a6a5bGe5oCnXG4gKiBAcGFyYW0ge29iamVjdFtdPVtdfSAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlICAgICAgICAgICAgIOaVsOaNrua6kFxuICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNvdXJjZVtdLmlkICAgICAgICDmr4/pobnnmoRpZFxuICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNvdXJjZVtdLm5hbWUgICAgICDmr4/pobnnmoTlhoXlrrlcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5ibG9jayAgICAgICAgICAgICAg5aSa6KGM5pi+56S6XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEucmVhZG9ubHkgICAgICAgICAgIOaYr+WQpuWPquivu1xuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLmRpc2FibGVkICAgICAgICAgICDmmK/lkKbnpoHnlKhcbiAqIEBwYXJhbSB7Ym9vbGVhbj10cnVlfSAgICAgICAgICAgIG9wdGlvbnMuZGF0YS52aXNpYmxlICAgICAgICAgICAg5piv5ZCm5pi+56S6XG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuY2xhc3MgICAgICAgICAgICAgIOihpeWFhWNsYXNzXG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLnNlcnZpY2UgICAgICAgICAgICAgICAgIOaVsOaNruacjeWKoVxuICovXG52YXIgQ2hlY2syR3JvdXAgPSBDaGVja0dyb3VwLmV4dGVuZCh7XG4gICAgbmFtZTogJ2NoZWNrMkdyb3VwJyxcbiAgICB0ZW1wbGF0ZTogdGVtcGxhdGVcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENoZWNrMkdyb3VwOyIsIm1vZHVsZS5leHBvcnRzPVwiPGRpdiBjbGFzcz1cXFwidS11bml0Z3JvdXAge0AoY2xhc3MpfVxcXCIgci1oaWRlPXshdmlzaWJsZX0+ICAgIHsjbGlzdCBzb3VyY2UgYXMgaXRlbX0gICAgPGxhYmVsIGNsYXNzPVxcXCJ1LWNoZWNrMlxcXCIgci1jbGFzcz17IHtcXCd6LWRpc1xcJzogZGlzYWJsZWQsIFxcJ3UtY2hlY2syLWJsb2NrXFwnOiBibG9ja30gfSB0aXRsZT17aXRlbS5uYW1lfT48aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGNsYXNzPVxcXCJ1LWNoZWNrXFxcIiByLW1vZGVsPXtpdGVtLmNoZWNrZWR9IGRpc2FibGVkPXtkaXNhYmxlZH0+IHtpdGVtLm5hbWV9PC9sYWJlbD4gICAgey9saXN0fTwvZGl2PlwiIiwiLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENoZWNrR3JvdXAg5aSa6YCJ57uEXG4gKiBAYXV0aG9yICAgc2Vuc2VuKHJhaW5mb3Jlc3Q5MkAxMjYuY29tKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgU291cmNlQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vYmFzZS9zb3VyY2VDb21wb25lbnQuanMnKTtcbnZhciB0ZW1wbGF0ZSA9IHJlcXVpcmUoJy4vY2hlY2tHcm91cC5odG1sJyk7XG52YXIgXyA9IHJlcXVpcmUoJy4uL2Jhc2UvdXRpbC5qcycpO1xuXG4vKipcbiAqIEBjbGFzcyBDaGVja0dyb3VwXG4gKiBAZXh0ZW5kIFNvdXJjZUNvbXBvbmVudFxuICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhICAgICAgICAgICAgICAgICAgICDnu5HlrprlsZ7mgKdcbiAqIEBwYXJhbSB7b2JqZWN0W109W119ICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5zb3VyY2UgICAgICAgICAgICAg5pWw5o2u5rqQXG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlW10uaWQgICAgICAgIOavj+mhueeahGlkXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlW10ubmFtZSAgICAgIOavj+mhueeahOWGheWuuVxuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLmJsb2NrICAgICAgICAgICAgICDlpJrooYzmmL7npLpcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5yZWFkb25seSAgICAgICAgICAg5piv5ZCm5Y+q6K+7XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEuZGlzYWJsZWQgICAgICAgICAgIOaYr+WQpuemgeeUqFxuICogQHBhcmFtIHtib29sZWFuPXRydWV9ICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnZpc2libGUgICAgICAgICAgICDmmK/lkKbmmL7npLpcbiAqIEBwYXJhbSB7c3RyaW5nPScnfSAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5jbGFzcyAgICAgICAgICAgICAg6KGl5YWFY2xhc3NcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuc2VydmljZSAgICAgICAgICAgICAgICAg5pWw5o2u5pyN5YqhXG4gKi9cbnZhciBDaGVja0dyb3VwID0gU291cmNlQ29tcG9uZW50LmV4dGVuZCh7XG4gICAgbmFtZTogJ2NoZWNrR3JvdXAnLFxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY29uZmlnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgXy5leHRlbmQodGhpcy5kYXRhLCB7XG4gICAgICAgICAgICAvLyBAaW5oZXJpdGVkIHNvdXJjZTogW10sXG4gICAgICAgICAgICBibG9jazogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3VwcigpO1xuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENoZWNrR3JvdXA7IiwibW9kdWxlLmV4cG9ydHM9XCI8ZGl2IGNsYXNzPVxcXCJ1LWRyb3Bkb3duIHUtZHJvcGRvd24tZGF0ZXBpY2tlciB7QChjbGFzcyl9XFxcIiByLWNsYXNzPXsge1xcJ3otZGlzXFwnOiBkaXNhYmxlZH0gfSByLWhpZGU9eyF2aXNpYmxlfSByZWY9XFxcImVsZW1lbnRcXFwiPiAgICA8ZGl2IGNsYXNzPVxcXCJkcm9wZG93bl9oZFxcXCI+ICAgICAgICA8aW5wdXQgY2xhc3M9XFxcInUtaW5wdXQgdS1pbnB1dC1mdWxsXFxcIiBwbGFjZWhvbGRlcj17cGxhY2Vob2xkZXJ9IHZhbHVlPXtkYXRlIHwgZm9ybWF0OiBcXCd5eXl5LU1NLWRkXFwnfSBvbi1mb2N1cz17dGhpcy50b2dnbGUodHJ1ZSl9IG9uLWNoYW5nZT17dGhpcy5pbnB1dCgkZXZlbnQpfSByZWY9XFxcImlucHV0XFxcIiBkaXNhYmxlZD17ZGlzYWJsZWR9IHsjaWYgcmVhZG9ubHl9cmVhZG9ubHk9XFxcInJlYWRvbmx5XFxcInsvaWZ9PiAgICA8L2Rpdj4gICAgPGRpdiBjbGFzcz1cXFwiZHJvcGRvd25fYmRcXFwiIHItaGlkZT17IW9wZW59IHItYW5pbWF0aW9uPVxcXCJvbjogZW50ZXI7IGNsYXNzOiBhbmltYXRlZCBmYWRlSW5ZIGZhc3Q7IG9uOiBsZWF2ZTsgY2xhc3M6IGFuaW1hdGVkIGZhZGVPdXRZIGZhc3Q7XFxcIj4gICAgICAgIDxjYWxlbmRhciBkYXRlPXtkYXRlfSBtaW5EYXRlPXttaW5EYXRlfSBtYXhEYXRlPXttYXhEYXRlfSBvbi1zZWxlY3Q9e3RoaXMuc2VsZWN0KCRldmVudC5kYXRlKX0gLz4gICAgPC9kaXY+PC9kaXY+XCIiLCIvKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRGF0ZVBpY2tlciDml6XmnJ/pgInmi6lcbiAqIEBhdXRob3IgICBzZW5zZW4ocmFpbmZvcmVzdDkyQDEyNi5jb20pXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG52YXIgRHJvcGRvd24gPSByZXF1aXJlKCcuL2Ryb3Bkb3duLmpzJyk7XG52YXIgdGVtcGxhdGUgPSByZXF1aXJlKCcuL2RhdGVQaWNrZXIuaHRtbCcpO1xudmFyIF8gPSByZXF1aXJlKCcuLi9iYXNlL3V0aWwuanMnKTtcblxudmFyIGZpbHRlciA9IHJlcXVpcmUoJy4uL2Jhc2UvZmlsdGVyLmpzJyk7XG52YXIgQ2FsZW5kYXIgPSByZXF1aXJlKCcuLi9tb2R1bGUvY2FsZW5kYXIuanMnKTtcblxuLyoqXG4gKiBAY2xhc3MgRGF0ZVBpY2tlclxuICogQGV4dGVuZCBEcm9wZG93blxuICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhICAgICAgICAgICAgICAgICAgICDnu5HlrprlsZ7mgKdcbiAqIEBwYXJhbSB7b2JqZWN0PW51bGx9ICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5kYXRlICAgICAgICAgICAgICAg5b2T5YmN6YCJ5oup55qE5pel5pyfXG4gKiBAcGFyYW0ge3N0cmluZz0n6K+36L6T5YWlJ30gICAgICAgICBvcHRpb25zLmRhdGEucGxhY2Vob2xkZXIgICAgICAgIOaWh+acrOahhum7mOiupOaWh+Wtl1xuICogQHBhcmFtIHtEYXRlPW51bGx9ICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLm1pbkRhdGUgICAgICAgICAgICDmnIDlsI/ml6XmnJ/vvIzlpoLmnpzkuLrnqbrliJnkuI3pmZDliLZcbiAqIEBwYXJhbSB7RGF0ZT1udWxsfSAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5tYXhEYXRlICAgICAgICAgICAg5pyA5aSn5pel5pyf77yM5aaC5p6c5Li656m65YiZ5LiN6ZmQ5Yi2XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEucmVhZG9ubHkgICAgICAgICAgIOaYr+WQpuWPquivu1xuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLmRpc2FibGVkICAgICAgICAgICDmmK/lkKbnpoHnlKhcbiAqIEBwYXJhbSB7Ym9vbGVhbj10cnVlfSAgICAgICAgICAgIG9wdGlvbnMuZGF0YS52aXNpYmxlICAgICAgICAgICAg5piv5ZCm5pi+56S6XG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuY2xhc3MgICAgICAgICAgICAgIOihpeWFhWNsYXNzXG4gKi9cbnZhciBEYXRlUGlja2VyID0gRHJvcGRvd24uZXh0ZW5kKHtcbiAgICBuYW1lOiAnZGF0ZVBpY2tlcicsXG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjb25maWc6IGZ1bmN0aW9uKCkge1xuICAgICAgICBfLmV4dGVuZCh0aGlzLmRhdGEsIHtcbiAgICAgICAgICAgIC8vIEBpbmhlcml0ZWQgc291cmNlOiBbXSxcbiAgICAgICAgICAgIC8vIEBpbmhlcml0ZWQgb3BlbjogZmFsc2UsXG4gICAgICAgICAgICBtaW5EYXRlOiBudWxsLFxuICAgICAgICAgICAgbWF4RGF0ZTogbnVsbCxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWlJ1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdXByKCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHNlbGVjdChkYXRlKSDpgInmi6nkuIDkuKrml6XmnJ9cbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtICB7RGF0ZT1udWxsfSBkYXRlIOmAieaLqeeahOaXpeacn1xuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgc2VsZWN0OiBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZXZlbnQgc2VsZWN0IOmAieaLqeafkOS4gOmhueaXtuinpuWPkVxuICAgICAgICAgKiBAcHJvcGVydHkge29iamVjdH0gZGF0ZSDlvZPliY3pgInmi6npoblcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdCcsIHtcbiAgICAgICAgICAgIGRhdGU6IGRhdGVcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudG9nZ2xlKGZhbHNlKTtcbiAgICB9LFxuICAgIGlucHV0OiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgkZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgaWYoZGF0ZSAhPSAnSW52YWxpZCBEYXRlJylcbiAgICAgICAgICAgIHRoaXMuZGF0YS5kYXRlID0gZGF0ZTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgJGV2ZW50LnRhcmdldC52YWx1ZSA9IGZpbHRlci5mb3JtYXQodGhpcy5kYXRhLmRhdGUsICd5eXl5LU1NLWRkJyk7XG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGF0ZVBpY2tlcjsiLCJtb2R1bGUuZXhwb3J0cz1cIjxkaXYgY2xhc3M9XFxcInUtZHJvcGRvd24gdS1kcm9wZG93bi1kYXRlcGlja2VyIHUtZHJvcGRvd24tZGF0ZXRpbWVwaWNrZXIge0AoY2xhc3MpfVxcXCIgci1jbGFzcz17IHtcXCd6LWRpc1xcJzogZGlzYWJsZWR9IH0gci1oaWRlPXshdmlzaWJsZX0gcmVmPVxcXCJlbGVtZW50XFxcIj4gICAgPGRpdiBjbGFzcz1cXFwiZHJvcGRvd25faGRcXFwiPiAgICAgICAgPGlucHV0IGNsYXNzPVxcXCJ1LWlucHV0IHUtaW5wdXQtZnVsbFxcXCIgcGxhY2Vob2xkZXI9e3BsYWNlaG9sZGVyfSB2YWx1ZT17ZGF0ZSB8IGZvcm1hdDogXFwneXl5eS1NTS1kZCBISDptbVxcJ30gb24tZm9jdXM9e3RoaXMudG9nZ2xlKHRydWUpfSBvbi1jaGFuZ2U9e3RoaXMuaW5wdXQoJGV2ZW50KX0gcmVmPVxcXCJpbnB1dFxcXCIgZGlzYWJsZWQ9e2Rpc2FibGVkfSB7I2lmIHJlYWRvbmx5fXJlYWRvbmx5PVxcXCJyZWFkb25seVxcXCJ7L2lmfT4gICAgPC9kaXY+ICAgIDxkaXYgY2xhc3M9XFxcImRyb3Bkb3duX2JkXFxcIiByLWhpZGU9eyFvcGVufSByLWFuaW1hdGlvbj1cXFwib246IGVudGVyOyBjbGFzczogYW5pbWF0ZWQgZmFkZUluWSBmYXN0OyBvbjogbGVhdmU7IGNsYXNzOiBhbmltYXRlZCBmYWRlT3V0WSBmYXN0O1xcXCI+ICAgICAgICA8Y2FsZW5kYXIgZGF0ZT17X2RhdGV9PiAgICAgICAgICAgIDx0aW1lUGlja2VyIHRpbWU9e190aW1lfSAvPiAgICAgICAgPC9jYWxlbmRhcj4gICAgPC9kaXY+PC9kaXY+XCIiLCIvKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRGF0ZVRpbWVQaWNrZXIg5pel5pyf6YCJ5oupXG4gKiBAYXV0aG9yICAgc2Vuc2VuKHJhaW5mb3Jlc3Q5MkAxMjYuY29tKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxudmFyIERhdGVQaWNrZXIgPSByZXF1aXJlKCcuL2RhdGVQaWNrZXIuanMnKTtcbnZhciB0ZW1wbGF0ZSA9IHJlcXVpcmUoJy4vZGF0ZVRpbWVQaWNrZXIuaHRtbCcpO1xudmFyIF8gPSByZXF1aXJlKCcuLi9iYXNlL3V0aWwuanMnKTtcbnZhciBUaW1lUGlja2VyID0gcmVxdWlyZSgnLi90aW1lUGlja2VyLmpzJyk7XG5cbnZhciBmaWx0ZXIgPSByZXF1aXJlKCcuLi9iYXNlL2ZpbHRlci5qcycpO1xuXG4vKipcbiAqIEBjbGFzcyBEYXRlVGltZVBpY2tlclxuICogQGV4dGVuZCBEYXRlUGlja2VyXG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgICAgICAgICAgICAgICAgICAgIOe7keWumuWxnuaAp1xuICogQHBhcmFtIHtvYmplY3Q9bnVsbH0gICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmRhdGUgICAgICAgICAgICAgICDlvZPliY3pgInmi6nnmoTml6XmnJ9cbiAqIEBwYXJhbSB7c3RyaW5nPSfor7fovpPlhaUnfSAgICAgICAgIG9wdGlvbnMuZGF0YS5wbGFjZWhvbGRlciAgICAgICAg5paH5pys5qGG6buY6K6k5paH5a2XXG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEucmVhZG9ubHkgICAgICAgICAgIOaYr+WQpuWPquivu1xuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLmRpc2FibGVkICAgICAgICAgICDmmK/lkKbnpoHnlKhcbiAqIEBwYXJhbSB7Ym9vbGVhbj10cnVlfSAgICAgICAgICAgIG9wdGlvbnMuZGF0YS52aXNpYmxlICAgICAgICAgICAg5piv5ZCm5pi+56S6XG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuY2xhc3MgICAgICAgICAgICAgIOihpeWFhWNsYXNzXG4gKi9cbnZhciBEYXRlVGltZVBpY2tlciA9IERhdGVQaWNrZXIuZXh0ZW5kKHtcbiAgICBuYW1lOiAnZGF0ZVRpbWVQaWNrZXInLFxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICBjb25maWc6IGZ1bmN0aW9uKCkgeyAgIFxuICAgICAgICBfLmV4dGVuZCh0aGlzLmRhdGEsIHtcbiAgICAgICAgICAgIC8vIEBpbmhlcml0ZWQgc291cmNlOiBbXSxcbiAgICAgICAgICAgIC8vIEBpbmhlcml0ZWQgb3BlbjogZmFsc2UsXG4gICAgICAgICAgICAvLyBAaW5oZXJpdGVkIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWlJyxcbiAgICAgICAgICAgIGRhdGU6IG51bGwsXG4gICAgICAgICAgICBfZGF0ZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgX3RpbWU6ICcwMDowMCdcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3VwcigpO1xuXG4gICAgICAgIHRoaXMuJHdhdGNoKCdkYXRlJywgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICBpZihuZXdWYWx1ZSAmJiBuZXdWYWx1ZSAhPSAnSW52YWxpZCBEYXRlJyAmJiBuZXdWYWx1ZSAtIG9sZFZhbHVlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLl9kYXRlID0gbmV3IERhdGUobmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5fdGltZSA9IGZpbHRlci5mb3JtYXQobmV3VmFsdWUsICdISDptbScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiR3YXRjaChbJ19kYXRlJywgJ190aW1lJ10sIGZ1bmN0aW9uKF9kYXRlLCBfdGltZSkge1xuICAgICAgICAgICAgaWYoX2RhdGUgJiYgX3RpbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRoaXMuZGF0YS5fZGF0ZSk7XG4gICAgICAgICAgICAgICAgdmFyIHRpbWUgPSB0aGlzLmRhdGEuX3RpbWUuc3BsaXQoJzonKTtcbiAgICAgICAgICAgICAgICBkYXRlLnNldEhvdXJzKHRpbWVbMF0pO1xuICAgICAgICAgICAgICAgIGRhdGUuc2V0TWludXRlcyh0aW1lWzFdKTtcbiAgICAgICAgICAgICAgICBkYXRlLnNldFNlY29uZHMoMCk7XG4gICAgICAgICAgICAgICAgZGF0ZS5zZXRNaWxsaXNlY29uZHMoMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLmRhdGUgPSBkYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGlucHV0OiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgkZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgaWYoZGF0ZSAhPSAnSW52YWxpZCBEYXRlJykge1xuICAgICAgICAgICAgZGF0ZS5zZXRTZWNvbmRzKDApO1xuICAgICAgICAgICAgZGF0ZS5zZXRNaWxsaXNlY29uZHMoMCk7XG4gICAgICAgICAgICB0aGlzLmRhdGEuZGF0ZSA9IGRhdGU7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgJGV2ZW50LnRhcmdldC52YWx1ZSA9IGZpbHRlci5mb3JtYXQodGhpcy5kYXRhLmRhdGUsICd5eXl5LU1NLWRkIEhIOm1tJyk7XG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRGF0ZVRpbWVQaWNrZXI7IiwibW9kdWxlLmV4cG9ydHM9XCI8ZGl2IGNsYXNzPVxcXCJ1LWRyb3Bkb3duIHtAKGNsYXNzKX1cXFwiIHItY2xhc3M9eyB7XFwnei1kaXNcXCc6IGRpc2FibGVkfSB9IHItaGlkZT17IXZpc2libGV9IHJlZj1cXFwiZWxlbWVudFxcXCI+ICAgIDxkaXYgY2xhc3M9XFxcImRyb3Bkb3duX2hkXFxcIiBvbi1jbGljaz17dGhpcy50b2dnbGUoIW9wZW4pfT4gICAgICAgIHsjaWYgdGhpcy4kYm9keX0gICAgICAgICAgICB7I2luYyB0aGlzLiRib2R5fSAgICAgICAgeyNlbHNlfSAgICAgICAgICAgIDxhIGNsYXNzPVxcXCJ1LWJ0blxcXCI+e3RpdGxlIHx8IFxcJ+S4i+aLieiPnOWNlVxcJ30gPGkgY2xhc3M9XFxcInUtaWNvbiB1LWljb24tY2FyZXQtZG93blxcXCI+PC9pPjwvYT4gICAgICAgIHsvaWZ9ICAgIDwvZGl2PiAgICA8ZGl2IGNsYXNzPVxcXCJkcm9wZG93bl9iZFxcXCIgci1oaWRlPXshb3Blbn0gci1hbmltYXRpb249XFxcIm9uOiBlbnRlcjsgY2xhc3M6IGFuaW1hdGVkIGZhZGVJblkgZmFzdDsgb246IGxlYXZlOyBjbGFzczogYW5pbWF0ZWQgZmFkZU91dFkgZmFzdDtcXFwiPiAgICAgICAgPHVsIGNsYXNzPVxcXCJtLWxpc3R2aWV3XFxcIj4gICAgICAgICAgICB7I2xpc3Qgc291cmNlIGFzIGl0ZW19ICAgICAgICAgICAgPGxpIHItY2xhc3M9eyB7XFwnei1kaXNcXCc6IGl0ZW0uZGlzYWJsZWQsIFxcJ2Ryb3Bkb3duX2RpdmlkZXJcXCc6IGl0ZW0uZGl2aWRlcn0gfSBvbi1jbGljaz17dGhpcy5zZWxlY3QoaXRlbSl9PnsjaWYgQChpdGVtVGVtcGxhdGUpfXsjaW5jbHVkZSBAKGl0ZW1UZW1wbGF0ZSl9eyNlbHNlfXtpdGVtLm5hbWV9ey9pZn08L2xpPiAgICAgICAgICAgIHsvbGlzdH0gICAgICAgIDwvdWw+ICAgIDwvZGl2PjwvZGl2PlwiIiwiLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIERyb3Bkb3duICDkuIvmi4noj5zljZVcbiAqIEBhdXRob3IgICBzZW5zZW4ocmFpbmZvcmVzdDkyQDEyNi5jb20pXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG52YXIgU291cmNlQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vYmFzZS9zb3VyY2VDb21wb25lbnQuanMnKTtcbnZhciB0ZW1wbGF0ZSA9IHJlcXVpcmUoJy4vZHJvcGRvd24uaHRtbCcpO1xudmFyIF8gPSByZXF1aXJlKCcuLi9iYXNlL3V0aWwuanMnKTtcblxuLyoqXG4gKiBAY2xhc3MgRHJvcGRvd25cbiAqIEBleHRlbmQgU291cmNlQ29tcG9uZW50XG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgICAgICAgICAgICAgICAgICAgIOe7keWumuWxnuaAp1xuICogQHBhcmFtIHtzdHJpbmc9Jyd9ICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnRpdGxlICAgICAgICAgICAgICDmjInpkq7mloflrZdcbiAqIEBwYXJhbSB7b2JqZWN0W109W119ICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5zb3VyY2UgICAgICAgICAgICAg5pWw5o2u5rqQXG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlW10uaWQgICAgICAgIOavj+mhueeahGlkXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlW10ubmFtZSAgICAgIOavj+mhueeahOWGheWuuVxuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNvdXJjZVtdLmRpc2FibGVkICDnpoHnlKjmraTpoblcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5zb3VyY2VbXS5kaXZpZGVyICAg6K6+572u5q2k6aG55YiG6ZqU57q/XG4gKiBAcGFyYW0ge3N0cmluZz1udWxsfSAgICAgICAgICAgICBvcHRpb25zLmRhdGEuaXRlbVRlbXBsYXRlICAgICAgIOWNlemhueaooeadv1xuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLm9wZW4gICAgICAgICAgICAgICDlvZPliY3kuLrlsZXlvIAv5pS26LW354q25oCBXG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEuZGlzYWJsZWQgICAgICAgICAgIOaYr+WQpuemgeeUqFxuICogQHBhcmFtIHtib29sZWFuPXRydWV9ICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnZpc2libGUgICAgICAgICAgICDmmK/lkKbmmL7npLpcbiAqIEBwYXJhbSB7c3RyaW5nPScnfSAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5jbGFzcyAgICAgICAgICAgICAg6KGl5YWFY2xhc3NcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuc2VydmljZSAgICAgICAgICAgICAgICAg5pWw5o2u5pyN5YqhXG4gKi9cbnZhciBEcm9wZG93biA9IFNvdXJjZUNvbXBvbmVudC5leHRlbmQoe1xuICAgIG5hbWU6ICdkcm9wZG93bicsXG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjb25maWc6IGZ1bmN0aW9uKCkge1xuICAgICAgICBfLmV4dGVuZCh0aGlzLmRhdGEsIHtcbiAgICAgICAgICAgIC8vIEBpbmhlcml0ZWQgc291cmNlOiBbXSxcbiAgICAgICAgICAgIGl0ZW1UZW1wbGF0ZTogbnVsbCxcbiAgICAgICAgICAgIG9wZW46IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN1cHIoKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgc2VsZWN0KGl0ZW0pIOmAieaLqeafkOS4gOmhuVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IGl0ZW0g6YCJ5oup6aG5XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBzZWxlY3Q6IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaWYodGhpcy5kYXRhLmRpc2FibGVkIHx8IGl0ZW0uZGlzYWJsZWQgfHwgaXRlbS5kaXZpZGVyKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIC8vdGhpcy5kYXRhLnNlbGVjdGVkID0gaXRlbTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCBzZWxlY3Qg6YCJ5oup5p+Q5LiA6aG55pe26Kem5Y+RXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBzZWxlY3RlZCDlvZPliY3pgInmi6npoblcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdCcsIHtcbiAgICAgICAgICAgIHNlbGVjdGVkOiBpdGVtXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRvZ2dsZShmYWxzZSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHRvZ2dsZShvcGVuKSDlnKjlsZXlvIAv5pS26LW354q25oCB5LmL6Ze05YiH5o2iXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59IG9wZW4g5bGV5byAL+aUtui1t1xuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgdG9nZ2xlOiBmdW5jdGlvbihvcGVuKSB7XG4gICAgICAgIGlmKHRoaXMuZGF0YS5kaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZGF0YS5vcGVuID0gb3BlbjtcblxuICAgICAgICAvLyDmoLnmja7nirbmgIHlnKhEcm9wZG93bi5vcGVuc+WIl+ihqOS4rea3u+WKoC/liKDpmaTnrqHnkIbpoblcbiAgICAgICAgdmFyIGluZGV4ID0gRHJvcGRvd24ub3BlbnMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgaWYob3BlbiAmJiBpbmRleCA8IDApXG4gICAgICAgICAgICBEcm9wZG93bi5vcGVucy5wdXNoKHRoaXMpO1xuICAgICAgICBlbHNlIGlmKCFvcGVuICYmIGluZGV4ID49IDApXG4gICAgICAgICAgICBEcm9wZG93bi5vcGVucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn0pO1xuXG4vLyDlpITnkIbngrnlh7tkcm9wZG93buS5i+WklueahOWcsOaWueWQjueahOaUtui1t+S6i+S7tuOAglxuRHJvcGRvd24ub3BlbnMgPSBbXTtcblxuXy5kb20ub24oZG9jdW1lbnQuYm9keSwgJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIERyb3Bkb3duLm9wZW5zLmZvckVhY2goZnVuY3Rpb24oZHJvcGRvd24pIHtcbiAgICAgICAgLy8g6L+Z5Liq5Zyw5pa55LiN6IO955Soc3RvcFByb3BhZ2F0aW9u5p2l5aSE55CG77yM5Zug5Li65bGV5byA5LiA5LiqZHJvcGRvd27nmoTlkIzml7bopoHmlLbotbflhbbku5Zkcm9wZG93blxuICAgICAgICB2YXIgZWxlbWVudCA9IGRyb3Bkb3duLiRyZWZzLmVsZW1lbnQ7XG4gICAgICAgIHZhciBlbGVtZW50MiA9IGUudGFyZ2V0O1xuICAgICAgICB3aGlsZShlbGVtZW50Mikge1xuICAgICAgICAgICAgaWYoZWxlbWVudCA9PSBlbGVtZW50MilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBlbGVtZW50MiA9IGVsZW1lbnQyLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZHJvcGRvd24udG9nZ2xlKGZhbHNlKTtcbiAgICAgICAgZHJvcGRvd24uJHVwZGF0ZSgpO1xuICAgIH0pO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRHJvcGRvd247IiwibW9kdWxlLmV4cG9ydHM9XCI8YSBjbGFzcz1cXFwidS1nb3RvcCB1LWdvdG9wLXtwb3NpdGlvbn0ge0AoY2xhc3MpfVxcXCIgb24tY2xpY2s9e3RoaXMuZ290b3AoKX0+PGkgY2xhc3M9XFxcInUtaWNvbiB1LWljb24tYXJyb3ctdXBcXFwiPjwvaT48L2E+XCIiLCIvKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogR290b3AgIOWbnuWIsOmhtumDqFxuICogQGF1dGhvciAgIHNlbnNlbihyYWluZm9yZXN0OTJAMTI2LmNvbSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIENvbXBvbmVudCA9IHJlcXVpcmUoJy4uL2Jhc2UvY29tcG9uZW50LmpzJyk7XG52YXIgdGVtcGxhdGUgPSByZXF1aXJlKCcuL2dvdG9wLmh0bWwnKTtcbnZhciBfID0gcmVxdWlyZSgnLi4vYmFzZS91dGlsLmpzJyk7XG5cbi8qKlxuICogQGNsYXNzIEdvdG9wXG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgICAgICAgICAgICAgICAgICAgIOe7keWumuWxnuaAp1xuICogQHBhcmFtIHtzdHJpbmc9J2JvdHRvbXJpZ2h0J30gICAgb3B0aW9ucy5kYXRhLnBvc2l0aW9uICAgICAgICAgICDnu4Tku7bnmoTkvY3nva7vvIzlj6/pgInlj4LmlbDvvJpgdG9wY2VudGVyYOOAgWB0b3BsZWZ0YOOAgWB0b3ByaWdodGDjgIFgYm90dG9tY2VudGVyYOOAgWBib3R0b21sZWZ0YOOAgWBib3R0b21yaWdodGDjgIFgc3RhdGljYFxuICogQHBhcmFtIHtib29sZWFuPXRydWV9ICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnZpc2libGUgICAgICAgICAgICDmmK/lkKbmmL7npLpcbiAqIEBwYXJhbSB7c3RyaW5nPScnfSAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5jbGFzcyAgICAgICAgICAgICAg6KGl5YWFY2xhc3NcbiAqL1xudmFyIEdvdG9wID0gQ29tcG9uZW50LmV4dGVuZCh7XG4gICAgbmFtZTogJ2dvdG9wJyxcbiAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGNvbmZpZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIF8uZXh0ZW5kKHRoaXMuZGF0YSwge1xuICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b21yaWdodCdcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3VwcigpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBnb3RvcCgpIOWbnuWIsOmhtumDqFxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGdvdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYodGhpcy5kYXRhLnJlYWRvbmx5IHx8IHRoaXMuZGF0YS5kaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IDA7XG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gR290b3A7IiwibW9kdWxlLmV4cG9ydHM9XCI8bGFiZWwgY2xhc3M9XFxcInUtaW5wdXQyIHtAKGNsYXNzKX1cXFwiIHItaGlkZT17IXZpc2libGV9PiAgICA8aW5wdXQgY2xhc3M9XFxcInUtaW5wdXQgdS1pbnB1dC17dHlwZX1cXFwiIHItbW9kZWw9e3ZhbHVlfSBwbGFjZWhvbGRlcj17cGxhY2Vob2xkZXJ9IGRpc2FibGVkPXtkaXNhYmxlZH0gcmVhZG9ubHk9e3JlYWRvbmx5fSBvbi1rZXl1cD17dGhpcy52YWxpZGF0ZSh2YWx1ZSwgcnVsZXMpfT48L2xhYmVsPnsjaWYgdGlwfTxzcGFuIGNsYXNzPVxcXCJ1LXRpcCB1LXRpcC17dHlwZX1cXFwiPnt0aXB9PC9zcGFuPnsvaWZ9XCIiLCIvKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogSW5wdXQyICAg6L6T5YWl5omp5bGVXG4gKiBAYXV0aG9yICAgc2Vuc2VuKHJhaW5mb3Jlc3Q5MkAxMjYuY29tKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxudmFyIENvbXBvbmVudCA9IHJlcXVpcmUoJy4uL2Jhc2UvY29tcG9uZW50LmpzJyk7XG52YXIgdGVtcGxhdGUgPSByZXF1aXJlKCcuL2lucHV0Mi5odG1sJyk7XG52YXIgXyA9IHJlcXVpcmUoJy4uL2Jhc2UvdXRpbC5qcycpO1xudmFyIHZhbGlkYXRvciA9IHJlcXVpcmUoJy4uL2Jhc2UvdmFsaWRhdG9yLmpzJyk7XG5cbi8qKlxuICogQGNsYXNzIElucHV0MlxuICogQGV4dGVuZCBDb21wb25lbnRcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSAgICAgICAgICAgICAgICAgICAg57uR5a6a5bGe5oCnXG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEudmFsdWUgICAgICAgICAgICAgIOi+k+WFpeahhueahOWAvFxuICogQHBhcmFtIHtzdHJpbmc9Jyd9ICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnR5cGUgICAgICAgICAgICAgICDovpPlhaXmoYbnmoTnsbvlnotcbiAqIEBwYXJhbSB7c3RyaW5nPScnfSAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5wbGFjZWhvbGRlciAgICAgICAg5Y2g5L2N56ymXG4gKiBAcGFyYW0ge29iamVjdFtdPVtdfSAgICAgICAgICAgICBvcHRpb25zLmRhdGEucnVsZXMgICAgICAgICAgICAgIOmqjOivgeinhOWImVxuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLnJlYWRvbmx5ICAgICAgICAgICDmmK/lkKblj6ror7tcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5kaXNhYmxlZCAgICAgICAgICAg5piv5ZCm56aB55SoXG4gKiBAcGFyYW0ge2Jvb2xlYW49dHJ1ZX0gICAgICAgICAgICBvcHRpb25zLmRhdGEudmlzaWJsZSAgICAgICAgICAgIOaYr+WQpuaYvuekulxuICogQHBhcmFtIHtzdHJpbmc9Jyd9ICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmNsYXNzICAgICAgICAgICAgICDooaXlhYVjbGFzc1xuICovXG52YXIgSW5wdXQyID0gQ29tcG9uZW50LmV4dGVuZCh7XG4gICAgbmFtZTogJ2lucHV0MicsXG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjb25maWc6IGZ1bmN0aW9uKCkge1xuICAgICAgICBfLmV4dGVuZCh0aGlzLmRhdGEsIHtcbiAgICAgICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgICAgIHR5cGU6ICcnLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICcnLFxuICAgICAgICAgICAgcnVsZXM6IFtdXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN1cHIoKTtcbiAgICB9LFxuICAgIHZhbGlkYXRlOiBmdW5jdGlvbih2YWx1ZSwgcnVsZXMpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHZhbGlkYXRvci52YWxpZGF0ZSh2YWx1ZSwgcnVsZXMpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5kYXRhLnR5cGUgPSByZXN1bHQuc3VjY2VzcyA/ICdzdWNjZXNzJyA6ICdlcnJvcic7XG4gICAgICAgIHRoaXMuZGF0YS50aXAgPSByZXN1bHQubWVzc2FnZTtcbiAgICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbnB1dDI7IiwibW9kdWxlLmV4cG9ydHM9XCI8ZGl2IGNsYXNzPVxcXCJ1LWRyb3Bkb3duIHUtZHJvcGRvd24tbWVudSB7QChjbGFzcyl9XFxcIiByLWNsYXNzPXsge1xcJ3otZGlzXFwnOiBkaXNhYmxlZH0gfSByLWhpZGU9eyF2aXNpYmxlfSByZWY9XFxcImVsZW1lbnRcXFwiPiAgICA8ZGl2IGNsYXNzPVxcXCJkcm9wZG93bl9oZFxcXCIgb24tY2xpY2s9e3RoaXMudG9nZ2xlKCFvcGVuKX0+ICAgICAgICB7I2lmIHRoaXMuJGJvZHl9ICAgICAgICAgICAgeyNpbmMgdGhpcy4kYm9keX0gICAgICAgIHsjZWxzZX0gICAgICAgICAgICA8YSBjbGFzcz1cXFwidS1idG5cXFwiPnt0aXRsZSB8fCBcXCflpJrnuqfoj5zljZVcXCd9IDxpIGNsYXNzPVxcXCJ1LWljb24gdS1pY29uLWNhcmV0LWRvd25cXFwiPjwvaT48L2E+ICAgICAgICB7L2lmfSAgICA8L2Rpdj4gICAgPGRpdiBjbGFzcz1cXFwiZHJvcGRvd25fYmRcXFwiIHItaGlkZT17IW9wZW59IHItYW5pbWF0aW9uPVxcXCJvbjogZW50ZXI7IGNsYXNzOiBhbmltYXRlZCBmYWRlSW5ZIGZhc3Q7IG9uOiBsZWF2ZTsgY2xhc3M6IGFuaW1hdGVkIGZhZGVPdXRZIGZhc3Q7XFxcIj4gICAgICAgIDxtZW51TGlzdCBzb3VyY2U9e3NvdXJjZX0gdmlzaWJsZT17dHJ1ZX0gLz4gICAgPC9kaXY+PC9kaXY+XCIiLCIvKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogTWVudSAgICAgIOWkmue6p+iPnOWNlVxuICogQGF1dGhvciAgIHNlbnNlbihyYWluZm9yZXN0OTJAMTI2LmNvbSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbnZhciBEcm9wZG93biA9IHJlcXVpcmUoJy4vZHJvcGRvd24uanMnKTtcbnZhciBTb3VyY2VDb21wb25lbnQgPSByZXF1aXJlKCcuLi9iYXNlL3NvdXJjZUNvbXBvbmVudC5qcycpO1xudmFyIHRlbXBsYXRlID0gcmVxdWlyZSgnLi9tZW51Lmh0bWwnKTtcbnZhciBoaWVyYXJjaGljYWxUZW1wbGF0ZSA9IHJlcXVpcmUoJy4vbWVudUxpc3QuaHRtbCcpO1xudmFyIF8gPSByZXF1aXJlKCcuLi9iYXNlL3V0aWwuanMnKTtcblxuLyoqXG4gKiBAY2xhc3MgIE1lbnVcbiAqIEBleHRlbmQgRHJvcGRvd25cbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSAgICAgICAgICAgICAgICAgICAg57uR5a6a5bGe5oCnXG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEudGl0bGUgICAgICAgICAgICAgIOaMiemSruaWh+Wtl1xuICogQHBhcmFtIHtvYmplY3RbXT1bXX0gICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNvdXJjZSAgICAgICAgICAgICDmlbDmja7mupBcbiAqIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5zb3VyY2VbXS5pZCAgICAgICAg5q+P6aG555qEaWRcbiAqIEBwYXJhbSB7c3RyaW5nfSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5zb3VyY2VbXS5uYW1lICAgICAg5q+P6aG555qE5YaF5a65XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlW10uZGlzYWJsZWQgIOemgeeUqOatpOmhuVxuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNvdXJjZVtdLmRpdmlkZXIgICDorr7nva7mraTpobnliIbpmpTnur9cbiAqIEBwYXJhbSB7c3RyaW5nPW51bGx9ICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5pdGVtVGVtcGxhdGUgICAgICAg5Y2V6aG55qih5p2/XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEub3BlbiAgICAgICAgICAgICAgIOW9k+WJjeS4uuWxleW8gC/mlLbotbfnirbmgIFcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5kaXNhYmxlZCAgICAgICAgICAg5piv5ZCm56aB55SoXG4gKiBAcGFyYW0ge2Jvb2xlYW49dHJ1ZX0gICAgICAgICAgICBvcHRpb25zLmRhdGEudmlzaWJsZSAgICAgICAgICAgIOaYr+WQpuaYvuekulxuICogQHBhcmFtIHtzdHJpbmc9Jyd9ICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmNsYXNzICAgICAgICAgICAgICDooaXlhYVjbGFzc1xuICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zZXJ2aWNlICAgICAgICAgICAgICAgICDmlbDmja7mnI3liqFcbiAqL1xudmFyIE1lbnUgPSBEcm9wZG93bi5leHRlbmQoe1xuICAgIG5hbWU6ICdtZW51JyxcbiAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGNvbmZpZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIF8uZXh0ZW5kKHRoaXMuZGF0YSwge1xuICAgICAgICAgICAgLy8gQGluaGVyaXRlZCBzb3VyY2U6IFtdLFxuICAgICAgICAgICAgb3BlbjogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3VwcigpO1xuXG4gICAgICAgIHRoaXMuJGFuY2VzdG9yID0gdGhpcztcbiAgICB9XG59KTtcblxudmFyIE1lbnVMaXN0ID0gU291cmNlQ29tcG9uZW50LmV4dGVuZCh7XG4gICAgbmFtZTogJ21lbnVMaXN0JyxcbiAgICB0ZW1wbGF0ZTogaGllcmFyY2hpY2FsVGVtcGxhdGUsXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGNvbmZpZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIF8uZXh0ZW5kKHRoaXMuZGF0YSwge1xuICAgICAgICAgICAgLy8gQGluaGVyaXRlZCBzb3VyY2U6IFtdLFxuICAgICAgICAgICAgaXRlbVRlbXBsYXRlOiBudWxsLFxuICAgICAgICAgICAgLy8gdmlzaWJsZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3VwcigpO1xuXG4gICAgICAgIHRoaXMuJGFuY2VzdG9yID0gdGhpcy4kcGFyZW50LiRhbmNlc3RvcjtcbiAgICAgICAgdGhpcy5zZXJ2aWNlID0gdGhpcy4kYW5jZXN0b3Iuc2VydmljZTtcbiAgICAgICAgdGhpcy5kYXRhLml0ZW1UZW1wbGF0ZSA9IHRoaXMuJGFuY2VzdG9yLmRhdGEuaXRlbVRlbXBsYXRlO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBzZWxlY3QoaXRlbSkg6YCJ5oup5p+Q5LiA6aG5XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IGl0ZW0g6YCJ5oup6aG5XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBzZWxlY3Q6IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaWYodGhpcy4kYW5jZXN0b3IuZGF0YS5kaXNhYmxlZCB8fCBpdGVtLmRpc2FibGVkIHx8IGl0ZW0uZGl2aWRlcilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLiRhbmNlc3Rvci5zZWxlY3QoaXRlbSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIHRvZ2dsZShpdGVtKSDlsZXlvIDmiJbmlLbotbfmn5DkuIDpoblcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge29iamVjdH0gaXRlbSDlsZXlvIDmlLbotbfpoblcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHRvZ2dsZTogZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZih0aGlzLiRhbmNlc3Rvci5kYXRhLmRpc2FibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGl0ZW0ub3BlbiA9ICFpdGVtLm9wZW47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCB0b2dnbGUg5bGV5byA5oiW5pS26LW35p+Q5LiA6aG55pe26Kem5Y+RXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBpdGVtIOWxleW8gOaUtui1t+mhuVxuICAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IG9wZW4g5bGV5byA6L+Y5piv5pS26LW3XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLiRhbmNlc3Rvci4kZW1pdCgndG9nZ2xlJywge1xuICAgICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICAgIG9wZW46IGl0ZW0ub3BlblxuICAgICAgICB9KTtcbiAgICB9XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1lbnU7IiwibW9kdWxlLmV4cG9ydHM9XCI8dWwgY2xhc3M9XFxcIm0tbGlzdHZpZXcgbWVudV9saXN0XFxcIiByLWhpZGU9eyF2aXNpYmxlfT4gICAgeyNsaXN0IHNvdXJjZSBhcyBpdGVtfSAgICA8bGkgci1jbGFzcz17IHtcXCd6LWRpc1xcJzogaXRlbS5kaXNhYmxlZCwgXFwnZHJvcGRvd25fZGl2aWRlclxcJzogaXRlbS5kaXZpZGVyfSB9PiAgICAgICAgPGRpdiBjbGFzcz1cXFwibWVudV9pdGVtXFxcIj4gICAgICAgICAgICB7I2lmIGl0ZW0uY2hpbGRyZW5Db3VudCB8fCAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCl9ICAgICAgICAgICAgPGkgY2xhc3M9XFxcInUtaWNvbiB1LWljb24tY2FyZXQtcmlnaHRcXFwiPjwvaT4gICAgICAgICAgICB7L2lmfSAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1lbnVfaXRlbW5hbWVcXFwiIHRpdGxlPXtpdGVtLm5hbWV9IG9uLWNsaWNrPXt0aGlzLnNlbGVjdChpdGVtKX0+eyNpZiBAKGl0ZW1UZW1wbGF0ZSl9eyNpbmNsdWRlIEAoaXRlbVRlbXBsYXRlKX17I2Vsc2V9e2l0ZW0ubmFtZX17L2lmfTwvZGl2PiAgICAgICAgPC9kaXY+ICAgICAgICB7I2lmIGl0ZW0uY2hpbGRyZW5Db3VudCB8fCAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCl9PG1lbnVMaXN0IHNvdXJjZT17aXRlbS5jaGlsZHJlbn0gdmlzaWJsZT17aXRlbS5vcGVufSBwYXJlbnQ9e2l0ZW19IC8+ey9pZn0gICAgPC9saT4gICAgey9saXN0fTwvdWw+XCIiLCJtb2R1bGUuZXhwb3J0cz1cIjxsYWJlbCBjbGFzcz1cXFwidS1pbnB1dDIgdS1pbnB1dDItbnVtYmVyaW5wdXQge0AoY2xhc3MpfVxcXCIgci1oaWRlPXshdmlzaWJsZX0+ICAgIDxpbnB1dCBjbGFzcz1cXFwidS1pbnB1dCB1LWlucHV0LXt0eXBlfVxcXCIgci1tb2RlbD17dmFsdWUgfCBudW1iZXJ9IHBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlcn0gZGlzYWJsZWQ9e2Rpc2FibGVkfSByZWFkb25seT17cmVhZG9ubHl9PiAgICA8YSBjbGFzcz1cXFwidS1idG5cXFwiIHItY2xhc3M9eyB7XFwnei1kaXNcXCc6IGRpc2FibGVkfSB9IG9uLWNsaWNrPXt0aGlzLmluY3JlYXNlKCl9PjxpIGNsYXNzPVxcXCJ1LWljb24gdS1pY29uLWNhcmV0LXVwXFxcIj48L2k+PC9hPiAgICA8YSBjbGFzcz1cXFwidS1idG5cXFwiIHItY2xhc3M9eyB7XFwnei1kaXNcXCc6IGRpc2FibGVkfSB9IG9uLWNsaWNrPXt0aGlzLmRlY3JlYXNlKCl9PjxpIGNsYXNzPVxcXCJ1LWljb24gdS1pY29uLWNhcmV0LWRvd25cXFwiPjwvaT48L2E+PC9sYWJlbD57I2lmIHRpcH08c3BhbiBjbGFzcz1cXFwidS10aXAgdS10aXAte3R5cGV9XFxcIj57dGlwfTwvc3Bhbj57L2lmfVwiIiwiLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIE51bWJlcklucHV0IOi+k+WFpeaJqeWxlVxuICogQGF1dGhvciAgIHNlbnNlbihyYWluZm9yZXN0OTJAMTI2LmNvbSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbnZhciBJbnB1dDIgPSByZXF1aXJlKCcuL2lucHV0Mi5qcycpO1xudmFyIHRlbXBsYXRlID0gcmVxdWlyZSgnLi9udW1iZXJJbnB1dC5odG1sJyk7XG52YXIgXyA9IHJlcXVpcmUoJy4uL2Jhc2UvdXRpbC5qcycpO1xuXG4vKipcbiAqIEBjbGFzcyBOdW1iZXJJbnB1dFxuICogQGV4dGVuZCBJbnB1dDJcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSAgICAgICAgICAgICAgICAgICAg57uR5a6a5bGe5oCnXG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEudmFsdWUgICAgICAgICAgICAgIOi+k+WFpeahhueahOWAvFxuICogQHBhcmFtIHtzdHJpbmc9Jyd9ICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnR5cGUgICAgICAgICAgICAgICDovpPlhaXmoYbnmoTnsbvlnotcbiAqIEBwYXJhbSB7c3RyaW5nPScnfSAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5wbGFjZWhvbGRlciAgICAgICAg5Y2g5L2N56ymXG4gKiBAcGFyYW0ge251bWJlcj1udWxsfSAgICAgICAgICAgICBvcHRpb25zLmRhdGEubWluICAgICAgICAgICAgICAgIOacgOWwj+WAvFxuICogQHBhcmFtIHtudW1iZXI9bnVsbH0gICAgICAgICAgICAgb3B0aW9ucy5kYXRhLm1heCAgICAgICAgICAgICAgICDmnIDlpKflgLxcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5yZWFkb25seSAgICAgICAgICAg5piv5ZCm5Y+q6K+7XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEuZGlzYWJsZWQgICAgICAgICAgIOaYr+WQpuemgeeUqFxuICogQHBhcmFtIHtib29sZWFuPXRydWV9ICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnZpc2libGUgICAgICAgICAgICDmmK/lkKbmmL7npLpcbiAqIEBwYXJhbSB7c3RyaW5nPScnfSAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5jbGFzcyAgICAgICAgICAgICAg6KGl5YWFY2xhc3NcbiAqL1xudmFyIE51bWJlcklucHV0ID0gSW5wdXQyLmV4dGVuZCh7XG4gICAgbmFtZTogJ251bWJlcklucHV0JyxcbiAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGNvbmZpZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIF8uZXh0ZW5kKHRoaXMuZGF0YSwge1xuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICAvLyBAaW5oZXJpdGVkIHR5cGU6ICcnLFxuICAgICAgICAgICAgLy8gQGluaGVyaXRlZCBwbGFjZWhvbGRlcjogJycsXG4gICAgICAgICAgICBtaW46IG51bGwsXG4gICAgICAgICAgICBtYXg6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3VwcigpO1xuXG4gICAgICAgIHRoaXMuJHdhdGNoKCd2YWx1ZScsIGZ1bmN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgaWYodGhpcy5kYXRhLm1heCAhPT0gbnVsbCAmJiB0aGlzLmRhdGEudmFsdWUgPiB0aGlzLmRhdGEubWF4KVxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS52YWx1ZSA9IHRoaXMuZGF0YS5tYXg7XG4gICAgICAgICAgICBpZih0aGlzLmRhdGEubWluICE9PSBudWxsICYmIHRoaXMuZGF0YS52YWx1ZSA8IHRoaXMuZGF0YS5taW4pXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnZhbHVlID0gdGhpcy5kYXRhLm1pbjtcblxuICAgICAgICAgICAgaWYobmV3VmFsdWUgIT0gb2xkVmFsdWUpXG4gICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmV3VmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBpbmNyZWFzZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKHRoaXMuZGF0YS5yZWFkb25seSB8fCB0aGlzLmRhdGEuZGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy5kYXRhLnZhbHVlKys7XG4gICAgfSxcbiAgICBkZWNyZWFzZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKHRoaXMuZGF0YS5yZWFkb25seSB8fCB0aGlzLmRhdGEuZGlzYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy5kYXRhLnZhbHVlLS07XG4gICAgfVxufSkuZmlsdGVyKHtcbiAgICBudW1iZXI6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgdmFsdWUgPSAnJyArICh2YWx1ZSB8fCAwKTtcbiAgICAgICAgICAgIGlmKHRoaXMuZGF0YS5mb3JtYXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5mb3JtYXQucmVwbGFjZShuZXcgUmVnRXhwKCdcXFxcZHswLCcgKyB2YWx1ZS5sZW5ndGggKyAnfSQnKSwgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gK3ZhbHVlIHx8IDA7XG4gICAgICAgICAgICAvLyByZXR1cm4gKyh2YWx1ZS5yZXBsYWNlKC9bXlxcZFxcLlxcLV0vZywgJycpKSB8fCAwO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gTnVtYmVySW5wdXQ7IiwibW9kdWxlLmV4cG9ydHM9XCI8ZGl2IGNsYXNzPVxcXCJ1LXByb2dyZXNzIHUtcHJvZ3Jlc3Mte0Aoc2l6ZSl9IHUtcHJvZ3Jlc3Mte0AodHlwZSl9IHtAKGNsYXNzKX1cXFwiIHItY2xhc3M9eyB7XFwndS1wcm9ncmVzcy1zdHJpcGVkXFwnOiBzdHJpcGVkLCBcXCd6LWFjdFxcJzogYWN0aXZlfSB9IHItaGlkZT17IXZpc2libGV9PiAgICA8ZGl2IGNsYXNzPVxcXCJwcm9ncmVzc19iYXJcXFwiIHN0eWxlPVxcXCJ3aWR0aDoge3BlcmNlbnR9JTtcXFwiPnt0ZXh0ID8gKHRleHQgPT09IHRydWUgPyBwZXJjZW50ICsgXFwnJVxcJyA6IHRleHQpIDogXFwnXFwnfTwvZGl2PjwvZGl2PlwiIiwiLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFByb2dyZXNzICDov5vluqbmnaFcbiAqIEBhdXRob3IgICBzZW5zZW4ocmFpbmZvcmVzdDkyQDEyNi5jb20pXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBDb21wb25lbnQgPSByZXF1aXJlKCcuLi9iYXNlL2NvbXBvbmVudC5qcycpO1xudmFyIHRlbXBsYXRlID0gcmVxdWlyZSgnLi9wcm9ncmVzcy5odG1sJyk7XG52YXIgXyA9IHJlcXVpcmUoJy4uL2Jhc2UvdXRpbC5qcycpO1xuXG4vKipcbiAqIEBjbGFzcyBQcm9ncmVzc1xuICogQGV4dGVuZCBDb21wb25lbnRcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSAgICAgICAgICAgICAgICAgICAg57uR5a6a5bGe5oCnXG4gKiBAcGFyYW0ge251bWJlcj0zNn0gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEucGVyY2VudCAgICAgICAgICAgIOeZvuWIhuavlFxuICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbj10cnVlfSAgICAgb3B0aW9ucy5kYXRhLnRleHQgICAgICAgICAgICAgICDlnKjov5vluqbmnaHkuK3mmK/lkKbmmL7npLrnmb7liIbmr5TjgILlgLzkuLpgc3RyaW5nYOaXtuaYvuekuuivpeauteaWh+Wtl+OAglxuICogQHBhcmFtIHtzdHJpbmc9bnVsbH0gICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNpemUgICAgICAgICAgICAgICDov5vluqbmnaHnmoTlsLrlr7hcbiAqIEBwYXJhbSB7c3RyaW5nPW51bGx9ICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS50eXBlICAgICAgICAgICAgICAg6L+b5bqm5p2h55qE57G75Z6L77yM5pS55Y+Y5pi+56S66aKc6ImyXG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEuc3RyaXBlZCAgICAgICAgICAgIOaYr+WQpuaYvuekuuadoee6uVxuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLmFjdGl2ZSAgICAgICAgICAgICDov5vluqbmnaHmmK/lkKbkuLrmv4DmtLvnirbmgIHvvIzlvZNgc3RyaXBlZGDkuLpgdHJ1ZWDml7bvvIzov5vluqbmnaHmmL7npLrliqjnlLtcbiAqIEBwYXJhbSB7Ym9vbGVhbj10cnVlfSAgICAgICAgICAgIG9wdGlvbnMuZGF0YS52aXNpYmxlICAgICAgICAgICAg5piv5ZCm5pi+56S6XG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuY2xhc3MgICAgICAgICAgICAgIOihpeWFhWNsYXNzXG4gKi9cbnZhciBQcm9ncmVzcyA9IENvbXBvbmVudC5leHRlbmQoe1xuICAgIG5hbWU6ICdwcm9ncmVzcycsXG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjb25maWc6IGZ1bmN0aW9uKCkge1xuICAgICAgICBfLmV4dGVuZCh0aGlzLmRhdGEsIHtcbiAgICAgICAgICAgIHBlcmNlbnQ6IDM2LFxuICAgICAgICAgICAgdGV4dDogdHJ1ZSxcbiAgICAgICAgICAgIHNpemU6IG51bGwsXG4gICAgICAgICAgICB0eXBlOiBudWxsLFxuICAgICAgICAgICAgc3RyaXBlZDogZmFsc2UsXG4gICAgICAgICAgICBhY3RpdmU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN1cHIoKTtcbiAgICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBQcm9ncmVzczsiLCJtb2R1bGUuZXhwb3J0cz1cIjxkaXYgY2xhc3M9XFxcInUtdW5pdGdyb3VwIHtAKGNsYXNzKX1cXFwiIHItaGlkZT17IXZpc2libGV9PiAgICB7I2xpc3Qgc291cmNlIGFzIGl0ZW19ICAgIDxsYWJlbCBjbGFzcz1cXFwidS1yYWRpbzJcXFwiIHItY2xhc3M9eyB7XFwnei1kaXNcXCc6IGRpc2FibGVkLCBcXCd6LXNlbFxcJzogaXRlbSA9PT0gc2VsZWN0ZWQsIFxcJ3UtcmFkaW8yLWJsb2NrXFwnOiBibG9ja30gfSB0aXRsZT17aXRlbS5uYW1lfSBvbi1jbGljaz17dGhpcy5zZWxlY3QoaXRlbSl9PjxkaXYgY2xhc3M9XFxcInJhZGlvMl9ib3hcXFwiPjxpIGNsYXNzPVxcXCJ1LWljb24gdS1pY29uLXJhZGlvXFxcIj48L2k+PC9kaXY+IHtpdGVtLm5hbWV9PC9sYWJlbD4gICAgey9saXN0fTwvZGl2PlwiIiwiLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFJhZGlvMkdyb3VwIOi+k+WFpeaJqeWxlVxuICogQGF1dGhvciAgIHNlbnNlbihyYWluZm9yZXN0OTJAMTI2LmNvbSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJhZGlvR3JvdXAgPSByZXF1aXJlKCcuL3JhZGlvR3JvdXAuanMnKTtcbnZhciB0ZW1wbGF0ZSA9IHJlcXVpcmUoJy4vcmFkaW8yR3JvdXAuaHRtbCcpO1xudmFyIF8gPSByZXF1aXJlKCcuLi9iYXNlL3V0aWwuanMnKTtcblxuLyoqXG4gKiBAY2xhc3MgUmFkaW8yR3JvdXBcbiAqIEBleHRlbmQgUmFkaW9Hcm91cFxuICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhICAgICAgICAgICAgICAgICAgICDnu5HlrprlsZ7mgKdcbiAqIEBwYXJhbSB7b2JqZWN0W109W119ICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5zb3VyY2UgICAgICAgICAgICAg5pWw5o2u5rqQXG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlW10uaWQgICAgICAgIOavj+mhueeahGlkXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlW10ubmFtZSAgICAgIOavj+mhueeahOWGheWuuVxuICogQHBhcmFtIHtvYmplY3Q9bnVsbH0gICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNlbGVjZWQgICAgICAgICAgICDlvZPliY3pgInmi6npoblcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5ibG9jayAgICAgICAgICAgICAg5aSa6KGM5pi+56S6XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEucmVhZG9ubHkgICAgICAgICAgIOaYr+WQpuWPquivu1xuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLmRpc2FibGVkICAgICAgICAgICDmmK/lkKbnpoHnlKhcbiAqIEBwYXJhbSB7Ym9vbGVhbj10cnVlfSAgICAgICAgICAgIG9wdGlvbnMuZGF0YS52aXNpYmxlICAgICAgICAgICAg5piv5ZCm5pi+56S6XG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuY2xhc3MgICAgICAgICAgICAgIOihpeWFhWNsYXNzXG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLnNlcnZpY2UgICAgICAgICAgICAgICAgIOaVsOaNruacjeWKoVxuICovXG52YXIgUmFkaW8yR3JvdXAgPSBSYWRpb0dyb3VwLmV4dGVuZCh7XG4gICAgbmFtZTogJ3JhZGlvMkdyb3VwJyxcbiAgICB0ZW1wbGF0ZTogdGVtcGxhdGVcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJhZGlvMkdyb3VwOyIsIm1vZHVsZS5leHBvcnRzPVwiPGRpdiBjbGFzcz1cXFwidS11bml0Z3JvdXAge0AoY2xhc3MpfVxcXCIgci1oaWRlPXshdmlzaWJsZX0+ICAgIHsjbGlzdCBzb3VyY2UgYXMgaXRlbX0gICAgPGxhYmVsIGNsYXNzPVxcXCJ1LXJhZGlvMlxcXCIgci1jbGFzcz17IHtcXCd6LWRpc1xcJzogZGlzYWJsZWQsIFxcJ3UtcmFkaW8yLWJsb2NrXFwnOiBibG9ja30gfSB0aXRsZT17aXRlbS5uYW1lfSBvbi1jbGljaz17dGhpcy5zZWxlY3QoaXRlbSl9PjxpbnB1dCB0eXBlPVxcXCJyYWRpb1xcXCIgY2xhc3M9XFxcInUtcmFkaW9cXFwiIG5hbWU9e19yYWRpb0dyb3VwSWR9IGRpc2FibGVkPXtkaXNhYmxlZH0+IHtpdGVtLm5hbWV9PC9sYWJlbD4gICAgey9saXN0fTwvZGl2PlwiIiwiLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFJhZGlvR3JvdXAg5Y2V6YCJ57uEXG4gKiBAYXV0aG9yICAgc2Vuc2VuKHJhaW5mb3Jlc3Q5MkAxMjYuY29tKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgU291cmNlQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vYmFzZS9zb3VyY2VDb21wb25lbnQuanMnKTtcbnZhciB0ZW1wbGF0ZSA9IHJlcXVpcmUoJy4vcmFkaW9Hcm91cC5odG1sJyk7XG52YXIgXyA9IHJlcXVpcmUoJy4uL2Jhc2UvdXRpbC5qcycpO1xuXG4vKipcbiAqIEBjbGFzcyBSYWRpb0dyb3VwXG4gKiBAZXh0ZW5kIFNvdXJjZUNvbXBvbmVudFxuICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhICAgICAgICAgICAgICAgICAgICDnu5HlrprlsZ7mgKdcbiAqIEBwYXJhbSB7b2JqZWN0W109W119ICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5zb3VyY2UgICAgICAgICAgICAg5pWw5o2u5rqQXG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlW10uaWQgICAgICAgIOavj+mhueeahGlkXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlW10ubmFtZSAgICAgIOavj+mhueeahOWGheWuuVxuICogQHBhcmFtIHtvYmplY3Q9bnVsbH0gICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNlbGVjZWQgICAgICAgICAgICDlvZPliY3pgInmi6npoblcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5ibG9jayAgICAgICAgICAgICAg5aSa6KGM5pi+56S6XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEucmVhZG9ubHkgICAgICAgICAgIOaYr+WQpuWPquivu1xuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLmRpc2FibGVkICAgICAgICAgICDmmK/lkKbnpoHnlKhcbiAqIEBwYXJhbSB7Ym9vbGVhbj10cnVlfSAgICAgICAgICAgIG9wdGlvbnMuZGF0YS52aXNpYmxlICAgICAgICAgICAg5piv5ZCm5pi+56S6XG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuY2xhc3MgICAgICAgICAgICAgIOihpeWFhWNsYXNzXG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLnNlcnZpY2UgICAgICAgICAgICAgICAgIOaVsOaNruacjeWKoVxuICovXG52YXIgUmFkaW9Hcm91cCA9IFNvdXJjZUNvbXBvbmVudC5leHRlbmQoe1xuICAgIG5hbWU6ICdyYWRpb0dyb3VwJyxcbiAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGNvbmZpZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIF8uZXh0ZW5kKHRoaXMuZGF0YSwge1xuICAgICAgICAgICAgLy8gQGluaGVyaXRlZCBzb3VyY2U6IFtdLFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IG51bGwsXG4gICAgICAgICAgICBfcmFkaW9Hcm91cElkOiBuZXcgRGF0ZSgpXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN1cHIoKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgc2VsZWN0KGl0ZW0pIOmAieaLqeafkOS4gOmhuVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IGl0ZW0g6YCJ5oup6aG5XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBzZWxlY3Q6IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaWYodGhpcy5kYXRhLnJlYWRvbmx5IHx8IHRoaXMuZGF0YS5kaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLmRhdGEuc2VsZWN0ZWQgPSBpdGVtO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGV2ZW50IHNlbGVjdCDpgInmi6nmn5DkuIDpobnml7bop6blj5FcbiAgICAgICAgICogQHByb3BlcnR5IHtvYmplY3R9IHNlbGVjdGVkIOW9k+WJjemAieaLqemhuVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kZW1pdCgnc2VsZWN0Jywge1xuICAgICAgICAgICAgc2VsZWN0ZWQ6IGl0ZW1cbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmFkaW9Hcm91cDsiLCJtb2R1bGUuZXhwb3J0cz1cIjxkaXYgY2xhc3M9XFxcInUtZHJvcGRvd24gdS1kcm9wZG93bi1zZWxlY3QyIHtAKGNsYXNzKX1cXFwiIHItY2xhc3M9eyB7XFwnei1kaXNcXCc6IGRpc2FibGVkfSB9IHItaGlkZT17IXZpc2libGV9IHJlZj1cXFwiZWxlbWVudFxcXCI+ICAgIDxkaXYgY2xhc3M9XFxcImRyb3Bkb3duX2hkXFxcIiBvbi1jbGljaz17dGhpcy50b2dnbGUoIW9wZW4pfT4gICAgICAgIDxzcGFuPntzZWxlY3RlZCA/IHNlbGVjdGVkLm5hbWUgOiBwbGFjZWhvbGRlcn08L3NwYW4+ICAgICAgICA8aSBjbGFzcz1cXFwidS1pY29uIHUtaWNvbi1jYXJldC1kb3duXFxcIj48L2k+ICAgIDwvZGl2PiAgICA8ZGl2IGNsYXNzPVxcXCJkcm9wZG93bl9iZFxcXCIgci1oaWRlPXshb3Blbn0gci1hbmltYXRpb249XFxcIm9uOiBlbnRlcjsgY2xhc3M6IGFuaW1hdGVkIGZhZGVJblkgZmFzdDsgb246IGxlYXZlOyBjbGFzczogYW5pbWF0ZWQgZmFkZU91dFkgZmFzdDtcXFwiPiAgICAgICAgPHVsIGNsYXNzPVxcXCJtLWxpc3R2aWV3XFxcIj4gICAgICAgICAgICB7I2lmIHBsYWNlaG9sZGVyfTxsaSByLWNsYXNzPXsge1xcJ3otc2VsXFwnOiBzZWxlY3RlZCA9PT0gbnVsbH0gfSBvbi1jbGljaz17dGhpcy5zZWxlY3QobnVsbCl9PntwbGFjZWhvbGRlcn08L2xpPnsvaWZ9ICAgICAgICAgICAgeyNsaXN0IHNvdXJjZSBhcyBpdGVtfSAgICAgICAgICAgIDxsaSByLWNsYXNzPXsge1xcJ3otc2VsXFwnOiBzZWxlY3RlZCA9PT0gaXRlbX0gfSBvbi1jbGljaz17dGhpcy5zZWxlY3QoaXRlbSl9PntpdGVtLm5hbWV9PC9saT4gICAgICAgICAgICB7L2xpc3R9ICAgICAgICA8L3VsPiAgICA8L2Rpdj48L2Rpdj5cIiIsIi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBTZWxlY3QyICDpgInmi6nmianlsZVcbiAqIEBhdXRob3IgICBzZW5zZW4ocmFpbmZvcmVzdDkyQDEyNi5jb20pXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBEcm9wZG93biA9IHJlcXVpcmUoJy4vZHJvcGRvd24uanMnKTtcbnZhciB0ZW1wbGF0ZSA9IHJlcXVpcmUoJy4vc2VsZWN0Mi5odG1sJyk7XG52YXIgXyA9IHJlcXVpcmUoJy4uL2Jhc2UvdXRpbC5qcycpO1xuXG4vKipcbiAqIEBjbGFzcyBTZWxlY3QyXG4gKiBAZXh0ZW5kIERyb3Bkb3duXG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgICAgICAgICAgICAgICAgICAgIOe7keWumuWxnuaAp1xuICogQHBhcmFtIHtvYmplY3RbXT1bXX0gICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNvdXJjZSAgICAgICAgICAgICDmlbDmja7mupBcbiAqIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5zb3VyY2VbXS5pZCAgICAgICAg5q+P6aG555qEaWRcbiAqIEBwYXJhbSB7c3RyaW5nfSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5zb3VyY2VbXS5uYW1lICAgICAg5q+P6aG555qE5YaF5a65XG4gKiBAcGFyYW0ge29iamVjdD1udWxsfSAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc2VsZWN0ZWQgICAgICAgICAgIOW9k+WJjemAieaLqemhuVxuICogQHBhcmFtIHtzdHJpbmc9J+ivt+mAieaLqSd9ICAgICAgICAgb3B0aW9ucy5kYXRhLnBsYWNlaG9sZGVyICAgICAgICDpu5jorqTpobnnmoTmloflrZdcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5yZWFkb25seSAgICAgICAgICAg5piv5ZCm5Y+q6K+7XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEuZGlzYWJsZWQgICAgICAgICAgIOaYr+WQpuemgeeUqFxuICogQHBhcmFtIHtib29sZWFuPXRydWV9ICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnZpc2libGUgICAgICAgICAgICDmmK/lkKbmmL7npLpcbiAqIEBwYXJhbSB7c3RyaW5nPScnfSAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5jbGFzcyAgICAgICAgICAgICAg6KGl5YWFY2xhc3NcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuc2VydmljZSAgICAgICAgICAgICAgICAg5pWw5o2u5pyN5YqhXG4gKi9cbnZhciBTZWxlY3QyID0gRHJvcGRvd24uZXh0ZW5kKHtcbiAgICBuYW1lOiAnc2VsZWN0MicsXG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgIC8qKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjb25maWc6IGZ1bmN0aW9uKCkge1xuICAgICAgICBfLmV4dGVuZCh0aGlzLmRhdGEsIHtcbiAgICAgICAgICAgIC8vIEBpbmhlcml0ZWQgc291cmNlOiBbXSxcbiAgICAgICAgICAgIC8vIEBpbmhlcml0ZWQgb3BlbjogZmFsc2VcbiAgICAgICAgICAgIHNlbGVjdGVkOiBudWxsLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fpgInmi6knXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN1cHIoKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBtZXRob2Qgc2VsZWN0KGl0ZW0pIOmAieaLqeafkOS4gOmhuVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IGl0ZW0g6YCJ5oup6aG5XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBzZWxlY3Q6IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdGhpcy4kdXBkYXRlKCdzZWxlY3RlZCcsIGl0ZW0pO1xuICAgICAgICAvL3RoaXMuZGF0YS5zZWxlY3RlZCA9IGl0ZW07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZXZlbnQgc2VsZWN0IOmAieaLqeafkOS4gOmhueaXtuinpuWPkVxuICAgICAgICAgKiBAcHJvcGVydHkge29iamVjdH0gc2VsZWN0ZWQg5b2T5YmN6YCJ5oup6aG5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLiRlbWl0KCdzZWxlY3QnLCB7XG4gICAgICAgICAgICBzZWxlY3RlZDogaXRlbVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50b2dnbGUoZmFsc2UpO1xuICAgIH0sXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBTZWxlY3QyOyIsIm1vZHVsZS5leHBvcnRzPVwiPGRpdiBjbGFzcz1cXFwidS1kcm9wZG93biB1LWRyb3Bkb3duLXN1Z2dlc3Qge0AoY2xhc3MpfVxcXCIgci1jbGFzcz17IHtcXCd6LWRpc1xcJzogZGlzYWJsZWR9IH0gci1oaWRlPXshdmlzaWJsZX0gcmVmPVxcXCJlbGVtZW50XFxcIj4gICAgPGRpdiBjbGFzcz1cXFwiZHJvcGRvd25faGRcXFwiPiAgICAgICAgPGlucHV0IGNsYXNzPVxcXCJ1LWlucHV0IHUtaW5wdXQtZnVsbFxcXCIgcGxhY2Vob2xkZXI9e3BsYWNlaG9sZGVyfSByLW1vZGVsPXt2YWx1ZX0gb24tZm9jdXM9e3RoaXMuaW5wdXQoJGV2ZW50KX0gb24ta2V5dXA9e3RoaXMuaW5wdXQoJGV2ZW50KX0gb24tYmx1cj17dGhpcy51bmlucHV0KCRldmVudCl9IHJlZj1cXFwiaW5wdXRcXFwiIGRpc2FibGVkPXtkaXNhYmxlZH0geyNpZiByZWFkb25seX1yZWFkb25seT1cXFwicmVhZG9ubHlcXFwiey9pZn0+ICAgIDwvZGl2PiAgICA8ZGl2IGNsYXNzPVxcXCJkcm9wZG93bl9iZFxcXCIgci1oaWRlPXshb3Blbn0gci1hbmltYXRpb249XFxcIm9uOiBlbnRlcjsgY2xhc3M6IGFuaW1hdGVkIGZhZGVJblkgZmFzdDsgb246IGxlYXZlOyBjbGFzczogYW5pbWF0ZWQgZmFkZU91dFkgZmFzdDtcXFwiPiAgICAgICAgPHVsIGNsYXNzPVxcXCJtLWxpc3R2aWV3XFxcIj4gICAgICAgICAgICB7I2xpc3Qgc291cmNlIGFzIGl0ZW19ICAgICAgICAgICAgeyNpZiB0aGlzLmZpbHRlcihpdGVtKX0gICAgICAgICAgICAgICAgPGxpIG9uLWNsaWNrPXt0aGlzLnNlbGVjdChpdGVtKX0+e2l0ZW0ubmFtZX08L2xpPiAgICAgICAgICAgIHsvaWZ9ICAgICAgICAgICAgey9saXN0fSAgICAgICAgPC91bD4gICAgPC9kaXY+PC9kaXY+XCIiLCIvKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogU3VnZ2VzdCAgIOiHquWKqOaPkOekulxuICogQGF1dGhvciAgIHNlbnNlbihyYWluZm9yZXN0OTJAMTI2LmNvbSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIERyb3Bkb3duID0gcmVxdWlyZSgnLi9kcm9wZG93bi5qcycpO1xudmFyIHRlbXBsYXRlID0gcmVxdWlyZSgnLi9zdWdnZXN0Lmh0bWwnKTtcbnZhciBfID0gcmVxdWlyZSgnLi4vYmFzZS91dGlsLmpzJyk7XG52YXIgTGlzdFZpZXcgPSByZXF1aXJlKCcuLi9tb2R1bGUvbGlzdFZpZXcuanMnKTtcblxuLyoqXG4gKiBAY2xhc3MgU3VnZ2VzdFxuICogQGV4dGVuZCBEcm9wZG93blxuICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhICAgICAgICAgICAgICAgICAgICDnu5HlrprlsZ7mgKdcbiAqIEBwYXJhbSB7b2JqZWN0W109W119ICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5zb3VyY2UgICAgICAgICAgICAg5pWw5o2u5rqQXG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlW10uaWQgICAgICAgIOavj+mhueeahGlkXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlW10ubmFtZSAgICAgIOavj+mhueeahOWGheWuuVxuICogQHBhcmFtIHtvYmplY3Q9bnVsbH0gICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNlbGVjdGVkICAgICAgICAgICDlvZPliY3pgInmi6npoblcbiAqIEBwYXJhbSB7c3RyaW5nPScnfSAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS52YWx1ZSAgICAgICAgICAgICAg5paH5pys5qGG5Lit55qE5YC8XG4gKiBAcGFyYW0ge3N0cmluZz0n6K+36L6T5YWlJ30gICAgICAgICBvcHRpb25zLmRhdGEucGxhY2Vob2xkZXIgICAgICAgIOaWh+acrOahhum7mOiupOaWh+Wtl1xuICogQHBhcmFtIHtudW1iZXI9MH0gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLm1pbkxlbmd0aCAgICAgICAgICDmnIDlsI/mj5DnpLrplb/luqbjgILlvZPovpPlhaXplb/luqY+PeivpeWAvOWQjuW8gOWni+aPkOekulxuICogQHBhcmFtIHtzdHJpbmc9J2FsbCd9ICAgICAgICAgICAgb3B0aW9ucy5kYXRhLm1hdGNoVHlwZSAgICAgICAgICDljLnphY3mlrnlvI/vvIxgYWxsYOihqOekuuWMuemFjeWFqOWxgO+8jGBzdGFydGDooajnpLrlj6rljLnphY3lvIDlpLTvvIxgZW5kYOihqOekuuWPquWMuemFjee7k+WwvlxuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLnN0cmljdCAgICAgICAgICAgICDmmK/lkKbkuLrkuKXmoLzmqKHlvI/jgILlvZPkuLrkuKXmoLzmqKHlvI/ml7bvvIxgdmFsdWVg5bGe5oCn5b+F6aG75Zyoc291cmNl5Lit6YCJ5oup77yM5ZCm5YiZ5Li656m644CCXG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEucmVhZG9ubHkgICAgICAgICAgIOaYr+WQpuWPquivu1xuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLmRpc2FibGVkICAgICAgICAgICDmmK/lkKbnpoHnlKhcbiAqIEBwYXJhbSB7Ym9vbGVhbj10cnVlfSAgICAgICAgICAgIG9wdGlvbnMuZGF0YS52aXNpYmxlICAgICAgICAgICAg5piv5ZCm5pi+56S6XG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuY2xhc3MgICAgICAgICAgICAgIOihpeWFhWNsYXNzXG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLnNlcnZpY2UgICAgICAgICAgICAgICAgIOaVsOaNruacjeWKoVxuICovXG52YXIgU3VnZ2VzdCA9IERyb3Bkb3duLmV4dGVuZCh7XG4gICAgbmFtZTogJ3N1Z2dlc3QnLFxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY29uZmlnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgXy5leHRlbmQodGhpcy5kYXRhLCB7XG4gICAgICAgICAgICAvLyBAaW5oZXJpdGVkIHNvdXJjZTogW10sXG4gICAgICAgICAgICAvLyBAaW5oZXJpdGVkIG9wZW46IGZhbHNlLFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IG51bGwsXG4gICAgICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpScsXG4gICAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgICBkZWxheTogMzAwLFxuICAgICAgICAgICAgbWF0Y2hUeXBlOiAnYWxsJyxcbiAgICAgICAgICAgIHN0cmljdDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3VwcigpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBzZWxlY3QoaXRlbSkg6YCJ5oup5p+Q5LiA6aG5XG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSAge29iamVjdH0gaXRlbSDpgInmi6npoblcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHNlbGVjdDogZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICB0aGlzLiR1cGRhdGUoJ3NlbGVjdGVkJywgaXRlbSk7XG4gICAgICAgIHRoaXMuZGF0YS52YWx1ZSA9IGl0ZW0ubmFtZTtcbiAgICAgICAgLy90aGlzLmRhdGEuc2VsZWN0ZWQgPSBpdGVtO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGV2ZW50IHNlbGVjdCDpgInmi6nmn5DkuIDpobnml7bop6blj5FcbiAgICAgICAgICogQHByb3BlcnR5IHtvYmplY3R9IHNlbGVjdGVkIOW9k+WJjemAieaLqemhuVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kZW1pdCgnc2VsZWN0Jywge1xuICAgICAgICAgICAgc2VsZWN0ZWQ6IGl0ZW1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudG9nZ2xlKGZhbHNlKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdG9nZ2xlKG9wZW4pICDlnKjlsZXlvIDnirbmgIHlkozmlLbotbfnirbmgIHkuYvpl7TliIfmjaJcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gb3BlbiDlsZXlvIDov5jmmK/mlLbotbdcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHRvZ2dsZTogZnVuY3Rpb24ob3BlbiwgX2lzSW5wdXQpIHtcbiAgICAgICAgaWYodGhpcy5kYXRhLnJlYWRvbmx5IHx8IHRoaXMuZGF0YS5kaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLmRhdGEub3BlbiA9IG9wZW47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBldmVudCB0b2dnbGUg5bGV5byA5oiW5pS26LW354q25oCB5pS55Y+Y5pe26Kem5Y+RXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gb3BlbiDlsZXlvIDov5jmmK/mlLbotbdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJGVtaXQoJ3RvZ2dsZScsIHtcbiAgICAgICAgICAgIG9wZW46IG9wZW5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGluZGV4ID0gRHJvcGRvd24ub3BlbnMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgaWYob3BlbiAmJiBpbmRleCA8IDApXG4gICAgICAgICAgICBEcm9wZG93bi5vcGVucy5wdXNoKHRoaXMpO1xuICAgICAgICBlbHNlIGlmKCFvcGVuICYmIGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIERyb3Bkb3duLm9wZW5zLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAgICAgICAgIGlmKCFfaXNJbnB1dCAmJiB0aGlzLmRhdGEuc3RyaWN0KVxuICAgICAgICAgICAgICAgdGhpcy5kYXRhLnZhbHVlID0gdGhpcy5kYXRhLnNlbGVjdGVkID8gdGhpcy5kYXRhLnNlbGVjdGVkLm5hbWUgOiAnJztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLy8g6L6T5YWl5pe2XG4gICAgaW5wdXQ6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmRhdGEudmFsdWU7XG5cbiAgICAgICAgaWYodmFsdWUubGVuZ3RoID49IHRoaXMuZGF0YS5taW5MZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlKHRydWUpO1xuICAgICAgICAgICAgaWYodGhpcy5zZXJ2aWNlKVxuICAgICAgICAgICAgICAgIHRoaXMuJHVwZGF0ZVNvdXJjZSgpO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlKGZhbHNlLCB0cnVlKTtcbiAgICB9LFxuICAgIHVuaW5wdXQ6IGZ1bmN0aW9uKCRldmVudCkge1xuXG4gICAgfSxcbiAgICBnZXRQYXJhbXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge3ZhbHVlOiB0aGlzLmRhdGEudmFsdWV9O1xuICAgIH0sXG4gICAgZmlsdGVyOiBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZGF0YS52YWx1ZTtcblxuICAgICAgICBpZighdmFsdWUgJiYgdGhpcy5kYXRhLm1pbkxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBpZih0aGlzLmRhdGEubWF0Y2hUeXBlID09ICdhbGwnKVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZS5pbmRleE9mKHZhbHVlKSA+PSAwO1xuICAgICAgICBlbHNlIGlmKHRoaXMuZGF0YS5tYXRjaFR5cGUgPT0gJ3N0YXJ0JylcbiAgICAgICAgICAgIHJldHVybiBpdGVtLm5hbWUuc2xpY2UoMCwgdmFsdWUubGVuZ3RoKSA9PSB2YWx1ZTtcbiAgICAgICAgZWxzZSBpZih0aGlzLmRhdGEubWF0Y2hUeXBlID09ICdlbmQnKVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZS5zbGljZSgtdmFsdWUubGVuZ3RoKSA9PSB2YWx1ZTtcbiAgICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBTdWdnZXN0OyIsIm1vZHVsZS5leHBvcnRzPVwiPHNwYW4gY2xhc3M9XFxcInUtdGltZXBpY2tlciB7QChjbGFzcyl9XFxcIiByLWhpZGU9eyF2aXNpYmxlfT5cdDxudW1iZXJJbnB1dCBtaW49XFxcIjBcXFwiIG1heD1cXFwiMjNcXFwiIGZvcm1hdD1cXFwiMDBcXFwiIHZhbHVlPXtob3VyfSBkaXNhYmxlZD17ZGlzYWJsZWR9IHJlYWRvbmx5PXtyZWFkb25seX0gLz5cdDxzcGFuPjo8L3NwYW4+XHQ8bnVtYmVySW5wdXQgbWluPVxcXCIwXFxcIiBtYXg9XFxcIjU5XFxcIiBmb3JtYXQ9XFxcIjAwXFxcIiB2YWx1ZT17bWludXRlfSBkaXNhYmxlZD17ZGlzYWJsZWR9IHJlYWRvbmx5PXtyZWFkb25seX0gLz48L3NwYW4+XCIiLCIvKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVGltZVBpY2tlciDml6XmnJ/pgInmi6lcbiAqIEBhdXRob3IgICBzZW5zZW4ocmFpbmZvcmVzdDkyQDEyNi5jb20pXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG52YXIgQ29tcG9uZW50ID0gcmVxdWlyZSgnLi4vYmFzZS9jb21wb25lbnQuanMnKTtcbnZhciB0ZW1wbGF0ZSA9IHJlcXVpcmUoJy4vdGltZVBpY2tlci5odG1sJyk7XG52YXIgXyA9IHJlcXVpcmUoJy4uL2Jhc2UvdXRpbC5qcycpO1xudmFyIE51bWJlcklucHV0ID0gcmVxdWlyZSgnLi9udW1iZXJJbnB1dC5qcycpO1xuXG4vKipcbiAqIEBjbGFzcyBUaW1lUGlja2VyXG4gKiBAZXh0ZW5kIENvbXBvbmVudFxuICogQHBhcmFtIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhICAgICAgICAgICAgICAgICAgICDnu5HlrprlsZ7mgKdcbiAqIEBwYXJhbSB7c3RyaW5nPScwMDowMCd9ICAgICAgICAgIG9wdGlvbnMuZGF0YS50aW1lICAgICAgICAgICAgICAg5b2T5YmN55qE5pe26Ze05YC8XG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEucmVhZG9ubHkgICAgICAgICAgIOaYr+WQpuWPquivu1xuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLmRpc2FibGVkICAgICAgICAgICDmmK/lkKbnpoHnlKhcbiAqIEBwYXJhbSB7Ym9vbGVhbj10cnVlfSAgICAgICAgICAgIG9wdGlvbnMuZGF0YS52aXNpYmxlICAgICAgICAgICAg5piv5ZCm5pi+56S6XG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuY2xhc3MgICAgICAgICAgICAgIOihpeWFhWNsYXNzXG4gKi9cbnZhciBUaW1lUGlja2VyID0gQ29tcG9uZW50LmV4dGVuZCh7XG4gICAgbmFtZTogJ3RpbWVQaWNrZXInLFxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY29uZmlnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgXy5leHRlbmQodGhpcy5kYXRhLCB7XG4gICAgICAgICAgICB0aW1lOiAnMDA6MDAnLFxuICAgICAgICAgICAgaG91cjogMCxcbiAgICAgICAgICAgIG1pbnV0ZTogMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdXByKCk7XG5cbiAgICAgICAgdGhpcy4kd2F0Y2goJ3RpbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgIGlmKG5ld1ZhbHVlICYmIG5ld1ZhbHVlICE9IG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGltZSA9IG5ld1ZhbHVlLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLmhvdXIgPSArdGltZVswXTtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEubWludXRlID0gK3RpbWVbMV07XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IG5ld1ZhbHVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kd2F0Y2goWydob3VyJywgJ21pbnV0ZSddLCBmdW5jdGlvbihob3VyLCBtaW51dGUpIHtcbiAgICAgICAgICAgIGhvdXIgPSAnJyArIGhvdXI7XG4gICAgICAgICAgICBtaW51dGUgPSAnJyArIG1pbnV0ZTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS50aW1lID0gKGhvdXIubGVuZ3RoID4gMSA/IGhvdXIgOiAnMCcgKyBob3VyKSArICc6JyArIChtaW51dGUubGVuZ3RoID4gMSA/IG1pbnV0ZSA6ICcwJyArIG1pbnV0ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRpbWVQaWNrZXI7IiwibW9kdWxlLmV4cG9ydHM9XCI8ZGl2IGNsYXNzPVxcXCJ1LWRyb3Bkb3duIHUtZHJvcGRvd24tc2VsZWN0MiB7QChjbGFzcyl9XFxcIiByLWNsYXNzPXsge1xcJ3otZGlzXFwnOiBkaXNhYmxlZH0gfSByLWhpZGU9eyF2aXNpYmxlfSByZWY9XFxcImVsZW1lbnRcXFwiPiAgICA8ZGl2IGNsYXNzPVxcXCJkcm9wZG93bl9oZFxcXCIgb24tY2xpY2s9e3RoaXMudG9nZ2xlKCFvcGVuKX0+ICAgICAgICA8aSBjbGFzcz1cXFwidS1pY29uIHUtaWNvbi1jYXJldC1kb3duXFxcIj48L2k+ICAgICAgICA8c3Bhbj57c2VsZWN0ZWQgPyBzZWxlY3RlZC5uYW1lIDogcGxhY2Vob2xkZXJ9PC9zcGFuPiAgICA8L2Rpdj4gICAgPGRpdiBjbGFzcz1cXFwiZHJvcGRvd25fYmRcXFwiIHItaGlkZT17IW9wZW59IHItYW5pbWF0aW9uPVxcXCJvbjogZW50ZXI7IGNsYXNzOiBhbmltYXRlZCBmYWRlSW5ZIGZhc3Q7IG9uOiBsZWF2ZTsgY2xhc3M6IGFuaW1hdGVkIGZhZGVPdXRZIGZhc3Q7XFxcIj4gICAgICAgIDx0cmVlVmlldyBzb3VyY2U9e3NvdXJjZX0gaGllcmFyY2hpY2FsPXtoaWVyYXJjaGljYWx9IHNlcnZpY2U9e3NlcnZpY2V9IG9uLXNlbGVjdD17dGhpcy5zZWxlY3QoJGV2ZW50LnNlbGVjdGVkKX0gLz4gICAgPC9kaXY+PC9kaXY+XCIiLCIvKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVHJlZVNlbGVjdCDmoJHlnovpgInmi6lcbiAqIEBhdXRob3IgICBzZW5zZW4ocmFpbmZvcmVzdDkyQDEyNi5jb20pXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBTZWxlY3QyID0gcmVxdWlyZSgnLi9zZWxlY3QyLmpzJyk7XG52YXIgdGVtcGxhdGUgPSByZXF1aXJlKCcuL3RyZWVTZWxlY3QuaHRtbCcpO1xudmFyIF8gPSByZXF1aXJlKCcuLi9iYXNlL3V0aWwuanMnKTtcbnZhciBUcmVldmlldyA9IHJlcXVpcmUoJy4uL21vZHVsZS90cmVlVmlldy5qcycpO1xuXG4vKipcbiAqIEBjbGFzcyBUcmVlU2VsZWN0XG4gKiBAZXh0ZW5kIFNlbGVjdDJcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSAgICAgICAgICAgICAgICAgICAg57uR5a6a5bGe5oCnXG4gKiBAcGFyYW0ge29iamVjdFtdPVtdfSAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc291cmNlICAgICAgICAgICAgIOaVsOaNrua6kFxuICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNvdXJjZVtdLmlkICAgICAgICDmr4/pobnnmoRpZFxuICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNvdXJjZVtdLm5hbWUgICAgICDmr4/pobnnmoTlhoXlrrlcbiAqIEBwYXJhbSB7b2JqZWN0PW51bGx9ICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5zZWxlY3RlZCAgICAgICAgICAg5b2T5YmN6YCJ5oup6aG5XG4gKiBAcGFyYW0ge3N0cmluZz0n6K+36YCJ5oupJ30gICAgICAgICBvcHRpb25zLmRhdGEucGxhY2Vob2xkZXIgICAgICAgIOm7mOiupOmhueeahOaWh+Wtl1xuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLmhpZXJhcmNoaWNhbCAgICAgICDmmK/lkKbliIbnuqfliqjmgIHliqDovb3vvIzpnIDopoFzZXJ2aWNlXG4gKiBAcGFyYW0ge2Jvb2xlYW49ZmFsc2V9ICAgICAgICAgICBvcHRpb25zLmRhdGEucmVhZG9ubHkgICAgICAgICAgIOaYr+WQpuWPquivu1xuICogQHBhcmFtIHtib29sZWFuPWZhbHNlfSAgICAgICAgICAgb3B0aW9ucy5kYXRhLmRpc2FibGVkICAgICAgICAgICDmmK/lkKbnpoHnlKhcbiAqIEBwYXJhbSB7Ym9vbGVhbj10cnVlfSAgICAgICAgICAgIG9wdGlvbnMuZGF0YS52aXNpYmxlICAgICAgICAgICAg5piv5ZCm5pi+56S6XG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuY2xhc3MgICAgICAgICAgICAgIOihpeWFhWNsYXNzXG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLnNlcnZpY2UgICAgICAgICAgICAgICAgIOaVsOaNruacjeWKoVxuICovXG52YXIgVHJlZVNlbGVjdCA9IFNlbGVjdDIuZXh0ZW5kKHtcbiAgICBuYW1lOiAndHJlZVNlbGVjdCcsXG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgIGNvbmZpZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIF8uZXh0ZW5kKHRoaXMuZGF0YSwge1xuICAgICAgICAgICAgLy8gQGluaGVyaXRlZCBzb3VyY2U6IFtdLFxuICAgICAgICAgICAgLy8gQGluaGVyaXRlZCBvcGVuOiBmYWxzZSxcbiAgICAgICAgICAgIC8vIEBpbmhlcml0ZWQgc2VsZWN0ZWQ6IG51bGwsXG4gICAgICAgICAgICAvLyBAaW5oZXJpdGVkIHBsYWNlaG9sZGVyOiAn6K+36YCJ5oupJ1xuICAgICAgICAgICAgaGllcmFyY2hpY2FsOiBmYWxzZSxcbiAgICAgICAgICAgIHVwZGF0ZUF1dG86IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN1cHIoKTtcbiAgICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBUcmVlU2VsZWN0OyIsIm1vZHVsZS5leHBvcnRzPVwiPGRpdiBjbGFzcz1cXFwidS11cGxvYWRlciB7QChjbGFzcyl9XFxcIiByLWhpZGU9eyF2aXNpYmxlfT5cdDxkaXYgb24tY2xpY2s9e3RoaXMudXBsb2FkKCl9Plx0XHR7I2lmIHRoaXMuJGJvZHl9XHRcdFx0eyNpbmMgdGhpcy4kYm9keX0gICAgXHR7I2Vsc2V9ICAgIFx0XHQ8YSBjbGFzcz1cXFwidS1idG5cXFwiPnt0aXRsZSB8fCBcXCfkuIrkvKBcXCd9PC9hPlx0XHR7L2lmfSAgICA8L2Rpdj4gICAgPGZvcm0gbWV0aG9kPVxcXCJQT1NUXFxcIiBhY3Rpb249e3VybH0gdGFyZ2V0PVxcXCJpZnJhbWV7X2lkfVxcXCIgZW5jdHlwZT17Y29udGVudFR5cGV9IHJlZj1cXFwiZm9ybVxcXCI+ICAgICAgICA8aW5wdXQgdHlwZT1cXFwiZmlsZVxcXCIgbmFtZT1cXFwiZmlsZVxcXCIgcmVmPVxcXCJmaWxlXFxcIiBvbi1jaGFuZ2U9e3RoaXMuc3VibWl0KCl9PiAgICAgICAgeyNsaXN0IE9iamVjdC5rZXlzKGRhdGEpIGFzIGtleX0gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9e2tleX0gdmFsdWU9e2RhdGFba2V5XX0+ICAgICAgICB7L2xpc3R9ICAgIDwvZm9ybT4gICAgPGlmcmFtZSBuYW1lPVxcXCJpZnJhbWV7X2lkfVxcXCIgb24tbG9hZD17dGhpcy5jYlVwbG9hZCgpfSByZWY9XFxcImlmcmFtZVxcXCI+ICAgIDwvaWZyYW1lPjwvZGl2PlwiIiwiLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFVwbG9hZGVyICDkuIrkvKBcbiAqIEBhdXRob3IgICBzZW5zZW4ocmFpbmZvcmVzdDkyQDEyNi5jb20pXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBDb21wb25lbnQgPSByZXF1aXJlKCcuLi9iYXNlL2NvbXBvbmVudC5qcycpO1xudmFyIHRlbXBsYXRlID0gcmVxdWlyZSgnLi91cGxvYWRlci5odG1sJyk7XG52YXIgXyA9IHJlcXVpcmUoJy4uL2Jhc2UvdXRpbC5qcycpO1xuXG4vKipcbiAqIEBjbGFzcyBVcGxvYWRlclxuICogQGV4dGVuZCBDb21wb25lbnRcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSAgICAgICAgICAgICAgICAgICAg57uR5a6a5bGe5oCnXG4gKiBAcGFyYW0ge3N0cmluZz0nJ30gICAgICAgICAgICAgICBvcHRpb25zLmRhdGEudGl0bGUgICAgICAgICAgICAgIOaMiemSruaWh+Wtl1xuICogQHBhcmFtIHtzdHJpbmc9Jyd9ICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnVybCAgICAgICAgICAgICAgICDkuIrkvKDot6/lvoRcbiAqIEBwYXJhbSB7c3RyaW5nPSdqc29uJ30gICAgICAgICAgIG9wdGlvbnMuZGF0YS5kYXRhVHlwZSAgICAgICAgICAg5pWw5o2u57G75Z6LXG4gKiBAcGFyYW0ge29iamVjdH0gICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuZGF0YSAgICAgICAgICAgICAgIOmZhOWKoOaVsOaNrlxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW109Jyd9ICAgICAgb3B0aW9ucy5kYXRhLmV4dGVuc2lvbnMgICAgICAgICDlj6/kuIrkvKDnmoTmianlsZXlkI3vvIzlpoLmnpzkuLrnqbrvvIzliJnooajnpLrlj6/kuIrkvKDku7vkvZXmlofku7bnsbvlnotcbiAqIEBwYXJhbSB7Ym9vbGVhbj1mYWxzZX0gICAgICAgICAgIG9wdGlvbnMuZGF0YS5kaXNhYmxlZCAgICAgICAgICAg5piv5ZCm56aB55SoXG4gKiBAcGFyYW0ge2Jvb2xlYW49dHJ1ZX0gICAgICAgICAgICBvcHRpb25zLmRhdGEudmlzaWJsZSAgICAgICAgICAgIOaYr+WQpuaYvuekulxuICogQHBhcmFtIHtzdHJpbmc9Jyd9ICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmNsYXNzICAgICAgICAgICAgICDooaXlhYVjbGFzc1xuICovXG52YXIgVXBsb2FkZXIgPSBDb21wb25lbnQuZXh0ZW5kKHtcbiAgICBuYW1lOiAndXBsb2FkZXInLFxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY29uZmlnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgXy5leHRlbmQodGhpcy5kYXRhLCB7XG4gICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICB1cmw6ICcnLFxuICAgICAgICAgICAgY29udGVudFR5cGU6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICAgIGV4dGVuc2lvbnM6IG51bGwsXG4gICAgICAgICAgICBfaWQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN1cHIoKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgdXBsb2FkKCkg5by55Ye65paH5Lu25a+56K+d5qGG5bm25LiU5LiK5Lyg5paH5Lu2XG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgdXBsb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYoIXRoaXMuZGF0YS5kaXNhYmxlZClcbiAgICAgICAgICAgIHRoaXMuJHJlZnMuZmlsZS5jbGljaygpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBzdWJtaXQoKSDmj5DkuqTooajljZVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgc3VibWl0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYodGhpcy5kYXRhLmV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgIHZhciBmaWxlTmFtZSA9IHRoaXMuJHJlZnMuZmlsZS52YWx1ZTtcbiAgICAgICAgICAgIHZhciBleHQgPSBmaWxlTmFtZS5zdWJzdHJpbmcoZmlsZU5hbWUubGFzdEluZGV4T2YoJy4nKSArIDEsIGZpbGVOYW1lLmxlbmd0aCkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgdmFyIGV4dGVuc2lvbnMgPSB0aGlzLmRhdGEuZXh0ZW5zaW9ucztcbiAgICAgICAgICAgIGlmKHR5cGVvZiBleHRlbnNpb25zID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zID0gZXh0ZW5zaW9ucy5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZihleHRlbnNpb25zLmluZGV4T2YoZXh0KSA9PT0gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGVtaXQoJ2Vycm9yJywgdGhpcy5leHRlbnNpb25FcnJvcigpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuJGVtaXQoJ3NlbmRpbmcnLCB0aGlzLmRhdGEuZGF0YSk7XG5cbiAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnN1Ym1pdCgpO1xuICAgIH0sXG4gICAgY2JVcGxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaWZyYW1lID0gdGhpcy4kcmVmcy5pZnJhbWU7XG5cbiAgICAgICAgdmFyIHhtbCA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYoaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcbiAgICAgICAgICAgICAgICB4bWwucmVzcG9uc2VUZXh0ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keSA/IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LmJvZHkuaW5uZXJIVE1MIDogbnVsbDtcbiAgICAgICAgICAgICAgICB4bWwucmVzcG9uc2VYTUwgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC5YTUxEb2N1bWVudCA/IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LlhNTERvY3VtZW50IDogaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYoaWZyYW1lLmNvbnRlbnREb2N1bWVudCkge1xuICAgICAgICAgICAgICAgIHhtbC5yZXNwb25zZVRleHQgPSBpZnJhbWUuY29udGVudERvY3VtZW50LmRvY3VtZW50LmJvZHk/aWZyYW1lLmNvbnRlbnREb2N1bWVudC5kb2N1bWVudC5ib2R5LmlubmVySFRNTCA6IG51bGw7XG4gICAgICAgICAgICAgICAgeG1sLnJlc3BvbnNlWE1MID0gaWZyYW1lLmNvbnRlbnREb2N1bWVudC5kb2N1bWVudC5YTUxEb2N1bWVudD9pZnJhbWUuY29udGVudERvY3VtZW50LmRvY3VtZW50LlhNTERvY3VtZW50IDogaWZyYW1lLmNvbnRlbnREb2N1bWVudC5kb2N1bWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCF4bWwucmVzcG9uc2VUZXh0KVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGZ1bmN0aW9uIHVwbG9hZEh0dHBEYXRhKHIsIHR5cGUpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gKHR5cGUgPT0gJ3htbCcgfHwgIXR5cGUpID8gci5yZXNwb25zZVhNTCA6IHIucmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgLy8gSWYgdGhlIHR5cGUgaXMgJ3NjcmlwdCcsIGV2YWwgaXQgaW4gZ2xvYmFsIGNvbnRleHRcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnanNvbicpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gLzxwcmUuKj8+KC4qPyk8XFwvcHJlPi8uZXhlYyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQgPyB0ZXh0WzFdIDogZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiRlbWl0KCdzdWNjZXNzJywgdXBsb2FkSHR0cERhdGEoeG1sLCB0aGlzLmRhdGEuZGF0YVR5cGUpKTtcbiAgICAgICAgdGhpcy4kZW1pdCgnY29tcGxldGUnLCB4bWwpO1xuXG4gICAgICAgIHRoaXMuJHJlZnMuZmlsZS52YWx1ZSA9ICcnO1xuICAgIH0sXG4gICAgZXh0ZW5zaW9uRXJyb3I644CAZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAn5Y+q6IO95LiK5LygJyArIHRoaXMuZGF0YS5leHRlbnNpb25zLmpvaW4oJywgJynjgIArICfnsbvlnovnmoTmlofku7bvvIEnO1xuICAgIH0sXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBVcGxvYWRlcjsiXX0=
