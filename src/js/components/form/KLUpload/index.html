<div class="kl-upload {class}">
    {#if listType === 'list'}
        <upload-list ref="upload"
            action={action}
            name={name}
            data={data}
            headers={headers}
            withCredentials={withCredentials}
            multiple={multiple}
            drag={drag}
            accept={accept}
            listType={listType}
            fileList={fileList}
            numMin={numMin}
            numMax={numMax}
            numPerline={numPerline}
            maxSize={maxSize}
            readonly={readonly}
            imageWidth={imageWidth}
            imageHeight={imageHeight}
            imageScale={imageScale}
            data={data}
            on-preview={this.onPreview($event)}
            encType={encType}
            onLoadInterceptor={onLoadInterceptor}
            onErrorInterceptor={onErrorInterceptor}
            beforeUpload={beforeUpload}
            beforeRemove={beforeRemove}
            autoUpload={autoUpload}
            formData={formData}/>
    {#elseif listType === 'card'}
        <upload-card ref="upload"
            action={action}
            name={name}
            data={data}
            headers={headers}
            withCredentials={withCredentials}
            multiple={multiple}
            drag={drag}
            accept={accept}
            listType={listType}
            fileList={fileList}
            numMin={numMin}
            numMax={numMax}
            numPerline={numPerline}
            maxSize={maxSize}
            readonly={readonly}
            imageWidth={imageWidth}
            imageHeight={imageHeight}
            imageScale={imageScale}
            data={data}
            encType={encType}
            on-preview={this.onPreview($event)}
            onLoadInterceptor={onLoadInterceptor}
            onErrorInterceptor={onErrorInterceptor}
            beforeUpload={beforeUpload}
            beforeRemove={beforeRemove}
            autoUpload={autoUpload}
            formData={formData}/>
    {/if}
</div>

{#if tip && !hideTip}
<span class="kl-tip kl-tip--{state} animated" r-animation="on:enter;class:fadeInY;">
    <kl-icon type={state} />
    <span class="kl-tip__msg">{tip}</span>
</span>
{/if}
