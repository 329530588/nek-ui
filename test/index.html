<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>test</title>
    <link rel="stylesheet" href="../dist/css/nek-ui.default.css">
  </head>
  <style>
	  #app {
        width: 300px;
		  margin: 20px;
	  }
      .select-tag{
        float: left;
        cursor: default;
      }
      .u-icon-remove{
        cursor: pointer;
      }
  </style>
  <body>
    <div id="app"></div>
  </body>
  <script src="../dist/vendor/regular.js"></script>
  <script src="../dist/js/nek-ui.js"></script>
  <script>
//    var App = RGUI.Panel;
//    new App().$inject('#app');
    var a = `<ui.form service="./test.json">
				<a href="javascript:;" on-click={test=!test}>Click Me1</a>
				<form.item sourceKey="arrayA">
					{#if test}
					<ui.select />
					{/if}
				</form.item>
			</ui.form>`;


    (function(){
      var component = new RGUI.Component({
        template: `<ui.select source={source} mulip canSearch={true} value={value}/>{value}`,
        data: {
            value: 1,
            source: [
                {
                    id: 1,
                    name: '选项1'
                },
                {
                    id: 2,name: '选项2'},
                {
                    id: 3,name: '选项3'}
            ]
        },
        service: {
          getList: function(params, success) {
            this.request({
              url: './list.json',
              method: 'get',
              type: 'json',
              data: params,
              success: success
            });
          }
        }
      });
//      setTimeout(function(){
//        this.$update('source', [
//          {
//            id: 1,
//            name: '选项1'
//          },
//          {
//            id: 2,name: '选项2'},
//          {
//            id: 3,name: '选项3'}
//        ]);
//      }.bind(component), 1000);
      component.$inject('#app');
    })();
  </script>
</html>